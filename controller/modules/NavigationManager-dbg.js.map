{"version":3,"file":"NavigationManager-dbg.js","names":["NavigationManager","constructor","controller","navigateToPage","sKey","currentUser","console","log","role","MessageBox","error","oComponent","getOwnerComponent","oRouter","getRouter","routeMap","routeName","navTo","onSideNavigationItemSelect","oEvent","oView","getView","oModel","getModel","selectedKey","getProperty","userManager","getCurrentUser","onSideNavItemSelect","onMenuButtonPress","toolPage","byId","setSideExpanded","getSideExpanded","__exports","__esModule"],"sources":["NavigationManager.ts"],"sourcesContent":["import MessageBox from \"sap/m/MessageBox\";\nimport Event from \"sap/ui/base/Event\";\nimport type UIComponent from \"sap/ui/core/UIComponent\";\n\n/**\n * NavigationManager - Handles page navigation logic\n */\nexport class NavigationManager {\n    private controller: any;\n\n    constructor(controller: any) {\n        this.controller = controller;\n    }\n\n    public navigateToPage(sKey: string, currentUser: any): void {\n        console.log(\"Navegando a la clave:\", sKey);\n        \n        if (sKey === 'configuracion' && currentUser?.role !== 'admin') {\n            MessageBox.error(\"No tiene permisos para acceder a la configuraci贸n\");\n            return;\n        }\n        \n        const oComponent = this.controller.getOwnerComponent() as UIComponent;\n        const oRouter = oComponent.getRouter();\n        \n        // Map page keys to route names\n        const routeMap: { [key: string]: string } = {\n            'configuracion': 'RouteConfiguracion',\n            'pagosMasivos': 'RoutePagosMasivos',\n            'detracciones': 'RouteDetracciones'\n        };\n        \n        const routeName = routeMap[sKey];\n        if (routeName) {\n            console.log(\"Navegando a la ruta:\", routeName);\n            oRouter.navTo(routeName);\n        } else {\n            console.error(\"Ruta no encontrada para la clave:\", sKey);\n        }\n    }\n\n    public onSideNavigationItemSelect(oEvent: Event<any>): void {\n        console.log(\"Evento de navegaci贸n activado:\", oEvent);\n        \n        // Para TNT SideNavigation, necesitamos obtener la clave seleccionada del modelo\n        const oView = this.controller.getView();\n        if (!oView) {\n            console.error(\"No se encontr贸 la vista\");\n            return;\n        }\n        \n        const oModel = oView.getModel(\"menuModel\");\n        if (!oModel) {\n            console.error(\"No se encontr贸 menuModel\");\n            return;\n        }\n        \n        // Obtener la clave seleccionada del modelo\n        const selectedKey = oModel.getProperty(\"/selectedKey\");\n        console.log(\"Clave seleccionada del modelo:\", selectedKey);\n        \n        if (selectedKey) {\n            this.navigateToPage(selectedKey, this.controller.userManager?.getCurrentUser());\n        }\n    }\n\n    public onSideNavItemSelect(oEvent: any): void {\n        this.onSideNavigationItemSelect(oEvent);\n    }\n\n    public onMenuButtonPress(): void {\n        const toolPage = this.controller.byId(\"toolPage2\") as any;\n        if (toolPage && typeof toolPage.setSideExpanded === \"function\" && typeof toolPage.getSideExpanded === \"function\") {\n            toolPage.setSideExpanded(!toolPage.getSideExpanded());\n        }\n    }\n} "],"mappings":";;;EAIA;AACA;AACA;EACO,MAAMA,iBAAiB,CAAC;IAG3BC,WAAWA,CAACC,UAAe,EAAE;MACzB,IAAI,CAACA,UAAU,GAAGA,UAAU;IAChC;IAEOC,cAAcA,CAACC,IAAY,EAAEC,WAAgB,EAAQ;MACxDC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEH,IAAI,CAAC;MAE1C,IAAIA,IAAI,KAAK,eAAe,IAAIC,WAAW,EAAEG,IAAI,KAAK,OAAO,EAAE;QAC3DC,UAAU,CAACC,KAAK,CAAC,mDAAmD,CAAC;QACrE;MACJ;MAEA,MAAMC,UAAU,GAAG,IAAI,CAACT,UAAU,CAACU,iBAAiB,CAAC,CAAgB;MACrE,MAAMC,OAAO,GAAGF,UAAU,CAACG,SAAS,CAAC,CAAC;;MAEtC;MACA,MAAMC,QAAmC,GAAG;QACxC,eAAe,EAAE,oBAAoB;QACrC,cAAc,EAAE,mBAAmB;QACnC,cAAc,EAAE;MACpB,CAAC;MAED,MAAMC,SAAS,GAAGD,QAAQ,CAACX,IAAI,CAAC;MAChC,IAAIY,SAAS,EAAE;QACXV,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAES,SAAS,CAAC;QAC9CH,OAAO,CAACI,KAAK,CAACD,SAAS,CAAC;MAC5B,CAAC,MAAM;QACHV,OAAO,CAACI,KAAK,CAAC,mCAAmC,EAAEN,IAAI,CAAC;MAC5D;IACJ;IAEOc,0BAA0BA,CAACC,MAAkB,EAAQ;MACxDb,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEY,MAAM,CAAC;;MAErD;MACA,MAAMC,KAAK,GAAG,IAAI,CAAClB,UAAU,CAACmB,OAAO,CAAC,CAAC;MACvC,IAAI,CAACD,KAAK,EAAE;QACRd,OAAO,CAACI,KAAK,CAAC,yBAAyB,CAAC;QACxC;MACJ;MAEA,MAAMY,MAAM,GAAGF,KAAK,CAACG,QAAQ,CAAC,WAAW,CAAC;MAC1C,IAAI,CAACD,MAAM,EAAE;QACThB,OAAO,CAACI,KAAK,CAAC,0BAA0B,CAAC;QACzC;MACJ;;MAEA;MACA,MAAMc,WAAW,GAAGF,MAAM,CAACG,WAAW,CAAC,cAAc,CAAC;MACtDnB,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEiB,WAAW,CAAC;MAE1D,IAAIA,WAAW,EAAE;QACb,IAAI,CAACrB,cAAc,CAACqB,WAAW,EAAE,IAAI,CAACtB,UAAU,CAACwB,WAAW,EAAEC,cAAc,CAAC,CAAC,CAAC;MACnF;IACJ;IAEOC,mBAAmBA,CAACT,MAAW,EAAQ;MAC1C,IAAI,CAACD,0BAA0B,CAACC,MAAM,CAAC;IAC3C;IAEOU,iBAAiBA,CAAA,EAAS;MAC7B,MAAMC,QAAQ,GAAG,IAAI,CAAC5B,UAAU,CAAC6B,IAAI,CAAC,WAAW,CAAQ;MACzD,IAAID,QAAQ,IAAI,OAAOA,QAAQ,CAACE,eAAe,KAAK,UAAU,IAAI,OAAOF,QAAQ,CAACG,eAAe,KAAK,UAAU,EAAE;QAC9GH,QAAQ,CAACE,eAAe,CAAC,CAACF,QAAQ,CAACG,eAAe,CAAC,CAAC,CAAC;MACzD;IACJ;EACJ;EAAC,IAAAC,SAAA;IAAAC,UAAA;EAAA;EAAAD,SAAA,CAAAlC,iBAAA,GAAAA,iBAAA;EAAA,OAAAkC,SAAA;AAAA","ignoreList":[]}