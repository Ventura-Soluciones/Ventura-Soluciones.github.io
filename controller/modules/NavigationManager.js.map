{"version":3,"file":"NavigationManager.js","names":["NavigationManager","constructor","controller","this","navigateToPage","sKey","currentUser","console","log","role","MessageBox","error","oComponent","getOwnerComponent","oRouter","getRouter","routeMap","configuracion","pagosMasivos","detracciones","routeName","navTo","onSideNavigationItemSelect","oEvent","oView","getView","oModel","getModel","selectedKey","getProperty","userManager","getCurrentUser","onSideNavItemSelect","onMenuButtonPress","toolPage","byId","setSideExpanded","getSideExpanded","__exports","__esModule"],"sources":["NavigationManager.ts"],"sourcesContent":["import MessageBox from \"sap/m/MessageBox\";\nimport Event from \"sap/ui/base/Event\";\nimport type UIComponent from \"sap/ui/core/UIComponent\";\n\n/**\n * NavigationManager - Handles page navigation logic\n */\nexport class NavigationManager {\n    private controller: any;\n\n    constructor(controller: any) {\n        this.controller = controller;\n    }\n\n    public navigateToPage(sKey: string, currentUser: any): void {\n        console.log(\"Navegando a la clave:\", sKey);\n        \n        if (sKey === 'configuracion' && currentUser?.role !== 'admin') {\n            MessageBox.error(\"No tiene permisos para acceder a la configuraci贸n\");\n            return;\n        }\n        \n        const oComponent = this.controller.getOwnerComponent() as UIComponent;\n        const oRouter = oComponent.getRouter();\n        \n        // Map page keys to route names\n        const routeMap: { [key: string]: string } = {\n            'configuracion': 'RouteConfiguracion',\n            'pagosMasivos': 'RoutePagosMasivos',\n            'detracciones': 'RouteDetracciones'\n        };\n        \n        const routeName = routeMap[sKey];\n        if (routeName) {\n            console.log(\"Navegando a la ruta:\", routeName);\n            oRouter.navTo(routeName);\n        } else {\n            console.error(\"Ruta no encontrada para la clave:\", sKey);\n        }\n    }\n\n    public onSideNavigationItemSelect(oEvent: Event<any>): void {\n        console.log(\"Evento de navegaci贸n activado:\", oEvent);\n        \n        // Para TNT SideNavigation, necesitamos obtener la clave seleccionada del modelo\n        const oView = this.controller.getView();\n        if (!oView) {\n            console.error(\"No se encontr贸 la vista\");\n            return;\n        }\n        \n        const oModel = oView.getModel(\"menuModel\");\n        if (!oModel) {\n            console.error(\"No se encontr贸 menuModel\");\n            return;\n        }\n        \n        // Obtener la clave seleccionada del modelo\n        const selectedKey = oModel.getProperty(\"/selectedKey\");\n        console.log(\"Clave seleccionada del modelo:\", selectedKey);\n        \n        if (selectedKey) {\n            this.navigateToPage(selectedKey, this.controller.userManager?.getCurrentUser());\n        }\n    }\n\n    public onSideNavItemSelect(oEvent: any): void {\n        this.onSideNavigationItemSelect(oEvent);\n    }\n\n    public onMenuButtonPress(): void {\n        const toolPage = this.controller.byId(\"toolPage2\") as any;\n        if (toolPage && typeof toolPage.setSideExpanded === \"function\" && typeof toolPage.getSideExpanded === \"function\") {\n            toolPage.setSideExpanded(!toolPage.getSideExpanded());\n        }\n    }\n} "],"mappings":"4DAOO,MAAMA,EAGTC,YAAYC,GACRC,KAAKD,WAAaA,CACtB,CAEOE,eAAeC,EAAcC,GAChCC,QAAQC,IAAI,wBAAyBH,GAErC,GAAIA,IAAS,iBAAmBC,GAAaG,OAAS,QAAS,CAC3DC,EAAWC,MAAM,qDACjB,MACJ,CAEA,MAAMC,EAAaT,KAAKD,WAAWW,oBACnC,MAAMC,EAAUF,EAAWG,YAG3B,MAAMC,EAAsC,CACxCC,cAAiB,qBACjBC,aAAgB,oBAChBC,aAAgB,qBAGpB,MAAMC,EAAYJ,EAASX,GAC3B,GAAIe,EAAW,CACXb,QAAQC,IAAI,uBAAwBY,GACpCN,EAAQO,MAAMD,EAClB,KAAO,CACHb,QAAQI,MAAM,oCAAqCN,EACvD,CACJ,CAEOiB,2BAA2BC,GAC9BhB,QAAQC,IAAI,iCAAkCe,GAG9C,MAAMC,EAAQrB,KAAKD,WAAWuB,UAC9B,IAAKD,EAAO,CACRjB,QAAQI,MAAM,2BACd,MACJ,CAEA,MAAMe,EAASF,EAAMG,SAAS,aAC9B,IAAKD,EAAQ,CACTnB,QAAQI,MAAM,4BACd,MACJ,CAGA,MAAMiB,EAAcF,EAAOG,YAAY,gBACvCtB,QAAQC,IAAI,iCAAkCoB,GAE9C,GAAIA,EAAa,CACbzB,KAAKC,eAAewB,EAAazB,KAAKD,WAAW4B,aAAaC,iBAClE,CACJ,CAEOC,oBAAoBT,GACvBpB,KAAKmB,2BAA2BC,EACpC,CAEOU,oBACH,MAAMC,EAAW/B,KAAKD,WAAWiC,KAAK,aACtC,GAAID,UAAmBA,EAASE,kBAAoB,mBAAqBF,EAASG,kBAAoB,WAAY,CAC9GH,EAASE,iBAAiBF,EAASG,kBACvC,CACJ,EACH,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAtC,oBAAA,OAAAsC,CAAA","ignoreList":[]}