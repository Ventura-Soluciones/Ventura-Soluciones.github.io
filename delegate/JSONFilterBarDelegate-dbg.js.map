{"version":3,"file":"JSONFilterBarDelegate-dbg.js","names":["JSONPropertyInfo","key","dataType","label","maxConditions","JSONFilterBarDelegate","Object","assign","FilterBarDelegate","fetchProperties","_createFilterField","sId","oProperty","oFilterBar","sPropertyName","oFilterField","FilterField","conditions","propertyKey","required","delegate","name","payload","addItem","find","oPI","getId","existingElement","Element","getElementById","Error","removeItem","destroy"],"sources":["JSONFilterBarDelegate.ts"],"sourcesContent":["/* eslint-disable require-await */\r\nimport Element from \"sap/ui/core/Element\";\r\nimport FilterBarDelegate from \"sap/ui/mdc/FilterBarDelegate\";\r\nimport FilterField from \"sap/ui/mdc/FilterField\";\r\n\r\n// Define the JSONPropertyInfo interface and mock data\r\ninterface IPropertyInfo {\r\n    key: string;\r\n    dataType: string;\r\n    required?: boolean;\r\n    label: string;\r\n    maxConditions?: number;\r\n}\r\n\r\n// Mock JSONPropertyInfo data\r\nconst JSONPropertyInfo: IPropertyInfo[] = [\r\n    {\r\n        key: \"name\",\r\n        dataType: \"sap.ui.model.type.String\",\r\n        label: \"Name\",\r\n        maxConditions: 1\r\n    },\r\n    {\r\n        key: \"height\",\r\n        dataType: \"sap.ui.model.type.Integer\",\r\n        label: \"Height\",\r\n        maxConditions: 1\r\n    },\r\n    {\r\n        key: \"prominence\",\r\n        dataType: \"sap.ui.model.type.Float\",\r\n        label: \"Prominence\",\r\n        maxConditions: -1\r\n    },\r\n    {\r\n        key: \"parent_mountain\",\r\n        dataType: \"sap.ui.model.type.Boolean\",\r\n        label: \"Has parent mountain\",\r\n        maxConditions: 1\r\n    },\r\n    {\r\n        key: \"first_ascent\",\r\n        dataType: \"sap.ui.model.odata.type.Date\",\r\n        label: \"First Ascent\",\r\n        maxConditions: 1\r\n    },\r\n    {\r\n        key: \"rank\",\r\n        dataType: \"sap.ui.model.type.Integer\",\r\n        label: \"Rank\",\r\n        maxConditions: 1\r\n    }\r\n];\r\n\r\ninterface IFilterBar {\r\n    getId(): string;\r\n}\r\n\r\ninterface IFilterField {\r\n    destroy(): void;\r\n}\r\n\r\nconst JSONFilterBarDelegate = Object.assign({}, FilterBarDelegate);\r\n\r\nJSONFilterBarDelegate.fetchProperties = async (): Promise<IPropertyInfo[]> => JSONPropertyInfo;\r\n\r\nconst _createFilterField = async (sId: string, oProperty: IPropertyInfo, oFilterBar: IFilterBar): Promise<FilterField> => {\r\n    const sPropertyName = oProperty.key;\r\n    const oFilterField = new FilterField(sId, {\r\n        dataType: oProperty.dataType,\r\n        conditions: \"{$filters>/conditions/\" + sPropertyName + '}' as any,\r\n        propertyKey: sPropertyName,\r\n        required: oProperty.required,\r\n        label: oProperty.label,\r\n        maxConditions: oProperty.maxConditions,\r\n        delegate: {name: \"sap/ui/mdc/field/FieldBaseDelegate\", payload: {}}\r\n    });\r\n    return oFilterField;\r\n};\r\n\r\nJSONFilterBarDelegate.addItem = async (oFilterBar: IFilterBar, sPropertyName: string): Promise<FilterField> => {\r\n    const oProperty = JSONPropertyInfo.find((oPI: IPropertyInfo) => oPI.key === sPropertyName);\r\n    const sId = oFilterBar.getId() + \"--filter--\" + sPropertyName;\r\n    const existingElement = Element.getElementById(sId);\r\n    if (existingElement && existingElement instanceof FilterField) {\r\n        return existingElement;\r\n    }\r\n    if (!oProperty) {\r\n        throw new Error(`Property ${sPropertyName} not found in JSONPropertyInfo`);\r\n    }\r\n    return await _createFilterField(sId, oProperty, oFilterBar);\r\n};\r\n\r\nJSONFilterBarDelegate.removeItem = async (oFilterBar: IFilterBar, oFilterField: IFilterField): Promise<boolean> => {\r\n    oFilterField.destroy();\r\n    return true; // allow default handling\r\n};\r\n\r\nexport default JSONFilterBarDelegate; "],"mappings":";;;EAKA;;EASA;EACA,MAAMA,gBAAiC,GAAG,CACtC;IACIC,GAAG,EAAE,MAAM;IACXC,QAAQ,EAAE,0BAA0B;IACpCC,KAAK,EAAE,MAAM;IACbC,aAAa,EAAE;EACnB,CAAC,EACD;IACIH,GAAG,EAAE,QAAQ;IACbC,QAAQ,EAAE,2BAA2B;IACrCC,KAAK,EAAE,QAAQ;IACfC,aAAa,EAAE;EACnB,CAAC,EACD;IACIH,GAAG,EAAE,YAAY;IACjBC,QAAQ,EAAE,yBAAyB;IACnCC,KAAK,EAAE,YAAY;IACnBC,aAAa,EAAE,CAAC;EACpB,CAAC,EACD;IACIH,GAAG,EAAE,iBAAiB;IACtBC,QAAQ,EAAE,2BAA2B;IACrCC,KAAK,EAAE,qBAAqB;IAC5BC,aAAa,EAAE;EACnB,CAAC,EACD;IACIH,GAAG,EAAE,cAAc;IACnBC,QAAQ,EAAE,8BAA8B;IACxCC,KAAK,EAAE,cAAc;IACrBC,aAAa,EAAE;EACnB,CAAC,EACD;IACIH,GAAG,EAAE,MAAM;IACXC,QAAQ,EAAE,2BAA2B;IACrCC,KAAK,EAAE,MAAM;IACbC,aAAa,EAAE;EACnB,CAAC,CACJ;EAUD,MAAMC,qBAAqB,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEC,iBAAiB,CAAC;EAElEH,qBAAqB,CAACI,eAAe,GAAG,YAAsCT,gBAAgB;EAE9F,MAAMU,kBAAkB,GAAG,MAAAA,CAAOC,GAAW,EAAEC,SAAwB,EAAEC,UAAsB,KAA2B;IACtH,MAAMC,aAAa,GAAGF,SAAS,CAACX,GAAG;IACnC,MAAMc,YAAY,GAAG,IAAIC,WAAW,CAACL,GAAG,EAAE;MACtCT,QAAQ,EAAEU,SAAS,CAACV,QAAQ;MAC5Be,UAAU,EAAE,wBAAwB,GAAGH,aAAa,GAAG,GAAU;MACjEI,WAAW,EAAEJ,aAAa;MAC1BK,QAAQ,EAAEP,SAAS,CAACO,QAAQ;MAC5BhB,KAAK,EAAES,SAAS,CAACT,KAAK;MACtBC,aAAa,EAAEQ,SAAS,CAACR,aAAa;MACtCgB,QAAQ,EAAE;QAACC,IAAI,EAAE,oCAAoC;QAAEC,OAAO,EAAE,CAAC;MAAC;IACtE,CAAC,CAAC;IACF,OAAOP,YAAY;EACvB,CAAC;EAEDV,qBAAqB,CAACkB,OAAO,GAAG,OAAOV,UAAsB,EAAEC,aAAqB,KAA2B;IAC3G,MAAMF,SAAS,GAAGZ,gBAAgB,CAACwB,IAAI,CAAEC,GAAkB,IAAKA,GAAG,CAACxB,GAAG,KAAKa,aAAa,CAAC;IAC1F,MAAMH,GAAG,GAAGE,UAAU,CAACa,KAAK,CAAC,CAAC,GAAG,YAAY,GAAGZ,aAAa;IAC7D,MAAMa,eAAe,GAAGC,OAAO,CAACC,cAAc,CAAClB,GAAG,CAAC;IACnD,IAAIgB,eAAe,IAAIA,eAAe,YAAYX,WAAW,EAAE;MAC3D,OAAOW,eAAe;IAC1B;IACA,IAAI,CAACf,SAAS,EAAE;MACZ,MAAM,IAAIkB,KAAK,CAAC,YAAYhB,aAAa,gCAAgC,CAAC;IAC9E;IACA,OAAO,MAAMJ,kBAAkB,CAACC,GAAG,EAAEC,SAAS,EAAEC,UAAU,CAAC;EAC/D,CAAC;EAEDR,qBAAqB,CAAC0B,UAAU,GAAG,OAAOlB,UAAsB,EAAEE,YAA0B,KAAuB;IAC/GA,YAAY,CAACiB,OAAO,CAAC,CAAC;IACtB,OAAO,IAAI,CAAC,CAAC;EACjB,CAAC;EAAC,OAEa3B,qBAAqB;AAAA","ignoreList":[]}