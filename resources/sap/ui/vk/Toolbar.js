/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["./library","./ToolbarRenderer","./getResourceBundle","sap/ui/core/Control","sap/m/library","sap/m/Title","sap/m/Button","sap/m/ToggleButton","sap/m/ToolbarSpacer","sap/m/ToolbarSeparator","sap/m/Toolbar","sap/ui/core/Element"],function(e,t,i,n,o,s,r,a,l,p,u,h){"use strict";var c=o.ToolbarDesign;var g=o.ButtonType;var T=n.extend("sap.ui.vk.Toolbar",{metadata:{library:"sap.ui.vk",properties:{title:{type:"string",group:"Appearance",defaultValue:""}},events:{},associations:{viewer:{type:"sap.ui.vk.Viewer",multiple:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,forwarding:{getter:"_getToolbar",aggregation:"content",forwardBinding:true}},_toolbar:{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"},_helpButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_stepNavigationButton:{type:"sap.m.ToggleButton",multiple:false,visibility:"hidden"},_sceneTreeButton:{type:"sap.m.ToggleButton",multiple:false,visibility:"hidden"},_miniMapButton:{type:"sap.m.ToggleButton",multiple:false,visibility:"hidden"},_enterFullScreenButton:{type:"sap.m.ToggleButton",multiple:false,visibility:"hidden"},_exitFullScreenButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_toolbarTitle:{type:"sap.m.Title",multiple:false,visibility:"hidden"}}}});T.prototype._getToolbar=function(){return this._toolbar};T.prototype._onSceneTree=function(){this.oViewer=h.getElementById(this.getViewer());if(this.oViewer!=null){this.oViewer._componentsState.sceneTree.userInteractionShow=this._sceneTreeButton.getPressed();this.oViewer.setShowSceneTree(this.oViewer._componentsState.sceneTree.userInteractionShow)}};T.prototype._onStepNavigation=function(){this.oViewer=h.getElementById(this.getViewer());if(this.oViewer!=null){this.oViewer._componentsState.stepNavigation.userInteractionShow=this._stepNavigationButton.getPressed();this.oViewer.setShowStepNavigation(this.oViewer._componentsState.stepNavigation.userInteractionShow)}};T.prototype._onMiniMap=function(){this.oViewer=h.getElementById(this.getViewer());if(this.oViewer!=null){this.oViewer._componentsState.miniMap.userInteractionShow=this._miniMapButton.getPressed();this.oViewer.setShowMiniMap(this.oViewer._componentsState.miniMap.userInteractionShow)}};T.prototype._onFullScreen=function(){this.oViewer=h.getElementById(this.getViewer());if(this.oViewer!=null){var e=this._enterFullScreenButton.getPressed();this.oViewer.activateFullScreenMode(e)}};T.prototype._fullScreenHandler=function(e){var t=e.mParameters.isFullScreen;this._enterFullScreenButton.setPressed(t);if(t){this._enterFullScreenButton.setIcon("sap-icon://exit-full-screen")}else{this._enterFullScreenButton.setIcon("sap-icon://full-screen")}};T.prototype.init=function(){if(n.prototype.init){n.prototype.init.apply(this)}var e=new r({icon:"sap-icon://sys-help",type:g.Transparent,tooltip:i().getText("VIEWER_HELPBUTTONTOOLTIP")});this.setAggregation("_helpButton",e);this._stepNavigationButton=new a({icon:"sap-icon://step",type:g.Transparent,enabled:false,tooltip:i().getText("STEP_NAV_MENUBUTTONTOOLTIP"),press:this._onStepNavigation.bind(this)}).data("help-id","sapUiVkStepNavigationBtn",true);this.setAggregation("_stepNavigationButton",this._stepNavigationButton);this._sceneTreeButton=new a({icon:"sap-icon://tree",type:g.Transparent,tooltip:i().getText("SCENETREE_MENUBUTTONTOOLTIP"),press:this._onSceneTree.bind(this)}).data("help-id","sapUiVkSceneTreeBtn",true);this.setAggregation("_sceneTreeButton",this._sceneTreeButton);this._miniMapButton=new a({icon:"sap-icon://map-3",type:g.Transparent,tooltip:i().getText("MINIMAP_BUTTONTOOLTIP"),press:this._onMiniMap.bind(this)}).data("help-id","sapUiVkMiniMapBtn",true);this._toolbarTitle=new s;this.setAggregation("_toolbarTitle",this._toolbarTitle);this._enterFullScreenButton=new a({icon:"sap-icon://full-screen",type:g.Transparent,tooltip:i().getText("VIEWER_FULLSCREENBUTTONTOOLTIP"),press:this._onFullScreen.bind(this)}).data("help-id","sapUiVkEnterFullScreenBtn",true);this.setAggregation("_enterFullScreenButton",this._enterFullScreenButton);var t=new r({icon:"sap-icon://exit-full-screen",type:g.Transparent,tooltip:i().getText("VIEWER_FULLSCREENBUTTONTOOLTIP")}).data("help-id","sapUiVkExitFullScreenBtn",true);this.setAggregation("_exitFullScreenButton",t);var o=[new l,this._toolbarTitle,new l,this._sceneTreeButton,this._stepNavigationButton,this._miniMapButton,new p,this._enterFullScreenButton];this._toolbar=new u({design:c.Solid,content:o}).data("help-id","sapUiVkViewerToolbar",true);this.setAggregation("_toolbar",this._toolbar,true)};T.prototype.exit=function(){this.oViewer=h.getElementById(this.getViewer());if(this.oViewer){this.oViewer.detachFullScreen(this._fullScreenHandler.bind(this))}};T.prototype.onBeforeRendering=function(){this._toolbar.setVisible(true);this._toolbarTitle.setText(this.getTitle())};T.prototype.refresh=function(){this.oViewer=h.getElementById(this.getViewer());this._stepNavigationButton.setPressed(this.oViewer.getShowStepNavigation());this._stepNavigationButton.setEnabled(this.oViewer.getEnableStepNavigation());this._sceneTreeButton.setPressed(this.oViewer.getShowSceneTree());this._sceneTreeButton.setEnabled(this.oViewer.getEnableSceneTree());this._miniMapButton.setPressed(this.oViewer.getShowMiniMap());this._miniMapButton.setVisible(this.oViewer.getEnableMiniMap());this.oViewer.attachFullScreen(this._fullScreenHandler.bind(this));return true};T.prototype.onAfterRendering=function(){this.refresh()};return T});
//# sourceMappingURL=Toolbar.js.map