{"version":3,"file":"ViewStateManager.js","names":["sap","ui","define","Log","vkCore","ViewStateManagerBase","cssColorToColor","colorToCSSColor","abgrToColor","colorToABGR","AnimationTrackType","NodeContentType","Scene","Element","DataType","coreElement","VisibilityTracker","ViewStateManager","extend","metadata","library","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_mask","_nodeHierarchy","_selectedNodes","Set","_visibilityTracker","setHighlightColor","getEventBus","subscribe","_onActivateView","exit","unsubscribe","_setContent","content","_scene","scene","_setScene","initialView","getInitialView","_currentView","_resetNodesStatusByCurrentView","_setNodeHierarchy","getDefaultNodeHierarchy","setViewStateManager","nodeHierarchy","oldNodeHierarchy","clear","attachNodeReplaced","_handleNodeReplaced","attachNodeUpdated","_handleNodeUpdated","attachNodeRemoving","_handleNodeRemoving","_initialState","visible","hidden","that","allNodeRefs","findNodesByName","forEach","nodeRef","isVisible","push","fireVisibilityChanged","fireNodeHierarchyReplaced","newNodeHierarchy","event","replacedNodeRef","getParameter","replacementNodeRef","getSelectionState","setSelectionStates","getNodeHierarchy","getVisibilityChanges","getShouldTrackVisibilityChanges","getInfo","getCurrentView","viewManager","getElementById","getViewManager","currentView","getActiveView","getVisibilityComplete","nodeProxy","createNodeProxy","veId","getVeId","destroyNodeProxy","getVisibilityState","resetVisibility","setVisibilityState","nodeRefs","mask","Array","isArray","map","recursive","force","isBulkChange","recursiveVisibility","idx","collected","_collectNodesRecursively","concat","length","fill","changedVisibility","usedNodeRefs","changed","filter","index","has","add","eventParameters","setVisible","node","parent","trackNodeRef","enumerateSelection","callback","selectionSet","isSelected","_getSelectionComplete","selected","_isAncestorSelected","_updateHighlightColor","parentSelected","setSelected","_highlightColorABGR","nodeContentType","Hotspot","children","i","l","setSelectionState","blockNotification","getRecursiveSelection","value","self","indexOf","_appendAncestors","fireSelectionChanged","unselected","selectedNodeRefs","unselectedNodeRefs","delete","result","collectChildNodes","enumerateChildren","_getOpacity","opacity","undefined","getOpacity","setTotalOpacity","totalOpacity","setOpacity","recursiveOpacity","changedOpacity","fireOpacityChanged","_getTintColorABGR","tintColor","_getTintColor","getTintColor","inABGRFormat","getTintColorMethodName","toABGR","color","CSSColor","getType","isValid","setTintColor","recursiveColor","changedColor","changedABGR","tintColorABGR","fireTintColorChanged","size","fireHighlightColorChanged","highlightColor","highlightColorABGR","getHighlightColor","getTransformationWorld","getData","_decompose","_matrixWorld","getTransformation","t","matrix","translation","position","quaternion","scale","arrayToMatrix","array","Float32Array","Error","setTransformation","transformations","transformation","getTransformParametersForEvent","userData","setMatrix","slice","transform","angleAxis","halfAngle","s","Math","sin","cos","euler","warning","_compose","fireTransformationChanged","view","nodeInfos","getNodeInfos","transforms","nodeInfo","target","Translate","Rotate","Scale","nodeStartDataByAnimation","data","nodeVisible","nodeInvisible","info","skipIt","getChildren","channel","eventId","source","getId","activateView","fireViewStateApplying","fireViewStateApplied","publish","setJoints","joints","playback","_propagateOpacityToJointChildren","opacities","_setJointNodeMatrix","_visibilityChanges","changedNodes","getScene","nodeRefToPersistentId"],"sources":["ViewStateManager-dbg.js"],"mappings":"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","ignoreList":[]}