{"version":3,"file":"SceneBuilder.js","names":["sap","ui","define","Log","Element","Ellipse","Rectangle","Line","Polyline","Path","Text","Image","LinearGradient","OrthographicCamera","View","NodeContentType","NavigationMode","TransformationMatrix","getResourceBundle","TotaraUtils","colorToCSSColor","SvgImage","SceneBuilder","rootNode","contentResource","resolve","reject","this","_rootNode","_contentResource","_resolve","_reject","_cameras","Map","_sceneIdTreeNodesMap","_sceneIdRootNodeMap","_materialMap","_annotationsMap","_annotationNodesMap","_materialNodesMap","_nodes","_viewGroups","_views","_viewThumbnails","_geometries","_geometryMeshes","_meshNodes","_meshSubmeshes","_images","_imageTextures","_fillStyles","_lineStyles","_textStyles","_joints","_yIndex","_materialsByTextureImageId","nodeProxy","getNodeProxy","nodeHierarchy","getNodeHierarchy","_vkScene","getScene","source","getSource","name","set","_currentSceneId","userData","skipIt","getName","prototype","setScene","info","matrix","upAxis","camera","get","cameraId","JSON","stringify","node","backgroundTopColor","backgroundBottomColor","builder","setRootNode","nodeId","sceneId","vkScene","sid","setNodePersistentId","nodeRef","_resetCurrentScene","cleanup","clear","getNode","contextIterator","values","contextItem","next","done","value","nodes","createCamera","cameraInfo","setUpDirection","Array","isArray","up","setZoomFactor","zoom","setPosition","origin","id","getCamera","hasMesh","meshId","has","hasImage","imageId","hasAnnotation","annotationId","findBestLOD","lods","i","length","type","undefined","setMeshNode","_setMeshNode","setModelViewVisibilitySet","setAnimationPlaybacks","createThumbnail","view","thumbnailData","window","btoa","String","fromCharCode","apply","data","_fireThumbnailLoaded","modelView","setSubmeshes","meshes","mesh","submeshes","submesh","j","len","count","insertSubmesh","submeshInfo","lod","boundingBox","geometry","ni","_addGeometryToNode","pushElementIntoMapArray","getViewGroup","viewGroupId","viewGroup","views","vi","viewId","push","insertViewGroup","createViewGroup","description","setViewGroupId","setName","setDescription","metadata","veids","NavigationModes","turntable","Turntable","orbit","Orbit","pan","Pan","Zoom","insertView","viewInfo","createView","aspectRatio","safeAreaAspectRatio","autoPlayAnimation","navigationMode","NoChange","dimension","setAspectRatio","thumbnailId","imageData","setCamera","flyToTime","preDelay","postDelay","topColor","_getSavedColor","topColour","localStorage","getItem","setTopColor","bottomColor","bottomColour","setBottomColor","query","addView","getView","setViewCamera","getChildNodeIds","includeMeshNode","ids","children","child","treeNode","setViewNodeInfos","nodeInfos","setNodeInfos","finalizeViewGroups","entries","removeViews","setVoxelThreshold","voxelThreshold","getVoxelThreshold","createNode","nodeInfo","transform","contentType","width","height","convertTo3x2","usageIds","parametricId","setVisible","visible","visualisable","joints","forEach","joint","parent","parentSid","jointNodes","concat","viewBox","pageIndex","setPageIndex","parentId","add","_vkSetNodeContentType","Hotspot","Annotation","preferMeshes","createAnnotation","attributes","annotation","getAnnotation","createImageNote","remove","nodeIds","that","target","delete","_getMatrixFromBoundingBox","Float32Array","Math","max","Number","EPSILON","materialId","material","_getMaterial","indices","points","isPositionQuantized","i0","i1","i2","l","segments","isPolyline","Object","assign","lineColor","lineWidth","path","isTriangleMesh","materialID","fillStyle","colour","color","subelement","uid","setGeometry","geomInfo","geometryMeshes","mi","_fireSceneUpdated","DEFAULT_T","DEFAULT_R","DEFAULT_S","getTransformationMatrix","shape","_compose","t","r","s","setParametricContent","parametricContent","warning","shapes","_createObject","polarToCartesian","cx","cy","rx","ry","angle","cos","sin","stroke_id","lineStyle","fill_id","gradient","fillURL","style_id","style","textStyles","major","radius","minor","start","end","PI","short","abs","clockwise","po","label","imageNode","removeNode","createMaterial","materialInfo","textureIds","lineColour","haloWidth","lineHaloWidth","endCapStyle","lineEndRound","dashPattern","lineDashPattern","dashPatternScale","lineDashPatternScale","widthCoordinateSpace","lineWidthCoordinateSpace","emissiveColour","opacity","textureEmissive","textureImageId","texture","textureInfo","imageIdsToLoad","Set","textureWidth","textureHeight","nodeIdsToUpdate","setMaterial","_createTemporaryMaterial","checkMaterialExists","temporaryMaterialNeeded","materialNeeded","content","updateViewsForReplacedNodes","insertFillStyle","veid","insertLineStyle","insertTextStyle","textStyle","uint8ArrayToString","uint8Array","finalString","CHUNK_SIZE","index","slice","min","e","createImage","imageInfo","binaryData","dv","DataView","buffer","isPng","getUint8","parseInt","imageDataStr","dataUri","materialsAwaitingTexture","m","size","bind","setViewThumbnail","tileWidth","viewInfoColor","settingColor","red","floor","green","blue","alpha"],"sources":["SceneBuilder-dbg.js"],"mappings":"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","ignoreList":[]}