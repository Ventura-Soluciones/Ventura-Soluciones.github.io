{"version":3,"file":"Gizmo.js","names":["sap","ui","define","vkLibrary","mLibrary","Input","Label","HBox","coreLibrary","Control","CoordinateSystem","AxisColours","ToolNodeSet","THREE","MeshBVHLib","GizmoPlacementMode","AnimationTrackType","InputType","Gizmo","extend","metadata","library","renderer","prototype","hasDomElement","_drawText","canvas","text","fontSize","drawBorder","pixelRatio","window","devicePixelRatio","w","width","h","height","halfWidth","halfHeight","ctx","getContext","clearRect","font","textAlign","textBaseline","fillStyle","globalAlpha","filter","fillText","beginPath","arc","Math","PI","closePath","lineWidth","strokeStyle","stroke","_createTextMesh","color","document","createElement","this","texture","Texture","needsUpdate","material","MeshBasicMaterial","map","transparent","alphaTest","premultipliedAlpha","side","DoubleSide","mesh","Mesh","PlaneGeometry","userData","_createAxisTitles","size","drawCircle","addNegativeAxes","group","Group","add","x","y","z","_extractBasis","matrix","basis","Vector3","extractBasis","normalize","_updateAxisTitles","obj","gizmo","camera","distance","scale","matrixWorld","children","forEach","child","i","offset","constructor","getComponent","position","copy","multiplyScalar","quaternion","setScalar","_updateSelection","viewStateManager","nodes","_tool","getNodeSet","Highlight","enumerateSelection","nodeRef","push","node","enumerateOutlinedNodes","_nodes","length","every","v","_cleanTempData","nodeInfo","ignore","parent","l","_getOffsetForRestTransformation","extractGeometry","indices","vertices","geometry","renderGroup","attributes","vertexOffset","firstVertex","vertexCount","lastVertex","count","firstIndex","start","indexCount","index","srcIndices","array","v0","v1","v2","end","i0","i1","i2","set","getX","getY","getZ","sub","cross","lengthSq","pos","applyMatrix4","_createBVHGeometry","BufferGeometry","setIndex","setAttribute","Float32BufferAttribute","boundsTree","MeshBVH","_computeBoundsTree","_disposeBoundsTree","selectedNodes","Set","_viewport","_getViewStateManagerThreeJS","getJoints","joint","has","_selectedMeshes","staticGeometryIndices","staticGeometryVertices","traverse","selected","visible","_vkUpdate","renderStage","isPointCloud","bvhGeometry","_getNativeScene","_staticGeometry","_checkSceneSelectionIntersection","_setJointNodeMatrix","some","intersectsGeometry","setPlacementMode","placementMode","_placementMode","_getAnchorPoint","_anchorPoint","_getGizmoScale","getRenderer","getCamera","getCameraRef","pos4","Vector4","_matViewProj","getSize","Vector2","projectionMatrix","elements","_getEffectiveParent","_viewStateManager","joints","n","skipUpdateJointNode","_nodeUserDataMap","clear","_sequence","_prepareForCreatingKey","playback","_playback","Map","get","trans","getTransformation","restTrans","getRestTransformation","translation","sc","quatRest","Quaternion","matRest","Matrix4","compose","matRestInv","invert","initialTranslation","slice","initialScale","initialQuaternion","matInitial","clone","matInitialInv","quatInitialDiff","multiply","quatInitialDiffInv","matInitialDiff","euler","animationPlayer","getAnimationPlayer","data","getAnimatedProperty","Rotate","offsetToPrevious","Euler","startEuler","eulerInParentCoors","startEulerInParentCoors","_updateGizmoObjectTransformation","anchorPoint","Default","_coordinateSystem","Local","Parent","setFromMatrixPosition","center","ObjectCenter","boundingBox","Box3","_expandBoundingBox","getCenter","Custom","_gizmoSize","matrixAutoUpdate","parentWorldMatrix","makeBasis","setFromRotationMatrix","setPosition","Screen","updateMatrixWorld","visibleOnly","gizmoCount","getGizmoCount","multiplyMatrices","matrixWorldInverse","_updateGizmoTransformation","_sceneGizmo","_createEditingForm","units","_label","addStyleClass","_units","_input","type","Number","maxLength","TextAlign","Right","change","event","setValue","getParameter","_editingForm","items","onkeydown","ontap","ontouchstart","setMarked","_getValueLocaleOptions","useGrouping","_updateEditingForm","active","axisIndex","label","domRef","getDomRef","getShowEditingUI","setText","rerender","labelDomRef","style","Color","getStyle","getValue","toLocaleString","_getEditingFormPosition","gizmoPosition","_gizmo","viewportRect","getBoundingClientRect","formRect","alignRight","dx","dy","MathUtils","clamp","max","min","left","round","top","transform","display","_attachVisibilityChanged","attachVisibilityChanged","_onVisibilityChanged","_detachVisibilityChanged","detachVisibilityChanged"],"sources":["Gizmo-dbg.js"],"mappings":"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","ignoreList":[]}