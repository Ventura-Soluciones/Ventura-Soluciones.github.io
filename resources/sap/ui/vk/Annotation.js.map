{"version":3,"file":"Annotation.js","names":["sap","ui","define","Control","vkCore","AnnotationStyle","NodeUtils","TransformationMatrix","FormattedText","Element","RTE","rteLibrary","AnnotationRenderer","Annotation","extend","metadata","library","properties","annotationId","name","nodeRef","text","type","defaultValue","style","Default","display","animate","animationDelay","selected","editable","xCoordinate","yCoordinate","xOffset","yOffset","height","width","associations","viewport","multiple","aggregations","textEditor","constructor","sId","mSettings","apply","this","arguments","_viewport","_topLimit","_leftLimit","prototype","setViewport","vp","setAssociation","getElementById","getViewport","getSafeArea","getDomRef","safeBox","getBoundingClientRect","viewBox","widthMargin","left","heightMargin","top","rect","normalizeRectangle","_firePositionChanged","annotation","getEventBus","publish","x","getXCoordinate","y","getYCoordinate","_fireSizeChanged","annotationWidth","annotationHeight","getTargetNodes","_targetNodes","getAttachmentNode","_attachmentNode","setAttachmentNode","attNode","invalidate","getDisplay","getNodeRef","vsm","getViewStateManager","getVisibilityState","getProperty","setDisplay","visible","setProperty","_reverse","getSelected","getSelectionState","setSelected","getEditable","_setMaxZ","setSelectionStates","that","onscroll","ev","textDivDom","_textDiv","stopPropagation","scrollTo","scrollLeft","deltaX","scrollTop","deltaY","_localScroll","document","addEventListener","removeEventListener","undefined","_moving","setAnnotationId","newId","oldAnnotationId","getAnnotationId","sourceData","getScene","setAnnotationPersistentId","view","getCurrentView","getNodeInfos","forEach","nodeInfo","_getNodeRefScreenCenter","node","center","centerOfNodes","projectToScreen","getCamera","_getSortIndex","zIndex","aNode","screenPoint","Math","floor","depth","_getOpacity","annotations","getAnnotations","atn","push","length","zIndexes","Array","from","zMax","max","zMin","min","_updateBlocked","targetNode","nodeScreen","hitNode","hitTest","visibility","subNodes","_vkTraverseMeshNodes","indexOf","object","worldPos","getTransformationWorld","translation","hitPos","setName","getName","setText","html","getTextEditor","value","_textWidth","_textHeight","addStyleClass","getAnimate","getStyle","Random","Expand","_setSpanText","setHtmlText","update","textValue","newText","i","setStyle","val","getText","setAnimate","maxZ","map","ant","onclick","evt","_firstClick","setTimeout","tapObject","bind","openEditor","rte","editorType","EditorType","TinyMCE4","getWidth","getHeight","destroy","setTextEditor","closeEditor","getValue","destroyTextEditor","onAfterRendering","_initialOffsetWidth","offsetWidth","_initialOffsetHeight","offsetHeight","getAnimationDelay","domRef","delay","animationName","children","getElementsByTagName","styleObjects","className","j","randomDelay","random","animationDuration","animationTimingFunction","animationIterationCount","animationDirection","animationFillMode","k","setXCoordinate","setYCoordinate","setWidth","setHeight","setEditableState","setEditable","_previousState","annotationRect","scale","setY","deNormalizeRectangle","testHeight","getNativeApi","_resized","rectText","bBox","clientHeight","scrollHeight","round","toString","setX","testWidth","clientWidth","scrollWidth","maxWidth","rightEnd","position","textRect","_resizeEnd","_handleViewportStop","ontouchstart","currentSize","Map","editableAnnotations","getEditableAnnotations","filter","computedStyle","window","getComputedStyle","textWidth","parseInt","slice","textHeight","textMaxWidth","set","gripElements","childNodes","resizer","strategies","sapUiVizKitAnnotationElement0","gripNW","sapUiVizKitAnnotationElement1","gripN","sapUiVizKitAnnotationElement2","gripNE","sapUiVizKitAnnotationElement3","gripE","sapUiVizKitAnnotationElement4","gripSE","sapUiVizKitAnnotationElement5","gripS","sapUiVizKitAnnotationElement6","gripSW","sapUiVizKitAnnotationElement7","gripW","resize","gripHandler","oEvent","event","resizeHandler","targetTouches","target","offsetTop","_offsetTop","offsetLeft","_initialX","clientX","_initialY","clientY","onMouseMove","_viewportGestureHandler","_gesture","_currentX","_currentY","setTranslate","onMouseUp","disX","disY","oTarget","jQuery","currentTarget","control","$","rteIfr","cover","attr","css","opacity","offset","append","onmousemove","deltaWidth","deltaHeight","onmouseup","remove","size","get","_textMaxWidth","ontouchmove","ontouchend","setSize","isVisible","isSelected","annotationNodeElement","annotationLeaderLine","viewportRect","attNodeScreen","normRect","getXOffset","getYOffset","annotationNodeScreen","Explode","Square","posX","posY","leaderOptions","isElbow","toHeight","setLeaderLineSVG","transform","parseFloat","substring","_offsetLeft","to","leaderLineSVG","options","fromRect","toRect","x1","y1","x2","y2","classList","contains","add","svgLeft","svgTop","abs","startX","startY","pathway","leaderLine","getAttribute","setAttribute","getTotalLength","setLeaderLine","line","fT","tT","fL","tL","topSide","leftSide","sqrt","angle","PI","acos","getTransform","annotationNode","updateMatrix","convertTo4x3","matrix","elements","setTransform","updateNodeId","nodeId","userData","setNodePersistentId","setInitialOffset","values","next","nomPos","targetNodePos","initialX","initialY","fitToText","maxHeight","div","createElement","innerHTML","body","appendChild","removeChild","getStyles","styles","darkThemeSrc","lightThemeSrc","createAnnotation","divAnnotation","escapeCharacters","replaceAll","id","attachment","targetNodes","_getBackgroundColor","color","label","colour","colorArray"],"sources":["Annotation-dbg.js"],"mappings":"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","ignoreList":[]}