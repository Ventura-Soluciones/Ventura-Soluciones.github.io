{"version":3,"file":"Viewport.js","names":["sap","ui","define","Log","CoreElement","ScrollEnablement","ResizeHandler","abgrToColor","cssColorToColor","Loco","SelectionMode","ViewportBase","Element","ViewportRenderer","Utils","NAMESPACE_SVG","SCALE_DELTA","MIN_SCALE","MAX_SCALE","PIXELS_PER_ARROW_PAN","SCROLL_CONTAINER_ID_SUFFIX","DOCUMENT_ID_SUFFIX","PAGE_ID_SUFFIX","PDF_CANVAS_ID_SUFFIX","PDF_STRETCHED_CANVAS_ID_SUFFIX","PDF_HIGH_RES_CANVAS_ID_SUFFIX","HOTSPOT_SURFACE_ID_SUFFIX","STATE_EMPTY","STATE_NORMAL","STATE_STRETCHED","Viewport","extend","metadata","library","properties","currentPageIndex","type","defaultValue","events","pageChanged","parameters","newPageIndex","oldPageIndex","documentReplaced","oldDocument","newDocument","renderer","THIS_MODULE_NAME","getMetadata","getName","prototype","init","call","this","_document","_page","_scene","hotspotSurface","document","createElementNS","id","getId","classList","add","setAttribute","_hotspotSurface","_currentHotspotElement","_normalCanvas","_stretchedCanvas","_highResCanvas","_renderTasks","_contentReplaced","attachBrowserEvent","_onWheel","_onScroll","bind","_onResize","_resizeListenerId","_scale","_scrolling","_resizing","_scrollContainer","horizontal","vertical","scrollContainerId","_pageNavigationEnabled","loco","_loco","_camera","zoom","_screenToWorld","screenX","screenY","page","x","y","pageX","pageY","pageWidth","pageHeight","rawDimensions","width","height","getDomRef","getBoundingClientRect","_worldToScreen","worldX","worldY","_transformRect","rect","x1","y1","x2","y2","Math","min","max","gestureHandler","_gestureHandler","click","locoEvent","event","nodeRef","hitTest","clientX","clientY","picked","fireNodesPicked","getSelectionMode","Exclusive","exclusiveSelectionHandler","Sticky","stickySelectionHandler","hover","getDisableHotspotHovering","currentHotspotElement","newHotspotElement","getShowAllHotspots","setHotspotColor","addHandler","exit","removeHandler","destroy","detachBrowserEvent","_unsubscribeFromEvents","getIdForLabel","getScrollDelegate","_subscribeToEvents","$","on","register","deregister","off","onSetContentConnector","contentConnector","attachEvent","_onContentUpdated","onUnsetContentConnector","detachEvent","_setContent","scene","_deleteHighResCanvas","_deleteStretchedCanvas","_deleteNormalCanvas","fireEvent","_applyHotspotHoveringClass","_applyShowAllHotspots","setCurrentPageIndex","getCurrentPageIndex","invalidate","_createNormalCanvas","canvas","createElement","_createStretchedCanvas","_createHighResCanvas","remove","_layoutPage","scale","firstTimePageRendering","zoomCenter","pageDomRef","canvases","cssWidth","newCSSWidth","cssHeight","newCSSHeight","newWidth","newHeight","_calculatePDFCanvasSize","longestScreenSide","screen","highResCanvasNeeded","oldState","newState","scrollContainerDomRef","fakeCanvas","style","appendChild","normal","stretched","zoomCenterInPDFCoordinates","_screenToPage","getTools","map","toolId","getElementById","filter","tool","isA","getGizmoForContainer","gizmo","hasDomElement","forEach","rerender","setProperty","zoomCenterAfterScale","_pageToScreen","scrollBy","left","top","behavior","scrollContainerRect","pageRect","fragmentRect","intersectDOMRects","devicePixelRatio","window","round","highRes","offsetX","offsetY","_redlineHandler","_tool","getGizmo","_cancelRenderTasks","async","renderTasks","renderTask","cancel","Promise","all","promise","e","splice","_renderPage","push","renderToCanvas","getPdfjsLib","RenderingCancelledException","debug","error","_render","onAfterRendering","onBeforeRendering","pageIndex","pdfDocument","pageCount","getPage","clearCanvas","_updateHotspotSurface","setPageNavigationEnabled","enabled","getContent","find","item","scaledPageUnit","userUnit","scaledPageWidthInPixels","scaledPageHeightInPixels","cssPixelToPDFPoint","pdfPointToCSSPixel","_isKeyboardPageNavigationPossible","srcControl","onsappageup","preventDefault","onsappagedown","onsaphome","onsapend","ctrlKey","delta","originalEvent","deltaY","setTimeout","size","fireResize","onkeydown","handled","scaleDelta","key","right","bottom","altKey","panX","panY","pan","deltaX","scrollLeft","scrollTop","scrollTo","oldScale","newScale","zoomToFitPage","viewportDomRef","pageAspectRatio","clientWidth","clientHeight","paddingLeft","paddingRight","paddingTop","paddingBottom","getComputedStyle","contentWidth","parseFloat","contentHeight","viewportAspectRatio","wantedCanvasWidth","zoomToFitPageWidth","wantedWidth","wantedHeight","getScrollbarWidth","setShouldRenderFrame","getOutputSize","shortestSide","sideLength","onmousedown","redlineHandler","_textEditingElement","focus","a","b","DOMRect","outer","visibility","overflow","body","inner","scrollbarWidth","offsetWidth","getScene","_getViewBox","_cleanupHotspotSurface","_populateHotspotSurface","childElement","lastElementChild","hotspotFilters","Map","addHotspotFilter","color","set","_hotspotEffectName","_viewStateManager","getHighlightColor","getHotspotColorABGR","getShowAllHotspotsTintColor","hotspotNode","getDefaultNodeHierarchy","getHotspotNodeRefs","name","getHotspotEffectDef","feColorMatrix","red","green","blue","alpha","join","rootElement","getRootElement","groupElement","children","setMatrix","rootDomRef","_createDomSvgElement","element","getPageIndex","domRef","_createDomElement","childDomRef","setDisableHotspotHovering","value","methodName","hotspotNodes","setShowAllHotspots","nodes","node","domElement","elementFromPoint","_getSceneTreeElement","onSetViewStateManager","viewStateManager","attachOutliningChanged","_onOutliningOrSelectionChanged","attachSelectionChanged","onUnsetViewStateManager","detachOutliningChanged","detachSelectionChanged","handleSelectionChanged","showHotspots","nodeRefs","show","Array","isArray","hotspotColor","setCustomHotspotColor","attachCameraChanged","detachCameraChanged"],"sources":["Viewport-dbg.js"],"mappings":"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","ignoreList":[]}