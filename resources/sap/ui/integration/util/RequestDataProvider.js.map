{"version":3,"file":"RequestDataProvider.js","names":["sap","ui","define","Element","DataProvider","Log","ODataUtils","fetch","deepClone","RETRY_STATUS_CODES","aModes","aMethods","mDataTypeHeaders","json","xml","combineUrlAndParams","sUrl","oParameters","sParamsString","Object","entries","map","oParam","encodeURIComponent","indexOf","join","isJsonResponse","oResponse","sContentType","headers","get","isXmlResponse","RequestDataProvider","extend","metadata","library","properties","allowCustomDataType","type","defaultValue","associations","host","multiple","prototype","init","apply","this","arguments","_retryDueExpiredToken","destroy","_iRetryAfterTimeout","clearTimeout","getLastResponse","_lastResponse","getData","oRequestConfig","_getResolvedRequestConfiguration","pRequestChain","Promise","resolve","_oDestinations","process","_oCsrfTokenHandler","then","replacePlaceholders","bind","_fetch","catch","_handleExpiredToken","triggerDataUpdate","getResolvedConfiguration","oConfiguration","_reviveFormData","oResolvedConfiguration","getConfiguration","request","parameters","FormData","oError","isExpiredToken","markExpiredTokenByRequest","_bActive","_waitDependencies","sMessage","url","error","reject","getAllowCustomDataType","dataType","sDataType","mHeaders","mBatchRequests","batch","oBatchSerialized","oRequest","vBody","sMethod","method","toUpperCase","bJsonRequest","_hasHeader","bGetMethod","includes","startsWith","_getRuntimeUrl","JSON","stringify","URLSearchParams","serializeBatchRequest","values","body","assign","options","mode","Headers","withCredentials","credentials","set","_modifyRequestBeforeSent","_isValidRequest","_request","vResult","vData","_deserializeBatchResponse","bNoRetry","fnFetch","_getFetchMethod","bIsDestroyed","ok","text","sResponseText","aError","status","statusText","_retryRequest","parse","toString","window","DOMParser","parseFromString","iRetryAfter","_getRetryAfter","warning","setTimeout","vRetryAfter","retryAfter","Number","isInteger","match","parseInt","oRequestConfiguration","oCard","getCardInstance","oExtension","getAggregation","oHost","getElementById","getHost","sResource","mOptions","_cloneRequestConfiguration","oFormData","oClonedConfiguration","sHeader","sValue","sKey","toLowerCase","sResponseBody","aBatchResponses","deserializeBatchResponse","aKeys","keys","mResult","forEach","iInd","mResponse","Response","responseText","modifyRequestHeaders","fromEntries","modifyRequest","getDetails"],"sources":["RequestDataProvider-dbg.js"],"mappings":"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","ignoreList":[]}