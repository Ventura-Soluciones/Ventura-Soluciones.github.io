{"version":3,"file":"BaseAppPersPanel.js","names":["sap","ui","define","EventBus","__BaseAppPanel","___utils_Constants","___utils_DataFormatUtils","__PageManager","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","BaseAppPanel","DEFAULT_APP_ICON","DEFAULT_BG_COLOR","FALLBACK_ICON","MYHOME_PAGE_ID","getLeanURL","PageManager","PersonalisationUtils","UshellPersonalizer","BaseAppPersPanel","extend","metadata","library","properties","persContainerId","type","group","defaultValue","visibility","constructor","_constructor","id","settings","BaseAppPanel.prototype.constructor.call","this","init","_init","BaseAppPanel.prototype.init.call","_eventBus","getInstance","subscribe","applyPersonalization","_getPersonalizer","_this","_getPersContainerId","Error","Promise","resolve","getOwnerComponent","e","reject","getPersonalization","_getPersonalization","_this2","then","personalizer","read","persData","setPersonalization","_setPersonalization","_this3","write","_getAppPersonalization","_this4","personalization","favoriteApps","setFavAppsPersonalization","_setFavAppsPersonalization","appsPersonalization","_this5","_temp","_applyPersonalization","_this6","tiles","fetchTileVisualization","_applyTilesPersonalization","groupId","shouldReload","arguments","length","undefined","_this7","all","_getFavPages","_ref","personalizations","favPages","appManagerInstance","_getAllFavPageApps","favPageVisualizations","groups","getAggregation","apps","_getGroup","getApps","tile","item","_getItem","color","icon","_getItemPersonalization","setProperty","setBackgroundColor","setTileIcon","tileGroupId","data","find","oGroup","getGroupId","oApp","getUrl","isA","isSection","sectionId","BGColor","app","appIds","oldAppId","push","vizId","getVizId","appId","includes","oPersonalization","isRecentlyAddedApp","favPageVisualization","oVisualization","colorInfo","key","_getFavAppIcon","getAppIcon","_this8","_getPageManagerInstance","getFavoritePages","aFavPages","concat","pageId","_getAppIcon","favPageIcon","getIcon","_pageManagerInstance","getProperty","getPersContainerId"],"sources":["BaseAppPersPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport GenericTile from \"sap/m/GenericTile\";\nimport Component from \"sap/ui/core/Component\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport App from \"./App\";\nimport BaseAppPanel from \"./BaseAppPanel\";\nimport { $BaseAppPersPanelSettings } from \"./BaseAppPersPanel\";\nimport Group from \"./Group\";\nimport { IAppPersonalization, ICustomVisualization, IItemPersonalization } from \"./interface/AppsInterface\";\nimport { DEFAULT_APP_ICON, DEFAULT_BG_COLOR, FALLBACK_ICON, MYHOME_PAGE_ID } from \"./utils/Constants\";\nimport { getLeanURL } from \"./utils/DataFormatUtils\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer, { IPersonalizationData } from \"./utils/UshellPersonalizer\";\n\n/**\n *\n * Provides the BaseAppPersPanel Class which is BaseAppPanel with personalisation.\n *\n * @extends sap.cux.home.BaseAppPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.BaseAppPersPanel\n */\nexport default abstract class BaseAppPersPanel extends BaseAppPanel {\n\tprivate _pageManagerInstance!: PageManager;\n\tprivate _eventBus!: EventBus;\n\n\tconstructor(idOrSettings?: string | $BaseAppPersPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPersPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPersPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\tpersContainerId: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis._eventBus = EventBus.getInstance();\n\t\t//apply personalization on page update\n\t\tthis._eventBus.subscribe(\n\t\t\t\"pageChannel\",\n\t\t\t\"pageUpdated\",\n\t\t\t() => {\n\t\t\t\tvoid this.applyPersonalization();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\t/**\n\t * Retrieves the personalizer instance.\n\t * @returns {Promise<sap.cux.home.UshellPersonalizer>} A promise resolving to the personalizer instance.\n\t * @throws {Error} Throws an error if no container ID is provided for personalization.\n\t * @private\n\t */\n\tprivate async _getPersonalizer() {\n\t\tconst persContainerId = this._getPersContainerId();\n\t\tif (!persContainerId) {\n\t\t\tthrow new Error(\"No Container ID Provided for personalisation!\");\n\t\t}\n\t\tconst personalizer = await UshellPersonalizer?.getInstance(\n\t\t\tpersContainerId,\n\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t);\n\t\treturn personalizer;\n\t}\n\n\t/**\n\t * Retrieves personalization data.\n\t * @returns {Promise<IPersonalizationData>} A promise that resolves with the personalization data.\n\t * @private\n\t */\n\tprotected async getPersonalization() {\n\t\tconst personalizer = await this._getPersonalizer();\n\t\tconst persData = await personalizer?.read();\n\t\treturn persData || {};\n\t}\n\n\t/**\n\t * Sets the personalization data.\n\t * @param {IPersonalizationData} persData - The personalization data to set.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is set.\n\t * @private\n\t */\n\tprotected async setPersonalization(persData: IPersonalizationData) {\n\t\tconst personalizer = await this._getPersonalizer();\n\t\tawait personalizer.write(persData);\n\t}\n\n\t/**\n\t * Returns array of personalized favorite apps\n\t *\n\t * @returns {Promise} resolves to return array of personalized favorite apps\n\t */\n\tprotected async _getAppPersonalization() {\n\t\tconst personalization = await this.getPersonalization();\n\t\treturn personalization?.favoriteApps || ([] as IAppPersonalization[]);\n\t}\n\n\t/**\n\t * Sets the personalization data.\n\t * @param {IAppPersonalization[]} appsPersonalization - Personalization data for favorite apps.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is set.\n\t * @private\n\t */\n\tprotected async setFavAppsPersonalization(appsPersonalization: IAppPersonalization[]): Promise<void> {\n\t\tlet personalization = await this.getPersonalization();\n\t\tif (personalization) {\n\t\t\tpersonalization.favoriteApps = appsPersonalization;\n\t\t\tawait this.setPersonalization(personalization);\n\t\t}\n\t}\n\n\t/**\n\t * Applies personalization settings to the tiles.\n\t * Retrieves tiles from the generated apps wrapper and applies personalization settings to each tile.\n\t * Personalization settings include background color and icon customization.\n\t * @private\n\t * @async\n\t */\n\tpublic async applyPersonalization() {\n\t\tlet tiles = this.fetchTileVisualization();\n\t\treturn await this._applyTilesPersonalization(tiles);\n\t}\n\n\t/**\n\t * Applies personalization settings to the provided tiles.\n\t * @param {Array} tiles - An array of tiles to apply personalization settings to.\n\t * @param {string} [groupId] - Optional group ID for filtering personalization settings.\n\t * @param {boolean} [shouldReload=true] - A flag indicating whether to reload page visualizations.\n\t * @returns {Promise<void>} A promise that resolves when personalization settings are applied to the tiles.\n\t * @private\n\t */\n\tprotected async _applyTilesPersonalization(tiles: GenericTile[], groupId?: string, shouldReload = true) {\n\t\tconst [personalizations, favPages] = await Promise.all([this._getAppPersonalization(), this._getFavPages()]);\n\t\tconst favPageVisualizations = await this.appManagerInstance._getAllFavPageApps(favPages, shouldReload);\n\t\tconst groups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\tconst apps = groupId ? this._getGroup(groupId)?.getApps() || [] : this.getApps() || [];\n\t\tfor (const tile of tiles) {\n\t\t\tconst item = this._getItem(tile, groups, apps);\n\t\t\tconst { color, icon } = this._getItemPersonalization(item, personalizations, favPageVisualizations, groupId);\n\n\t\t\tif (color) {\n\t\t\t\titem?.setProperty(\"bgColor\", color, true);\n\t\t\t\ttile.setBackgroundColor(color);\n\t\t\t}\n\n\t\t\tif (icon) {\n\t\t\t\titem?.setProperty(\"icon\", icon, true);\n\t\t\t\ttile.setTileIcon(icon);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the corresponding App or Group object associated with the given tile.\n\t * @param {GenericTile} tile - The tile for which to retrieve the corresponding item.\n\t * @param {Group[]} groups - An array of Group objects.\n\t * @param {App[]} apps - An array of App objects.\n\t * @returns {App | Group | undefined} The corresponding App or Group object, or undefined if not found.\n\t * @private\n\t */\n\tprivate _getItem(tile: GenericTile, groups: Group[], apps: App[]): App | Group | undefined {\n\t\tconst tileGroupId = tile.data(\"groupId\") as string | undefined;\n\t\tif (tileGroupId) {\n\t\t\treturn groups.find((oGroup) => oGroup.getGroupId() === tileGroupId);\n\t\t} else {\n\t\t\treturn apps.find((oApp) => getLeanURL(oApp.getUrl()) === tile.getUrl());\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the color and icon associated with the specified item based on personalizations.\n\t * @param {App | Group | undefined} item - The App or Group object for which to retrieve personalization data.\n\t * @param {IAppPersonalization[] | undefined} personalizations - An array of personalization objects.\n\t * @param {ICustomVisualization[]} favPageVisualizations - An array of favorite page visualizations.\n\t * @param {string | undefined} groupId - The ID of the group to which the item belongs.\n\t * @returns {IItemPersonalization} An object containing the color and icon associated with the item.\n\t * @private\n\t */\n\tprivate _getItemPersonalization(\n\t\titem: App | Group | undefined,\n\t\tpersonalizations: IAppPersonalization[] | undefined,\n\t\tfavPageVisualizations: ICustomVisualization[],\n\t\tgroupId?: string\n\t): IItemPersonalization {\n\t\tlet color: string = \"\";\n\t\tlet icon: string = \"\";\n\n\t\tif (!item) return { color, icon };\n\n\t\tif (item.isA(\"sap.cux.home.Group\")) {\n\t\t\tconst personalization = personalizations?.find(\n\t\t\t\t(personalization) => personalization.isSection && personalization.sectionId === (item as Group).getGroupId()\n\t\t\t);\n\t\t\tcolor = personalization?.BGColor as string;\n\t\t} else {\n\t\t\tconst app = item as App;\n\t\t\tconst appIds = [app.getUrl()];\n\t\t\tconst oldAppId = app.data(\"oldAppId\") as string | undefined;\n\t\t\tif (oldAppId) {\n\t\t\t\tappIds.push(oldAppId);\n\t\t\t}\n\t\t\tconst vizId = app.getVizId();\n\t\t\tconst personalization = groupId\n\t\t\t\t? personalizations?.find(\n\t\t\t\t\t\t(personalization) =>\n\t\t\t\t\t\t\t!personalization.isSection &&\n\t\t\t\t\t\t\tpersonalization.sectionId === groupId &&\n\t\t\t\t\t\t\tpersonalization.appId &&\n\t\t\t\t\t\t\tappIds.includes(personalization.appId)\n\t\t\t\t\t)\n\t\t\t\t: personalizations?.find((oPersonalization) =>\n\t\t\t\t\t\tthis?.isA(\"sap.cux.home.FavAppPanel\")\n\t\t\t\t\t\t\t? oPersonalization.isRecentlyAddedApp && oPersonalization.appId && appIds.includes(oPersonalization.appId)\n\t\t\t\t\t\t\t: oPersonalization.appId && appIds.includes(oPersonalization.appId)\n\t\t\t\t\t);\n\t\t\tconst favPageVisualization = favPageVisualizations.find(\n\t\t\t\t(oVisualization) => oVisualization.vizId === vizId || (oVisualization.appId && appIds.includes(oVisualization.appId))\n\t\t\t);\n\t\t\tconst colorInfo = personalization?.BGColor || favPageVisualization?.BGColor || DEFAULT_BG_COLOR().key;\n\t\t\tcolor = typeof colorInfo === \"object\" ? colorInfo.key : colorInfo;\n\t\t\ticon = this?.isA(\"sap.cux.home.FavAppPanel\") ? this._getFavAppIcon(app, favPageVisualization?.icon) : this.getAppIcon();\n\t\t}\n\n\t\treturn { color, icon };\n\t}\n\n\t/**\n\t * Retrieves favorite pages.\n\t * @returns {Promise<Array>} A promise that resolves with an array of favorite pages.\n\t * @private\n\t */\n\tprivate async _getFavPages() {\n\t\tconst aFavPages = await this._getPageManagerInstance().getFavoritePages();\n\t\treturn aFavPages.concat({\n\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\tBGColor: DEFAULT_BG_COLOR().key\n\t\t});\n\t}\n\n\t/**\n\t * Returns default app icon.\n\t * @returns {string} The icon URL for the app.\n\t * @private\n\t */\n\tprotected getAppIcon(): string {\n\t\treturn DEFAULT_APP_ICON;\n\t}\n\n\t/**\n\t * Retrieves the icon for the specified app, prioritizing the favorite page icon if available.\n\t * @param {sap.cux.home.App} app - The app object.\n\t * @param {string} favPageIcon - The icon for the app from the favorite page.\n\t * @returns {string} The icon URL for the app.\n\t * @private\n\t */\n\tprivate _getFavAppIcon(app?: App, favPageIcon?: string): string {\n\t\treturn favPageIcon || app?.getIcon() || FALLBACK_ICON;\n\t}\n\n\tprivate _getPageManagerInstance() {\n\t\tif (!this._pageManagerInstance) {\n\t\t\tthis._pageManagerInstance = PageManager.getInstance(\n\t\t\t\tthis._getPersContainerId(),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t\t);\n\t\t}\n\t\treturn this._pageManagerInstance;\n\t}\n\n\tprivate _getPersContainerId(): string {\n\t\tlet persContainerId = this.getProperty(\"persContainerId\") as string;\n\t\tif (!persContainerId) {\n\t\t\tpersContainerId = PersonalisationUtils.getPersContainerId(this);\n\t\t}\n\t\treturn persContainerId;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}