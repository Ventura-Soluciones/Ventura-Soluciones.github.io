{"version":3,"file":"RecommendedAppPanel.js","names":["sap","ui","define","Log","GridContainer","GridContainerSettings","Button","Dialog","IllustratedMessageSize","IllustratedMessageType","sap_m_library","Link","MessageStrip","MessageToast","ScrollContainer","Text","Title","VBox","Element","EventBus","__BaseAppPersPanel","__MenuItem","___utils_Constants","___utils_FESRUtil","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BackgroundDesign","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","BaseAppPersPanel","_catch","recover","MenuItem","_finallyRethrows","finalizer","REPO_BASE_URL","SETTINGS_PANELS_KEYS","addFESRId","HttpHelper","CONSTANTS","USER_PREFERENCE_SRVC_URL","KEY","RecommendedAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","_selectedApps","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","eventBus","getInstance","subscribe","channelId","eventId","data","showRecommendation","fireSupported","isSupported","_createAddToFavouritesMenuItem","addToFavouritesMenuItem","getId","title","icon","press","_openAddRecommendedDialog","visible","insertAggregation","dialogId","dialog","_generateAddRecommendedDialog","open","_controlMap","get","_createAddRecommendedDialogControls","appsWrapper","_generateAppsScrollContainer","getContent","destroyAggregation","getApps","tiles","map","app","_createAppTile","_setAggregation","_updateSelectedAppCount","set","text","level","addButton","Promise","resolve","_addSelectedApps","_closeAddRecommendedDialog","enabled","cancelButton","mainTitleText","content","items","justifyContent","alignItems","addStyleClass","contentHeight","contentWidth","buttons","escapeHandler","appCopy","clone","appTile","getParent","_getAppTile","_onPress","_highlightApp","layout","columnSize","gap","vertical","height","_updateAddButtonState","getElementById","setEnabled","toggleAppTileHighlight","close","_resetAddRecommendedDialog","_toggleAppTileHighlight","isAppSelected","appsScrollContainer","getItems","forEach","oTile","hasStyleClass","removeStyleClass","_this2","setBusy","_temp3","_refreshAllPanels","message","show","_temp2","vizId","getVizId","_temp","appManagerInstance","addVisualization","error","_wasThrown","_result","event","selectedApp","getSource","bIsSelected","splice","findIndex","oApp","getUrl","toggleStyleClass","selectedAppsTitle","selectedAppsCount","setText","_generateWrapper","wrapperId","_generateMessageStrip","BaseAppPersPanel.prototype._generateWrapper.call","backgroundDesign","Transparent","loadApps","_loadApps","_this3","getRecommendedVisualizations","recommendedVisualizations","visualization","index","menuItems","_getActions","recommendedApps","generateApps","setApps","setVisible","messageStripId","showIcon","showCloseButton","link","_getLayout","openSettingsDialog","ADVANCED","addToFavoritesItem","getKey","_addAppToFavorites","notRelevantItem","_rejectRecommendation","actions","_this4","_temp5","source","getTitle","find","viz","url","fioriId","_temp4","rejectPayload","AppId","Decision","Post","refresh","_wasThrown2","_result2","_isRecommendationEnabled","_this5","getPersonalization","personalisation","_enableRecommendationTab","_this6","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setIllustrationSize","Small","setIllustrationType","NoData","setTitle","setDescription","addAdditionalContent","tooltip"],"sources":["RecommendedAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport Dialog from \"sap/m/Dialog\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport { BackgroundDesign } from \"sap/m/library\";\nimport Link from \"sap/m/Link\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport App from \"./App\";\nimport AppsContainer from \"./AppsContainer\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport BaseContainer from \"./BaseContainer\";\nimport type { $BasePanelSettings } from \"./BasePanel\";\nimport MenuItem, { MenuItem$PressEvent } from \"./MenuItem\";\nimport { REPO_BASE_URL, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport HttpHelper from \"./utils/HttpHelper\";\n\nconst CONSTANTS = {\n\tUSER_PREFERENCE_SRVC_URL: `${REPO_BASE_URL}UserPreference`,\n\tKEY: \"recommendedApps\"\n};\n\n/**\n *\n * Provides the RecommendedAppPanel Class.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.128.0\n *\n * @internal\n * @experimental Since 1.128.0\n * @public\n *\n * @alias sap.cux.home.RecommendedAppPanel\n */\nexport default class RecommendedAppPanel extends BaseAppPersPanel {\n\tprivate _selectedApps: App[] = [];\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Recommended apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new Recommended Apps Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", CONSTANTS.KEY);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"recommendedAppsTab\"));\n\t\t//subscribe to recommendation setting change event\n\t\tconst eventBus = EventBus.getInstance();\n\t\teventBus.subscribe(\"importChannel\", \"recommendationSettingChanged\", (channelId?: string, eventId?: string, data?: object) => {\n\t\t\tconst showRecommendation = (data as { showRecommendation: boolean }).showRecommendation;\n\t\t\tthis.fireSupported({ isSupported: showRecommendation });\n\t\t});\n\t\tthis._createAddToFavouritesMenuItem();\n\t}\n\n\t/**\n\t * Creates and inserts the \"Add to Favourites\" menu item.\n\t * @private\n\t */\n\tprivate _createAddToFavouritesMenuItem(): void {\n\t\tconst addToFavouritesMenuItem = new MenuItem(`${this.getId()}-addtofavouritesmenuitem`, {\n\t\t\ttitle: this._i18nBundle.getText(\"addToFavoritesRecommended\"),\n\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\tpress: this._openAddRecommendedDialog.bind(this),\n\t\t\tvisible: false\n\t\t});\n\t\taddFESRId(addToFavouritesMenuItem, \"addToFavouritesMenuItem\");\n\t\tthis.insertAggregation(\"menuItems\", addToFavouritesMenuItem, 0);\n\t}\n\n\t/**\n\t * Opens the dialog for adding recommended apps.\n\t * @private\n\t */\n\tprivate _openAddRecommendedDialog(): void {\n\t\tconst dialogId = `${this.getId()}-addRecommendedDialog-appsPage`;\n\t\tconst dialog = this._generateAddRecommendedDialog(dialogId);\n\t\tdialog.open();\n\t}\n\n\t/**\n\t * Creates and returns the dialog for adding recommended apps.\n\t * @private\n\t * @param {string} dialogId - The unique ID for the dialog.\n\t * @returns {sap.m.Dialog} - The generated dialog control.\n\t */\n\tprivate _generateAddRecommendedDialog(dialogId: string): Dialog {\n\t\tif (!this._controlMap.get(dialogId)) {\n\t\t\tthis._createAddRecommendedDialogControls(dialogId);\n\t\t}\n\t\tconst appsWrapper = this._generateAppsScrollContainer()?.getContent()?.[0] as GridContainer;\n\t\tappsWrapper.destroyAggregation(\"items\");\n\t\tthis._selectedApps = [...this.getApps()];\n\t\tconst tiles = this._selectedApps.map((app) => this._createAppTile(app));\n\t\tthis._setAggregation(appsWrapper, tiles);\n\t\tthis._updateSelectedAppCount();\n\t\tconst dialog = this._controlMap.get(dialogId) as Dialog;\n\t\treturn dialog;\n\t}\n\n\t/**\n\t * Creates the controls for the dialog, including the title, subtitle, and buttons.\n\t * @private\n\t * @param {string} dialogId - The unique ID for the dialog.\n\t */\n\tprivate _createAddRecommendedDialogControls(dialogId: string): void {\n\t\tthis._selectedApps = [...this.getApps()];\n\t\tthis._controlMap.set(\n\t\t\t`${dialogId}-mainTitle`,\n\t\t\tnew Title({\n\t\t\t\tid: `${dialogId}-mainTitle`,\n\t\t\t\ttext: this._i18nBundle.getText(\"addToFavoritesRecommended\")\n\t\t\t})\n\t\t);\n\t\tthis._controlMap.set(\n\t\t\t`${dialogId}-headerContainer-count`,\n\t\t\tnew Text({\n\t\t\t\tid: `${dialogId}-headerContainer-count`\n\t\t\t})\n\t\t);\n\t\tthis._controlMap.set(\n\t\t\t`${dialogId}-selectedAppsTitle`,\n\t\t\tnew Title({\n\t\t\t\tid: `${dialogId}-selectedAppsTitle`,\n\t\t\t\ttext: `${this._i18nBundle.getText(\"recommendedAppsTab\")} (0 ${this._i18nBundle.getText(\"selected\")})`,\n\t\t\t\tlevel: \"H3\"\n\t\t\t})\n\t\t);\n\t\tthis._controlMap.set(\n\t\t\t`${dialogId}-subtitleText`,\n\t\t\tnew Text({\n\t\t\t\tid: `${dialogId}-subtitleText`,\n\t\t\t\ttext: this._i18nBundle.getText(\"selectAtLeastOneApp\")\n\t\t\t})\n\t\t);\n\t\tconst addButton = new Button({\n\t\t\tid: `${dialogId}-addBtn`,\n\t\t\ttext: this._i18nBundle.getText(\"addButton\"),\n\t\t\ttype: \"Emphasized\",\n\t\t\tpress: async () => {\n\t\t\t\tawait this._addSelectedApps();\n\t\t\t\tthis._closeAddRecommendedDialog(dialogId);\n\t\t\t},\n\t\t\tenabled: this._selectedApps.length > 0\n\t\t});\n\t\tconst cancelButton = new Button({\n\t\t\tid: `${dialogId}-cancelBtn`,\n\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\tpress: () => this._closeAddRecommendedDialog(dialogId)\n\t\t});\n\t\tconst mainTitleText = (this._controlMap.get(`${dialogId}-mainTitle`) as Title).getText();\n\t\tthis._controlMap.set(\n\t\t\tdialogId,\n\t\t\tnew Dialog(dialogId, {\n\t\t\t\ttitle: mainTitleText,\n\t\t\t\tcontent: [\n\t\t\t\t\tnew VBox({\n\t\t\t\t\t\tid: `${dialogId}-headerContainer`,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tthis._controlMap.get(`${dialogId}-selectedAppsTitle`) as Title,\n\t\t\t\t\t\t\tthis._controlMap.get(`${dialogId}-subtitleText`) as Text\n\t\t\t\t\t\t],\n\t\t\t\t\t\tjustifyContent: \"Start\",\n\t\t\t\t\t\talignItems: \"Start\"\n\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\"),\n\t\t\t\t\tthis._generateAppsScrollContainer()\n\t\t\t\t],\n\t\t\t\tcontentHeight: \"25rem\",\n\t\t\t\tcontentWidth: \"41.75rem\",\n\t\t\t\tbuttons: [addButton, cancelButton],\n\t\t\t\tescapeHandler: () => this._closeAddRecommendedDialog(dialogId)\n\t\t\t}).addStyleClass(\"sapCuxRecommendedAppsDialog sapContrastPlus\")\n\t\t);\n\t}\n\n\t/**\n\t * Creates and returns an app tile for the given app.\n\t * @private\n\t * @param {App} app - The app to create a tile for.\n\t * @returns {sap.m.GenericTile} - The created app tile.\n\t */\n\tprivate _createAppTile(app: App): GenericTile {\n\t\tconst appCopy = app.clone();\n\t\tconst appTile = (this.getParent() as AppsContainer)._getAppTile(appCopy);\n\t\tappTile.addStyleClass(\"sapCuxHighlightApp\");\n\t\tappCopy._onPress = (e) => this._highlightApp(e, appCopy);\n\t\treturn appTile;\n\t}\n\n\t/**\n\t * Generates and returns the scroll container for the dialog's apps list.\n\t * @private\n\t * @returns {sap.m.ScrollContainer} - The scroll container for the apps.\n\t */\n\tprivate _generateAppsScrollContainer(): ScrollContainer {\n\t\tconst id = `${this.getId()}-addRecommendedDialog-appsPage-scrollContainer`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-apps`,\n\t\t\t\tnew GridContainer({\n\t\t\t\t\tid: `${id}-apps`,\n\t\t\t\t\tlayout: new GridContainerSettings(`${id}-apps-containerSettings`, {\n\t\t\t\t\t\tcolumnSize: \"19rem\",\n\t\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapCuxAppsGridContainerPadding\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew ScrollContainer(id, {\n\t\t\t\t\tid,\n\t\t\t\t\tvertical: true,\n\t\t\t\t\tvisible: true,\n\t\t\t\t\theight: \"20rem\",\n\t\t\t\t\tcontent: [this._controlMap.get(`${id}-apps`) as GridContainer]\n\t\t\t\t}).addStyleClass(\"sapUiSmallMarginBeginEnd sapUiTinyMarginTop\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as ScrollContainer;\n\t}\n\n\t/**\n\t * Updates the state of the \"Add\" button in the dialog based on the selected apps.\n\t * @private\n\t */\n\tprivate _updateAddButtonState() {\n\t\tconst dialogId = `${this.getId()}-addRecommendedDialog-appsPage`;\n\t\tconst addButton = Element.getElementById(`${dialogId}-addBtn`) as Button;\n\t\tif (addButton) {\n\t\t\taddButton.setEnabled(this._selectedApps.length > 0);\n\t\t}\n\t}\n\n\t/**\n\t * Closes the dialog and resets the selected apps state.\n\t * @private\n\t * @param {string} dialogId - The unique ID of the dialog to close.\n\t */\n\tprivate _closeAddRecommendedDialog(dialogId: string): void {\n\t\tthis.toggleAppTileHighlight(true);\n\t\tconst dialog = this._controlMap.get(dialogId) as Dialog;\n\t\tif (dialog) {\n\t\t\tdialog.close();\n\t\t}\n\t\tthis._resetAddRecommendedDialog();\n\t}\n\n\t/**\n\t * Toggles the highlight style for app tiles based on the selection state.\n\t * @private\n\t * @param {boolean} isAppSelected - Flag indicating whether to add or remove the style class.\n\t */\n\tprivate toggleAppTileHighlight(isAppSelected: boolean): void {\n\t\tconst appsScrollContainer = this._generateAppsScrollContainer();\n\t\tconst appsWrapper = appsScrollContainer.getContent()[0] as GridContainer;\n\t\tif (appsWrapper) {\n\t\t\tappsWrapper.getItems().forEach((oTile) => {\n\t\t\t\tif (oTile) {\n\t\t\t\t\tif (isAppSelected) {\n\t\t\t\t\t\toTile.addStyleClass(\"sapCuxHighlightApp\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (oTile.hasStyleClass(\"sapCuxHighlightApp\")) {\n\t\t\t\t\t\t\toTile.removeStyleClass(\"sapCuxHighlightApp\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Resets the selected apps and updates the UI.\n\t * @private\n\t */\n\tprivate _resetAddRecommendedDialog(): void {\n\t\tthis._selectedApps = [...this.getApps()];\n\t\tthis._updateSelectedAppCount();\n\t\tthis._updateAddButtonState();\n\t}\n\n\t/**\n\t * Adds the selected apps to the user's favorites.\n\t * @private\n\t * @returns {Promise<void>} - A promise that resolves when the apps have been added.\n\t */\n\tprivate async _addSelectedApps(): Promise<void> {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tfor (const app of this._selectedApps) {\n\t\t\t\tconst vizId = app.getVizId?.();\n\t\t\t\tif (vizId) {\n\t\t\t\t\tawait this.appManagerInstance.addVisualization(vizId);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait (this.getParent?.() as AppsContainer)._refreshAllPanels();\n\t\t\tconst message = this._i18nBundle.getText(\"moveRecommendedMessage\") as string;\n\t\t\tMessageToast.show(message);\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t\tthis._selectedApps = [];\n\t\t\tthis._closeAddRecommendedDialog(`${this.getId()}-addRecommendedDialog-appsPage`);\n\t\t}\n\t}\n\n\t/**\n\t * Highlights or un-highlights the selected app based on the user's action.\n\t * @private\n\t * @param {Event} event - The event triggered by the user's action.\n\t * @param {App} selectedApp - The selected app to highlight or un-highlight.\n\t */\n\tprivate _highlightApp(event: Event, selectedApp: App): void {\n\t\tconst oTile = event.getSource<GenericTile>();\n\t\tconst bIsSelected = !oTile.hasStyleClass(\"sapCuxHighlightApp\");\n\t\tthis._selectedApps = this._selectedApps || [];\n\t\tif (bIsSelected) {\n\t\t\tthis._selectedApps.push(selectedApp);\n\t\t} else {\n\t\t\tthis._selectedApps.splice(\n\t\t\t\tthis._selectedApps.findIndex((oApp) => selectedApp.getUrl() === oApp.getUrl()),\n\t\t\t\t1\n\t\t\t);\n\t\t}\n\t\toTile.toggleStyleClass(\"sapCuxHighlightApp\", bIsSelected);\n\t\tthis._updateSelectedAppCount();\n\t\tthis._updateAddButtonState();\n\t}\n\n\t/**\n\t * Updates the count of selected apps displayed in the dialog.\n\t * @private\n\t */\n\tprivate _updateSelectedAppCount(): void {\n\t\tconst dialogId = `${this.getId()}-addRecommendedDialog-appsPage`;\n\t\tconst selectedAppsTitle = this._controlMap.get(`${dialogId}-selectedAppsTitle`) as Title;\n\t\tconst selectedAppsCount = this._selectedApps.length;\n\t\tselectedAppsTitle.setText(\n\t\t\t`${this._i18nBundle.getText(\"recommendedAppsTab\")} (${selectedAppsCount} ${this._i18nBundle.getText(\"selected\")})`\n\t\t);\n\t}\n\n\t/**\n\t * Overrides the wrapper for the apps panel to add message strip.\n\t *\n\t * @private\n\t * @returns {sap.m.VBox} The apps panel wrapper.\n\t */\n\tprotected _generateWrapper() {\n\t\tconst wrapperId = `${this.getId()}-recommendedPanelWrapper`;\n\t\tif (!this._controlMap.get(wrapperId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\twrapperId,\n\t\t\t\tnew VBox(wrapperId, {\n\t\t\t\t\titems: [this._generateMessageStrip(), super._generateWrapper()],\n\t\t\t\t\tbackgroundDesign: BackgroundDesign.Transparent\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(wrapperId) as VBox;\n\t}\n\n\t/**\n\t * Fetch recommended apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tlet recommendedVisualizations = await this.appManagerInstance.getRecommendedVisualizations(true);\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\trecommendedVisualizations = recommendedVisualizations.map((visualization, index) => {\n\t\t\treturn {\n\t\t\t\t...visualization,\n\t\t\t\tmenuItems: this._getActions(index)\n\t\t\t};\n\t\t});\n\t\t//convert apps objects array to apps instances\n\t\tconst recommendedApps = this.generateApps(recommendedVisualizations);\n\t\tthis.setApps(recommendedApps);\n\t\tconst addToFavouritesMenuItem = Element.getElementById(`${this.getId()}-addtofavouritesmenuitem`) as MenuItem;\n\t\tif (addToFavouritesMenuItem) {\n\t\t\taddToFavouritesMenuItem.setVisible(recommendedApps.length > 0);\n\t\t}\n\t}\n\n\t/**\n\t * Returns message strip for recommended tab\n\t * @private\n\t * @returns {sap.cux.home.MessageStrip} - Message strip control.\n\t */\n\tprivate _generateMessageStrip() {\n\t\tconst messageStripId = `${this.getId()}-messageStrip`;\n\t\tif (!this._controlMap.get(messageStripId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tmessageStripId,\n\t\t\t\tnew MessageStrip(messageStripId, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationMessageStrip\"),\n\t\t\t\t\tshowIcon: true,\n\t\t\t\t\tshowCloseButton: true,\n\t\t\t\t\tlink: new Link(`${messageStripId}-settings`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"settings\"),\n\t\t\t\t\t\tpress: () => (this.getParent() as BaseContainer)?._getLayout()?.openSettingsDialog(SETTINGS_PANELS_KEYS.ADVANCED)\n\t\t\t\t\t}).addStyleClass(\"sapUiNoMargin\")\n\t\t\t\t}).addStyleClass(\"sapUiNoMarginBegin sapUiTinyMarginBottom\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(messageStripId) as MessageStrip;\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getActions(index?: number): MenuItem[] {\n\t\tconst addToFavoritesItem = new MenuItem(`${this.getKey()}--addToFavoritesItem--${index}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\tpress: (event) => {\n\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t}\n\t\t});\n\t\taddFESRId(addToFavoritesItem, \"acceptRecommendation\");\n\t\tconst notRelevantItem = new MenuItem(`${this.getKey()}--notRelevantItem--${index}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"notRelevantRecommendation\"),\n\t\t\ticon: \"sap-icon://decline\",\n\t\t\tpress: (event) => {\n\t\t\t\tvoid this._rejectRecommendation(event);\n\t\t\t}\n\t\t});\n\t\taddFESRId(notRelevantItem, \"rejectRecommendation\");\n\t\tconst actions = [addToFavoritesItem, notRelevantItem];\n\t\treturn actions;\n\t}\n\n\t/**\n\t * Rejects the selected app as recommendation\n\t * @private\n\t * @param {sap.ui.base.MenuItem$PressEvent} event - Event object.\n\t */\n\tprivate async _rejectRecommendation(event: MenuItem$PressEvent) {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\tconst app = source.getParent() as App;\n\t\t\tconst title = app.getTitle();\n\t\t\tconst recommendedVisualizations = await this.appManagerInstance.getRecommendedVisualizations();\n\t\t\tconst visualization = recommendedVisualizations.find((viz) => viz.url === app.getUrl());\n\t\t\tconst fioriId = visualization?.fioriId;\n\t\t\tif (fioriId) {\n\t\t\t\tconst rejectPayload = {\n\t\t\t\t\tAppId: fioriId,\n\t\t\t\t\tDecision: 1\n\t\t\t\t};\n\t\t\t\tawait HttpHelper.Post(CONSTANTS.USER_PREFERENCE_SRVC_URL, rejectPayload);\n\t\t\t\tawait this.refresh();\n\t\t\t\tconst message = this._i18nBundle.getText(\"rejectRecommendationMsg\", [title]) as string;\n\t\t\t\tMessageToast.show(message);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if recommendation is enabled based on recommendation feature toggle and user personalization.\n\t * @private\n\t * @returns {Boolean} - Returns true if recommendation is enabled otherwise false.\n\t */\n\tprivate async _isRecommendationEnabled() {\n\t\tconst personalisation = await this.getPersonalization();\n\t\treturn personalisation?.showRecommendation ?? true;\n\t}\n\n\t/**\n\t * Show recommendation tab if recommendation is enabled\n\t * @private\n\t */\n\tpublic async _enableRecommendationTab() {\n\t\tconst isSupported = await this._isRecommendationEnabled();\n\t\tthis.setSupported(isSupported);\n\t\tthis.fireSupported({ isSupported });\n\t}\n\n\t/**\n\t * Generates illustrated message for recommended apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//overrride the default illustrated message, title, description and add additional content\n\t\tillustratedMessage.setIllustrationSize(IllustratedMessageSize.Small);\n\t\tillustratedMessage.setIllustrationType(IllustratedMessageType.NoData);\n\t\tillustratedMessage.setTitle(this._i18nBundle.getText(\"noRecommendationsTitle\"));\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noRecommendationsDescription\"));\n\t\tillustratedMessage.addAdditionalContent(\n\t\t\tnew Button({\n\t\t\t\ttext: this._i18nBundle.getText(\"settings\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"settings\"),\n\t\t\t\tpress: () => (this.getParent() as BaseContainer)?._getLayout()?.openSettingsDialog(SETTINGS_PANELS_KEYS.ADVANCED),\n\t\t\t\ttype: \"Emphasized\"\n\t\t\t})\n\t\t);\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}