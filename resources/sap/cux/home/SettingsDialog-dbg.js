/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/m/Bar","sap/m/Button","sap/m/library","sap/m/List","sap/m/Page","sap/m/SplitApp","sap/m/StandardListItem","sap/m/Title","sap/ui/core/Element","sap/ui/Device","./BaseSettingsDialog","./utils/Constants","./utils/Device"],function(t,e,s,i,n,o,a,l,r,g,p,d,h){"use strict";function c(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const u=s["SplitAppMode"];const _=c(p);const m=d["DEFAULT_NEWS_URL"];const f=h["calculateDeviceType"];const y=h["DeviceType"];const P=_.extend("sap.cux.home.SettingsDialog",{renderer:{apiVersion:2},init:function t(){_.prototype.init.call(this);this._controlMap=new Map;this.setContentWidth("72rem");this.setStretch(false);this.setCustomHeader(this._setCustomHeader());this.addButton(new e(`${this.getId()}-close-btn`,{text:this._i18nBundle.getText("closeSettings"),type:"Transparent",press:()=>this.close()}));this.addContent(new n(`${this.getId()}-settingsPage`,{title:this._i18nBundle.getText("myHomeSettings"),showHeader:false,content:this._getPageContent()}));this._attachResizeHandler()},_attachResizeHandler:function t(){g.resize.attachHandler(()=>{const t=f();this._splitApp.setMode(t===y.Desktop||t===y.LargeDesktop?"ShowHideMode":"HideMode");const e=this._splitApp.isMasterShown();this._updateHeaderButtonVisibility(e)})},_setCustomHeader:function s(){this._menuBtn=new e(`${this.getId()}-menu-btn`,{icon:"sap-icon://menu2",tooltip:this._i18nBundle.getText("showMenu"),press:()=>this._toggleMasterPage(),visible:false});return new t(`${this.getId()}-header`,{contentLeft:[this._menuBtn],contentMiddle:[new l(`${this.getId()}-dialog-title`,{text:this._i18nBundle.getText("myHomeSettings")})]})},_toggleMasterPage:function t(){const e=this._splitApp.isMasterShown();const s=this._deviceType||f();if(s!==y.Tablet){this._splitApp.toMaster(this._masterPage.getId(),"slide")}else{if(e){this._splitApp.hideMaster()}else{this._splitApp.showMaster()}}this._updateHeaderButtonVisibility(!e)},_updateHeaderButtonVisibility:function t(e){const s=this._deviceType||f();if(s===y.Mobile){this._menuBtn.setVisible(!e)}else if(s===y.Tablet){if(g.orientation?.portrait){const t=this._i18nBundle.getText(e?"ToggleButtonHide":"ToggleButtonShow");this._menuBtn.setVisible(true);if(t){this._menuBtn.setTooltip(t)}}else{this._menuBtn.setVisible(e)}}else{this._menuBtn.setVisible(false)}},_getPageContent:function t(){this._menuList=new i(`${this.getId()}-master-pages-list`,{mode:"SingleSelectMaster",itemPress:t=>this._navigateToDetailPage(t)}).addStyleClass("sapCuxMasterPageList");this._masterPage=new n(`${this.getId()}-master-page`,{title:this._i18nBundle.getText("myHomeSettings"),showHeader:false,content:[this._menuList]});this._splitApp=new o(`${this.getId()}-settingsApp`,{mode:"ShowHideMode",masterPages:[this._masterPage],masterButton:t=>this._hideNavigationButton(t)});return this._splitApp},_navigateToDetailPage:function t(e,s){const i=typeof e==="string"?e:e.getParameter?.("listItem");const n=this.getPanels()[0];const o=i?.data?.("key")||e||n?.getProperty("key");this.setProperty("selectedKey",o,true);const a=r.getElementById(`${o}-detail-page`);this._splitApp.toDetail(a.getId(),"slide");this._splitApp.hideMaster();if(this._splitApp.getMode()===u.ShowHideMode){this._updateHeaderButtonVisibility(false)}const l=this.getPanels().find(t=>t.getProperty("key")===o);l?.firePanelNavigated({context:s});this._menuList.removeSelections(true);const g=r.getElementById(`${o}-page-item`);setTimeout(()=>{this._menuList.setSelectedItem(g);g.focus()},0)},_hideNavigationButton:function t(e){const s=r.getElementById(`${e.getSource().getId()}-MasterBtn`);s?.destroy()},onBeforeRendering:function t(e){_.prototype.onBeforeRendering.call(this,e);this.getPanels().forEach(t=>{this._menuList.addItem(this._getPageListItem(t));this._splitApp.addDetailPage(this._getDetailPage(t))});const s=this.getProperty("selectedKey");const i=this.getProperty("context");this._navigateToDetailPage(s,i)},_getPageListItem:function t(e){const s=`${e.getProperty("key")}-page-item`;const i=e.getPanel();const n=i?r.getElementById(i):null;const o=s==="NEWS-page-item"&&n?.getShowCustom()===false&&n?.getUrl()!==m;let l=this._controlMap.get(s);if(!l){l=new a(s,{title:e.getProperty("title"),icon:e.getProperty("icon"),type:"Navigation",iconDensityAware:false,visible:!o});l.data("key",e.getProperty("key"));this._controlMap.set(s,l)}else if(o){l.setVisible(false)}return l},_getDetailPage:function t(e){const s=`${e.getProperty("key")}-detail-page`;if(!this._controlMap.get(s)){const t=new n(s,{title:e.getProperty("title"),backgroundDesign:"List",showHeader:e.getProperty("showHeader")});e.getActionButtons().forEach(e=>{t.addHeaderContent(e)});this._controlMap.set(s,t)}e.getAggregation("content").forEach(t=>this._controlMap.get(s).addContent(t));return this._controlMap.get(s)}});return P});
//# sourceMappingURL=SettingsDialog-dbg.js.map