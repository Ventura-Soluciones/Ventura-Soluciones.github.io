/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/m/Button","sap/m/FlexBox","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/library","./AppsAdditionPanel","./BaseSettingsDialog","./InsightsAdditionPanel"],function(t,e,n,i,o,s,r,a,c,l,u){"use strict";function d(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const h=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function f(t,e,n){if(!t.s){if(n instanceof g){if(n.s){if(e&1){e=n.s}n=n.v}else{n.o=f.bind(null,t,e);return}}if(n&&n.then){n.then(f.bind(null,t,e),f.bind(null,t,2));return}t.s=e;t.v=n;const i=t.o;if(i){i(t)}}}const g=function(){function t(){}t.prototype.then=function(e,n){const i=new t;const o=this.s;if(o){const t=o&1?e:n;if(t){try{f(i,1,t(this.v))}catch(t){f(i,2,t)}return i}else{return this}}this.o=function(t){try{const o=t.v;if(t.s&1){f(i,1,e?e(o):o)}else if(n){f(i,1,n(o))}else{f(i,2,o)}}catch(t){f(i,2,t)}};return i};return t}();function p(t){return t instanceof g&&t.s&1}function y(t,e,n){var i=-1,o,s;function r(a){try{while(++i<t.length&&(!n||!n())){a=e(i);if(a&&a.then){if(p(a)){a=a.v}else{a.then(r,s||(s=f.bind(null,o=new g,2)));return}}}if(o){f(o,1,a)}else{o=a}}catch(t){f(o||(o=new g),2,t)}}r();return o}const b=a["BackgroundDesign"];function B(t,e,n){if(typeof t[h]==="function"){var i=t[h](),o,s,r;function u(t){try{while(!(o=i.next()).done&&(!n||!n())){t=e(o.value);if(t&&t.then){if(p(t)){t=t.v}else{t.then(u,r||(r=f.bind(null,s=new g,2)));return}}}if(s){f(s,1,t)}else{s=t}}catch(t){f(s||(s=new g),2,t)}}u();if(i.return){var a=function(t){try{if(!o.done){i.return()}}catch(t){}return t};if(s&&s.then){return s.then(a,function(t){throw a(t)})}a()}return s}if(!("length"in t)){throw new TypeError("Object is not iterable")}var c=[];for(var l=0;l<t.length;l++){c.push(t[l])}return y(c,function(t){return e(c[t])},n)}const T=a["ButtonType"];const m=a["IconTabHeaderMode"];const C=d(c);const P=d(l);const I=d(u);const w=P.extend("sap.cux.home.ContentAdditionDialog",{renderer:{apiVersion:2},init:function t(){P.prototype.init.call(this);this.setStretch(false);this.setContentWidth("59.375rem");this.setContentHeight("43.75rem");this.setVerticalScrolling(false);this.setTitle(this._i18nBundle.getText("addContent"));this.addStyleClass("sapCuxContentAdditionDialog");this.setEscapeHandler(this.onDialogClose.bind(this));this.addPanel(new C(`${this.getId()}-appsAdditionPanel`));this.addPanel(new I(`${this.getId()}-cardsAdditionPanel`));this._setupDialogContent()},_setupDialogContent:function t(){this.iconTabBar=new n(`${this.getId()}-iconTabBar`,{headerMode:m.Inline,backgroundDesign:b.Transparent,select:()=>{this.setProperty("selectedKey",this.iconTabBar.getSelectedKey());this.updateActionButtons()}});this.errorMessageContainer=new e(`${this.getId()}-errorMessageContainer`,{direction:"Column",renderType:"Bare",height:"100%",justifyContent:"Center",items:[new o(`${this.getId()}-errorMessage`,{illustrationSize:s.Auto,illustrationType:r.NoData})]});const i=new e(`${this.getId()}-wrapper`,{direction:"Column",renderType:"Bare",height:"100%",items:[this.iconTabBar,this.errorMessageContainer]});this.addContent(i)},onBeforeRendering:function t(e){P.prototype.onBeforeRendering.call(this,e);void this._addPanelsToIconTabBar();const n=this.getProperty("selectedKey");this.iconTabBar.setSelectedKey(n);this.updateActionButtons()},_addPanelsToIconTabBar:function t(){try{const t=this;const e=function(){if(!t.panelsAdded){function e(){t.panelsAdded=true;const e=t.iconTabBar.getItems().length>0;t.iconTabBar.setVisible(e);t.errorMessageContainer.setVisible(!e)}const n=t.getPanels();const o=B(n,function(e){return Promise.resolve(e.isSupported()).then(function(n){if(!n){return}const o=e.getProperty("key");const s=new i(`${t.getId()}-${o}`,{key:o,text:e.getProperty("title")});const r=e.getAggregation("content");r?.forEach(t=>s.addContent(t));t.iconTabBar.addItem(s)})});return o&&o.then?o.then(e):e(o)}}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},_getPanel:function t(e){return this.getPanels().find(t=>t.getProperty("key")===e)},updateActionButtons:function e(){this.cancelButton=this.cancelButton||new t(`${this.getId()}-close-btn`,{text:this._i18nBundle.getText("closeSettings"),type:T.Transparent,press:this.onDialogClose.bind(this)});const n=this.iconTabBar.getSelectedKey()||this.getPanels()[0]?.getProperty("key");this.removeAllButtons();this._getPanel(n).getActionButtons().forEach(t=>{this.addButton(t)});this.addButton(this.cancelButton)},onDialogClose:function t(){this.getPanels().forEach(t=>t.fireEvent("onDialogClose"));this.close()}});return w});
//# sourceMappingURL=ContentAdditionDialog.js.map