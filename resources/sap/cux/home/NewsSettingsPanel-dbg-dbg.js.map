{"version":3,"file":"NewsSettingsPanel-dbg-dbg.js","names":["sap","ui","define","HBox","Label","List","StandardListItem","Switch","Text","Title","VBox","__BaseSettingsPanel","___utils_Accessibility","___utils_Constants","___utils_FESRUtil","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","getInvisibleText","SETTINGS_PANELS_KEYS","addFESRSemanticStepName","FESR_EVENTS","PersonalisationUtils","UshellPersonalizer","NewsSettingsPanel","extend","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","NEWS","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","loadNewsFeedSettings","aFavNewsFeed","_getContent","oHeader","setHeader","oTitle","setTitleMessage","oContentVBox","getId","alignItems","justifyContent","items","setNewsList","getPersonalization","_getPersonalization","_this","_temp2","oPersonalizer","_temp","Promise","resolve","getInstance","getPersContainerId","_getPanel","getOwnerComponent","then","_UshellPersonalizer$g","e","reject","_setHeader","headerText","text","oHeaderVBox","addStyleClass","_setTitleMessage","title","titleStyle","oTitleHbox","oTitleVBox","_setNewsList","oShowSwitchLabel","oShowSwitch","customTextOn","customTextOff","change","saveNewsFeedSettings","state","ariaLabelledBy","CHANGE","oCustNewsSwitchContainer","width","oShowAllPrep","oInvisibleText","oList","mode","selectionChange","oNewsListVBox","direction","isCSVFileFormat","_isCSVFileFormat","fileName","split","pop","toLowerCase","_saveNewsFeedSettings","_this2","aSelectedNewsFeed","getSelectedItems","map","item","getTitle","feedKey","oNewsPanel","getCustomFeedKey","customFileName","getProperty","oFavNewsFeed","showAllPreparationRequired","getState","read","oPersData","favNewsFeed","defaultNewsFeed","write","setState","setCustomNewsFeed","setItems","_setItems","aItems","destroyAggregation","forEach","oItem","i","oCustomListItem","selected","addItem","_loadNewsFeedSettings","_this3","sFeedKey","aPersNewsFeed","mandatoryNewsFeed","setVisible","getCustomNewsFeed","aNewsFeed","setText","getMandatoryDefaultNewsFeed","length","combinedFavMandatoryNews","oNewsFeed","NewsFeedInFavorites","find","blocked","feedName"],"sources":["NewsSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ListItemBase from \"sap/m/ListItemBase\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Switch from \"sap/m/Switch\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport NewsPanel, { ICustomNewsFeed } from \"./NewsPanel\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer from \"./utils/UshellPersonalizer\";\n\ninterface IFavNewsFeed {\n\titems: string[];\n\tshowAllPreparationRequired?: boolean;\n}\n\n/**\n *\n * Class for My Home News Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.NewsSettingsPanel\n */\nexport default class NewsSettingsPanel extends BaseSettingsPanel {\n\tprivate oShowSwitch!: Switch;\n\tprivate oCustNewsSwitchContainer!: HBox;\n\tprivate oList!: List;\n\tprivate oPersonalizer!: UshellPersonalizer;\n\tprivate oNewsPanel!: NewsPanel;\n\tprivate aFavNewsFeed!: ICustomNewsFeed[] | string[];\n\tprivate headerText!: Text;\n\tprivate title!: Title;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.NEWS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"news\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://newspaper\");\n\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid this.loadNewsFeedSettings();\n\t\t});\n\t\tthis.aFavNewsFeed = [];\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel.\n\t *\n\t * @private\n\t * @returns {Control} The control containing the News Settings Panel content.\n\t */\n\tprivate getContent(): Control {\n\t\tconst oHeader = this.setHeader();\n\t\tconst oTitle = this.setTitleMessage();\n\t\tconst oContentVBox = new VBox(this.getId() + \"--idNewsPageOuterVBoX\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oHeader, oTitle, this.setNewsList()]\n\t\t});\n\t\treturn oContentVBox;\n\t}\n\n\t/**\n\t * Get personalization instance\n\t */\n\tprivate async getPersonalization() {\n\t\tif (!this.oPersonalizer) {\n\t\t\tthis.oPersonalizer = await UshellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\treturn this.oPersonalizer;\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel Header.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's Header content.\n\t */\n\tprivate setHeader() {\n\t\tthis.headerText = new Text(this.getId() + \"--idCustNewsFeedSettingsText\", {\n\t\t\ttext: this._i18nBundle.getText(\"newsFeedSettingsText\")\n\t\t});\n\t\tconst oHeaderVBox = new VBox(this.getId() + \"--idCustNewsFeedSettingsTextContainer\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [this.headerText]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oHeaderVBox;\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel Title description.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's Title description.\n\t */\n\tprivate setTitleMessage() {\n\t\tthis.title = new Title(this.getId() + \"--idCustNewsFeedSettignsTitle\", {\n\t\t\ttext: this._i18nBundle.getText(\"newsFeedSettingsHeading\"),\n\t\t\ttitleStyle: \"H5\"\n\t\t});\n\t\tconst oTitleHbox = new HBox(this.getId() + \"--idCustNewsFeedSettingsTitleContainer\", {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [this.title]\n\t\t});\n\t\tconst oTitleVBox = new VBox(this.getId() + \"--idCustNewsFeedSettingsTitleVBox\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oTitleHbox]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oTitleVBox;\n\t}\n\n\t/**\n\t * Returns the content for the news List\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's List\n\t */\n\tprivate setNewsList() {\n\t\t//showAllPrepRequired Switch\n\t\tconst oShowSwitchLabel = new Label(this.getId() + \"--idShowAllCustNewsSwitchLabel\", {\n\t\t\ttext: this._i18nBundle.getText(\"showAllPreparationRequiredSwitchLabel\")\n\t\t});\n\t\tthis.oShowSwitch = new Switch(`${this.getId()}-showSwitch`, {\n\t\t\t// 'ariaLabelledBy': \"idShowAllCustNewsSwitchLabel idShowAllCustNewsSwitch\",\n\t\t\tcustomTextOn: \" \",\n\t\t\tcustomTextOff: \" \",\n\t\t\tchange: () => {\n\t\t\t\tvoid this.saveNewsFeedSettings();\n\t\t\t},\n\t\t\t// 'fesr:change': \"showPrepRequire\",\n\t\t\tstate: false,\n\t\t\tariaLabelledBy: [`${this.getId()}--idShowAllCustNewsSwitchLabel`]\n\t\t});\n\t\taddFESRSemanticStepName(this.oShowSwitch, FESR_EVENTS.CHANGE, \"showPrepRequire\");\n\t\tthis.oCustNewsSwitchContainer = new HBox(this.getId() + \"--idShowAllCustNewsSwitchContainer\", {\n\t\t\talignItems: \"Center\",\n\t\t\titems: [oShowSwitchLabel, this.oShowSwitch],\n\t\t\twidth: \"94%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\n\t\tconst oShowAllPrep = new VBox(this.getId() + \"--idShowAllCustNewsSwitchVBox\", {\n\t\t\titems: [this.oCustNewsSwitchContainer],\n\t\t\twidth: \"94%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\tconst oInvisibleText = getInvisibleText(`${this.getId()}--newsTitleText`, this._i18nBundle.getText(\"newsTitle\"));\n\t\t//List of news items\n\t\tthis.oList = new List(this.getId() + \"--idCustNewsFeedList\", {\n\t\t\tmode: \"MultiSelect\",\n\t\t\tselectionChange: () => {\n\t\t\t\tvoid this.saveNewsFeedSettings();\n\t\t\t},\n\t\t\tariaLabelledBy: [\n\t\t\t\toInvisibleText.getId(),\n\t\t\t\t`${this.getId()}--idCustNewsFeedSettingsText`,\n\t\t\t\t`${this.getId()}--idCustNewsFeedSettignsTitle`\n\t\t\t]\n\t\t});\n\t\t//Outer VBox\n\t\tconst oNewsListVBox = new VBox(this.getId() + \"--idCustNewsFeedListContainer\", {\n\t\t\tdirection: \"Column\",\n\t\t\titems: [this.oList, oShowAllPrep, oInvisibleText],\n\t\t\twidth: \"96%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oNewsListVBox;\n\t}\n\n\t/**\n\t * Checks if the custom file format is CSV based on the custom file name.\n\t *\n\t * @param {string} fileName - The custom file name.\n\t * @returns {boolean} True if the file format is CSV, otherwise false.\n\t */\n\tprivate isCSVFileFormat(fileName: string): boolean {\n\t\treturn fileName.split(\".\").pop()?.toLowerCase() === \"csv\";\n\t}\n\n\t/**\n\t *\n\t * Saves news feed settings and shows news feed based on selection change of list of switch\n\t *\n\t * @private\n\t */\n\tprivate async saveNewsFeedSettings() {\n\t\tconst aSelectedNewsFeed: string[] = this.oList.getSelectedItems().map((item: ListItemBase) => {\n\t\t\treturn (item as StandardListItem).getTitle();\n\t\t});\n\t\tconst feedKey = this.oNewsPanel.getCustomFeedKey();\n\n\t\tconst customFileName = this.oNewsPanel.getProperty(\"customFileName\") as string;\n\t\tlet oFavNewsFeed;\n\t\tif (feedKey) {\n\t\t\toFavNewsFeed = {\n\t\t\t\titems: aSelectedNewsFeed,\n\t\t\t\tshowAllPreparationRequired: this.isCSVFileFormat(customFileName) ? false : this.oShowSwitch.getState()\n\t\t\t} as IFavNewsFeed;\n\t\t} else {\n\t\t\toFavNewsFeed = {\n\t\t\t\titems: aSelectedNewsFeed\n\t\t\t};\n\t\t}\n\t\tconst oPersonalizer = await this.getPersonalization();\n\t\tconst oPersData = (await oPersonalizer.read()) || {};\n\t\tif (feedKey) {\n\t\t\toPersData.favNewsFeed = oFavNewsFeed;\n\t\t} else {\n\t\t\toPersData.defaultNewsFeed = oFavNewsFeed;\n\t\t}\n\t\tawait oPersonalizer.write(oPersData);\n\t\t//get the latest value of switch and set the state\n\t\tthis.oShowSwitch.setState(oFavNewsFeed.showAllPreparationRequired);\n\t\t//load news feed\n\t\tawait this.oNewsPanel.setCustomNewsFeed(feedKey);\n\t}\n\t/** Set items for the NewsList\n\t * @param {Array} [aItems] news items to be set as items aggregation\n\t * @private\n\t */\n\tprivate setItems(aItems: ICustomNewsFeed[]) {\n\t\tthis.oList.destroyAggregation(\"items\", true);\n\t\t(aItems || []).forEach((oItem: ICustomNewsFeed, i: number) => {\n\t\t\tconst oCustomListItem = new StandardListItem(this.getId() + \"--idCustNewsFeedItem\" + \"--\" + i, {\n\t\t\t\ttitle: oItem.title,\n\t\t\t\tselected: oItem.selected as boolean\n\t\t\t\t// blocked: oItem.blocked as boolean\n\t\t\t});\n\t\t\t//.addStyleClass(\"newsListItem\");\n\t\t\tthis.oList.addItem(oCustomListItem);\n\t\t});\n\t}\n\n\t/**\n\t * Loads news feed settings\n\t *\n\t * @returns {Promise} resolves to news feed settings\n\t */\n\tprivate async loadNewsFeedSettings() {\n\t\tthis.oNewsPanel = this._getPanel() as NewsPanel;\n\t\tconst sFeedKey = this.oNewsPanel.getCustomFeedKey();\n\t\tconst oPersonalizer = await this.getPersonalization();\n\t\tconst oPersData = await oPersonalizer.read();\n\t\tconst aPersNewsFeed = (sFeedKey ? oPersData?.[\"favNewsFeed\"] : oPersData?.[\"defaultNewsFeed\"]) as IFavNewsFeed;\n\t\tlet showAllPreparationRequired = false;\n\t\tshowAllPreparationRequired = aPersNewsFeed?.showAllPreparationRequired ?? !aPersNewsFeed;\n\n\t\tconst customFileName = this.oNewsPanel.getProperty(\"customFileName\") as string;\n\n\t\tlet mandatoryNewsFeed: string[] = [];\n\t\tif (this.isCSVFileFormat(customFileName) || !sFeedKey) {\n\t\t\tthis.oCustNewsSwitchContainer.setVisible(false);\n\t\t}\n\n\t\tlet aNewsFeed: ICustomNewsFeed[] = await this.oNewsPanel.getCustomNewsFeed(sFeedKey, false);\n\t\tif (!sFeedKey) {\n\t\t\tthis.headerText.setText(this._i18nBundle.getText(\"defaultNewsSettingsText\"));\n\t\t\tthis.title.setText(this._i18nBundle.getText(\"defaultNewsSettingsHeading\"));\n\t\t\tmandatoryNewsFeed = this.oNewsPanel.getMandatoryDefaultNewsFeed();\n\t\t} else {\n\t\t\tthis.headerText.setText(this._i18nBundle.getText(\"newsFeedSettingsText\"));\n\t\t\tthis.title.setText(this._i18nBundle.getText(\"newsFeedSettingsHeading\"));\n\t\t}\n\t\tif (aNewsFeed && aNewsFeed.length > 0) {\n\t\t\tthis.aFavNewsFeed = (aPersNewsFeed && aPersNewsFeed.items) || aNewsFeed;\n\t\t\t// combine favnewsFeed with mandatory news group as mandatorynews should always be shown\n\t\t\t// let favMandatoryNewsSet = new Set([...this.aFavNewsFeed, ...mandatoryNewsFeed]);\n\t\t\t// let combinedFavMandatoryNews = Array.from(favMandatoryNewsSet);\n\t\t\tlet combinedFavMandatoryNews = this.aFavNewsFeed;\n\t\t\taNewsFeed = aNewsFeed.map((oNewsFeed: ICustomNewsFeed) => {\n\t\t\t\tconst NewsFeedInFavorites = combinedFavMandatoryNews.find((oFavNewsFeed) => {\n\t\t\t\t\treturn oFavNewsFeed === oNewsFeed.title;\n\t\t\t\t})\n\t\t\t\t\t? true\n\t\t\t\t\t: false;\n\n\t\t\t\toNewsFeed.selected = !aPersNewsFeed ? true : NewsFeedInFavorites;\n\t\t\t\toNewsFeed.blocked = !!mandatoryNewsFeed.find((feedName) => {\n\t\t\t\t\treturn feedName === oNewsFeed.title;\n\t\t\t\t});\n\t\t\t\treturn oNewsFeed;\n\t\t\t});\n\t\t\tthis.aFavNewsFeed = aNewsFeed;\n\t\t\tthis.setItems(this.aFavNewsFeed);\n\t\t\tthis.oShowSwitch.setState(!!showAllPreparationRequired);\n\t\t\treturn aNewsFeed;\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[]}