{"version":3,"file":"ContentAdditionDialog.js","names":["sap","ui","define","Button","FlexBox","IconTabBar","IconTabFilter","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","sap_m_library","__AppsAdditionPanel","__BaseSettingsDialog","__InsightsAdditionPanel","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BackgroundDesign","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","ButtonType","IconTabHeaderMode","AppsAdditionPanel","BaseSettingsDialog","InsightsAdditionPanel","ContentAdditionDialog","extend","renderer","apiVersion","init","_init","BaseSettingsDialog.prototype.init.call","setStretch","setContentWidth","setContentHeight","setVerticalScrolling","setTitle","_i18nBundle","getText","addStyleClass","setEscapeHandler","onDialogClose","addPanel","getId","_setupDialogContent","iconTabBar","headerMode","Inline","backgroundDesign","Transparent","select","setProperty","getSelectedKey","updateActionButtons","errorMessageContainer","direction","renderType","height","justifyContent","items","illustrationSize","Auto","illustrationType","NoData","wrapper","addContent","onBeforeRendering","_onBeforeRendering","event","BaseSettingsDialog.prototype.onBeforeRendering.call","_addPanelsToIconTabBar","selectedKey","getProperty","setSelectedKey","_temp3","panelsAdded","_temp2","hasItems","getItems","setVisible","panels","getPanels","_temp","panel","Promise","resolve","isSupported","key","iconTabFilter","text","content","getAggregation","forEach","control","addItem","_getPanel","find","_updateActionButtons","cancelButton","type","press","removeAllButtons","getActionButtons","button","addButton","_onDialogClose","fireEvent","close"],"sources":["ContentAdditionDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event as JQueryEvent } from \"jquery\";\nimport Button from \"sap/m/Button\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport IconTabBar from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport { BackgroundDesign, ButtonType, IconTabHeaderMode } from \"sap/m/library\";\nimport Control from \"sap/ui/core/Control\";\nimport AppsAdditionPanel from \"./AppsAdditionPanel\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport InsightsAdditionPanel from \"./InsightsAdditionPanel\";\n\n/**\n *\n * Dialog class for My Home Content Addition.\n *\n * @extends BaseSettingsDialog\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.136\n *\n * @internal\n * @experimental Since 1.136\n * @private\n *\n * @alias sap.cux.home.ContentAdditionDialog\n */\nexport default class ContentAdditionDialog extends BaseSettingsDialog {\n\tprivate iconTabBar!: IconTabBar;\n\tprivate cancelButton!: Button;\n\tprivate panelsAdded!: boolean;\n\tprivate errorMessageContainer!: FlexBox;\n\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup dialog\n\t\tthis.setStretch(false);\n\t\tthis.setContentWidth(\"59.375rem\");\n\t\tthis.setContentHeight(\"43.75rem\");\n\t\tthis.setVerticalScrolling(false);\n\t\tthis.setTitle(this._i18nBundle.getText(\"addContent\"));\n\t\tthis.addStyleClass(\"sapCuxContentAdditionDialog\");\n\t\tthis.setEscapeHandler(this.onDialogClose.bind(this));\n\n\t\t//setup panels\n\t\tthis.addPanel(new AppsAdditionPanel(`${this.getId()}-appsAdditionPanel`));\n\t\tthis.addPanel(new InsightsAdditionPanel(`${this.getId()}-cardsAdditionPanel`));\n\n\t\t//setup content\n\t\tthis._setupDialogContent();\n\t}\n\n\t/**\n\t * Sets up the dialog content with an icon tab bar and error message container.\n\t *\n\t * @private\n\t */\n\tprivate _setupDialogContent(): void {\n\t\tthis.iconTabBar = new IconTabBar(`${this.getId()}-iconTabBar`, {\n\t\t\theaderMode: IconTabHeaderMode.Inline,\n\t\t\tbackgroundDesign: BackgroundDesign.Transparent,\n\t\t\tselect: () => {\n\t\t\t\tthis.setProperty(\"selectedKey\", this.iconTabBar.getSelectedKey());\n\t\t\t\tthis.updateActionButtons();\n\t\t\t}\n\t\t});\n\t\tthis.errorMessageContainer = new FlexBox(`${this.getId()}-errorMessageContainer`, {\n\t\t\tdirection: \"Column\",\n\t\t\trenderType: \"Bare\",\n\t\t\theight: \"100%\",\n\t\t\tjustifyContent: \"Center\",\n\t\t\titems: [\n\t\t\t\tnew IllustratedMessage(`${this.getId()}-errorMessage`, {\n\t\t\t\t\tillustrationSize: IllustratedMessageSize.Auto,\n\t\t\t\t\tillustrationType: IllustratedMessageType.NoData\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\n\t\tconst wrapper = new FlexBox(`${this.getId()}-wrapper`, {\n\t\t\tdirection: \"Column\",\n\t\t\trenderType: \"Bare\",\n\t\t\theight: \"100%\",\n\t\t\titems: [this.iconTabBar, this.errorMessageContainer]\n\t\t});\n\n\t\tthis.addContent(wrapper);\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method.\n\t * Prepares the SettingsDialog content and navigate to the selected settings panel.\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic onBeforeRendering(event: JQueryEvent): void {\n\t\tsuper.onBeforeRendering(event);\n\n\t\t//add panels to icon tab bar\n\t\tvoid this._addPanelsToIconTabBar();\n\n\t\t//set selected key\n\t\tconst selectedKey = this.getProperty(\"selectedKey\") as string;\n\t\tthis.iconTabBar.setSelectedKey(selectedKey);\n\n\t\t//update action buttons to be displayed\n\t\tthis.updateActionButtons();\n\t}\n\n\t/**\n\t * Adds supported panels to the icon tab bar.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async _addPanelsToIconTabBar(): Promise<void> {\n\t\tif (!this.panelsAdded) {\n\t\t\tconst panels = this.getPanels();\n\n\t\t\tfor (const panel of panels) {\n\t\t\t\tconst isSupported = await panel.isSupported();\n\t\t\t\tif (!isSupported) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst key = panel.getProperty(\"key\") as string;\n\t\t\t\tconst iconTabFilter = new IconTabFilter(`${this.getId()}-${key}`, {\n\t\t\t\t\tkey,\n\t\t\t\t\ttext: panel.getProperty(\"title\") as string\n\t\t\t\t});\n\n\t\t\t\tconst content = panel.getAggregation(\"content\") as Control[] | undefined;\n\t\t\t\tcontent?.forEach((control) => iconTabFilter.addContent(control));\n\n\t\t\t\tthis.iconTabBar.addItem(iconTabFilter);\n\t\t\t}\n\n\t\t\tthis.panelsAdded = true;\n\t\t\tconst hasItems = this.iconTabBar.getItems().length > 0;\n\t\t\tthis.iconTabBar.setVisible(hasItems);\n\t\t\tthis.errorMessageContainer.setVisible(!hasItems);\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves a panel by its key from the dialog.\n\t *\n\t * @private\n\t * @param {string} key - The key of the panel to retrieve.\n\t * @returns {BaseSettingsPanel} The panel matching the provided key.\n\t */\n\tprivate _getPanel(key: string): BaseSettingsPanel {\n\t\treturn this.getPanels().find((panel) => panel.getProperty(\"key\") === key) as BaseSettingsPanel;\n\t}\n\n\t/**\n\t * Updates the action buttons based on the selected panel.\n\t *\n\t * @private\n\t */\n\tpublic updateActionButtons(): void {\n\t\tthis.cancelButton =\n\t\t\tthis.cancelButton ||\n\t\t\tnew Button(`${this.getId()}-close-btn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"closeSettings\"),\n\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\tpress: this.onDialogClose.bind(this)\n\t\t\t});\n\n\t\tconst selectedKey = this.iconTabBar.getSelectedKey() || (this.getPanels()[0]?.getProperty(\"key\") as string);\n\t\tthis.removeAllButtons();\n\n\t\t// add action buttons from the selected panel\n\t\tthis._getPanel(selectedKey)\n\t\t\t.getActionButtons()\n\t\t\t.forEach((button) => {\n\t\t\t\tthis.addButton(button);\n\t\t\t});\n\n\t\t// add cancel button as common action button\n\t\tthis.addButton(this.cancelButton);\n\t}\n\n\t/**\n\t * Handles the dialog close event and triggers panel cleanup.\n\t *\n\t * @private\n\t */\n\tprivate onDialogClose(): void {\n\t\tthis.getPanels().forEach((panel) => panel.fireEvent(\"onDialogClose\"));\n\t\tthis.close();\n\t}\n}\n"],"mappings":"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","ignoreList":[]}