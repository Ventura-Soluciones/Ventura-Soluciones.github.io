{"version":3,"file":"NewsSettingsPanel.js","names":["sap","ui","define","HBox","Label","List","StandardListItem","Switch","Text","Title","VBox","__BaseSettingsPanel","___utils_Accessibility","___utils_Constants","___utils_FESRUtil","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","getInvisibleText","SETTINGS_PANELS_KEYS","addFESRSemanticStepName","FESR_EVENTS","PersonalisationUtils","UshellPersonalizer","NewsSettingsPanel","extend","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","NEWS","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","loadNewsFeedSettings","aFavNewsFeed","_getContent","oHeader","setHeader","oTitle","setTitleMessage","oContentVBox","getId","alignItems","justifyContent","items","setNewsList","getPersonalization","_getPersonalization","_this","_temp2","oPersonalizer","_temp","Promise","resolve","getInstance","getPersContainerId","_getPanel","getOwnerComponent","then","_UshellPersonalizer$g","e","reject","_setHeader","headerText","text","oHeaderVBox","addStyleClass","_setTitleMessage","title","titleStyle","oTitleHbox","oTitleVBox","_setNewsList","oShowSwitchLabel","oShowSwitch","customTextOn","customTextOff","change","saveNewsFeedSettings","state","ariaLabelledBy","CHANGE","oCustNewsSwitchContainer","width","oShowAllPrep","oInvisibleText","oList","mode","selectionChange","oNewsListVBox","direction","isCSVFileFormat","_isCSVFileFormat","fileName","split","pop","toLowerCase","_saveNewsFeedSettings","_this2","aSelectedNewsFeed","getSelectedItems","map","item","getTitle","feedKey","oNewsPanel","getCustomFeedKey","customFileName","getProperty","oFavNewsFeed","showAllPreparationRequired","getState","read","oPersData","favNewsFeed","defaultNewsFeed","write","setState","setCustomNewsFeed","setItems","_setItems","aItems","destroyAggregation","forEach","oItem","i","oCustomListItem","selected","addItem","_loadNewsFeedSettings","_this3","sFeedKey","aPersNewsFeed","mandatoryNewsFeed","setVisible","getCustomNewsFeed","aNewsFeed","setText","getMandatoryDefaultNewsFeed","length","combinedFavMandatoryNews","oNewsFeed","NewsFeedInFavorites","find","blocked","feedName"],"sources":["NewsSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ListItemBase from \"sap/m/ListItemBase\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Switch from \"sap/m/Switch\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport NewsPanel, { ICustomNewsFeed } from \"./NewsPanel\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer from \"./utils/UshellPersonalizer\";\n\ninterface IFavNewsFeed {\n\titems: string[];\n\tshowAllPreparationRequired?: boolean;\n}\n\n/**\n *\n * Class for My Home News Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.NewsSettingsPanel\n */\nexport default class NewsSettingsPanel extends BaseSettingsPanel {\n\tprivate oShowSwitch!: Switch;\n\tprivate oCustNewsSwitchContainer!: HBox;\n\tprivate oList!: List;\n\tprivate oPersonalizer!: UshellPersonalizer;\n\tprivate oNewsPanel!: NewsPanel;\n\tprivate aFavNewsFeed!: ICustomNewsFeed[] | string[];\n\tprivate headerText!: Text;\n\tprivate title!: Title;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.NEWS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"news\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://newspaper\");\n\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid this.loadNewsFeedSettings();\n\t\t});\n\t\tthis.aFavNewsFeed = [];\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel.\n\t *\n\t * @private\n\t * @returns {Control} The control containing the News Settings Panel content.\n\t */\n\tprivate getContent(): Control {\n\t\tconst oHeader = this.setHeader();\n\t\tconst oTitle = this.setTitleMessage();\n\t\tconst oContentVBox = new VBox(this.getId() + \"--idNewsPageOuterVBoX\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oHeader, oTitle, this.setNewsList()]\n\t\t});\n\t\treturn oContentVBox;\n\t}\n\n\t/**\n\t * Get personalization instance\n\t */\n\tprivate async getPersonalization() {\n\t\tif (!this.oPersonalizer) {\n\t\t\tthis.oPersonalizer = await UshellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\treturn this.oPersonalizer;\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel Header.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's Header content.\n\t */\n\tprivate setHeader() {\n\t\tthis.headerText = new Text(this.getId() + \"--idCustNewsFeedSettingsText\", {\n\t\t\ttext: this._i18nBundle.getText(\"newsFeedSettingsText\")\n\t\t});\n\t\tconst oHeaderVBox = new VBox(this.getId() + \"--idCustNewsFeedSettingsTextContainer\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [this.headerText]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oHeaderVBox;\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel Title description.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's Title description.\n\t */\n\tprivate setTitleMessage() {\n\t\tthis.title = new Title(this.getId() + \"--idCustNewsFeedSettignsTitle\", {\n\t\t\ttext: this._i18nBundle.getText(\"newsFeedSettingsHeading\"),\n\t\t\ttitleStyle: \"H5\"\n\t\t});\n\t\tconst oTitleHbox = new HBox(this.getId() + \"--idCustNewsFeedSettingsTitleContainer\", {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [this.title]\n\t\t});\n\t\tconst oTitleVBox = new VBox(this.getId() + \"--idCustNewsFeedSettingsTitleVBox\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oTitleHbox]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oTitleVBox;\n\t}\n\n\t/**\n\t * Returns the content for the news List\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's List\n\t */\n\tprivate setNewsList() {\n\t\t//showAllPrepRequired Switch\n\t\tconst oShowSwitchLabel = new Label(this.getId() + \"--idShowAllCustNewsSwitchLabel\", {\n\t\t\ttext: this._i18nBundle.getText(\"showAllPreparationRequiredSwitchLabel\")\n\t\t});\n\t\tthis.oShowSwitch = new Switch(`${this.getId()}-showSwitch`, {\n\t\t\t// 'ariaLabelledBy': \"idShowAllCustNewsSwitchLabel idShowAllCustNewsSwitch\",\n\t\t\tcustomTextOn: \" \",\n\t\t\tcustomTextOff: \" \",\n\t\t\tchange: () => {\n\t\t\t\tvoid this.saveNewsFeedSettings();\n\t\t\t},\n\t\t\t// 'fesr:change': \"showPrepRequire\",\n\t\t\tstate: false,\n\t\t\tariaLabelledBy: [`${this.getId()}--idShowAllCustNewsSwitchLabel`]\n\t\t});\n\t\taddFESRSemanticStepName(this.oShowSwitch, FESR_EVENTS.CHANGE, \"showPrepRequire\");\n\t\tthis.oCustNewsSwitchContainer = new HBox(this.getId() + \"--idShowAllCustNewsSwitchContainer\", {\n\t\t\talignItems: \"Center\",\n\t\t\titems: [oShowSwitchLabel, this.oShowSwitch],\n\t\t\twidth: \"94%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\n\t\tconst oShowAllPrep = new VBox(this.getId() + \"--idShowAllCustNewsSwitchVBox\", {\n\t\t\titems: [this.oCustNewsSwitchContainer],\n\t\t\twidth: \"94%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\tconst oInvisibleText = getInvisibleText(`${this.getId()}--newsTitleText`, this._i18nBundle.getText(\"newsTitle\"));\n\t\t//List of news items\n\t\tthis.oList = new List(this.getId() + \"--idCustNewsFeedList\", {\n\t\t\tmode: \"MultiSelect\",\n\t\t\tselectionChange: () => {\n\t\t\t\tvoid this.saveNewsFeedSettings();\n\t\t\t},\n\t\t\tariaLabelledBy: [\n\t\t\t\toInvisibleText.getId(),\n\t\t\t\t`${this.getId()}--idCustNewsFeedSettingsText`,\n\t\t\t\t`${this.getId()}--idCustNewsFeedSettignsTitle`\n\t\t\t]\n\t\t});\n\t\t//Outer VBox\n\t\tconst oNewsListVBox = new VBox(this.getId() + \"--idCustNewsFeedListContainer\", {\n\t\t\tdirection: \"Column\",\n\t\t\titems: [this.oList, oShowAllPrep, oInvisibleText],\n\t\t\twidth: \"96%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oNewsListVBox;\n\t}\n\n\t/**\n\t * Checks if the custom file format is CSV based on the custom file name.\n\t *\n\t * @param {string} fileName - The custom file name.\n\t * @returns {boolean} True if the file format is CSV, otherwise false.\n\t */\n\tprivate isCSVFileFormat(fileName: string): boolean {\n\t\treturn fileName.split(\".\").pop()?.toLowerCase() === \"csv\";\n\t}\n\n\t/**\n\t *\n\t * Saves news feed settings and shows news feed based on selection change of list of switch\n\t *\n\t * @private\n\t */\n\tprivate async saveNewsFeedSettings() {\n\t\tconst aSelectedNewsFeed: string[] = this.oList.getSelectedItems().map((item: ListItemBase) => {\n\t\t\treturn (item as StandardListItem).getTitle();\n\t\t});\n\t\tconst feedKey = this.oNewsPanel.getCustomFeedKey();\n\n\t\tconst customFileName = this.oNewsPanel.getProperty(\"customFileName\") as string;\n\t\tlet oFavNewsFeed;\n\t\tif (feedKey) {\n\t\t\toFavNewsFeed = {\n\t\t\t\titems: aSelectedNewsFeed,\n\t\t\t\tshowAllPreparationRequired: this.isCSVFileFormat(customFileName) ? false : this.oShowSwitch.getState()\n\t\t\t} as IFavNewsFeed;\n\t\t} else {\n\t\t\toFavNewsFeed = {\n\t\t\t\titems: aSelectedNewsFeed\n\t\t\t};\n\t\t}\n\t\tconst oPersonalizer = await this.getPersonalization();\n\t\tconst oPersData = (await oPersonalizer.read()) || {};\n\t\tif (feedKey) {\n\t\t\toPersData.favNewsFeed = oFavNewsFeed;\n\t\t} else {\n\t\t\toPersData.defaultNewsFeed = oFavNewsFeed;\n\t\t}\n\t\tawait oPersonalizer.write(oPersData);\n\t\t//get the latest value of switch and set the state\n\t\tthis.oShowSwitch.setState(oFavNewsFeed.showAllPreparationRequired);\n\t\t//load news feed\n\t\tawait this.oNewsPanel.setCustomNewsFeed(feedKey);\n\t}\n\t/** Set items for the NewsList\n\t * @param {Array} [aItems] news items to be set as items aggregation\n\t * @private\n\t */\n\tprivate setItems(aItems: ICustomNewsFeed[]) {\n\t\tthis.oList.destroyAggregation(\"items\", true);\n\t\t(aItems || []).forEach((oItem: ICustomNewsFeed, i: number) => {\n\t\t\tconst oCustomListItem = new StandardListItem(this.getId() + \"--idCustNewsFeedItem\" + \"--\" + i, {\n\t\t\t\ttitle: oItem.title,\n\t\t\t\tselected: oItem.selected as boolean\n\t\t\t\t// blocked: oItem.blocked as boolean\n\t\t\t});\n\t\t\t//.addStyleClass(\"newsListItem\");\n\t\t\tthis.oList.addItem(oCustomListItem);\n\t\t});\n\t}\n\n\t/**\n\t * Loads news feed settings\n\t *\n\t * @returns {Promise} resolves to news feed settings\n\t */\n\tprivate async loadNewsFeedSettings() {\n\t\tthis.oNewsPanel = this._getPanel() as NewsPanel;\n\t\tconst sFeedKey = this.oNewsPanel.getCustomFeedKey();\n\t\tconst oPersonalizer = await this.getPersonalization();\n\t\tconst oPersData = await oPersonalizer.read();\n\t\tconst aPersNewsFeed = (sFeedKey ? oPersData?.[\"favNewsFeed\"] : oPersData?.[\"defaultNewsFeed\"]) as IFavNewsFeed;\n\t\tlet showAllPreparationRequired = false;\n\t\tshowAllPreparationRequired = aPersNewsFeed?.showAllPreparationRequired ?? !aPersNewsFeed;\n\n\t\tconst customFileName = this.oNewsPanel.getProperty(\"customFileName\") as string;\n\n\t\tlet mandatoryNewsFeed: string[] = [];\n\t\tif (this.isCSVFileFormat(customFileName) || !sFeedKey) {\n\t\t\tthis.oCustNewsSwitchContainer.setVisible(false);\n\t\t}\n\n\t\tlet aNewsFeed: ICustomNewsFeed[] = await this.oNewsPanel.getCustomNewsFeed(sFeedKey, false);\n\t\tif (!sFeedKey) {\n\t\t\tthis.headerText.setText(this._i18nBundle.getText(\"defaultNewsSettingsText\"));\n\t\t\tthis.title.setText(this._i18nBundle.getText(\"defaultNewsSettingsHeading\"));\n\t\t\tmandatoryNewsFeed = this.oNewsPanel.getMandatoryDefaultNewsFeed();\n\t\t} else {\n\t\t\tthis.headerText.setText(this._i18nBundle.getText(\"newsFeedSettingsText\"));\n\t\t\tthis.title.setText(this._i18nBundle.getText(\"newsFeedSettingsHeading\"));\n\t\t}\n\t\tif (aNewsFeed && aNewsFeed.length > 0) {\n\t\t\tthis.aFavNewsFeed = (aPersNewsFeed && aPersNewsFeed.items) || aNewsFeed;\n\t\t\t// combine favnewsFeed with mandatory news group as mandatorynews should always be shown\n\t\t\t// let favMandatoryNewsSet = new Set([...this.aFavNewsFeed, ...mandatoryNewsFeed]);\n\t\t\t// let combinedFavMandatoryNews = Array.from(favMandatoryNewsSet);\n\t\t\tlet combinedFavMandatoryNews = this.aFavNewsFeed;\n\t\t\taNewsFeed = aNewsFeed.map((oNewsFeed: ICustomNewsFeed) => {\n\t\t\t\tconst NewsFeedInFavorites = combinedFavMandatoryNews.find((oFavNewsFeed) => {\n\t\t\t\t\treturn oFavNewsFeed === oNewsFeed.title;\n\t\t\t\t})\n\t\t\t\t\t? true\n\t\t\t\t\t: false;\n\n\t\t\t\toNewsFeed.selected = !aPersNewsFeed ? true : NewsFeedInFavorites;\n\t\t\t\toNewsFeed.blocked = !!mandatoryNewsFeed.find((feedName) => {\n\t\t\t\t\treturn feedName === oNewsFeed.title;\n\t\t\t\t});\n\t\t\t\treturn oNewsFeed;\n\t\t\t});\n\t\t\tthis.aFavNewsFeed = aNewsFeed;\n\t\t\tthis.setItems(this.aFavNewsFeed);\n\t\t\tthis.oShowSwitch.setState(!!showAllPreparationRequired);\n\t\t\treturn aNewsFeed;\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[]}