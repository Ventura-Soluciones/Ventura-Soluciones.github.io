// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell_abap/bootstrap/evo/abap.xhrlogon.LibLoader","sap/ushell_abap/bootstrap/evo/abap.xhrlogon.configure","sap/ushell_abap/bootstrap/evo/abap.bootstrap.utils","sap/ushell_abap/bootstrap/evo/XhrLogonEventHandler","sap/base/Log"],function(e,o,n,a,r){"use strict";var t={};t.getLogonMode=function(e){return n.getUrlParameterValue("sap-ushell-xhrLogon-mode")||e&&e.xhrLogon&&e.xhrLogon.mode||"frame"};t.initXhrLogon=function(n){e.getLib().then(function(e){var a=t.getLogonMode(n);var g=t.createXhrLogonEventHandler(window,a);var s=e.LogonManager.getInstance();var l=e.XHRLogonManager.getInstance();const i={explicitMatchOnCORS:true};e.start(i);if(a==="reload"||a==="logoffAndRedirect"){s.unregisterAllHandlers();s.registerAuthHandler("*",function(e){g.handleEvent(e)})}else if(a!=="frame"){r.warning("Unknown setting for xhrLogonMode: '"+a+"'. Using default mode 'frame'.",null,"sap.ushell_abap.bootstrap.evo.abap.xhrlogon.handler")}e.Log.set(o.createUi5ConnectedXhrLogger());o.initXhrLogonIgnoreList(l)})};t.createXhrLogonEventHandler=function(e,o){return new a(e,o)};return t});
//# sourceMappingURL=abap.xhrlogon.handler.js.map