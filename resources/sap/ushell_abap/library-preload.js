//@ui5-bundle sap/ushell_abap/library-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/AdapterContainer", ["sap/base/util/ObjectPath","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/format/DateFormat","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell/services/_Personalization/constants"],function(e,t,jQuery,r,n,i){"use strict";var o="PersContainers",a="yyyyMMddHHmmss",s=new Date(9999,1,1,0,0,0),c=new Date(9999,1,1,0,0,0,0),u="ADMIN#sap-ushell-container-expireUTCTimestamp",p="ADMIN#sap-ushell-container-storageUTCTimestamp",f="ADMIN#sap-ushell-container-scope";function y(e){var r="sap.ushell.personalization#";if(e.substring(0,r.length)!==r){t.error("Unexpected ContainerKey "+e);return e}return e.substring(r.length,r.length+40)}var h=function(t,r,n,i){this._oService=r;this._oScope=n;this["sap-cache-id"]=e.get("_oService._oConfig.services.personalization.cacheId",this);this._sContainerKey=y(t);this._sAppName=i||"";this._category=this._determineCategory(n);this._oJSONContainer={category:this._category,clientExpirationTime:c,appName:this._sAppName,component:"",id:this._sContainerKey,PersContainerItems:[]};this._oPropertyBag={};this._aOperationQueue=[]};h.prototype._reset=function(){this._oJSONContainer.PersContainerItems=[]};h.prototype._obtainODataWrapper=function(){return this._oService._oWrapper};h.prototype.load=function(){var e=new jQuery.Deferred,r=this,i=this._obtainODataWrapper(),a=o+"(category='"+this._category+"',id='"+encodeURIComponent(this._sContainerKey)+"')?$expand=PersContainerItems";if(this._category&&this._category==="P"&&this["sap-cache-id"]){a=a+"&sap-cache-id="+this["sap-cache-id"]}n.call(this,i,function(){return false});i.read(a,function(t){r._oJSONContainer=t;r._oJSONContainer.category=r._category;r._oJSONContainer.id=r._sContainerKey;r._oJSONContainer.appName=r._sAppName;r._oJSONContainer.PersContainerItems=r._oJSONContainer.PersContainerItems&&r._oJSONContainer.PersContainerItems.results||[];e.resolve(r)},function(r){t.error(r);e.reject(r)});return e.promise()};h.prototype.save=function(){t.debug("[000] save","AdapterContainer");var e=new jQuery.Deferred,r=this,i=this._obtainODataWrapper(),a=o;n.call(this,i,function(){return false});i.create(a,this._oJSONContainer,function(){e.resolve(r)},function(t){e.reject(t)});return e.promise()};h.prototype.del=function(){var e=new jQuery.Deferred,t=this,r=this._obtainODataWrapper(),i=o+"(category='"+this._category+"',id='"+encodeURIComponent(this._sContainerKey)+"')";n.call(this,r,function(){return false});r.del(i,function(r){e.resolve(t)},function(t){e.reject(t)});this._reset();return e.promise()};h.prototype.getItemKeys=function(){var e=[];this._oJSONContainer.PersContainerItems.forEach(function(t){if(t.category==="V"){e.push("VARIANTSET#"+t.id)}else if(t.category==="I"){e.push("ITEM#"+t.id)}});if(this._oJSONContainer.validity>=0){e.push(p);e.push(u);e.push(f)}return e};h.prototype.containsItem=function(e){return this.getItemKeys().indexOf(e)>=0};function l(e){if(e===undefined||e===null){return null}var t=r.getDateInstance({pattern:a});return t.parse(JSON.parse(e),true)}function d(e){var n=r.getDateInstance({pattern:a});if(e===null){e=c}if(typeof e==="string"){if(/\/Date\(([0-9]+)\)\//.exec(e)){e=new Date(parseInt(/\/Date\(([0-9]+)\)\//.exec(e)[1],10))}else{t.error("Expected Date format "+e)}}if(+e===+c){return undefined}return n.format(e,true)}h.prototype._findItemIndex=function(e,t){var r;for(r=0;r<this._oJSONContainer.PersContainerItems.length;r=r+1){if(this._oJSONContainer.PersContainerItems[r].id===e&&this._oJSONContainer.PersContainerItems[r].category===t){return r}}return undefined};h.prototype._locateItem=function(e){var r={index:-1};if(e===u){return{containerProperty:"clientExpirationTime",initialValue:c,convToABAP:l,convFromABAP:d}}if(e===f){return{containerProperty:"validity",initialValue:0,convToABAP:function(e){if(!e){return null}return JSON.parse(e).validity},convFromABAP:function(e,t){if(e<=0){return undefined}t=t||{};t.validity=e;return t}}}if(e===p){return{containerProperty:" ignore",initialValue:s,convToABAP:l,convFromABAP:d}}if(e.indexOf("ITEM#")===0){r.trueItemKey=e.substring("ITEM#".length,"ITEM#".length+40);r.category="I"}else if(e.indexOf("VARIANTSET#")===0){r.trueItemKey=e.substring("VARIANTSET#".length,"VARIANTSET#".length+40);r.category="V"}else if(e.indexOf("ADMIN#")!==0){t.error("Unknown itemkey prefix"+e)}r.index=this._findItemIndex(r.trueItemKey,r.category);return r};h.prototype.getItemValue=function(e){var t="",r,n=this._locateItem(e);if(n.containerProperty===" ignore"){return undefined}if(n.index>=0){t=this._oJSONContainer.PersContainerItems[n.index].value;try{r=JSON.parse(t)}catch(e){if(t==="X"){r=true}else{r=undefined}}}if(n.containerProperty){if(typeof n.convFromABAP==="function"){return n.convFromABAP(this._oJSONContainer[n.containerProperty],r)}return this._oJSONContainer[n.containerProperty]}return r};h.prototype.setItemValue=function(e,t){var r=JSON.stringify(t),n=this._locateItem(e);if(n.containerProperty===" ignore"){return}if(n.containerProperty){if(typeof n.convToABAP==="function"){this._oJSONContainer[n.containerProperty]=n.convToABAP(r)}else{this._oJSONContainer[n.containerProperty]=r}if(!n.trueItemKey){return}}if(n.index>=0){this._oJSONContainer.PersContainerItems[n.index].value=r;return}this._oJSONContainer.PersContainerItems.push({value:r,id:n.trueItemKey,category:n.category,containerId:this._sContainerKey,containerCategory:this._category})};h.prototype.delItem=function(e){var t=this._locateItem(e);if(t.containerProperty===" ignore"){return}if(t.containerProperty){this._oJSONContainer[t.containerProperty]=t.initialValue;return}if(t.index>=0){this._oJSONContainer.PersContainerItems.splice(t.index,1);return}};h.prototype._determineCategory=function(e){if(!e){return"U"}var t=i;if(e.keyCategory&&e.keyCategory===t.keyCategory.FIXED_KEY&&e.writeFrequency&&e.writeFrequency===t.writeFrequency.LOW&&e.clientStorageAllowed&&e.clientStorageAllowed===true){return"P"}return"U"};return h});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/AppStateAdapter", ["sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell/Container"],function(e,jQuery,a,r,t,p,s,o){"use strict";var n=function(a,r,n){this._oConfig=n&&n.config;var i=(e.get("services.appState.baseUrl",n)||"/sap/opu/odata/UI2/INTEROP")+"/";var u={baseUrl:i,"sap-language":o.getUser().getLanguage(),"sap-client":o.getLogonSystem().getClient()};this._oWrapper=t.createODataWrapper(u);function l(e){throw new p(e,"sap.ushell_abap.adapters.abap.AppStateAdapter")}s.call(this,this._oWrapper,l)};n.prototype.saveAppState=function(e,r,t,p,s){var o=new jQuery.Deferred,n="GlobalContainers",i={id:e,sessionKey:r,component:s,appName:p,value:t};this._oWrapper.create(n,i,function(){o.resolve()},function(e){o.reject(e);a.error(e)});return o.promise()};n.prototype.loadAppState=function(e){var t=new jQuery.Deferred,p="GlobalContainers(id='"+encodeURIComponent(e)+"')";if(!e){throw new r.Error("The sKey is mandatory to read the data from the persistence layer")}this._oWrapper.openBatchQueue();this._oWrapper.read(p,function(e){t.resolve(e.id,e.value)},function(e){a.error(e);t.reject(e)},false);this._oWrapper.submitBatchQueue(function(){},function(e){a.error(e);t.reject(e)});return t.promise()};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/ClientSideTargetResolutionAdapter", ["sap/base/util/ObjectPath","sap/base/util/isPlainObject","sap/base/util/deepExtend","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/base/Log","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/Utils","sap/ui/thirdparty/URI","sap/ushell/Container"],(e,t,a,i,r,s,n,o,l,p)=>{"use strict";const u="sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter";const f=["sap-wd-configId","SAP-WD-CONFIGID","sap-client","SAP-CLIENT","System","SYSTEM","sap-language","SAP-LANGUAGE","sap-wd-htmlrendermode","sap-wd-deltarendering","wdallowvaluesuggest","sap-wd-lightspeed","sap-wd-remotedesktop","sap-wd-flashdebug","sap-accessibility","sap-theme","sap-*","SAP-*","wd*","WD*"];const c=function(e,t,a){const r=this;const o=p;let l="";if(o){l=o.getLogonSystem().getProductName()||""}this._oLocalSystemAlias={http:{id:"",host:"",port:"",pathPrefix:"/sap/bc/"},https:{id:"",host:"",port:"",pathPrefix:"/sap/bc/"},rfc:{id:"",systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",label:"local",client:"",language:"",properties:{productName:l}};this.hasSegmentedAccess=true;this._oAdapterConfig=a&&a.config;this._wdLengthLimit=1800;this._oODataWrapper=undefined;this._getODataWrapper=function(){if(!this._oODataWrapper){this._oODataWrapper=n.createODataWrapper("/sap/opu/odata/UI2/INTEROP/")}return this._oODataWrapper};this._aTargetMappings=[];this._aInbounds=[];this._aInitialSegment=undefined;this._oSystemAliasBuffer=new i.Map;this._oURLTemplates={};this._storeFromFullStartupResponse=function(e){if(e){if(e.targetMappings){r._aTargetMappings=e.targetMappings}if(e.systemAliases){r._writeUserSystemAliasesToBuffer(e.systemAliases)}if(e.urlTemplates){r._oURLTemplates=e.urlTemplates}}};this._fallbackToFullStartupRequest=function(e,t){s.debug("Falling back to full start_up request from adapter","","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");r._requestAllTargetMappings().then(t=>{r._storeFromFullStartupResponse(t);e()}).catch(e=>{t(e)})};this._iTargetMappingsUnusedPromiseRejectCount=0;this._oInitialSegmentPromise=a&&a.config&&a.config.initialSegmentPromise||new Promise((e,t)=>{r._iTargetMappingsUnusedPromiseRejectCount++;if(r._iTargetMappingsUnusedPromiseRejectCount===2){r._fallbackToFullStartupRequest(e,t)}});this._oNavTargetPromise=a&&a.config&&a.config.navTargetDataPromise||new Promise((e,t)=>{r._iTargetMappingsUnusedPromiseRejectCount++;if(r._iTargetMappingsUnusedPromiseRejectCount===2){r._fallbackToFullStartupRequest(e,t)}});this._oInitialSegmentPromise.then(e=>{if(e===null){s.debug("Initial target mappings segment promise resolved with 'null'","Will not process initial target mappings segments again (mostly likely because this is no longer needed)","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");return}if(r._aTargetMappings.length===0){s.debug("Segmented start_up response returned","storing system aliases and inbounds from segment","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");const t=e[0];const a=e[1];const i=e[2];if(e.length>3){r._oURLTemplates=e[3]}r._aTargetMappings=a;r._writeUserSystemAliasesToBuffer(i);r._aInitialSegment=t}else{s.debug("Segmented start_up response returned","ignoring response because the full target mapping response returned before","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter")}}).catch(e=>{s.error("Initial segment promise was rejected.",e,"sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter")});this._oNavTargetPromise.then(e=>{s.debug("Full start_up response returned","storing system aliases and inbounds","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");r._storeFromFullStartupResponse(e)})};c.prototype._adjustNavTargetResult=function(e){if(e){let t=e.url;let a;const i={applicationType:e.applicationType,additionalInformation:e.applicationData};let r;let n;let p;let u;if(e.text){i.text=e.text}if(e.applicationType==="URL"||e.applicationType==="SAPUI5"){n=/^SAPUI5\.Component=(.*)/.exec(e.applicationData);r=n&&n[1];if(r||e.applicationDependencies){if(r){i.ui5ComponentName=r}if(e.applicationDependencies){try{p=JSON.parse(e.applicationDependencies);u=p.self;if(!i.ui5ComponentName&&u.name){i.ui5ComponentName=u.name;i.additionalInformation=`SAPUI5.Component=${i.ui5ComponentName}`}if(u&&u.url&&typeof u.url==="string"){a=t&&new l(t);if(a){if(u.url.toUpperCase().indexOf(a.path().toUpperCase())!==0){s.debug("Component URL defined in target mapping "+"does not match the URL retrieved from application index. "+"The URL of the application index is used for further processing.",`Target mapping URL: ${e.url}\nApplication index URL: ${u.url}`,"sap.ushell_abap.bootstrap.abap")}a.path(u.url);t=a.toString();s.debug("ResolveLink result's component url has been replaced with the url specified "+"in Application Dependencies, which includes cache buster token")}else{t=u.url}}i.applicationDependencies=p}catch(e){s.error(`Parsing of applicationDependencies attribute in resolveLink result failed for SAPUI5 component '${r}'`,e,"sap.ushell_abap.bootstrap.abap")}}t=o.addCacheBusterTokenUsingUshellConfig(t)}}i.url=t;return i}};c.prototype.resolveHashFragmentFallback=function(e,t,a){const i=this._constructShellHashForLpdCust(t,a);const r=a&&a["sap-system"]&&a["sap-system"][0];return this._resolveHashFragmentBE(i||e).then(e=>{if(e&&r){e["sap-system"]=e["sap-system"]||r}return e})};c.prototype.getInbounds=function(e){return new Promise((t,a)=>{this._oInitialSegmentPromise.then(a=>{if(a===null){return}if(this._isInSegment(e,this._aInitialSegment)){s.debug("Got inbounds from initial segment","","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");this._aInbounds=this._formatDirectStart(this._aTargetMappings);t(this._aInbounds)}else{s.debug("Did not get inbound in initial segment","","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter")}});this._oNavTargetPromise.then(()=>{s.debug("Got inbounds from full start_up response","","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");this._aInbounds=this._formatDirectStart(this._aTargetMappings);this.getInbounds=function(){return Promise.resolve(this._aInbounds)};t(this._aInbounds)},e=>{a(e)})})};c.prototype._isInSegment=function(e,t){if(!Array.isArray(t)||!Array.isArray(e)){return false}return e.every(e=>!t.every(t=>!(e.semanticObject===t.semanticObject&&e.action===t.action)))};c.prototype._requestAllTargetMappings=function(){const t=o.getParameterMap();let a="/sap/bc/ui2/start_up?so=%2A&action=%2A&";const r=e.create("services.targetMappings",this._oAdapterConfig).cacheId&&`&sap-cache-id=${e.create("services.targetMappings",this._oAdapterConfig).cacheId}`||"";function s(e){const i=t[e];if(i){a+=`${e}=${encodeURIComponent(i[0])}&`}}s("sap-language");s("sap-client");return new Promise((e,t)=>{o.get(`${a}&shellType=${i.getShellType()}&depth=0${r}`,false,a=>{const i=JSON.parse(a);if(!i){t("Malformed Full TM Result")}e(i)},e=>{t(e)})})};c.prototype._formatDirectStart=function(e){const i=this;if(!e){this._aInitialSegment=undefined;return[]}function r(e,r){const n={};const o=e.match(/^([^-]+)-([^~]+)/);if(!o){s.warning(`The target mapping id ${e} is not valid`,"this target mapping will be discarded","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");return undefined}if(!r.hasOwnProperty("text")){r.text=""}n.semanticObject=o[1];n.action=o[2];n.id=e;n.title=r.text;n.permanentKey=`X-SAP-UI2-PAGE:${r.catalogId}:${r.tmChipId}`;n.contentProviderId="";const l={};["applicationType","applicationDependencies","applicationData","postParameters","text","url","systemAlias"].forEach(e=>{l[e]=r[e]});n.resolutionResult=c.prototype._adjustNavTargetResult(l);n.resolutionResult.additionalInformation=n.resolutionResult.additionalInformation||"";n.resolutionResult.appId=n.permanentKey;const p=n.resolutionResult;const u=p.applicationType;if(e.indexOf("Shell-startWCF")===0&&u==="URL"){n.resolutionResult.systemAliasSemantics="apply"}n.resolutionResult.applicationType=i._formatApplicationType(e,n.resolutionResult);n.resolutionResult.systemAlias=r.systemAlias||"";n.deviceTypes=r.formfactors;n.resolutionResult["sap.ui"]={};n.resolutionResult["sap.ui"].technology=n.resolutionResult.applicationType;if(n.resolutionResult["sap.ui"].technology==="SAPUI5"){n.resolutionResult["sap.ui"].technology="UI5"}if(n.resolutionResult["sap.ui"].technology==="TR"){n.resolutionResult["sap.ui"].technology="GUI"}if(!n.deviceTypes){n.deviceTypes=r.formFactors||{}}n.deviceTypes.desktop=n.deviceTypes.desktop||false;n.deviceTypes.phone=n.deviceTypes.phone||false;n.deviceTypes.tablet=n.deviceTypes.tablet||false;if(Array.isArray(r.signature)){n.signature={};n.signature.additionalParameters=r.allowParams?"allowed":"ignored";n.signature.parameters={};r.signature.forEach(e=>{const t={};let a;const r=e.name;if(e.defaultValue&&e.defaultValue.value){t.defaultValue={};t.defaultValue.value=e.defaultValue.value;t.defaultValue.format=e.defaultValue.format||"plain";a=i._extractUserDefaultValue(t.defaultValue.value);if(a){t.defaultValue={value:a,format:"reference"}}}if(e.filter&&e.filter.value){t.filter={};t.filter.value=e.filter.value;t.filter.format=e.filter.format||"plain";a=i._extractUserDefaultValue(t.filter.value);if(a){t.filter={value:a,format:"reference"}}}if(e.renameTo){t.renameTo=e.renameTo}t.required=e.required||false;n.signature.parameters[r]=t})}else{n.signature=a({parameters:{}},r.signature);n.signature.additionalParameters=n.signature.additionalParameters||(r.allowParams?"allowed":"ignored");Object.keys(n.signature.parameters).forEach(e=>{const t=n.signature.parameters[e];if(t.filter){t.filter.format=t.filter.format||"plain"}if(t.defaultValue){t.defaultValue.format=t.defaultValue.format||"plain"}t.required=t.required||false;if(t.filter&&t.filter.hasOwnProperty("format")&&!t.filter.hasOwnProperty("value")){delete t.filter}if(t.defaultValue&&t.defaultValue.hasOwnProperty("format")&&!t.defaultValue.hasOwnProperty("value")){delete t.defaultValue}})}const f=n.signature&&n.signature.parameters&&n.signature.parameters["sap-hide-intent-link"];if(f&&f.hasOwnProperty("defaultValue")){n.hideIntentLink=f.defaultValue.value==="true"}if(f&&!f.required&&f.hasOwnProperty("defaultValue")){delete n.signature.parameters["sap-hide-intent-link"]}if(typeof r.parameterMappings==="object"){Object.keys(r.parameterMappings).forEach(e=>{const t=r.parameterMappings[e];if(e&&t.target){n.signature.parameters[e]=n.signature.parameters[e]||{};n.signature.parameters[e].renameTo=t.target}})}if(n.resolutionResult.applicationType==="URL"&&t(r.urlTemplate)){n.templateContext=i.getUrlTemplateContext(r)}if(r.tcode){n.resolutionResult.appInfo={"abap.transaction":r.tcode}}return n}const n=[];Object.keys(e).forEach(t=>{const a=r(t,e[t]);if(a){n.push(a)}});return n};c.prototype._formatApplicationType=function(e,t){const a=t.applicationType;const i=t.url||"";function r(t,a){s.warning(`Cannot detect application type for TargetMapping id '${e}', will default to ${a} application type`,`TargetMapping URL is '${i}'`,u)}if(a==="SAPUI5"){return"SAPUI5"}if(a==="URL"&&t.additionalInformation&&t.additionalInformation.indexOf("SAPUI5.Component=")===0){return"SAPUI5"}if(a==="WDA"||a==="TR"||a==="WCF"){return a}if(e.indexOf("Shell-startWCF")===0&&a==="URL"){return"WCF"}if(a==="NWBC"){if(i.indexOf("/~canvas;window=app/wda")>=0){return"WDA"}if(i.indexOf("/~canvas;window=app/transaction")>=0){return"TR"}r(t,"TR");return"TR"}if(a!=="URL"){r(t,"URL")}return"URL"};c.prototype._extractUserDefaultValue=function(e){let t;const a=new RegExp("^%%(UserDefault[.].+)%%$");const i=a.exec(e);return i?i[1]:t};c.prototype._formatSignature=function(e,t){const a=this;const i={parameters:{},additionalParameters:t===false?"ignored":"allowed"};if(!e.results){return i}e.results.forEach(t=>{let r;const n=t.name;let o;let l;if(Object.prototype.hasOwnProperty.call(i.parameters,n)){s.error(`Duplicate property name ${n} in ${JSON.stringify(e)}`,"ClientSideTargetResolutionAdapter._formatSignature")}i.parameters[n]={required:a._getObjectDefaulting(t,"required",false)};r=i.parameters[n];o=a._getObjectDefaulting(t,"value","");if(t.regexp===true){r.filter={value:o===""?".*":o,format:"regexp"};return}if(t.required===false){l=a._extractUserDefaultValue(o);if(l){r.defaultValue={value:l,format:"reference"};return}if(o!==""){r.defaultValue={value:o}}return}if(t.required===true&&t.value){l=a._extractUserDefaultValue(o);if(l){r.filter={value:l,format:"reference"};return}if(o!==""){r.filter={value:o}}}});return i};c.prototype._mergeParameterMappingsIntoSignature=function(e,t){const a=t.results;if(!a){return}a.forEach(t=>{const a=t.source;const i=t.target;if(i){e.parameters[a]=e.parameters[a]||{};if(e.parameters[a].renameTo){s.warning(`duplicate parameter mapping for'${a}'`,`OData Parameter mappings is ${JSON.stringify(t,null,"   ")}`,u)}e.parameters[a].renameTo=i}})};c.prototype._formatDeviceTypes=function(e){const t={};const a=this;["desktop","tablet","phone"].forEach(i=>{t[i]=a._getObjectDefaulting(e,i,false)});return t};c.prototype._getObjectDefaulting=function(t,a,i){const r=e.get(a||"",t);return r===undefined?i:r};c.prototype._constructShellHashForLpdCust=function(a,i){let n="";let o;const l=e.get("resolutionResult._original",a);if(!t(l)){o="the given target mapping is not an object"}if(!o&&!l.hasOwnProperty("id")){o="no id found in target mapping _original object"}if(!o&&typeof l.id!=="string"){o="the target mapping id was not a string"}if(!o&&l.id.length===0){o="the target mapping id was an empty string"}if(o){s.error("Cannot construct Shell Hash for LPD_CUST resolution",o,"sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");return undefined}n+=l.id;const p=r.paramsToString(i);if(p.length>0){n+=`?${p}`}return n};c.prototype._openBatchQueueUnlessOpen=function(e){if(e.isBatchQueueOpen()){return false}e.openBatchQueue();return true};c.prototype._resolveHashFragmentBE=function(e){const t=this;let a;const r=o.getFormFactor();function n(e){return encodeURIComponent(e).replace(/'/g,"''")}a=this._openBatchQueueUnlessOpen(this._getODataWrapper());function l(e,t){if(e){t+=t.indexOf("?")<0?"?":"&";t+=e}return t}return new Promise((o,p)=>{this._oODataWrapper.read(`ResolveLink?linkId='${n(e)}'&shellType='${i.getShellType()}'${r?`&formFactor='${n(r)}'`:""}`,a=>{let i;let r="";let n;if(a.results.length){if(a.results.length>1){for(i=0;i<a.results.length;i+=1){delete a.results[i].__metadata;r+=(i===0?"used target: ":"\nignored target: ")+JSON.stringify(a.results[i])}s.error("INTEROP service's ResolveLink operation "+`returned ${a.results.length} targets for hash '#${e}', first one is used.`,r,"sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter")}a=a.results[0];n=c.prototype._adjustNavTargetResult(a);n.url=l(a.postParameters,n.url);if(n&&n.applicationType==="SAPUI5"){n.applicationType="URL"}t._compactTooLongWdaUrl(n).then(e=>{o(e)}).catch(t=>{p(`Could not resolve link '${e}' due to compactation failure${t}`)})}else{p(`Could not resolve link '${e}'`)}},e=>{p(e)});if(a){t._getODataWrapper().submitBatchQueue(()=>{},p)}})};c.prototype._compactTooLongWdaUrl=function(e){const t=e&&e.url;return new Promise((a,i)=>{if(e&&e.applicationType==="NWBC"&&t&&t.indexOf("/ui2/nwbc/~canvas;window=")===0&&t.length>this._getWDAUrlShorteningLengthLimit()){this._compactUrl(t).then(t=>{e.url=t;a(e)}).catch(i)}else{a(e)}})};c.prototype._compactUrl=function(e){const t=e.match(/\?.*/);const a=t&&t[0];const i=this._getWDAUrlShorteningLengthLimit()-200;return new Promise((s,n)=>{if(a&&a.length<i){return s(e)}const o=r.parseParameters(t[0]);p.getServiceAsync("ShellNavigationInternal").then(t=>{t.compactParams(o,f,undefined).done(t=>{const a=`${e.match(/^[^?]*/)[0]}?${r.paramsToString(t)}`;s(a)}).fail(n)}).catch(n)})};c.prototype._getWDAUrlShorteningLengthLimit=function(){const e=i.getParameterValueBoolean("sap-ushell-nowdaurlshortening");if(e){return 6e6}return this._wdLengthLimit};c.prototype.resolveSystemAlias=function(e){let t;const a=this;let i;return new Promise((r,n)=>{i=this._readSystemAliasFromBuffer(e);if(i){s.debug(`System alias '${e}' was already buffered`,"","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");window.setTimeout(()=>{r(i)},0)}else{s.debug(`System alias '${e}' is not in buffer`,"","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");const o=function(){i=a._readSystemAliasFromBuffer(e);if(i){s.debug(`System alias '${e}' is now in buffer`,"Skipping INTEROP service call","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");r(i)}else{s.debug(`System alias '${e}' still not in buffer`,"Resolving via INTEROP service","sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter");a._readSystemAliasViaInterop(e).catch(e=>{n(e)}).then(e=>{i=a._fixSystemAlias(e);if(i&&i.id){a._writeSystemAliasToBuffer(i);r(i)}else{t="Data returned for system alias is not valid. Has no 'id'. System alias data will not be cached.";s.warning(`ClientSideTargetResolutionAdapter: ${t}`);r(i)}})}};this._oInitialSegmentPromise.then(o,o)}})};c.prototype._writeUserSystemAliasesToBuffer=function(e){const a=this;if(typeof e==="undefined"){return}if(t(e)){Object.keys(e).forEach(t=>{a._writeSystemAliasToBuffer(a._fixSystemAlias(e[t]))});return}e.forEach(e=>{a._writeSystemAliasToBuffer(a._fixSystemAlias(e))})};c.prototype._readSystemAliasFromBuffer=function(e){const t=this._oSystemAliasBuffer.get(e);if(e===""){if(!t){return this._oLocalSystemAlias}t.properties=a({},this._oLocalSystemAlias.properties,t.properties||{})}return t};c.prototype._writeSystemAliasToBuffer=function(e){if(e&&e.id){this._oSystemAliasBuffer.put(e.id,e)}return e};c.prototype._fixSystemAlias=function(e){e=e||{};delete e.__metadata;const t={};t.id=e.id||"";t.client=e.client||"";t.language=e.language||"";["http","https"].forEach(i=>{if(e.hasOwnProperty(i)){delete e[i].__metadata;if(e[i].id!==""){t[i]=a({id:"",host:"",port:"",pathPrefix:""},e[i])}}});if(e.hasOwnProperty("rfc")&&e.rfc.id){delete e.rfc.__metadata;t.rfc=a({id:"",systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},e.rfc)}return t};c.prototype._readSystemAliasViaInterop=function(e){const t=`SystemAliases(id='${encodeURIComponent(e)}')?$format=json`;return new Promise((e,a)=>{this._getODataWrapper().read(t,t=>{e(t)},e=>{a(e)})})};c.prototype.getSystemAliases=function(){return this._oSystemAliasBuffer&&this._oSystemAliasBuffer.entries||{}};c.prototype.getUrlTemplateContext=function(e){const t=this._oURLTemplates[e.urlTemplate.id];if(!t){s.error("No URL template found.");return null}const a={systemAliases:this.getSystemAliases(),urlTemplates:this._oURLTemplates};return{payload:t.payload,site:a,siteAppSection:e}};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/CommonDataModelAdapter", [],function(){"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/ConfigurationDefaultsAdapter", ["sap/ushell_abap/bootstrap/evo/abap.constants","sap/base/util/deepClone"],function(e,t){"use strict";return function(){this.getDefaultConfig=function(){return Promise.resolve(t(e.defaultUshellConfig))}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/ContainerAdapter", ["sap/ui/thirdparty/jquery","sap/ushell/System","sap/ushell/User","sap/ushell/utils","sap/ushell_abap/bootstrap/evo/abap.bootstrap.utils","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ui/thirdparty/URI","sap/ui/thirdparty/datajs","sap/base/util/deepClone","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/Container"],function(jQuery,e,t,s,a,i,r,n,o,l,u,c){"use strict";var d=function(f,m,p){var g,y="/sap/public/bc/icf/logoff";this._logoutViaHiddenIFrame=function(e){return new Promise(t=>{var s=document.createElement("iframe"),a=e.replace(/"/g,'\\"');window.addEventListener("message",function(s){if(s.data===e){t()}});s.style.visibility="hidden";s.setAttribute("src",e);function i(){parent.postMessage(a,"*")}s.addEventListener("load",i);s.addEventListener("error",i);document.body.appendChild(s)})};this.getSystem=function(){return f};this.getUser=function(){return g};this._determineAccessibility=function(e){var t=s.getParameterValueBoolean("sap-accessibility");if(t!==undefined){return t}t=e.accessibility;if(t!==undefined){return t}return false};this._setThemeAccessibilityFlags=function(e){if(e.userProfile&&e.userProfile.length){var t,s;t=e.userProfile.filter(function(e){return e.id&&e.id==="THEME"})[0];if(t&&t.value){e.setThemePermitted=t.editState===3}else{e.oUserProfileDataTheme=false}s=e.userProfile.filter(function(e){return e.id&&e.id==="ACCESSIBILITY"})[0];if(s&&s.id){e.setAccessibilityPermitted=s.editState===3}else{e.setAccessibilityPermitted=false}if(s&&s.value==="true"){e.accessibility=true}if(s&&s.value==="false"){e.accessibility=false}e.accessiblity=this._determineAccessibility(e)}};this._setUserProfileFlags=function(e){if(e.userProfile&&e.userProfile.length&&Array.isArray(e.userProfile)){var t={};e.setContentDensityPermitted=false;e.userProfile.forEach(function(s){if(s.id in t){return}t[s.id]=s.id;if(s.id==="CONTENT_DENSITY"){e.contentDensity=s.value;e.setContentDensityPermitted=s&&s.editState===3||false}if(s.id==="TRACKING_USAGE_ANALYTICS"){if(typeof s.value==="string"){if(s.value.toLowerCase()==="true"||s.value.toLowerCase()==="false"){s.value=s.value.toLowerCase()==="true"||false}else{s.value=undefined}}if(typeof s.value==="undefined"||typeof s.value==="boolean"){e.trackUsageAnalytics=s.value}else{e.trackUsageAnalytics=undefined}}if(s.id==="MYHOME_IMPORT_FROM_CLASSIC"){e.importBookmarks=s.value}if(s.id==="MYHOME_ENABLEMENT"){switch(s.value){case"false":e.showMyHome=false;break;case"true":e.showMyHome=true;break;default:e.showMyHome=undefined;break}}if(s.id==="THEME_DARKMODE_AUTO_DETECTION"){switch(s.value){case"false":e.detectDarkMode=false;break;case"true":e.detectDarkMode=true;break;default:e.detectDarkMode=undefined;break}}})}};this._removeUnsupportedUserProperties=function(e){const t=o(e);const s=["id","email","firstName","lastName","fullName","isJamActive","isAdminUser","timeZone","language","languageBcp47","image","isImageConsent","isLanguagePersonalized","calendarWeekNumbering","trackUsageAnalytics","contentDensity","setContentDensityPermitted","accessibility","setAccessibilityPermitted","bootTheme","themeRoot","ranges","setThemePermitted","importBookmarks","showMyHome","detectDarkMode","userProfile"];Object.keys(t).forEach(e=>{if(!s.includes(e)){delete t[e]}});return t};this.load=function(){var s=new jQuery.Deferred,a=p.config,r=a.systemProperties;f=new e({alias:f.getAlias(),platform:f.getPlatform(),baseUrl:a.baseUrl,client:a.client,clientRole:a.clientRole,system:a.system,productName:r&&r.productName,systemName:r&&r.systemName,systemRole:r&&r.systemRole,tenantRole:r&&r.tenantRole,productVersion:a.productVersion,isTrialSystem:a.isTrialSystem,sysInfoBar:r&&r.sysInfoBar,sysInfoBarColor:r&&r.sysInfoBarColor,sysInfoBarMainText:r&&r.sysInfoBarMainText,sysInfoBarSecondaryText:r&&r.sysInfoBarSecondaryText,sysInfoBarIcon:r&&r.sysInfoBarIcon});this._setThemeAccessibilityFlags(a);this._setUserProfileFlags(a);const n=this._removeUnsupportedUserProperties(a);g=new t(n);i["sap-language"]=a.language;i["sap-client"]=a.client;if(a.target){d.startUpApplication={adjustedInitialTarget:a.adjustedInitialTarget,target:a.target}}this._setUserImage(g);return s.resolve().promise()};this.addFurtherRemoteSystems=function(){var t=new jQuery.Deferred;c.getServiceAsync("PageBuilding").then(function(s){s.getFactory().getPageBuildingService().readAllCatalogsForUser("type eq 'H' or type eq 'REMOTE'",function(s){var a="/sap/opu/odata/sap/SM_CATALOG_SRV/";if(s.results){s.results.forEach(function(t){var s=/^\/sap\/hba\//.test(t.baseUrl);if(t.type==="H"||t.baseUrl===a||s){c.addRemoteSystem(new e({alias:t.systemAlias,platform:s||t.type==="H"?"hana":"abap",baseUrl:t.type==="H"?"":";o="}))}})}t.resolve()},function(e){u.error("Reading REMOTE catalogs failed: "+e,null,"sap.ushell_abap.adapters.abap.ContainerAdapter");t.reject()})}).catch(t.reject);return t.promise()};this.getCurrentUrl=function(){return window.location.href};this.sessionKeepAlive=function(){var e="/sap/opu/odata/UI2/PAGE_BUILDER_PERS";var t=a.createAndOpenXHR(e,null,"HEAD");t.onreadystatechange=function(){if(this.readyState===4){u.debug("server session was extended")}};t.send()};this.logout=async function(e){if(e){if(s.hasNativeLogoutCapability()){var t=new r(y).absoluteTo(this.getCurrentUrl()).search("").toString();window.external.getPrivateEpcm().doLogOff(t)}else{this.logoutRedirect()}u.info("ABAP system logged out: "+f.getAlias(),null,"sap.ushell_abap.adapters.abap.ContainerAdapter")}else{var a=this._setUrlLanguage(f.adjustUrl(y));u.info("Logging out from system '"+f.getAlias()+"' via hidden iframe");await this._logoutViaHiddenIFrame(a)}};this.logoutRedirect=function(){var e=this._setUrlLanguage(f.adjustUrl(y));this._setDocumentLocation(e)};this._setDocumentLocation=function(e){window.document.location=e};this._setUserImage=function(e){function t(){var e=window["sap-ushell-config"],t=l.get("renderers.fiori2.componentData.config.enableUserImage",e);return!!t}if(t()&&e&&e.isJamActive&&e.isJamActive()){n.read("/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData/Self?$format=json",function(t){var s=t.results.Id,a="/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData/Members('"+s+"')/ProfilePhoto/$value";e.setImage(a)},function(){u.error("Could not recieve JAM user data")})}};this._setUrlLanguage=function(e){const t=this.getUser().getLanguage();if(t){e+=(e.indexOf("?")>=0?"&":"?")+"sap-language="+t}return e}};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/FlpLaunchPageAdapter", ["sap/ui/thirdparty/URI","sap/ushell/components/cards/ManifestPropertyHelper","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/m/GenericTile","sap/ushell/Config","sap/base/util/deepExtend","sap/ushell/utils/chipsUtils","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Page","sap/base/Log","sap/m/library","sap/ushell/ui/tile/StaticTile","sap/ushell/utils","sap/ushell_abap/pbServices/ui2/contracts/preview","sap/ushell/Container"],function(e,t,jQuery,i,r,n,a,o,s,u,l,c,g,f,p,d,h){"use strict";var v=g.LoadState;var _="sap.ushell_abap.adapters.abap.LaunchPageAdapter";var C="/UI2/Fiori2LaunchpadHome";var m="/UI2/FLPD_CATALOG";var y="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER";var b="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER";var T="X-SAP-UI2-CHIP:/UI2/CARD";var I={catalogTileNotFound:"catalogTileNotFound",referenceTileNotFound:"referenceTileNotFound",noTargetMapping:"noTargetMapping",emptyConfiguration:"emptyConfiguration",tileIntentSupportException:"tileIntentSupportException"};var P="/UI2/FLPNoActionChip";var S=function(g,w,O){var k;var A;var E;var j=new u.Map;var x=O&&O.config||{};var D=x.services&&x.services.launchPage;var B={};var N=this;this._oCurrentPageSet=null;this._bPageSetFullyLoaded=false;this._aOtherChipsPromises=[];d.setEnvironmentType("runtime");function L(e,t,i){try{return e.getImplementationAsSapui5()}catch(e){c.error(i+": "+(e.message||e),e.stack,_);return new f({icon:"sap-icon://error",info:"",infoState:"Critical",subtitle:e.message||e,title:t}).addStyleClass("sapUshellTileError")}}S.prototype._getBagText=function(e,t,i){if(e.getBagIds().indexOf(t)>-1&&e.getBag(t).getTextNames().indexOf(i)>-1){return e.getBag(t).getText(i)}return undefined};S.prototype._getConfigurationProperty=function(e,t,i){var r;var n;try{r=e.getConfigurationParameter(t);n=JSON.parse(r)}catch(e){return undefined}if(n[i]!==undefined){return n[i]}return undefined};S.prototype._orderBasedOnConfiguration=function(e,t){var i=e&&u.isArray(e.order)?e.order:[];var r={};var n=[];var a;var o;var s;i=i.concat(e&&u.isArray(e.linkOrder)?e.linkOrder:[]);for(o=0,s=t.length;o<s;o+=1){a=t[o];r[a.getId()]=a}for(o=0,s=i.length;o<s;o+=1){var l=i[o];if(Object.prototype.hasOwnProperty.call(r,l)){n.push(r[l]);delete r[l]}}for(o=0,s=t.length;o<s;o+=1){a=t[o];if(Object.prototype.hasOwnProperty.call(r,a.getId())){n.push(a)}}return n};function R(e,t,i){if(i==="link"){return F(e.linkOrder,t.getId())}return F(e.order,t.getId())}function F(e,t){var i=e.indexOf(t);if(i<0){return i}e.splice(i,1);return i}function G(e,t,i,r){if(r==="link"){i=i-e.order.length;e.linkOrder.splice(i,0,t)}else{e.order.splice(i,0,t)}}function U(e,t){var i=t.getGroupTiles(e);var r={order:[],linkOrder:[]};i.forEach(function(e){var i=t.getTileType(e);if(i==="link"){r.linkOrder.push(e.getId())}else{r.order.push(e.getId())}});return r}function M(){var e;try{e=JSON.parse(N._oCurrentPageSet.getConfiguration());e.order.splice(0,0,N._oCurrentPageSet.getDefaultPage().getId())}catch(t){e={order:[N._oCurrentPageSet.getDefaultPage().getId()]}}return S.prototype._orderBasedOnConfiguration(e,N._oCurrentPageSet.getPages())}this.hideGroups=function(e){var t=new jQuery.Deferred;if(!e||!(e instanceof Array)){t.reject("Input parameter must be of type Array.")}else{var i=JSON.parse(N._oCurrentPageSet.getConfiguration()||"{}");i.hiddenGroups=e;N._oCurrentPageSet.setConfiguration(JSON.stringify(i),t.resolve.bind(t),t.reject.bind(t))}return t.promise()};this.isGroupVisible=function(e){var t=N._oCurrentPageSet.getConfiguration();if(!t){return true}var i=JSON.parse(t);if(!i||!i.hiddenGroups){return true}var r=i.hiddenGroups;for(var n=0;n<r.length;n+=1){if(r[n]===e.getId()){return false}}return true};S.prototype._triggerChipInstanceLoad=function(e){function t(){if(e._loadingDeferred){e._loadingDeferred.resolve()}delete e._loadingDeferred;delete e.$loadingPromise}function i(t){c.error("Failed to load tile: "+t,e.toString(),_);if(e._loadingDeferred){e._loadingDeferred.reject()}delete e._loadingDeferred;delete e.$loadingPromise}e.load(t,i)};this._loadApplaunchersAndDelayLoadingOfOtherChips=function(e,t){var i=0;var r=[];var n=[];function a(){if(i<=0){t()}}function o(e){e._loadingDeferred=new jQuery.Deferred;e.$loadingPromise=e._loadingDeferred.promise();N._aOtherChipsPromises.push(new Promise(function(t,i){e.$loadingPromise.done(t).fail(i)}));if(window["sap-ui-debug"]===true){S.prototype._triggerChipInstanceLoad(e)}else{sap.ui.require(["sap/ushell/EventHub"],function(t){var i=t.on("CoreResourcesComplementLoaded");i.do(function(t){if(t.status==="success"){S.prototype._triggerChipInstanceLoad(e);i.off()}else{c.error("Did not load custom tile as core resources where not loaded",null,_)}})})}}function s(e){function t(){i-=1;a()}i+=1;e.load(t,function(i){c.error("Failed to load tile: "+i,e.toString(),_);t()})}e.forEach(function(e){e.getChipInstances().forEach(function(e){if(V(e)){n.push(e)}else if($(e)){}else if(q(e)||z(e)){s(e)}else{r.push(e)}})});r.forEach(function(e){o(e)});n.forEach(function(e){o(e)});a()};S.prototype._readTargetMappings=function(){var e=new jQuery.Deferred;function t(e){var t=[];var i=e.targetMappings||e||{};Object.keys(i).forEach(function(e){var r={};["semanticObject","semanticAction","formFactors"].forEach(function(t){r[t]=i[e][t]});t.push(r)});return t}if(i.get("compactTMPromise",x)){x.compactTMPromise.then(function(i){var r=t(i||{});e.resolve({results:r})},function(t){e.reject(t)});return e.promise()}var r=i.create("services.targetMappings",x);var n=r.cacheId||"";var a="/sap/bc/ui2/start_up?so=%2A&action=%2A&tm-compact=true&shellType="+p.getShellType()+"&depth=0";if(n){a+=(a.indexOf("?")<0?"?":"&")+"sap-cache-id="+n}var o=r.sUI2CacheDisable;if(o){a+=(a.indexOf("?")<0?"?":"&")+"sap-ui2-cache-disable="+o}u.get(a,false,function(i){var r=JSON.parse(i);var n=r.targetMappings||{};var a=t(n);e.resolve({results:a})},function(t){e.reject(t)});return e.promise()};S.prototype._makeTargetMappingSupportKey=function(e,t){return e+"-"+t};S.prototype._isWrapperOnly=function(e){return!e.getConfiguration()};function J(e,t){var i=[];t.forEach(function(t){var r=t.getRemoteCatalog();if(t.getBaseChipId()==="X-SAP-UI2-CHIP:/UI2/ACTION"){return}var n=e.createChipInstance({chipId:t.getId(),remoteCatalogId:r&&r.getId()});i.push(n)});return i}function H(e){var t=N._oCurrentPageSet.getDefaultPage().getAllCatalogs();var i=t.getCatalogs();var r=[];for(var n=0;n<i.length;n+=1){var a=i[n];r.push({data:{},errorMessage:undefined,id:a.getId(),title:a.isStub()?a.getId():a.getTitle(),tiles:a.isStub()?[]:J(e,a.getChips()),ui2catalog:a})}return r}function q(e){var t=e.getChip().getBaseChipId();return t===y||t===b}function z(e){var t=e.getChip().getBaseChipId();return T===t}function V(e){return!!e.getChip().getRemoteCatalog()}function $(e){return!V(e)&&e.getChip().getBaseChipId()===undefined}function K(e){var t;var i=e.getConfigurationParameter("tileConfiguration");try{t=JSON.parse(i||"{}")}catch(t){c.error("Tile with ID '"+e.getId()+"' has a corrupt configuration containing a 'tileConfiguration' value '"+i+"' which could not be parsed. If present, a (stringified) JSON is expected as value.",t.message,"sap.ushell_abap.adapters.abap.LaunchPageAdapter");return{}}return t}function W(e){var t={};var i;var r;var n;try{i=JSON.parse(e.getChip()._getChipRawConfigurationString());r=JSON.parse(i&&i.tileConfiguration||"{}");n=JSON.parse(r&&r.TILE_PROPERTIES||"{}");if(n.semanticObject&&n.semanticAction){t.navigation_use_semantic_object=true;t.navigation_semantic_object=n.semanticObject;t.navigation_semantic_action=n.semanticAction}}catch(e){return{}}return t}function X(e){var t;if(e.getChip().getBaseChipId()==="X-SAP-UI2-CHIP:/UI2/AR_SRVC_NEWS"){return{navigation_use_semantic_object:true,navigation_semantic_object:"NewsFeed",navigation_semantic_action:"displayNewsList",navigation_semantic_parameters:"",navigation_target_url:"#NewsFeed-displayNewsList"}}var i=W(e);if(i.navigation_use_semantic_object){return i}try{var r=JSON.parse(e.getChip()._getChipRawConfigurationString());t=JSON.parse(r&&r.tileConfiguration||"{}")}catch(e){return{}}return t}this._parseFullChipId=function(e){var t=e.split(":");var i=t.pop();var r=null;if(t.length>2){r=t.shift()}return{id:i,prefix:r,catalog:t.join(":")}};this.getTargetMappingSupport=function(){return j};this._parseReferenceLost=function(e){var t=e||Object.prototype.toString.apply(t);if(!t.match(/^Reference lost: Note \d+ Page.+\s,\sInstance ID.+$/)){c.warning("The string that describes a lost reference is in an unexpected format","This is expected to be a string exactly like 'Reference lost: Note <#> Page <CATALOG_ID> , Instance ID <CHIP_ID>' instead of the given '"+e+"'","sap.ushell_abap.adapters.abap.LaunchPageAdapter");return{id:"Unknown",catalog:"Unknown"}}var i=t.split(" , ").map(function(e){return e.split(" ").pop()});return{id:i[1],catalog:i[0]}};this._flattenArray=function(e){var t=this;if(Object.prototype.toString.apply(e)!=="[object Array]"){return e}return e.reduce(function(e,i){return e.concat(t._flattenArray(i))},[])};this._findAndReportTileErrors=function(e,t){var i=this._getPossibleTileErrors(e,t);if(i.length>0){this._reportTileErrors(i)}};this._getPossibleTileErrors=function(e,t){var i=this;return e.map(function(e){return{group:{id:e.getId(),title:e.getTitle()},errors:i._getPossibleTileErrorsFromOnePage(e,t)}})};this._getPossibleTileErrorsFromOnePage=function(e,t){var i=this;var r=e.getChipInstances().reduce(function(e,r){var n;var a;var o=r.getChip();var s=i._parseFullChipId(o.getId());if(!o.isInitiallyDefined()){e.push({type:I.catalogTileNotFound,chipInstanceId:r.getId(),chipId:s.id,chipCatalogId:s.catalog})}else if(o.isReference()&&o.isBrokenReference()){var u=i._parseReferenceLost(o.getTitle());e.push({type:I.referenceTileNotFound,chipInstanceId:r.getId(),referenceChipId:s.id,referenceChipCatalogId:s.catalog,missingReferredChipId:u.id,missingReferredCatalogId:u.catalog})}else{try{n=i._checkTileIntentSupport(r,t)}catch(e){n={isSupported:false,reason:I.tileIntentSupportException,exception:e}}if(!n.isSupported){var l=i._getBagText(r,"tileProperties","display_title_text");var c=i._getBagText(r,"tileProperties","display_subtitle_text");switch(n.reason){case I.noTargetMapping:if(q(r)){a=K(r)}else{a=X(r)}e.push({type:I.noTargetMapping,chipInstanceId:r.getId(),chipInstanceTitle:l||a.display_title_text||r.getTitle(),chipInstanceSubtitle:c||a.display_subtitle_text,tileURL:a.navigation_target_url||"#"+a.navigation_semantic_object+"-"+a.navigation_semantic_action+(a.navigation_semantic_parameters?"?"+a.navigation_semantic_parameters:"")});break;case I.emptyConfiguration:var g=r.getConfigurationParameter("tileConfiguration");e.push({type:I.emptyConfiguration,chipInstanceId:r.getId(),chipInstanceTitle:l||r.getTitle(),chipInstanceSubtitle:c||null,tileConfiguration:g});break;case I.tileIntentSupportException:e.push({type:I.tileIntentSupportException,exception:n.exception,chipInstanceId:r.getId()});break;case I.referenceTileNotFound:break;default:}}}return e},[]);return r};this._formatTileError=function(e){switch(e.type){case I.catalogTileNotFound:return"comes from catalog tile with ID '"+e.chipId+"' but this cannot be found in catalog '"+e.chipCatalogId+"' (CATALOG TILE NOT FOUND).";case I.referenceTileNotFound:return"comes from reference tile '"+e.referenceChipId+"'"+" in catalog '"+e.referenceChipCatalogId+"'"+" which in turn refers to the tile '"+e.missingReferredChipId+"'"+" from catalog '"+e.missingReferredCatalogId+"', but this is missing (REFERENCED TILE NOT FOUND).";case I.noTargetMapping:return"was hidden because a target mapping for the tile URL '"+e.tileURL+"' was not found (TARGET MAPPING NOT FOUND).";case I.emptyConfiguration:return"the tile configuration '"+e.tileConfiguration+"' is empty or invalid (BAD CONFIGURATION).";case I.tileIntentSupportException:return"exception occurred while checking tile intent support: "+e.exception+" (EXCEPTION RAISED).";default:return"unknown error type '"+e.type+"' (UNKNOWN ERROR). Error data: "+JSON.stringify(e,null,3)}};this._reportTileErrors=function(e){var t=this;var i=[];var r=[];function n(e,t){var i=[e,t].map(function(e,t){return t===1&&e?"("+e+")":e}).filter(function(e){return typeof e==="string"&&e.length>0}).join(" ");return i.length>0?"'"+i+"'":""}e.forEach(function(e){var a="  in Group '"+e.group.title+"' with Group ID '"+e.group.id+"'";var o=[];var s=[];e.errors.forEach(function(e){var i=["  - tile instance",n(e.chipInstanceTitle,e.chipInstanceSubtitle),"with ID '"+e.chipInstanceId+"'"].filter(function(e){return e.length>0}).join(" ");if(e.type===I.noTargetMapping){s.push([i,"    "+t._formatTileError(e)].join("\n"))}else{o.push([i,"    "+t._formatTileError(e)].join("\n"))}});if(o.length>0){r.push([a,o.join("\n")].join("\n"))}if(s.length>0){i.push([a,s.join("\n")].join("\n"))}});if(r.length>0){r.unshift("Tile error(s) were detected:");c.error(r.join("\n"),null,"sap.ushell_abap.adapters.abap.LaunchPageAdapter")}if(i.length>0){i.unshift("Tile warning(s) were detected:");c.warning(i.join("\n"),null,"sap.ushell_abap.adapters.abap.LaunchPageAdapter")}};this.getGroups=function(){if(this._bPageSetFullyLoaded){return(new jQuery.Deferred).resolve(M()).promise()}if(!A){A=new jQuery.Deferred;var e=new jQuery.Deferred;h.getServiceAsync("PageBuilding").then(function(t){var i=t.getFactory().getPageBuildingService().readPageSet;if(D&&D.cacheId){i.cacheBusterTokens.put(C,D.cacheId)}if(D&&D["sap-ui2-cache-disable"]&&i){var r=i.appendedParameters||{};r["sap-ui2-cache-disable"]=D["sap-ui2-cache-disable"];i.appendedParameters=r}var n=this._loadTargetMappings();if(a.last("/core/spaces/enabled")){var o=t.getFactory();var s=new l(o,{id:P});N._oCurrentPageSet={getDefaultPage:function(){return s},getPages:function(){return[s]},appendPage:function(){throw new Error("Not implemented in Pages Runtime")},isPageRemovable:function(){return false},removePage:function(){throw new Error("Not implemented in Pages Runtime")},isPageResettable:function(){return true},resetPage:function(){},getConfiguration:function(){return"{}"},setConfiguration:function(){},filter:function(){}};A.resolve([])}else{var u=t.getPageSet(C);u.fail(e.reject.bind(e)).done(function(t){this._oCurrentPageSet=t;this._oCurrentPageSet.filter([C],[m]);this._loadApplaunchersAndDelayLoadingOfOtherChips(t.getPages(),e.resolve.bind(e,t))}.bind(this));jQuery.when(n,e).done(function(e,t){this._bPageSetFullyLoaded=true;if(c.getLevel()>=c.Level.DEBUG){this._findAndReportTileErrors(t.getPages(),j)}A.resolve(M())}.bind(this)).fail(A.reject.bind(A))}}.bind(this))}return A.promise()};this._loadTargetMappings=function(){if(this._oTargetMappingPromise){return this._oTargetMappingPromise}this._oTargetMappingPromise=this._readTargetMappings().done(function(e){var t=u.getFormFactor();e.results.forEach(function(e){var i=S.prototype._makeTargetMappingSupportKey(e.semanticObject,e.semanticAction);j.put(i,j.get(i)||!!(e.formFactors&&e.formFactors[t]))})}.bind(this));return this._oTargetMappingPromise};this.getGroupsAndWaitForAllChips=function(){return new Promise(function(e,t){N.getGroups().done(e).fail(t)}).then(function(e){return Promise.allSettled(N._aOtherChipsPromises).then(function(){return e})})};this.getDefaultGroup=function(){var e=new jQuery.Deferred;this.getGroups().done(function(){e.resolve(N._oCurrentPageSet.getDefaultPage())}).fail(e.reject.bind(e));return e.promise()};this.getGroupTitle=function(e){return e.getTitle()};this.getGroupId=function(e){return e.getId()};this.getGroupTiles=function(e){var t;try{t=JSON.parse(e.getLayout())}catch(t){c.warning("Group "+e.getId()+": invalid layout: "+e.getLayout(),null,_)}return this._orderBasedOnConfiguration(t,e.getChipInstances())};this.getGroupTileClones=function(e){var t=this.getGroupTiles(e);var i=t.map(function(e){return e.clone()});return Promise.allSettled(i).then(function(e){return e.map(function(e){if(!e.value){c.warning("Group tile was filtered out: ",e.reason)}return e.value}).filter(function(e){return e})})};this.addGroup=function(e){var t=new jQuery.Deferred;N._oCurrentPageSet.appendPage(e,m,t.resolve.bind(t),t.reject.bind(t,M()));return t.promise()};this.removeGroup=function(e){var t=new jQuery.Deferred;if(N._oCurrentPageSet.isPageRemovable(e)){N._oCurrentPageSet.removePage(e,t.resolve.bind(t),t.reject.bind(t,M()))}else{t.reject(M())}return t.promise()};this.resetGroup=function(e){var t=new jQuery.Deferred;var i=this;if(i._oCurrentPageSet.isPageRemovable(e)){t.reject(M())}else if(i._oCurrentPageSet.isPageResettable(e)){i._oCurrentPageSet.resetPage(e,function(){i._loadApplaunchersAndDelayLoadingOfOtherChips([e],t.resolve.bind(t,e))},t.reject.bind(t,M()))}else{t.resolve(e)}return t.promise()};this.isGroupRemovable=function(e){return N._oCurrentPageSet.isPageRemovable(e)};this.isGroupLocked=function(e){return e.isPersonalizationLocked()};this.isLinkPersonalizationSupported=function(e){if(!e){return true}if(!e.isStub()){var t=e.getContract&&e.getContract("types");var i=t&&t.getAvailableTypes()||[];return i.indexOf("link")!==-1}return false};this.isTileIntentSupported=function(e){if(!this._oTargetMappingPromise||this._oTargetMappingPromise.state()!=="resolved"){c.error("isTileIntentSupported might return wrong results as data loading hasn't finished yet!","sap.ushell_abap.adapters.abap.LaunchPageAdapter")}var t;var i=this._checkTileIntentSupport(e,j);if(!i.isSupported&&i.reason===I.noTargetMapping){if(q(e)){t=K(e)}else{t=X(e)}var r=this._getBagText(e,"tileProperties","display_title_text")||t.display_title_text;var n=this._getBagText(e,"tileProperties","display_subtitle_text")||t.display_subtitle_text;var a=t.navigation_target_url;c.warning("Group tile with ID '"+e.getId()+"' is filtered out as the current user has no target mapping assigned for the intent '"+a+"'","\nGroup Tile ID: '"+e.getId()+"'\n"+"Title: '"+r+"'\n"+"Subtitle: '"+n+"'\n"+"Intent: '"+a+"' - ","sap.ushell_abap.adapters.abap.LaunchPageAdapter")}return i.isSupported};this.isTileIntentSupportedAsync=function(e){return this._loadTargetMappings().then(function(){return this.isTileIntentSupported(e)}.bind(this))};this._checkTileIntentSupport=function(e,t){var i;var n;var a=S.prototype._makeTargetMappingSupportKey;if(!q(e)){i=X(e);if(!i.navigation_use_semantic_object||!i.navigation_semantic_object||!i.navigation_semantic_action){return{isSupported:true}}n=t.get(a(i.navigation_semantic_object,i.navigation_semantic_action));if(!n){n=t.get(a("*",i.navigation_semantic_action))}if(!n){return{isSupported:false,reason:I.noTargetMapping}}return{isSupported:true}}if(e.isStub()){c.error("Applauncher Tile not loaded completely! This might be caused by a RemoteCatalog content. Standard Tiles are not supported as part of RemoteCatalogs",new Error("Applauncher Tile is still a stub"),"sap.ushell_abap.adapters.abap.LaunchPageAdapter");return{isSupported:true}}if(e.getChip()&&typeof e.getChip().isBrokenReference==="function"&&e.getChip().isBrokenReference()){return{isSupported:false,reason:I.referenceTileNotFound}}i=K(e);if(r(i)){return{isSupported:false,reason:I.emptyConfiguration}}if(!i.navigation_use_semantic_object){return{isSupported:true}}n=t.get(a(i.navigation_semantic_object,i.navigation_semantic_action));if(n){return{isSupported:true}}return{isSupported:false,reason:I.noTargetMapping}};this.moveGroup=function(e,t){var i=new jQuery.Deferred;function r(e){var t=[];e.forEach(function(e){t.push(e.getId())});var r=JSON.parse(N._oCurrentPageSet.getConfiguration()||"{}");r.order=t;N._oCurrentPageSet.setConfiguration(JSON.stringify(r),i.resolve.bind(i),i.reject.bind(i,M()))}this.getGroups().done(function(i){var n=i.indexOf(e);i.splice(n,1);i.splice(t,0,e);r(i)});return i.promise()};this.setGroupTitle=function(e,t){var i=new jQuery.Deferred;e.setTitle(t,i.resolve.bind(i),function(){i.reject(e.getTitle())});return i.promise()};this.addTile=function(e,t){var i=new jQuery.Deferred;var r=e.getChip();if(e.isStub()){i.reject(M(),new Error("Tile was not added to the group as the tile failed loading"))}else{if(!t){t=N._oCurrentPageSet.getDefaultPage()}t.addChipInstance(r,i.resolve.bind(i),i.reject.bind(i,M()))}return i.promise()};this.removeTile=function(e,t){var i=new jQuery.Deferred;e.removeChipInstance(t,i.resolve.bind(i),i.reject.bind(i,M()));return i.promise()};this.moveTile=function(e,t,i,r,n,a){var o=new jQuery.Deferred;var s=this._isWrapperOnly(e);var l=new u.Map;var g;var f=o.reject.bind(o,M());var p=2;function d(e){p-=1;g=g||e;if(p<=0){o.resolve(g)}}if(!n){n=r}var v=U(r,this);var C=U(n,this);var m=this.getTileType(e);t=R(v,e,m);if(t<0){c.error("moveTile: tile not found in source group",null,_);f();return o.promise()}if(r===n){G(v,e.getId(),i,a);r.setLayout(JSON.stringify(v),o.resolve.bind(o,e),f)}else{h.getServiceAsync("PageBuilding").then(function(t){var o=t.getFactory().getPageBuildingService();var u=e.getBagIds();u.forEach(function(t){var i={texts:[],properties:[]};var r=e.getBag(t);r.getOwnTextNames().forEach(function(e){i.texts.push({name:e,value:r.getText(e)})});r.getOwnPropertyNames().forEach(function(e){i.properties.push({name:e,value:r.getProperty(e)})});if(i.texts.length>0||i.properties.length>0){l.put(t,i)}});o.openBatchQueue();var g=this.getGroupTiles(n);n.addChipInstance(s?e.getChip():e,function(e){var t;g.splice(i,0,e);u.forEach(function(i){var r=l.get(i);if(r){t=e.getBag(i);r.texts.forEach(function(e){t.setText(e.name,e.value)});r.properties.forEach(function(e){t.setProperty(e.name,e.value)});t.save(function(){},function(){c.error("Bag "+i+": could not be saved",null,_)})}});G(C,e.getId(),i,a);n.setLayout(JSON.stringify(C),d.bind(this,e),f)},f,e.isStub());r.removeChipInstance(e,d,f);r.setLayout(JSON.stringify(v),undefined,f);o.submitBatchQueue(undefined,f)}.bind(this))}return o.promise()};this.getTileId=function(e){return e.getId()};this.getTileType=function(e){var t=e.getPage();try{var i=JSON.parse(t.getLayout());if(i.linkOrder&&i.linkOrder.indexOf(e.getId())>-1){return"link"}}catch(e){c.warning("Group "+t.getId()+": invalid layout: "+t.getLayout(),null,_)}if(e.isStub()===false){var r=e.getContract("types");if(r&&r.getAvailableTypes().indexOf("card")>-1){return"card"}}return"tile"};this.getCardManifest=function(e){try{var i=e.getConfigurationParameter("cardManifest");var r=JSON.parse(i);var n=t.getCardData(e);r=t.mergeCardData(r,n);return r}catch(t){c.error("Manifest of card with id '"+e.getId()+"' could not be read. "+t.message)}};this.getTileTitle=function(e){return e.getTitle()};this.getTileView=function(e){var t=this;var i=new jQuery.Deferred;function r(){var r;var o=e.getContract("types");if(o){r=t.getTileType(e);o.setType(r)}e.getImplementationAsSapui5Async().then(function(e){if(r==="link"){if(!e.hasModel()){e=e.getComponentInstance().getRootControl()}var t=e.getModel();var a=e.getController();var o=t&&t.getProperty?t.getProperty("/nav/navigation_target_url"):undefined;var s=new n({mode:"{view>/mode}",header:"{view>/config/display_title_text}",subheader:"{view>/config/display_subtitle_text}",sizeBehavior:"{view>/sizeBehavior}",size:"Auto",url:a.formatters&&a.formatters.leanURL(o),press:[a.onPress,a]});s.setModel(t,"view");i.resolve(s);return}i.resolve(e)}).catch(a)}function a(e){i.reject("Tile not successfully loaded"+(e?": "+e:""))}if(!e.$loadingPromise){if(!e.isStub()){u.callHandler(r,a,!q(e))}else{a()}}else{e.$loadingPromise.fail(a).done(function(){try{r()}catch(e){a(e.message||e)}})}return i.promise()};this.getTileSize=function(e){var t=!e.isStub()&&e.getConfigurationParameter("row")||"1";var i=!e.isStub()&&e.getConfigurationParameter("col")||"1";return t+"x"+i};this.refreshTile=function(e){e.refresh()};this.setTileVisible=function(e,t){var i=!e.isStub()&&e.getContract("visible");if(i){i.setVisible(t);return}if(e.isStub()&&e.$loadingPromise){var r=this.getTileId(e);var n=B[r];B[r]=t;if(n===undefined){e.$loadingPromise.done(function(){var t=e.getContract("visible");if(t){t.setVisible(B[r])}})}return}};this.getTileActions=function(e){var t=!e.isStub()&&e.getContract("actions");if(t){return t.getActions()}return[]};this.getTileTarget=function(){return null};this.getTileDebugInfo=function(e){var t=e.getChip();var i=t.getCatalog();var r={chipId:t.getId(),chipInstanceId:e.getId(),chipTitle:t.getTitle(),chipDescription:t.getDescription(),completelyLoaded:!e.isStub()};if(i){r.catalogId=i.getId()}var n=JSON.stringify(r);return n};this.getCatalogs=function(){var e;var t=E;var i=k===false;if(t&&!t.$notified&&!i){e=t}else{E=new jQuery.Deferred;e=E;e.done(function(){if(e===E){k=true}}).always(function(){if(e===E){E=null}});if(t){if(i){k=undefined}t.always(function(){this._startLoading(e,i)}.bind(this))}else{this._startLoading(e,i)}}return e.promise()};this._refreshRemoteCatalogs=function(e){return h.getServiceAsync("PageBuilding").then(function(t){var i=0;var r=t.getFactory();var n=H(r);n.forEach(function(t){var a=t.ui2catalog;if(a.isStub()||a.getType()==="H"||a.getType()==="REMOTE"){i+=1;a.refresh(function(){t.title=a.getTitle();t.tiles=J(r,a.getChips());e.notify(t);i-=1;if(i<=0){e.resolve(n)}},function(r){c.error("Failed to load catalog: "+r,a.toString(),_);t.errorMessage=r||"Error";e.notify(t);i-=1;if(i<=0){e.resolve(n)}})}else{e.notify(t);e.$notified=true}});if(i<=0){e.resolve(n)}})};this._useKnownCatalogs=function(e){return h.getServiceAsync("PageBuilding").then(function(t){var i=H(t.getFactory());i.forEach(function(t){e.notify(t)});e.resolve(i)})};this._doGetCatalogs=function(e,t){var i=this._oCurrentPageSet.getDefaultPage().getAllCatalogs();if(i.isStub()){i.load(function(){this._refreshRemoteCatalogs(e)}.bind(this),e.reject,"type eq 'CATALOG_PAGE' or type eq 'H' or type eq 'SM_CATALOG' or type eq 'REMOTE'",true,"title",true)}else if(t){this._refreshRemoteCatalogs(e)}else{this._useKnownCatalogs(e)}};this._startLoading=function(e,t){var i;if(D&&D.cacheId){i=h.getServiceAsync("PageBuilding").then(function(e){var t=e.getFactory().getPageBuildingService().readAllCatalogs.cacheBusterTokens;t.put(C,D.cacheId);if(a.last("/core/spaces/enabled")){t.put(P,D.cacheId)}}).catch(e.reject)}else{i=Promise.resolve()}i.then(function(){if(N._bPageSetFullyLoaded){this._doGetCatalogs(e,t)}else{this.getGroups().done(function(){this._doGetCatalogs(e,t)}.bind(this)).fail(e.reject)}}.bind(this)).catch(e.reject)};this.isCatalogsValid=function(){return!!k};this.getCatalogData=function(e){return e.ui2catalog.getCatalogData()};this.getCatalogError=function(e){return e.errorMessage};this.getCatalogId=function(e){return e.id};this.getCatalogTitle=function(e){return e.title};this.getCatalogTiles=function(e){var t=new jQuery.Deferred;var i=0;function r(){i-=1;if(i===0){t.resolve(e.tiles)}}function n(e,t){c.error("Failed to load catalog tile: "+t,e.toString(),_);r()}for(var a=0;a<e.tiles.length;a+=1){var o=e.tiles[a];if(o.isStub()){i+=1;o.load(r,n.bind(null,o))}}if(i===0){t.resolve(e.tiles)}return t.promise()};this.getCatalogTileNumberUnit=s.getCatalogTileNumberUnit;this.getCatalogTileId=function(e){var t=e.getChip();var i=t.getId();if(t.getCatalog()&&t.getCatalog().getCatalogData()&&t.getCatalog().getCatalogData().systemAlias){i+="_"+t.getCatalog().getCatalogData().systemAlias}return i};this.getStableCatalogTileId=function(e){var t=e.getChip();var i=t.getReferenceChipId();if(i==="O"){i=null}if(!i){i=this.getCatalogTileId(e)}return i};this.getCatalogTileTitle=function(e){return e.getChip().getTitle()};this.getCatalogTileSize=s.getCatalogTileSize;this.getCatalogTileView=function(e,t){t=typeof t!=="undefined"?t:true;var i=this.getCatalogTileTitle(e);if(e.isStub()){c.warning("CHIP (instance) is just a stub!",e.toString(true),_);return new f({icon:"sap-icon://hide",info:"",infoState:"Critical",subtitle:"",title:i}).addStyleClass("sapUshellTileError")}if(t){var r=e.getContract("preview");if(r){r.setEnabled(true)}else{return new f({title:i,subtitle:"",info:"",infoState:"Neutral",icon:"sap-icon://folder-full"})}}return L(e,i,"Cannot get catalog tile view as SAPUI5")};this.getCatalogTileViewControl=function(e,t){var i=new jQuery.Deferred;t=typeof t!=="undefined"?t:true;var r=this.getCatalogTileTitle(e);if(e.isStub()){c.warning("CHIP (instance) is just a stub!",e.toString(true),_);i.resolve(this._createErrorTile(r,"CHIP was just a stub!"));return i.promise()}if(t){var n=e.getContract("preview");if(n){n.setEnabled(true)}else{i.resolve(this._createPreviewTile(r));return i.promise()}}e.getImplementationAsSapui5Async().catch(function(e){c.error("Cannot get catalog tile view as SAPUI5: "+(e.message||e),e.stack,_);return this._createErrorTile(r,e.message||e)}.bind(this)).then(i.resolve);return i.promise()};this._createErrorTile=function(e,t){var i=new n({state:v.Failed,header:e,subheader:t||""}).addStyleClass("sapUshellTileError");return i};this._createPreviewTile=function(e){return new f({title:e,subtitle:"",info:"",infoState:"Neutral",icon:"sap-icon://folder-full"})};this.getCatalogTileTargetURL=s.getCatalogTileTargetURL;this.getCatalogTilePreviewSubtitle=s.getCatalogTilePreviewSubtitle;this.getCatalogTilePreviewTitle=s.getCatalogTilePreviewTitle;this.getCatalogTilePreviewInfo=s.getCatalogTilePreviewInfo;this.getCatalogTilePreviewIndicatorDataSource=s.getCatalogTilePreviewIndicatorDataSource;this.getCatalogTilePreviewIcon=s.getCatalogTilePreviewIcon;this.getCatalogTileKeywords=function(e){var t={};var i=e.getTitle();var r=this.getCatalogTilePreviewSubtitle(e);var n=e.getChip().getDescription();function a(e,t){if(u.isArray(t)){t.forEach(function(t){if(e.hasOwnProperty(t)){return}e[t]=null})}}function o(e){var t=S.prototype._getBagText(e,"tileProperties","display_search_keywords");if(!u.isString(t)||t===""){return[]}return t.trim().split(/\s*,\s*/g)}function s(e){var t=S.prototype._getBagText(e,"tileProperties","display_info_text");if(t){return[t]}return[]}function l(e){var t=S.prototype._getConfigurationProperty(e,"tileConfiguration","display_number_unit");if(t){return[t]}return[]}function c(e){var t;if(e.isStub()){return[]}t=e.getContract("search");if(t){return t.getKeywords()}return[]}a(t,o(e));a(t,s(e));a(t,l(e));a(t,c(e));if(i){a(t,[i])}if(r){a(t,[r])}if(n){a(t,[n])}return Object.keys(t)};this.addBookmark=function(e,t){var r=b;var n={display_icon_url:e.icon||"",display_info_text:e.info||"",display_subtitle_text:e.subtitle||"",display_title_text:e.title};var a=new jQuery.Deferred;var o={tileProperties:{texts:{display_title_text:n.display_title_text,display_subtitle_text:n.display_subtitle_text,display_info_text:n.display_info_text}}};if(e.serviceUrl){r=y;n.display_number_unit=e.numberUnit;n.service_refresh_interval=e.serviceRefreshInterval||0;n.service_url=e.serviceUrl;if(e.dataSource){n.data_source={type:e.dataSource.type,settings:{odataVersion:i.get(["dataSource","settings","odataVersion"],e)}}}}if(t&&!(t instanceof l)){a.reject("The given object is not a group");return a.promise()}n={tileConfiguration:JSON.stringify(n)};this._createBookmarkTile(r,e.url,n,o,e.title,t).then(function(){a.resolve()}).catch(function(e){a.reject(e.toString())});return a.promise()};this.addCustomBookmark=function(e,t){var i=e.vizConfig["sap.flp"].chipConfig;var r=new jQuery.Deferred;if(t&&!(t instanceof l)){r.reject("The given object is not a group");return r.promise()}this._createBookmarkTile(i.chipId,e.url,i.configuration,i.bags,e.title,t).then(function(){r.resolve()}).catch(function(e){r.reject(e.toString())});return r.promise()};this._getTileTargetConfiguration=function(t){return h.getServiceAsync("URLParsing").then(function(i){var r={navigation_target_url:t,navigation_use_semantic_object:false};var n=new e;var a=new e(t);var o=a.host()+a.path()===n.host()+n.path();var s=S.prototype._makeTargetMappingSupportKey;if(t[0]==="#"||o){var u=i.parseShellHash(i.getShellHash(t));if(u&&j.get(s(u.semanticObject,u.action))!==undefined){r.navigation_use_semantic_object=true;r.navigation_semantic_object=u.semanticObject;r.navigation_semantic_action=u.action;r.navigation_semantic_parameters=i.paramsToString(u.params)}}return r})};this._updateBags=function(e,t){var i=[];var r=[];if(!t){t={};i.push(Promise.resolve([]))}Object.keys(t).forEach(function(n){var a;var o=false;var s=t[n];var u=e.getBag(n);try{for(a in s.properties){u.setProperty(a,s.properties[a]);o=true}for(a in s.texts){u.setText(a,s.texts[a]);o=true}i.push(new Promise(function(e,t){if(o){r.push(n);u.save(e,t)}else{e()}}))}catch(e){i.push(Promise.reject(e))}});return Promise.all(i).then(function(){return r})};this._checkBookmarkConfiguration=function(e){return new Promise(function(t,i){try{var r=K(e);if(!r.navigation_target_url){throw new Error("tileConfiguration.navigation_target_url was not set")}this.getTileSize(e);t()}catch(t){var n="Chip configuration check failed: "+t.toString();c.error(n,e.getId(),_);i(n)}}.bind(this))};this._createBookmarkTile=function(e,t,i,r,n,a){return Promise.all([h.getServiceAsync("PageBuilding"),this._getTileTargetConfiguration(t)]).then(function(t){var r=t[0];var s=t[1];if(!i.tileConfiguration){i.tileConfiguration=JSON.stringify(s)}else{var u=JSON.parse(i.tileConfiguration);u=o({},u,s);i.tileConfiguration=JSON.stringify(u)}var l=r.getFactory();var c=l.getPageBuildingService();return new Promise(function(t,r){if(this._bPageSetFullyLoaded){a=a||this._oCurrentPageSet.getDefaultPage();var o=l.createChipInstance({chipId:e,pageId:a.getId(),title:n,configuration:JSON.stringify(i),layoutData:""});a.addChipInstance(o,t,r,undefined)}else{try{c.createPageChipInstanceFromRawData({chipId:e,configuration:JSON.stringify(i),pageId:"/UI2/Fiori2LaunchpadHome",title:n},function(e){l.createChipInstance(e,t,r,undefined)},r)}catch(e){r(e)}}}.bind(this))}.bind(this)).then(function(e){return this._updateBags(e,r).then(function(){return this._checkBookmarkConfiguration(e)}.bind(this)).catch(function(t){return new Promise(function(i,r){e.remove(r.bind(undefined,t),r.bind(undefined,t))})})}.bind(this))};S.prototype._isBookmarkFor=function(e,t){var i=e.getChip().getBaseChipId();if(i!==undefined){var r=K(e).navigation_target_url;if(typeof t==="string"){return q(e)&&r===t}return t.chipId===i&&t.url===r}return false};S.prototype._visitBookmarks=function(e,t){var i=[];var r=new jQuery.Deferred;N.getGroupsAndWaitForAllChips().then(function(n){var a=0;n.forEach(function(r){r.getChipInstances().forEach(function(r){if(N._isBookmarkFor(r,e)){a+=1;if(t){i.push(t(r))}}})});if(i.length===0){r.resolve(a)}else{jQuery.when.apply(jQuery,i).fail(function(e){r.reject(e)}).done(function(){r.resolve(a)})}}).catch(function(e){r.reject(e.message||e)});return r.promise()};this._visitCustomBookmarks=function(e,t){if(!e.chipId){return Promise.reject("_visitCustomBookmarks: Required parameter is missing: oIdentifier.chipId")}return new Promise(function(i,r){this.getGroups().fail(r).done(function(n){var a=[];var o=0;n.forEach(function(i){i.getChipInstances().forEach(function(i){if(S.prototype._isBookmarkFor(i,e)){o+=1;if(t){a.push(t(i))}}})});Promise.all(a).then(function(){i(o)}).catch(r)})}.bind(this))};this.countBookmarks=function(e){return S.prototype._visitBookmarks(e)};this.countCustomBookmarks=function(e){return this._visitCustomBookmarks(e)};this.deleteBookmarks=function(e){return S.prototype._visitBookmarks(e,function(e){var t=new jQuery.Deferred;e.remove(t.resolve.bind(t),t.reject.bind(t));return t.promise()})};this.deleteCustomBookmarks=function(e){return this._visitCustomBookmarks(e,function(e){return new Promise(function(t,i){e.remove(t,i)})})};this.updateBookmarks=function(e,t){return S.prototype._visitBookmarks(e,function(e){var i=K(e);var r=new jQuery.Deferred;var n={tileProperties:{texts:{}}};if(t.title){n.tileProperties.texts.display_title_text=t.title}if(typeof t.subtitle==="string"){n.tileProperties.texts.display_subtitle_text=t.subtitle}if(typeof t.info==="string"){n.tileProperties.texts.display_info_text=t.info}var a={display_icon_url:typeof t.icon==="string"?t.icon:i.display_icon_url,display_info_text:typeof t.info==="string"?t.info:i.display_info_text,display_subtitle_text:typeof t.subtitle==="string"?t.subtitle:i.display_subtitle_text,display_title_text:t.title||i.display_title_text,display_number_unit:typeof t.numberUnit==="string"?t.numberUnit:i.display_number_unit,service_refresh_interval:t.serviceRefreshInterval||i.service_refresh_interval,service_url:t.serviceUrl||i.service_url};var s={};this._getTileTargetConfiguration(t.url||i.navigation_target_url).then(function(e){a=o({},a,e);s.tileConfiguration=JSON.stringify(a)}).then(function(){return new Promise(function(t,i){e.updateConfiguration(s,t,i)})}).then(function(){e.getContract("configuration").fireConfigurationUpdated(Object.keys(s));return this._updateBags(e,n)}.bind(this)).then(function(t){if(t.length){e.getContract("bag").fireBagsUpdated(t)}r.resolve()}).catch(function(e){r.reject(e.toString())});return r.promise()}.bind(this))};this.updateCustomBookmarks=function(e,t){var r=i.get(["vizConfig","sap.flp","chipConfig"],t)||{};var n=r.configuration||{};var a=r.bags||{};var s=t.url;return this._visitCustomBookmarks(e,function(e){return this._getTileTargetConfiguration(s).then(function(t){var i;if(!n.tileConfiguration){i=K(e);i=o({},i,t);n.tileConfiguration=JSON.stringify(i)}else{i=JSON.parse(n.tileConfiguration);i=o({},i,t);n.tileConfiguration=JSON.stringify(i)}return new Promise(function(t,i){try{e.updateConfiguration(n,t,i)}catch(e){i(e)}})}).then(function(){e.getContract("configuration").fireConfigurationUpdated(Object.keys(n));return this._checkBookmarkConfiguration(e)}.bind(this)).then(function(){return this._updateBags(e,a)}.bind(this)).then(function(i){if(i.length){e.getContract("bag").fireBagsUpdated(i)}return new Promise(function(i,r){if(t.title){e.setTitle(t.title,true,i,r)}else{i()}})})}.bind(this))};this.onCatalogTileAdded=function(){k=false};this.isCustomTile=function(e){return!q(e)}};S.prototype._getCatalogTileIndex=function(){this._oCatalogTileIndexPromise=h.getServiceAsync("PageBuilding").then(function(e){var t=e.getFactory().getPageBuildingService();return new Promise(function(e,i){t.readAllCatalogs(P,e,i,"type eq 'CATALOG_PAGE' or type eq 'H' or type eq 'SM_CATALOG' or type eq 'REMOTE'","title",true)})}).then(function(e){var t={};e.results.forEach(function(e){e.Chips.results.forEach(function(e){var i;if(e.referenceChipId){i=e.referenceChipId}else{i=e.id}if(!t[i]){t[i]=e}})});return t}).catch(function(){return{}});return this._oCatalogTileIndexPromise};return S});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/LaunchPageAdapter", ["sap/ushell_abap/adapters/abap/FlpLaunchPageAdapter"],function(a){"use strict";return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/MenuAdapter", ["sap/base/Log","sap/base/util/isPlainObject","sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/Config","sap/ushell/library","sap/ushell/utils"],function(e,t,n,i,r,a){"use strict";var s=r.ContentNodeType;var o=function(){};o.prototype.isMenuEnabled=function(){var e=i.last("/core/menu/enabled");var t=this._getAssignedSpaces().length;return Promise.resolve(e&&t>0)};o.prototype.isSideNavigationEnabled=async function(){if(!i.last("/core/sideNavigation/enabled")){return false}const e=await this.getMenuEntries();return e.length>0};o.prototype.getMenuEntries=function(){return n.getUserMyHomeEnablement().then(function(e){var t=i.last("/core/homeApp/enabled");var n=i.last("/core/spaces/myHome/enabled");var r=i.last("/core/spaces/myHome/myHomeSpaceId");var a=this._getAssignedSpaces();if(t&&n||n&&!e){for(var s=0;s<a.length;s++){if(a[s].id===r){a=a.slice(1);break}}}var o=this._buildMenuEntries(a);return o}.bind(this))};o.prototype.getMenuPersonalization=function(){var e=document.querySelector("meta[name='sap.ushell.menuPersonalization']");if(!e){return null}var t=JSON.parse(e.getAttribute("content"));return t};o.prototype.getContentNodeEntries=function(){var e=this._getAssignedSpaces();this._removeMyHomeForContentNodes(e);var t=this._buildMenuEntries(e);return Promise.resolve(t)};o.prototype.getContentNodes=function(){var e=this._getAssignedSpaces();this._removeMyHomeForContentNodes(e);var t=this._buildContentNodes(e);return Promise.resolve(t)};o.prototype._buildMenuEntries=function(e){var t=e.filter(this._isSpaceNotEmpty.bind(null,"FLP menu")).map(function(e,t){var n={id:e.id,title:e.title||e.id,"help-id":"Space-"+e.id,description:e.description,icon:undefined,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:e.id},{name:"pageId",value:e.pages[0].id}],innerAppRoute:undefined},isHomeEntry:t===0&&e.id===i.last("/core/spaces/myHome/myHomeSpaceId"),menuEntries:[]};var r=e.pages.map(function(t){return{id:t.id,title:t.title||t.id,"help-id":"Page-"+t.id,description:t.description,icon:undefined,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:e.id},{name:"pageId",value:t.id}],innerAppRoute:undefined},menuEntries:[]}});if(r.length>1){n.menuEntries=r}return n});return t};o.prototype._buildContentNodes=function(e){var t=e.filter(this._isSpaceNotEmpty.bind(null,"content nodes")).map(function(e){return{id:e.id,label:e.title||e.id,type:s.Space,isContainer:false,children:e.pages.map(function(e){return{id:e.id,label:e.title||e.id,type:s.Page,isContainer:true}})}});return t};o.prototype._isSpaceNotEmpty=function(t,n){if(!n.pages||n.pages.length===0){e.warning("FLP space "+n.id+" without page omitted in "+t+".","","sap.ushell_abap.adapters.abap.MenuAdapter");return false}return true};o.prototype._removeMyHomeForContentNodes=function(e){var t=i.last("/core/homeApp/enabled");var n=i.last("/core/spaces/myHome/enabled");var r=i.last("/core/spaces/myHome/userEnabled");var a=i.last("/core/spaces/myHome/myHomeSpaceId");if(t){return}if(n&&!r){if(e[0]&&e[0].id===a){e.shift()}}};o.prototype._getAssignedSpaces=function(){var e=document.querySelector("meta[name='sap.ushell.assignedSpaces']");if(!e){return[]}var n=a.getFormFactor();var i=JSON.parse(e.getAttribute("content"));return i.filter(e=>{if(!t(e.visibility)){return true}return e.visibility[n]}).map(e=>{e.pages=e.pages.filter(e=>{if(!t(e.visibility)){return true}return e.visibility[n]});return e})};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/NavTargetResolutionAdapter", [],function(){"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/NavTargetResolutionInternalAdapter", [],function(){"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/PageBuildingAdapter", ["sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Factory"],function(e,a,i){"use strict";return function(r,t,o){var s,c="PERS",p="/sap/opu/odata/UI2/PAGE_BUILDER_PERS/",n=o.config.remoteCatalogServices||{},u=e.get("config.services.pageBuilding.baseUrl",o);this.getFactory=function(){return s};t=t?t.toUpperCase():"";if(t==="CONF"||t==="CUST"){c=t;p="/sap/opu/odata/UI2/PAGE_BUILDER_"+c+"/"}else if(u&&e.get("config.services.pageBuilding.relativeUrl",o)){p=u}var l=e.get("sap-ushell-config.services.Container.adapter.config.services.pbFioriHome.cacheId");s=i.createFactory(p,undefined,c==="PERS",l);(function(){["/sap/hba/apps/kpi/s/odata/hana_chip_catalog.xsodata/","/sap/hba/r/sb/core/odata/modeler/SMART_BUSINESS.xsodata/","/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata/","/sap/opu/odata/sap/SM_CATALOG_SRV/"].forEach(function(e){if(!Object.prototype.hasOwnProperty.call(n,e)){n[e]="sap.ushell_abap.pbServices.ui2.RemoteCatalogService"}});Object.keys(n).forEach(function(e){var i=n[e];if(i==="sap.ui2.srvc.RemoteCatalogService"){i="sap.ushell_abap.pbServices.ui2.RemoteCatalogService"}var r=(i||"").replace(/\./g,"/");var t;if(!(t=sap.ui.require(r))){a.warning("FLP PageBuildingAdapter: remote catalog service "+r+" must be loaded before use.");t=sap.ui.requireSync(r)}s.addRemoteCatalogService(e,new t)})})()}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/PagePersistenceAdapter", ["sap/base/i18n/Localization","sap/base/util/ObjectPath","sap/ushell/utils/HttpClient","sap/ushell/resources","sap/ushell/utils/chipsUtils","sap/ushell/Config","sap/ushell/Container"],function(e,t,i,a,r,n,s){"use strict";function o(){var e=window["sap-ushell-config"].services&&window["sap-ushell-config"].services.PagePersistence||{};return(t.get("config.serviceUrl",e.adapter)||"").replace(/\/?$/,"/")}var c=function(){this.S_COMPONENT_NAME="sap.ushell_abap.adapters.abap.PagePersistenceAdapter"};c.prototype.getPage=function(e){return Promise.all([this._readPage(e),s.getServiceAsync("URLParsing")]).then(function(e){var t=e[0];var i=e[1];return this._convertODataToReferenceData(t,i)}.bind(this)).catch(this._rejectWithError.bind(this))};c.prototype.getPages=function(e){return Promise.all([this._readPages(e),s.getServiceAsync("URLParsing")]).then(function(e){var t=e[0].results;var i=e[1];return t.map(function(e){return this._convertODataToReferenceData(e,i)}.bind(this))}.bind(this)).catch(this._rejectWithError.bind(this))};c.prototype._readPage=function(t){return new Promise(function(a,r){var n={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"",Accept:"application/json, text/plain"};var c=s.getUser().getLanguage();if(c){n["sap-language"]=c}var p=s.getLogonSystem();var l=p?p.getClient():"";if(l){n["sap-client"]=l}var d=o();var u=new i(d,{headers:n});var g=d+"pageSet('"+encodeURIComponent(t)+"')"+"?$expand=sections/viz,vizReferences/chipBags/properties,tileTypes/vizOptions/displayFormats/supported";u.get(g).then(function(e){a(JSON.parse(e.responseText).d)}).catch(r)})};c.prototype._readPages=function(t){return new Promise(function(a,r){var n={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":e.getLanguage()||"",Accept:"application/json, text/plain","content-type":"multipart/mixed; boundary=batch_bd56-ff53-571c"};var c=s.getUser().getLanguage();if(c){n["sap-language"]=c}var p=s.getLogonSystem();var l=p?p.getClient():"";if(l){n["sap-client"]=l}var d="pageSet?$expand="+encodeURIComponent("sections/viz,vizReferences/chipBags/properties,tileTypes/vizOptions/displayFormats/supported")+"&$filter=";var u=t.length?"id eq '"+t.join("' or id eq '")+"'":"";var g=o();var h=g+"$batch";var f=new i(g,{headers:n});var v=this._createBatchData(d+encodeURIComponent(u).replace(/[!'()*]/g,escape));f.post(h,{data:v}).then(function(e){var t=this._retrieveBatchData(e);a(t)}.bind(this)).catch(r)}.bind(this))};c.prototype._createBatchData=function(e){var t=s.getUser().getLanguage();var i=s.getLogonSystem()?s.getLogonSystem().getClient():"";var a=["--batch_bd56-ff53-571c","Content-Type: application/http","Content-Transfer-Encoding: binary","","GET "+e+" HTTP/1.1","sap-cancel-on-close: true","sap-language: "+(t||""),"sap-client: "+(i||""),"sap-contextid-accept: header","Accept: application/json","Accept-Language: "+(t||""),"DataServiceVersion: 2.0","MaxDataServiceVersion: 2.0","X-Requested-With: XMLHttpRequest","","","","--batch_bd56-ff53-571c--"];return a.join("\r\n")};c.prototype._retrieveBatchData=function(e){var t=e.responseText.split("\r\n");var i=[];for(var a=0;a<t.length;a++){if(t[a].startsWith("{")){i=t[a]}}return JSON.parse(i).d};c.prototype._convertODataToReferenceData=function(e,t){var i={};var a={page:{id:e.id,title:e.title,description:e.description,createdBy:e.createdBy,createdByFullname:e.createdByFullname||e.createdBy,modifiedBy:e.modifiedBy,modifiedByFullname:e.modifiedByFullname||e.modifiedBy,sections:e.sections.results.map(function(e){return{id:e.id,sectionIndex:e.sectionIndex,title:e.title,viz:e.viz.results.map(function(e){return{catalogTileId:e.catalogTileId,id:e.id,itemIndex:e.itemIndex,targetMappingId:e.targetMappingId,vizId:e.catalogTileIdStable,inboundPermanentKey:e.targetMappingIdStable,displayFormatHint:e.displayFormatHint}}).sort(function(e,t){return e.itemIndex-t.itemIndex})}}).sort(function(e,t){return e.sectionIndex-t.sectionIndex})},visualizations:e.vizReferences.results.reduce(function(e,a){var n=this._getSimplifiedChip(a);var s={vizId:a.catalogTileIdStable,vizType:a.tileType,title:a.title,subTitle:a.subTitle,icon:a.iconUrl,info:r.getInfoFromSimplifiedChip(n),keywords:r.getKeywordsFromSimplifiedChip(n),size:r.getTileSizeFromSimplifiedChip(n),indicatorDataSource:r.getIndicatorDataSourceFromSimplifiedChip(n),url:r.getTargetUrlFromSimplifiedChip(n,t),numberUnit:r.getNumberUnitFromSimplifiedChip(n),isCustomTile:r.isCustomTileFromSimplifiedChip(n),_instantiationData:{platform:"ABAP",simplifiedChipFormat:true,chip:n}};e[a.catalogTileIdStable]=s;if(a.fromPersonalization&&a.id!==a.catalogTileIdStable){i[a.id]=s}return e}.bind(this),{}),vizTypes:e.tileTypes.results.reduce(function(e,t){var i=t.vizOptions.displayFormats;var a=t.id;e[a]={id:a,url:t.url,vizOptions:{displayFormats:{supported:i.supported.results.map(function(e){return e.id}),default:i.preferred}}};return e},{})};a.unstableVisualizations=Object.keys(i).length>0?i:null;return a};c.prototype._getSimplifiedChip=function(e){var t={};var i;try{i=JSON.parse(e.configuration)}catch(e){i={}}e.chipBags.results.forEach(function(e){t[e.id]={texts:{},properties:{}};e.properties.results.forEach(function(i){if(i.translatable){t[e.id].texts[i.id]=i.value}else{t[e.id].properties[i.id]=i.value}})});return{chipId:e.tileType,configuration:i,bags:t}};c.prototype._rejectWithError=function(e){var t={component:this.S_COMPONENT_NAME,description:a.i18n.getText("PagePersistenceAdapter.CannotLoadPage"),detail:e};return Promise.reject(t)};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/PersonalizationAdapter", ["sap/ushell_abap/adapters/abap/AdapterContainer","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell_abap/pbServices/ui2/Error","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/Container"],function(a,e,t,r,p,s,n){"use strict";var i=function(a,i,o){s.debug("[000] PersonalizationAdapter: constructor","PersonalizationAdapter");this._oConfig=o&&o.config;var u=(p.get("config.services.personalization.baseUrl",o)||"/sap/opu/odata/UI2/INTEROP")+"/";var l={baseUrl:u,"sap-language":n.getUser().getLanguage(),"sap-client":n.getLogonSystem().getClient()};this._oWrapper=e.createODataWrapper(l);function c(a){throw new r(a,"sap.ushell_abap.adapters.abap.PersonalizationAdapter")}t.call(this,this._oWrapper,c)};i.prototype.supportsGetWithoutSubsequentLoad=true;i.prototype.getAdapterContainer=function(e,t,r){return new a(e,this,t,r)};i.prototype.delAdapterContainer=function(a,e){return this.getAdapterContainer(a,e).del()};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/PersonalizationV2Adapter", ["./PersonalizationAdapter"],function(e){"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/SearchAdapter", [],function(){"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/SupportTicketAdapter", ["sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/ushell/utils","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell/Container"],function(t,e,a,n,i,s){"use strict";return function(){function r(e){var a;if(e&&!t(e)){a=JSON.stringify(e);return a.replace(/\{|\}|\\n|,/g,"\n")}return""}this.createTicket=function(t){var u="/sap/opu/odata/UI2/INTEROP/";var c="Messages";var o=s;var l,g,p,b;if(!t.text){throw new a.Error("Support Ticket data does not contain text member")}l=e.get("clientContext.navigationData.applicationInformation.url",t);g=e.get("clientContext.navigationData.navigationHash",t);p=e.get("clientContext.navigationData.tileDebugInfo",t);l=typeof l==="string"?l:"";g=typeof g==="string"?g:"";p=typeof p==="string"&&p.length>0?JSON.parse(p).catalogId||"":"";t.text=t.text.trim();t.subject=t.subject.trim();if(t.subject.length>40){t.text=t.subject+"\n"+t.text;t.subject=t.subject.substring(0,40).slice(0,-3)+"..."}t.url=l;t.catalogId=p;t.hash=g;t.clientContext=r(t.clientContext);var f=new Promise(function(e,a){var s={baseUrl:u,"sap-language":o.getUser().getLanguage(),"sap-client":o.getLogonSystem().getClient()};b=n.createODataWrapper(s);i.call(this,b,function(){return false});b.create(c,t,function(t){e(t.messageNumber)},function(t){a(t)})}.bind(this));return f}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/Ui5ComponentLoaderAdapter", [],function(){"use strict";return function(){}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/abap/UserInfoAdapter", ["sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ui/thirdparty/datajs","sap/ui/thirdparty/jquery","sap/ui/VersionInfo","sap/base/Log","sap/ushell/resources","sap/base/i18n/date/CalendarWeekNumbering"],function(e,t,jQuery,r,a,s,n){"use strict";var i;var o="default";return function(){this._updateODataObjectBasedOnDatatype=function(e,t){if(jQuery.type(e)==="string"){t.value=e.toString();t.dataType="Edm.String"}if(jQuery.type(e)==="boolean"){t.value=e.toString();t.dataType="Edm.Boolean"}return t};this._getThemeList=async function(){let e="/sap/bc/rest/themes";const t=window["sap-ushell-config"]?.startupConfig?.client;if(t){e+="/~client-"+t}const a=e+"/themeroot/v1";e+="/themelist/v1";const s=await r.load();const n=s.version;if(n){e+="/~v=UI5:"+n}e+="?filter-types=STANDARD,SET";const i=await fetch(e);if(!i.ok){throw new Error(`List API failed with status: ${i.status}`)}const o=await i.json();const u=[];const p=[];o.forEach(e=>{if(e?.type==="STANDARD"){e.name=e.label;u.push(e)}else if(e?.type==="SET"){p.push(e)}});return{themes:u,sets:p,themeRoot:a}};this.getThemeList=function(){const e=new jQuery.Deferred;this._getThemeList().then(t=>{e.resolve({options:t.themes,sets:t.sets,themeRoot:t.themeRoot})}).catch(function(r){a.error(r,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter");t.read({requestUri:"/sap/opu/odata/UI2/INTEROP/Themes"},t=>{e.resolve({options:t?.results||[]})},t=>{a.error(t.message,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter");e.reject(t.message)})});return e.promise()};this.getCalendarWeekNumberingList=function(){return[{value:n.Default,title:s.i18n.getText("DefaultWeekNumberingTitle"),description:s.i18n.getText("DefaultWeekNumberingText")},{value:n.ISO_8601,title:s.i18n.getText("ISO_8601WeekNumberingTitle"),description:s.i18n.getText("ISO_8601WeekNumberingText")},{value:n.MiddleEastern,title:s.i18n.getText("MiddleEasternWeekNumberingTitle"),description:s.i18n.getText("MiddleEasternWeekNumberingText")},{value:n.WesternTraditional,title:s.i18n.getText("WesternTraditionalWeekNumberingTitle"),description:s.i18n.getText("WesternTraditionalWeekNumberingText")}]};this.getLanguageList=function(){var e=new jQuery.Deferred,r=encodeURI("/sap/opu/odata/UI2/INTEROP/UserProfilePropertyValues?$filter=id eq 'PREFERRED_LOGON_LANGUAGE'");t.read({requestUri:r},function(t){var r=[{text:s.i18n.getText("userSettings.browserLanguage"),key:o}];var a=t.results.map(function(e){return{text:e.description,key:e.value}}).sort(function(e,t){return e.text.localeCompare(t.text)});r=r.concat(a);e.resolve(r)},function(t){a.error(t.message,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter");e.reject(t.message)});return e.promise()};this.getUserProfilePropertyValueLists=function(){var e=new jQuery.Deferred;var t;var r={};var s=["NUMBER_FORMAT","TIME_ZONE","TIME_FORMAT","DATE_FORMAT","CALENDAR_WEEK_NUMBERING"];var n=this._createWrapper("/sap/opu/odata/UI2/INTEROP/");n.openBatchQueue();var i;for(var o=0;o<s.length;o++){i=s[o];t=encodeURI("UserProfilePropertyValues?$filter=id eq '"+i+"'&$select=description,value");n.read(t,function(e){r[this]=e.results}.bind(i),function(e){a.error(e.message,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter")})}n.submitBatchQueue(function(){e.resolve(r)},function(t){a.error(t.message,null,"sap.ushell_abap.adapters.abap.UserInfoAdapter");e.reject(t.message)});return e.promise()};this._createWrapper=function(t){return e.createODataWrapper(t,false,function(e){})};this.updateUserPreferences=function(e){a.debug("[000] updateUserPreferences","UserInfoAdapter");var t=this,r,s,n,u,p,l=function(){u-=1;if(u===0){r.resolve()}},d=function(e,t){r.reject(e,t)};a.debug("[000] updateUserPreferences: _createWrapper","UserInfoAdapter");i=this._createWrapper("/sap/opu/odata/UI2/INTEROP/");r=new jQuery.Deferred;a.debug("[000] updateUserPreferences: oDataWrapper.openBatchQueue","UserInfoAdapter");i.openBatchQueue();n=e.getChangedProperties()||[];a.debug("[000] updateUserPreferences: getChangedProperties","UserInfoAdapter");u=n.length;n.forEach(function(e){var r=e.name,n=e.newValue;if(r.toUpperCase()==="LANGUAGE"){r="PREFERRED_LOGON_LANGUAGE";n=n===o?undefined:n}s="UserProfileProperties("+["id='"+r+"'","shellType='FLP')"].join(",");p={id:r,shellType:"FLP",value:n};t._updateODataObjectBasedOnDatatype(n,p);a.debug("[000] updateUserPreferences: oDataWrapper: put","UserInfoAdapter");i.put(s,p,l,d)});a.debug("[000] updateUserPreferences: submitBatchQueue","UserInfoAdapter");i.submitBatchQueue(function(){if(u===0){r.resolve()}},d);return r.promise()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/adapters/hana/ContainerAdapter", ["sap/ui/thirdparty/jquery","sap/base/Log"],function(jQuery,e){"use strict";return function(a){var r;this.getSystem=function(){return a};this.getUser=function(){return r};this.logout=function(){var r=new jQuery.Deferred;jQuery.ajax({type:"HEAD",url:a.adjustUrl("/sap/hana/xs/formLogin/token.xsjs"),headers:{"X-CSRF-Token":"Fetch"},success:function(n,s,t){jQuery.ajax({type:"POST",url:a.adjustUrl("/sap/hana/xs/formLogin/logout.xscfunc"),headers:{"X-CSRF-Token":t.getResponseHeader("X-CSRF-Token")},success:function(){e.info("HANA system logged out: "+a.getAlias(),null,"sap.ushell_abap.adapters.hana.ContainerAdapter");r.resolve()},error:function(){e.error("Logging out HANA system failed: "+a.getAlias(),null,"sap.ushell_abap.adapters.hana.ContainerAdapter");r.resolve()}})},error:function(){e.error("Fetching X-CSRF-Token failed: "+a.getAlias(),null,"sap.ushell_abap.adapters.hana.ContainerAdapter");r.resolve()}});return r.promise()}}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/SAPCompanionConditionSetter", ["sap/base/Log","sap/base/util/Deferred"],function(e,n){"use strict";var i={};i._timeoutCounter=120;i._ushellConfig=undefined;i.run=function(){var s=0;var r=new n;if(i._ushellConfig===undefined){i._ushellConfig=window["sap-ushell-config"]}var t=function(){if(window.Help4!==undefined){const s=i._ushellConfig.ushell.spaces;var n={};n.FLPClassicHPActiveCurrentUser=!s.enabled;n.FLPClassicHPPossActiveAllUsers=s.configurable===false&&s.enabled===false||s.configurable===true;n.FLPClientRole=i._ushellConfig.startupConfig.clientRole;window.Help4.API.setConditions(n);e.info("Conditions transferred to SAP Compagnion / SAP Help: "+JSON.stringify(n));return true}return false};var l=function(){if(s<i._timeoutCounter){s++;if(!t()){setTimeout(l,1e3)}else{r.resolve();return}}else{r.reject()}};l();return r.promise};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/XhrLogonEventHandler", ["./abap.bootstrap.utils","sap/base/util/ObjectPath","sap/base/Log"],function(e,t,o){"use strict";var i="sap-ushell-reloaded";function r(e,t){this._oWindow=e||window;this._sXhrLogonMode=t;this._bPending=false}r.prototype.handleEvent=function(e){if(this._bPending){return true}if(e.type==="logon"){this._bPending=true;if(this._sXhrLogonMode==="logoffAndRedirect"){this._showErrorAndReload({key:"bootstrap.xhr.authenticationRequired",text:"Authentication required"},{key:"bootstrap.xhr.sessionExpired",text:"Your session has expired. Press OK to reload."},this._logoffAndRedirect,this._handleAuthenticationRequiredNoUi5.bind(this))}else{this._showErrorAndReload({key:"bootstrap.xhr.authenticationRequired",text:"Authentication required"},{key:"bootstrap.xhr.sessionExpired",text:"Your session has expired. Press OK to reload."},this._reloadPage,this._handleAuthenticationRequiredNoUi5.bind(this))}}else{o.error("Cannot handle event with type: "+e.type,null,"sap.ushell_abap.bootstrap.evo.XhrLogonEventHandler")}return true};r.prototype._getUpdatedLocationSearchForReload=function(e){var t=Date.now(),o=new RegExp(["(.*)([?&])",i,"(=[^&]*)?(.*)"].join("")),r,n=false;if(typeof e!=="string"){throw new Error("Illegal argument: sCurrentLocationSearch must be a string")}r=e.replace(o,function(e,o,r,a,s){n=true;return[o,r,i,"=",t,s].join("")});if(!n){if(e){r=[e,"&",i,"=",t].join("")}else{r=["?",i,"=",t].join("")}}return r};r.prototype._reloadPage=function(){var e=this;e._oWindow.setTimeout(function(){e._oWindow.location.search=e._getUpdatedLocationSearchForReload(e._oWindow.location.search)},0)};r.prototype._logoffAndRedirect=function(){var o=e.getLocationHref(),i=t.get("sap-ushell-config.services.Container.adapter.config.client"),r;r=new URI("/sap/public/bc/icf/logoff").absoluteTo(o).search("sap-client="+i+"&propagateLogoff=false&redirectURL="+encodeURIComponent(o)).toString();document.location=r};r.prototype._isPageReloaded=function(){return new RegExp(["[?&]",i].join("")).test(this._oWindow.location.search)};r.prototype._handleAuthenticationRequiredNoUi5=function(e){if(!this._isPageReloaded()){o.error("Illegal state: XHR authentication (mode=reload) requested before SAPUI5 is initialized. "+"This should not happen if the FioriLaunchpad.html page is loaded from the server. Trying to reload page once.",null,"sap.ushell_abap.bootstrap.evo.XhrLogonEventHandler");var t="Authentication required\n\nYour session might have expired. Press OK to reload.";this._oWindow.alert(t);e.call(this)}else{o.error("Illegal state: XHR authentication (mode=reload) requested before SAPUI5 is initialized and page reload has been triggered once."+" Stopping reload to avoid endless loop. This state cannot be overcome. Please ensure that the FioriLaunchpad.html"+" page is not cached, but always loaded from the server.",null,"sap.ushell_abap.bootstrap.evo.XhrLogonEventHandler")}};r.prototype._showErrorAndReload=function(e,t,o,i){var r;var n;if(sap.ui.require("sap/ui/core/Core")&&sap.ui.require("sap/m/MessageBox")){var a=sap.ui.require("sap/m/MessageBox");var s=a.Action;var d=a.Icon;const i=sap.ui.require("sap/ushell/resources");if(i){r=this._getText(e,i);n=this._getText(t,i)}if(sap.ui.require("sap/ui/core/BusyIndicator")){var l=sap.ui.require("sap/ui/core/BusyIndicator");if(typeof l.show==="function"&&typeof l.hide==="function"){l.hide();l.show=function(){}}}a.show(n,{icon:d.ERROR,title:r,actions:[s.OK],onClose:o.bind(this)})}else{i.call(this,o)}};r.prototype._getText=function(e,t){const o=t.i18n.getText(e.key);if(o&&o!==e.key){return o}return e.text};return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap-def-dev", ["./abap.configure.ushell","./abap.configure.theme","./abap.load.launchpad","./boottask","sap/ushell/bootstrap/common/common.configure.ui5","sap/ushell/bootstrap/common/common.configure.ui5.extractLibs","sap/ushell/bootstrap/common/common.debug.mode","sap/ushell/bootstrap/common/common.load.bootstrapExtension"],function(a,o,s,t,e,p,n,l){"use strict";window["sap-ui-debug"]=n.isDebug();const m=a();const{theme:u,themeRoots:b}=o(m);e({ushellConfig:m,libs:p(m),theme:u,themeRoots:b,platform:"abap",platformAdapters:{abap:"sap.ushell_abap.adapters.abap",hana:"sap.ushell_abap.adapters.hana"},bootTask:t.start,onInitCallback:s});l(m)});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap-def", ["./abap.configure.ushell","./abap.configure.theme","./abap.load.launchpad","./boottask","sap/ushell/bootstrap/common/common.configure.ui5","sap/ushell/bootstrap/common/common.configure.ui5.extractLibs","sap/ushell/bootstrap/common/common.load.bootstrapExtension","sap/ushell/bootstrap/common/common.debug.mode","sap/ushell/bootstrap/common/common.load.core-min"],function(o,a,s,t,e,l,m,n,p){"use strict";window["sap-ui-debug"]=n.isDebug();const u=o();const{theme:c,themeRoots:b}=a(u);e({ushellConfig:u,libs:l(u),theme:c,themeRoots:b,platform:"abap",platformAdapters:{abap:"sap.ushell_abap.adapters.abap",hana:"sap.ushell_abap.adapters.hana"},bootTask:t.start,onInitCallback:s});p.load(u.ushell.customPreload);m(u)});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.bootstrap.utils", ["sap/base/util/ObjectPath","sap/ushell_abap/pbServices/ui2/Utils"],function(e,t){"use strict";const r=Object.getOwnPropertyNames(Object.prototype);var n={};n.getUrlParameterValue=function(e,r){var n=r||t.getParameterMap();return n[e]&&n[e][0]};n.createAndOpenXHR=function(e,t,r){r=r||"GET";var a=new XMLHttpRequest;a.open(r,e,true);if(t){n.addCommonHeadersToXHR(a,t)}return a};n.addCommonHeadersToXHR=function(e,t){e.setRequestHeader("Accept","application/json");if(t.client){e.setRequestHeader("sap-client",t.client)}if(t.language){e.setRequestHeader("sap-language",t.language)}return e};n.getCacheIdAsQueryParameter=function(t){var r=e.get("services.targetMappings.cacheId",t);if(typeof r==="string"){return"&sap-cache-id="+r}return""};n.mergeConfig=function(e,t,a){var o=a?JSON.parse(JSON.stringify(t)):t;if(typeof t!=="object"){return}Object.keys(o).forEach(function(t){if(r.includes(t)){return}if(Object.prototype.toString.apply(e[t])==="[object Object]"&&Object.prototype.toString.apply(o[t])==="[object Object]"){n.mergeConfig(e[t],o[t],false);return}e[t]=o[t]})};n.getLocationOrigin=function(){return location.protocol+"//"+location.host};n.getLocationHref=function(){return location.href};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.configure.theme", [],function(){"use strict";function t(t){let e;const i=t?.startupConfig||{};const n=i.userProfile?.find(t=>t?.id==="THEME");const s=n?.value||i.theme||"sap_horizon";let o=i.themeRoot;if(!o&&i.client){o="/sap/public/bc/themes/~client-"+i.client}if(o&&!s.startsWith("sap_")){e={};e[s]=o.replace(/\/?$/,"/UI5/")}return{theme:s,themeRoots:e}}return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.configure.ushell", ["./abap.constants","sap/ushell/bootstrap/common/common.configure.ushell","sap/base/util/ObjectPath","sap/base/Log"],function(e,a,t,r){"use strict";function s(e){var a="sap/ushell_abap/bootstrap/evo/abap.configure.ushell";var t=e.messages;if(t&&t.length>0){for(var s=0;s<t.length;s+=1){if(t[s].severity==="error"){r.error(t[s].text,null,a)}else if(t[s].severity==="warning"){r.warning(t[s].text,null,a)}}}}function n(e){if(e.startupConfig){var a=t.get("services.Container.adapter.config.systemProperties",e);var r=t.create("services.Container.adapter",e);r.config=e.startupConfig;if(a){r.config.systemProperties=a}}}function o(e){var a=t.get("ushell.spaces.configurable",e);if(a){var r=t.get("startupConfig.userProfile",e)||[];var s=r.filter(function(e){return e.id==="SPACES_ENABLEMENT"})[0];var n=s&&s.value;if(n==="true"){t.set("ushell.spaces.enabled",true,e)}else if(n==="false"){t.set("ushell.spaces.enabled",false,e)}}}function i(e){var a=t.create("services.CommonDataModel.adapter",e);a.module="sap.ushell.adapters.cdm.PagesCommonDataModelAdapter"}function l(e){var a=t.get("bootstrapPlugins",e)||{};Object.keys(a).forEach(function(e){var t=a[e];if(t.hasOwnProperty("formFactors")){var r=t.formFactors,s={};s.desktop=r.desktop||false;s.tablet=r.tablet||false;s.phone=r.phone||false;t.deviceTypes=s;delete t.formFactors}})}function f(e){var a=t.get("startupConfig.userProfile",e)||[];var r=a.filter(function(e){return e.id==="PREFERRED_LOGON_LANGUAGE"})[0];if(r&&r.value!==undefined){var s=r.value!=="";e.startupConfig.isLanguagePersonalized=s}}function u(){var r=a(e);s(r);f(r);n(r);o(r);if(t.get("ushell.spaces.enabled",r)){i(r)}l(r);return r}return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.constants", [],function(){"use strict";return{defaultUshellConfig:{defaultRenderer:"fiori2",ushell:{home:{tilesWrappingType:"Hyphenated"},darkMode:{enabled:true},spaces:{myHome:{enabled:true}},customPreload:{enabled:true,coreResources:["sap/ushell_abap/bootstrap/evo/core-min-0.js","sap/ushell_abap/bootstrap/evo/core-min-1.js","sap/ushell_abap/bootstrap/evo/core-min-2.js","sap/ushell_abap/bootstrap/evo/core-min-3.js"],coreResourcesComplement:["sap/ushell_abap/bootstrap/evo/core-ext-light-0.js","sap/ushell_abap/bootstrap/evo/core-ext-light-1.js","sap/ushell_abap/bootstrap/evo/core-ext-light-2.js","sap/ushell_abap/bootstrap/evo/core-ext-light-3.js"]}},renderers:{fiori2:{componentData:{config:{sessionTimeoutReminderInMinutes:5,sessionTimeoutIntervalInMinutes:-1,sessionTimeoutTileStopRefreshIntervalInMinutes:15,enableContentDensity:true,enableAutomaticSignout:true,enablePersonalization:true,enableAbout:true,enableTagFiltering:false,enableSearch:true,enableSetTheme:true,enableSetLanguage:true,enableAccessibility:true,enableHelp:false,enableUserDefaultParameters:true,preloadLibrariesForRootIntent:false,enableNotificationsUI:false,enableRecentActivity:true,tilesWrappingType:"Hyphenated",applications:{"Shell-home":{enableEasyAccess:true,enableHideGroups:false,homePageGroupDisplay:"scroll",enableTileActionsIcon:false}},rootIntent:"Shell-home"}}}},services:{Personalization:{config:{appVariantStorage:{enabled:true,adapter:{module:"sap.ushell.adapters.AppVariantPersonalizationAdapter"}}}},PersonalizationV2:{config:{appVariantStorage:{enabled:true,adapter:{module:"sap.ushell.adapters.AppVariantPersonalizationAdapter"}}}},CrossApplicationNavigation:{config:{"sap-ushell-enc-test":false}},NavTargetResolution:{config:{enableClientSideTargetResolution:true}},NavTargetResolutionInternal:{config:{enableClientSideTargetResolution:true}},ShellNavigation:{config:{reload:false}},ShellNavigationInternal:{config:{reload:false}},UserDefaultParameterPersistence:{adapter:{module:"sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter"}},Notifications:{config:{enabled:false,serviceUrl:"/sap/opu/odata4/iwngw/notification/default/iwngw/notification_srv/0001",webSocketUrl:"/sap/bc/apc/iwngw/notification_push_apc",pollingIntervalInSeconds:30,enableNotificationsPreview:false}},NotificationsV2:{config:{enabled:false,serviceUrl:"/sap/opu/odata4/iwngw/notification/default/iwngw/notification_srv/0001",webSocketUrl:"/sap/bc/apc/iwngw/notification_push_apc",pollingIntervalInSeconds:30,enableNotificationsPreview:false}},AllMyApps:{config:{enabled:true,showHomePageApps:true,showCatalogApps:true}},NavigationDataProvider:{adapter:{module:"sap.ushell_abap.adapters.abap.ClientSideTargetResolutionAdapter"}},PagePersistence:{adapter:{config:{serviceUrl:"/sap/opu/odata/UI2/FDM_PAGE_RUNTIME_SRV/"}}},Menu:{adapter:{config:{enabled:false}}}},xhrLogon:{mode:"frame"},bootstrapPlugins:{UiAdaptationPersonalization:{component:"sap.ushell.plugins.rta-personalize",enabled:false}},ui5:{libs:{"sap.ui.core":true,"sap.m":true,"sap.ushell":true},timeZoneFromServerInUI5:false},apps:{placeholder:{enabled:true},inputFieldSuggestions:{enabled:true}}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.load.launchpad", ["./boottask","sap/ushell_abap/pbServices/ui2/contracts/bag","sap/ushell_abap/pbServices/ui2/contracts/configuration","sap/ushell_abap/pbServices/ui2/contracts/configurationUi","sap/ushell_abap/pbServices/ui2/contracts/fullscreen","sap/ushell_abap/pbServices/ui2/contracts/preview","sap/ushell_abap/pbServices/ui2/contracts/visible","sap/ushell_abap/pbServices/ui2/contracts/refresh","sap/ushell_abap/pbServices/ui2/contracts/search","sap/ushell_abap/pbServices/ui2/contracts/url","sap/ushell_abap/pbServices/ui2/contracts/actions","sap/ushell_abap/pbServices/ui2/contracts/types"],function(e){"use strict";return function(){sap.ui.require(["sap/ushell/Container","sap/ushell/iconfonts","sap/ushell/state/StateManager"],function(e,s,a){const t=a.ShellMode;e.createRendererInternal("fiori2").then(function(s){s.placeAt("canvas","only");var r=e.getLogonSystem();const n=a.getShellMode();if(!r.getSysInfoBar()||n===t.Headerless){return}sap.ui.require(["sap/ushell/renderer/ShellLayout","sap/ushell/ui/shell/SysInfoBar"],function(e,s){var a="<div id='systemInfo-shellArea'></div>";var t=document.getElementById(e.ShellArea.ShellHeader);t.insertAdjacentHTML("beforebegin",a);new s({icon:r.getSysInfoBarIcon(),text:r.getSysInfoBarMainText(),subText:r.getSysInfoBarSecondaryText(),color:r.getSysInfoBarColor()}).placeAt("systemInfo-shellArea")})});s.registerFiori2IconFont()});e.afterBootstrap()}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.request.pageset", ["./abap.bootstrap.utils","sap/ushell/bootstrap/common/common.util","sap/ui/thirdparty/jquery","sap/ushell_abap/pbServices/ui2/Utils","sap/base/Log"],function(e,a,jQuery,s,i){"use strict";var t={},r="/sap/opu/odata/UI2/PAGE_BUILDER_PERS",n="Pages/PageChipInstances/Chip/ChipBags/ChipProperties,"+"Pages/PageChipInstances/RemoteCatalog,"+"Pages/PageChipInstances/ChipInstanceBags/ChipInstanceProperties,"+"AssignedPages,DefaultPage",c="PageSets('%2FUI2%2FFiori2LaunchpadHome')";var u=a.isSapStatisticsSet();function l(e){var a=p(e),s=f(a);h(a,e,function(e,a,i){d(s,e,a,i)})}function p(a){var s=e.getUrlParameterValue("sap-ui2-cache-disable");if(s&&a&&a.services&&a.services.pbFioriHome){a.services.pbFioriHome["sap-ui2-cache-disable"]=s}return o(a,"pbFioriHome",r,c,n)}function o(e,a,s,t,r){var n,c,u=false;if(e.services){if(e.services[a]){c=e.services[a]}else{c={};e.services[a]=c;u=true}}else{c={};e.services={};e.services[a]=c;u=true}if(!c.baseUrl||!c.relativeUrl){c.baseUrl=s;c.relativeUrl=t;u=true}if(u){i.warning("URL for "+a+" service not found in startup service result; fallback to default; cache invalidation might fail",null,"sap.ushell_abap.bootstrap")}if(c.baseUrl.lastIndexOf("/")!==c.baseUrl.length-1){c.baseUrl+="/"}if(c.relativeUrl[0]==="/"){c.relativeUrl=c.relativeUrl.slice(1)}n=c.baseUrl+c.relativeUrl;if(!/\$expand=/.test(n)&&r){n+=(n.indexOf("?")<0?"?":"&")+"$expand="+r}if(c.cacheId){n+=(n.indexOf("?")<0?"?":"&")+"sap-cache-id="+c.cacheId}if(c["sap-ui2-cache-disable"]){n+=(n.indexOf("?")<0?"?":"&")+"sap-ui2-cache-disable="+c["sap-ui2-cache-disable"]}return n}function d(e,a,s,i){if(a===200){e.resolve(JSON.parse(i).d,s)}else{e.reject(i)}}function f(e){var a=new jQuery.Deferred;sap.ui.require(["sap/ui/thirdparty/datajs"],function(i){OData.read.$cache=OData.read.$cache||new s.Map;OData.read.$cache.put(e,a.promise())});return a}function h(a,s,i){var t;t=e.createAndOpenXHR(a,s);if(u){t.setRequestHeader("sap-statistics","true")}t.onreadystatechange=function(){if(this.readyState!==4){return}i(t.status,undefined,t.responseText)};t.send()}t.requestPageSet=l;t._getAndAdjustServiceURL=o;t._getAndAdjustPageSetServiceURL=p;t._setSapStatistics=function(e){u=e};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.request.startup", ["./abap.bootstrap.utils","sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell/utils"],function(e,t,r,a,n){"use strict";var s={};function i(t,r,s){var i="/sap/bc/ui2/start_up?",o=a.getParameterMap(),u;if(t){i+=t+"&"}function c(e){var t=o[e];if(t){i+=e+"="+encodeURIComponent(t[0])+"&"}}r.forEach(c);i+="shellType="+n.getShellType()+"&depth=0";if(s){i+=e.getCacheIdAsQueryParameter(s);u=e.createAndOpenXHR(i,s)}return new Promise(function(e,t){a.get(i,false,function(t){var r=JSON.parse(t);e(r)},t,u)})}s.requestStartupConfig=function(){var e=t.get("sap-ushell-config.services.Container.adapter.config");if(e){return Promise.resolve(e)}return i("",["sap-language","sap-client"])};s.requestFullTM=function(e){return i("so=%2A&action=%2A&systemAliasesFormat=object",["sap-language","sap-client","sap-ui2-cache-disable"],e).then(function(e){if(e){if(e.client){return Promise.reject("A start up response was returned in a target mappings request.")}return Promise.resolve(e)}return Promise.resolve({})},function(e){r.error("navTargetDataPromise rejected: "+e);return Promise.reject(e)})};s.requestDirectStart=function(e,t,r){var n=a.getFormFactor(),s="";s="so="+t.semanticObject+"&action="+t.action;s+="&systemAliasesFormat=object";Object.keys(r).forEach(function(e){s+="&"+e+"="+r[e]});if(n){s+="&formFactor="+encodeURIComponent(n)}return i(s,["sap-language","sap-client"],e).then(function(e){return Promise.resolve(e)})};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.theme.handler", ["sap/ui/thirdparty/URI","sap/base/Log","sap/ushell/bootstrap/common/common.read.metatags"],function(e,r,t){"use strict";var i={};function o(e){var i=t.readMetaTags("sap-allowed-theme-origins",function(e){return e.trim()});var o="";if(i.length>0){o=i[0]}else{r.debug('No meta tag "sap-allowed-theme-origins" was found. No allowed origin for "theme-url" was applied.')}return!!o&&o.split(",").some(function(r){return r==="*"||e===r.trim()})}i.isThemeRootSafe=function(r){var t=new e(r).search(""),i=t.origin().toString();if(i===""||o(i)||t.origin()===window.location.origin){return true}return false};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.xhrlogon.LibLoader", ["sap/ushell/bootstrap/common/common.debug.mode"],function(r){"use strict";var e=new Promise(function(e){var i="sap/ushell_abap/thirdparty/sap-xhrlib-esm"+(r.isDebug()?"-dbg":"")+".js";var t=sap.ui.require.toUrl(i);import(t).then(function(r){e(r.xhrlib)})});return{getLib:function(){return e}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.xhrlogon.configure", ["sap/ushell/bootstrap/common/common.util","sap/base/Log"],function(n,r){"use strict";function e(){return["error","warning","info","debug"].reduce(function(n,e){n[e]=function(n){return r[e](n)};return n},{})}function i(r){var e=n.getLocationOrigin(),i=sap.ui.require.toUrl("");if(i&&i.indexOf(e+"/")===-1){r.ignore.add(i)}}var o={initXhrLogonIgnoreList:i,createUi5ConnectedXhrLogger:e};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/abap.xhrlogon.handler", ["sap/ushell_abap/bootstrap/evo/abap.xhrlogon.LibLoader","sap/ushell_abap/bootstrap/evo/abap.xhrlogon.configure","sap/ushell_abap/bootstrap/evo/abap.bootstrap.utils","sap/ushell_abap/bootstrap/evo/XhrLogonEventHandler","sap/base/Log"],function(e,o,n,a,r){"use strict";var t={};t.getLogonMode=function(e){return n.getUrlParameterValue("sap-ushell-xhrLogon-mode")||e&&e.xhrLogon&&e.xhrLogon.mode||"frame"};t.initXhrLogon=function(n){e.getLib().then(function(e){var a=t.getLogonMode(n);var g=t.createXhrLogonEventHandler(window,a);var s=e.LogonManager.getInstance();var l=e.XHRLogonManager.getInstance();const i={explicitMatchOnCORS:true};e.start(i);if(a==="reload"||a==="logoffAndRedirect"){s.unregisterAllHandlers();s.registerAuthHandler("*",function(e){g.handleEvent(e)})}else if(a!=="frame"){r.warning("Unknown setting for xhrLogonMode: '"+a+"'. Using default mode 'frame'.",null,"sap.ushell_abap.bootstrap.evo.abap.xhrlogon.handler")}e.Log.set(o.createUi5ConnectedXhrLogger());o.initXhrLogonIgnoreList(l)})};t.createXhrLogonEventHandler=function(e,o){return new a(e,o)};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/bootstrap/evo/boottask", ["sap/ushell_abap/bootstrap/evo/abap.xhrlogon.LibLoader","./abap.bootstrap.utils","./abap.request.startup","./abap.request.pageset","./abap.xhrlogon.handler","./abap.theme.handler","sap/ushell/EventHub","sap/ui/performance/trace/initTraces","sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell/bootstrap/common/common.util","./SAPCompanionConditionSetter","sap/ushell/utils/UrlParsing"],function(e,t,a,n,r,i,s,o,l,c,u,p,g,f){"use strict";var m={};var h=new RegExp("^(#)?([A-Za-z0-9_]+)-([A-Za-z0-9_]+)"),d,v;function b(e){function t(e){if(!e){return false}return e.indexOf("Shell-home")===0||e.indexOf("Launchpad-openFLPPage")===0||e.indexOf("Shell-appfinder")===0||e.indexOf("Shell-catalog")===0||e.indexOf("shell-catalog")===0||e.indexOf("Action-search")===0}function a(){return window["sap-ushell_abap-bootstrap-abap-noInitialTarget"]!==undefined}var n=e.match(h);var r=n&&n[2];var i=n&&n[3];var s=e&&!t(e)&&!a()&&r&&i;return s}function P(){var e,a=t.getLocationHref(),n=a.indexOf("#");if(n<0){return""}e=decodeURI(a.slice(n+1));return e}function S(){var e=P(),t=e.indexOf("&/");return t<0?e:e.slice(0,t)}function C(){return sap.ui.require("sap/ushell/Container")}function y(e){var t=e.match(h);return t?{semanticObject:t[2],action:t[3]}:undefined}function F(e){if(!e||e==="#"){return true}return e.indexOf("Shell-home")===0||e.indexOf("Launchpad-openFLPPage")===0||e.indexOf("Shell-appfinder")===0||e.indexOf("Shell-catalog")===0||e.indexOf("shell-catalog")===0}function A(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch(e){c.error("Could not clone object",null,"sap.ushell_abap.bootstrap");return undefined}}function T(e){return e.indexOf("sap_")===0}function w(e,t){c.debug("setSapui5Settings()",JSON.stringify(e),"sap.ushell_abap.bootstrap.abap");const a=sap.ui.require("sap/base/i18n/Formatting");const n=sap.ui.require("sap/base/i18n/Localization");if(e.language){n.setLanguage(e.language,e.ABAPLanguage)}if(e.legacyDateFormat){a.setABAPDateFormat(e.legacyDateFormat)}if(e.legacyDateCalendarCustomizing){a.setCustomIslamicCalendarData(e.legacyDateCalendarCustomizing)}if(e.legacyNumberFormat){a.setABAPNumberFormat(e.legacyNumberFormat)}if(e.legacyTimeFormat){a.setABAPTimeFormat(e.legacyTimeFormat)}if(typeof t==="object"){a.addCustomCurrencies(t)}if(e.useTimeZoneIana&&e.timeZoneIana!==""){n.setTimezone(e.timeZoneIana)}}function _(e){(l.get("sap-ushell-config.services.Container.adapter.config")||l.create("sap-ushell-config.services.Container.adapter.config")).bootTheme=A(e)}function x(e){if(!e){c.error("extractSystemThemeRoot: mandatory parameter oStartupServiceResult not supplied")}if(e.themeRoot){return e.themeRoot}if(e.client){c.warning("Theme root was not contained in startup service result. A fallback to /sap/public/bc/themes/~client-<client number> is used",null,"sap.ushell_abap.bootstrap");return"/sap/public/bc/themes/~client-"+e.client}c.error("extractSystemThemeRoot: Could not determine system theme root")}function L(e){var t,a;if(e&&e.userProfile&&e.userProfile.filter){t=e.userProfile.filter(function(e){return e.id==="THEME"});a=t.length?t[0]:{};if(a.value){return a.value}}if(e&&e.theme){return e.theme}return""}function I(e,t){if(e&&T(e)){return""}return t}function O(e,t){var a;a=L(e);return{theme:a,root:I(a,t)}}function R(e){var a,n;a=t.getUrlParameterValue("sap-theme")||t.getUrlParameterValue("sap-ui-theme");if(a){if(a.indexOf("@")>0){n=a.split("@",2);return{theme:n[0],root:n[1]}}return{theme:a,root:I(a,e)}}return undefined}function H(){const e=u.getParameterMap();return e["sap-theme"]?.[0]||e["sap-ui-theme"]?.[0]}function D(e){var t=e;var a=e.indexOf("@");if(a>=0){var n=t.slice(a+1);return i.isThemeRootSafe(n)}return true}function M(e,t){var a;var n={};var r;var i=H();if(i&&D(i)){a=R(t);r=a;c.debug(`theme: URL theme = "${r.theme}"  theme root = "${r.root}"`,null,"sap.ushell_abap.bootstrap")}else if(e){r=e;c.debug(`theme: startup service theme = "${r.theme}"  theme root = "${r.root}"`,null,"sap.ushell_abap.bootstrap");if(i){const e=r.theme;sap.ui.require("sap/ui/core/Core").ready(()=>sap.ui.require("sap/ui/core/Theming").setTheme(e))}}else{n.theme=l.get("sap-ui-config.theme");if(n.theme){n.root=l.get("sap-ui-config.themeRoots."+n.theme||"");if(!n.root){n.root=I(n.theme,t)}r={theme:n.theme,root:n.root};c.debug(`theme: html file theme = "${r.theme}"  theme root = "${r.root}"`,null,"sap.ushell_abap.bootstrap")}else{r={theme:"",root:""};c.error("Could not determine theme",null,"sap.ushell_abap.bootstrap")}}_(r);return r}function q(e){const a=u.getParameterMap();const n=t.getUrlParameterValue("sap-locale",a);const r={services:{}};const i=l.get("sap-ushell-config.services.SupportTicket.config.enabled");if(i!==false){r.services.SupportTicket={config:{enabled:e.isEmbReportingActive===true}}}r.services.ClientSideTargetResolution={adapter:{config:{services:{targetMappings:e?.services?.targetMappings}}}};r.services.LaunchPage={adapter:{config:{services:{targetMappings:e?.services?.targetMappings,launchPage:e?.services?.pbFioriHome}}}};r.services.VisualizationDataProvider={adapter:{module:"sap.ushell_abap.adapters.abap.FlpLaunchPageAdapter",config:{services:{targetMappings:e?.services?.targetMappings,launchPage:e?.services?.pbFioriHome}}}};r.services.PageBuilding={adapter:{config:{services:{pageBuilding:e?.services?.pbFioriHome}}}};r.services.Personalization={adapter:{config:{services:{personalization:e?.services?.personalization}}}};let s={};if(!n){s={language:e.languageBcp47||e.language,ABAPLanguage:e.language,legacyDateFormat:e.dateFormat,legacyDateCalendarCustomizing:e.tislcal,legacyNumberFormat:e.numberFormat===""?" ":e.numberFormat,legacyTimeFormat:e.timeFormat}}let o=l.get("sap-ushell-config.ui5.timeZoneFromServerInUI5");if(o===undefined){o=false;l.set("startupConfig.timeZoneFromServerInUI5",o,r);l.set("ushell.ui5.timeZoneFromServerInUI5",o)}let c=l.get("sap-ushell-config.startupConfig.timeZone");if(c===undefined){c="";l.set("startupConfig.timeZone",c,r)}s.useTimeZoneIana=o;s.timeZoneIana=c;const g=p.getV2ServiceMigrationConfig(r);p.mergeConfig(window["sap-ushell-config"],g,true);p.mergeConfig(window["sap-ushell-config"],r,true);M(v,d);w(s,e.currencyFormats)}function z(e){var t=m._getShellHash(),n=P(),r=y(t),i=[r],s={},o={},c;var u=l.get("sap-ushell-config.services.AppState.config")||l.create("sap-ushell-config.services.AppState.config");var p=l.get("sap-ushell-config.services.ClientSideTargetResolution.adapter.config")||l.create("sap-ushell-config.services.ClientSideTargetResolution.adapter.config");function g(e,t){var a=t.match(e);var n=[];if(!a){return}n=a[2].toString().split("=");o[n[0]]=n[1]}function f(e,t,a,n,r){if(t&&t[r]&&a&&a[n]){e[a[n]]=t[r]}}if(b(t)){g(/(\?|&)(sap-xapp-state=[A-Z0-9]+)/,t);g(/(\?|&)(sap-intent-param=[A-Z0-9]+)/,t);g(/(\?|&)(sap-system=[A-Z0-9]+)/,t);g(/(\?|&|[/])(sap-iapp-state=[A-Z0-9]+)/,n);c=a.requestDirectStart(e,r,o);u.initialAppStatesPromise=c.then(function(e){f(s,e,o,"sap-intent-param","iparState");f(s,e,o,"sap-iapp-state","iappState");f(s,e,o,"sap-xapp-state","xappState");u.initialAppStates=s;return Promise.resolve(s)});p.initialSegmentPromise=c.then(function(e){if(e.targetMappings){return Promise.resolve([i,e.targetMappings,e.systemAliases,e.urlTemplates])}return Promise.resolve(null)})}else{u.initialAppStatesPromise=Promise.resolve({});p.initialSegmentPromise=Promise.resolve(null)}}function Z(){var e=new Promise(function(e,t){var a,n;n=function(){c.info("Direct application start: resolving component waitFor promise after shell renderer created event fired.");e();C().detachRendererCreatedEvent(n)};s.once("ShellNavigationInitialized").do(function(){a=C().getRendererInternal();if(a){c.info("Direct application start: resolving component waitFor promise immediately (shell renderer already created).");e()}else{C().attachRendererCreatedEvent(n)}})});return e}function N(){g.run().catch(()=>{c.info("SAPCompanion conditions could not be set.")});var t=m._getShellHash();if(F(t)&&window["sap-ushell-config"].ushell&&window["sap-ushell-config"].ushell.spaces&&window["sap-ushell-config"].ushell.spaces.enabled){m._loadPage(t)}e.getLib().then(function(e){var t=e.FrameLogonManager.getInstance();C().oFrameLogonManager=t});if(b(t)){var a,n;window["sap-ushell-async-libs-promise-directstart"]=new Promise(function(e,t){a=e;n=t});window["sap-ushell-async-libs-promise-directstart"].catch(function(e){});C().getServiceAsync("NavTargetResolutionInternal").then(function(e){const t="#"+m._getShellHash();e.resolveHashFragment(t).done(function(e){sap.ui.require(["sap/ushell/services/AppConfiguration"],function(r){r.setCurrentApplication(e);if(e&&e.ui5ComponentName){const r=f.getBasicHash(t);e.ui5ComponentId=`application-${r}-component`;C().getServiceAsync("Ui5ComponentLoader").then(function(r){r.createComponent(e,y(t),Z(),"Application").then(function(e){a({resolvedHashFragment:e,dependenciesLoaded:true})}).catch(function(e){n(e)})})}else{a({resolvedHashFragment:e,dependenciesLoaded:false})}})}).fail(function(e){n(e)})})}}function E(e){if(e&&e.indexOf("Shell-appfinder")===0){return}C().getServiceAsync("PersonalizationV2").then(async function(e){var t={container:"sap.ushell.cdm3-1.personalization",item:"data"};var a={validity:"Infinity",keyCategory:e.KeyCategory.GENERATED_KEY,writeFrequency:e.WriteFrequency.HIGH,clientStorageAllowed:false};const n=await e.getPersonalizer(t,a);return n.getPersData()});sap.ui.require(["sap/ushell/components/pages/controller/PagesAndSpaceId"],function(t){var a=t.getPageAndSpaceId(e);var n=C().getServiceAsync("PagePersistence");Promise.all([a,n]).then(function(e){var t=e[0];var a=e[1];a.getPage(t.pageId)}).catch(function(e){c.error(e)})})}function U(e){r.initXhrLogon(window["sap-ushell-config"]);o();a.requestStartupConfig().then(function(e){var t=m._getShellHash();(l.get("sap-ushell-config.services.Container.adapter")||l.create("sap-ushell-config.services.Container.adapter")).config=e;var r=l.get("sap-ushell-config.services.LaunchPage.adapter.config")||l.create("sap-ushell-config.services.LaunchPage.adapter.config");var i=l.get("sap-ushell-config.services.ClientSideTargetResolution.adapter.config")||l.create("sap-ushell-config.services.ClientSideTargetResolution.adapter.config");if(l.get("sap-ushell-config.ushell.spaces.enabled")){l.set("sap-ushell-config.services.VisualizationDataProvider.adapter.config",r);l.set("sap-ushell-config.services.NavigationDataProvider.adapter.config",i)}z(e);d=x(e);v=O(e,d);if(!H()&&v){c.debug("theme: load theme from startup service via window",null,"sap.ushell_abap.bootstrap")}if(F(t)&&!l.get("sap-ushell-config.ushell.spaces.enabled")){n.requestPageSet(e)}var s=a.requestFullTM(e);i.navTargetDataPromise=s;r.compactTMPromise=s;l.set("sap-ushell-config.services.FlpLaunchPage.adapter.config.compactTMPromise",s);return Promise.resolve(e)},function(e){c.error("start_up request failed: "+e,null,"sap.ushell_abap.bootstrap");return Promise.resolve({})}).then(function(t){q(t);e()})}m.start=U;m.afterBootstrap=N;m._getShellHash=S;m._getFullShellHash=P;m._createWaitForRendererCreatedPromise=Z;m._loadPage=E;return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/integration/fileshares/AppRuntimeFileShareSupport", ["sap/base/i18n/Localization","sap/ui/core/Manifest","sap/base/Log"],function(e,t,a){"use strict";var r={_getDataSourcePromise:null};var n="sap.ushell_abap.integration.fileshares.AppRuntimeFileShareSupport";var i="FileShare";var s="manage";var o="/sap/bc/ui2/start_up?so="+i+"&action="+s+"&systemAliasesFormat=object&formFactor=desktop&shellType=FLP&depth=0";r.getDataSource=function(){var i=r._getClient();var s=o+"&sap-client="+i;if(!i){a.error("Could not determine sap-client parameter.",null,n);return Promise.reject(new Error("Could not determine sap-client parameter."))}if(!r._getDataSourcePromise){r._getDataSourcePromise=fetch(s,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json","Accept-Language":e.getLanguageTag().toString()}}).then(function(e){if(e.ok===false){a.error("Could not fetch data, request failed","error: "+e.status+", "+e.statusText+",\nurl: "+s,n);return Promise.reject(e.statusText)}return e.json()}).then(function(e){if(e&&e.targetMappings&&Object.keys(e.targetMappings).length>0){var r=e.targetMappings[Object.keys(e.targetMappings)[0]].applicationDependencies;if(r){var i;try{i=JSON.parse(r).manifest}catch(t){a.error("Could not parse JSON data of applicationDependencies for targetMapping '"+Object.keys(e.targetMappings)[0]+"': "+t.message,null,n)}if(i){return t.load({manifestUrl:i,async:true})}}}var s=["No manifest URL defined:",JSON.stringify(e)].join(" ");a.error(s,null,n);throw new Error(s)}).then(function(e){return e.getEntry("/sap.app/dataSources/mainService")})}return r._getDataSourcePromise};r._getClient=function(){var e=document.getElementsByTagName("meta")["sap-client"];return e&&e.content};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/integration/fileshares/NavTargetResolutionFileShareSupport", ["sap/base/Log","sap/ui/core/Manifest","sap/ushell/Container"],function(e,a,n){"use strict";var r={};var t="sap.ushell_abap.integration.fileshares.NavTargetResolutionFileShareSupport";var i="#FileShare-manage";r.getDataSource=function(){if(!r._getDataSourcePromise){r._getDataSourcePromise=n.getServiceAsync("NavTargetResolutionInternal").then(function(e){return e.resolveHashFragment(i)}).then(function(n){var r=n&&n.applicationDependencies&&n.applicationDependencies.manifest;if(r){return a.load({manifestUrl:r,async:true})}var i=["No manifest URL defined in resolved navigation target:",JSON.stringify(n)].join(" ");e.error(i,null,t);throw new Error(i)}).then(function(e){return e.getEntry("/sap.app/dataSources/mainService")})}return r._getDataSourcePromise};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/library", ["sap/ui/core/Lib","sap/ui/core/library","sap/m/library"],function(a,p,i){"use strict";var s=a.init({name:"sap.ushell_abap",version:"1.136.1",dependencies:["sap.ui.core","sap.m"],noLibraryCSS:true,extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell_abap/support/plugins/app-infra/AppInfraOnSapNetWeaverSupportPlugin"]}}});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/AllCatalogs", ["sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],function(t,l){"use strict";var a=function(a,i){var s=[],e=true,n=this;function o(){if(e){throw new t(n+": collection is just a stub","AllCatalogs")}}this.getCatalogs=function(){o();return s.slice()};this.isStub=function(){return e};this.load=function(o,u,r,g,f,c){if(!e){throw new t(n+": collection is not a stub anymore","AllCatalogs")}function h(){var t,l,a;if(!g){for(t=0,l=s.length;t<l;t+=1){a=s[t];if(a.isStub()){a.load(h,u);return}}}o()}function d(t){var i,o;l.debug("Loaded: "+n,null,"AllCatalogs");e=false;s=[];for(i=0,o=t.results.length;i<o;i+=1){s.push(a.createCatalog(t.results[i]))}l.debug("Initialized: "+n,null,"AllCatalogs");h()}a.getPageBuildingService().readAllCatalogs(i,d,u,r,f,!!c)};this.toString=function(t){var l=['AllCatalogs({sPageId:"',i,'",bIsStub:',e];if(t){l.push(",aCatalogs:",JSON.stringify(s))}l.push("})");return l.join("")};if(!i){throw new t("Missing page ID","AllCatalogs")}l.debug("Created: "+this,null,"AllCatalogs")};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Bag", ["sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],function(e,t,r){"use strict";var n=function(n,a,i,s){var u,l=false,o=false,p=this;function f(){if(l){throw new t("The previous reset operation is not finished yet","Bag")}}function c(){if(o){throw new t("The previous save operation is not finished yet","Bag")}}function h(t,r){var n=t.Properties&&t.Properties.results||t.ChipInstanceProperties&&t.ChipInstanceProperties.results||t.ChipProperties&&t.ChipProperties.results||[];u=u||new e.Map;n.forEach(function(e){var t=e.name,n;if(!r||r.containsKey(t)){n=u.put(t,e);e.$currentValue=n?n.$currentValue:e.value}});delete t.ChipInstanceProperties;delete t.ChipProperties;delete t.Properties}function g(t,r){var n;if(t.length===0){u.keys().forEach(function(e){if(r===(u.get(e).translatable==="X")){t.push(e)}});return t}n=new e.Map;t.forEach(function(e){n.put(e)});u.keys().forEach(function(e){if(r===(u.get(e).translatable==="X")){n.put(e)}});return n.keys()}function d(){if(a.instanceId){return{pageId:a.pageId,instanceId:a.instanceId}}return{id:a.pageId}}function b(e,r,n){var a;if(!e){throw new t("Property name must not be empty","sap.ushell_abap.pbServices.ui2.Bag")}if(typeof e!=="string"){throw new t("Property name must be a string","sap.ushell_abap.pbServices.ui2.Bag")}a=u.get(e);if(a&&a.translatable==="X"!==n){throw new t("'"+e+"' already exists as a "+(n?"non-translatable":"translatable text")+" property","sap.ushell_abap.pbServices.ui2.Bag")}if(typeof r!=="string"){throw new t("Property value must be a string","sap.ushell_abap.pbServices.ui2.Bag")}f();if(!a){a={name:e,translatable:n?"X":" "};u.put(e,a)}a.$currentValue=r;return p}this.getId=function(){return a.id};this.getOwnPropertyNames=function(){return g([],false)};this.getOwnTextNames=function(){return g([],true)};this.getProperty=function(e,r){var n=u.get(e);if(n&&n.translatable==="X"){throw new t("'"+e+"' is a translatable text property","sap.ushell_abap.pbServices.ui2.Bag")}if(n){return n.$currentValue}if(i){return i.getProperty(e,r)}return r};this.getPropertyNames=function(){var e=i?i.getPropertyNames():[];return g(e,false)};this.getText=function(e){var r=u.get(e);if(r&&r.translatable!=="X"){throw new t("'"+e+"' is a non-translatable property","sap.ushell_abap.pbServices.ui2.Bag")}if(r){return r.$currentValue}if(i){return i.getText(e)}return e};this.getTextNames=function(){var e=i?i.getTextNames():[];return g(e,true)};this.reset=function(r,i){var o=d(),g=n.getPageBuildingService();function b(e){l=false;a=e;u=undefined;h(a);if(s){s(p)}r()}if(typeof r!=="function"){throw new t("Missing success handler","sap.ushell_abap.pbServices.ui2.Bag")}c();f();l=true;i=i||g.getDefaultErrorHandler();if(a.$tmp){e.callHandler(b.bind(null,a),i,true);return}g.deleteBag(o,a.id,function(){a.$tmp=true;g.readBag(o,a.id,b,b.bind(null,a))},function(){l=false;i.apply(null,arguments)})};this.resetProperty=function(e){var t;t=u.get(e);if(t){t.$currentValue=undefined;if(!Object.prototype.hasOwnProperty.call(t,"value")){u.remove(e)}}return this};this.save=function(r,i){var l=0,g=new e.Map,b={},v={},y=d(),w=n.getPageBuildingService();if(typeof r!=="function"){throw new t("Missing success handler","sap.ushell_abap.pbServices.ui2.Bag")}if(typeof i!=="function"){throw new t("Missing error handler","sap.ushell_abap.pbServices.ui2.Bag")}c();f();w.openBatchQueue();u.keys().forEach(function(e){var t,r=u.get(e);function n(t,r){b[e]=t;v[e]=r}if(r.$currentValue!==r.value){l+=1;if(Object.prototype.hasOwnProperty.call(r,"value")){if(r.$currentValue===undefined){g.put(e);w.deleteProperty(r,function(){if(r.$currentValue===undefined){u.remove(e)}else{delete r.value}},n)}else{t=JSON.parse(JSON.stringify(r));t.value=r.$currentValue;w.updateProperty(t,function(){r.value=t.value},n)}}else{w.createProperty(y,a.id,e,r.$currentValue,r.translatable,function(t){t.$currentValue=r.$currentValue;u.put(e,t)},n)}}});if(g.keys().length){w.readBag(y,a.id,function(e){h(e,g)})}o=true;w.submitBatchQueue(function(){o=false;if(s&&l>Object.keys(b).length){s(p)}if(Object.keys(b).length>0){i(b,v)}else{a.$tmp=false;r()}})};this.setProperty=function(e,t){return b(e,t,false)};this.setText=function(e,t){return b(e,t,true)};this.toString=function(e){var t=['Bag({id:"',a.id,'",pageId:"',a.pageId];if(a.instanceId){t.push('",instanceId:"',a.instanceId)}t.push('"');if(e){t.push(",oAlterEgo:",JSON.stringify(a));t.push(",oPropertiesByName:",u.toString());t.push(",bResetting:",l);t.push(",bSaving:",o)}t.push("})");return t.join("")};this.update=function(e){if(!e||a.id!==e.id){throw new t("Bag data belongs to another bag","sap.ushell_abap.pbServices.ui2.Bag")}u=undefined;h(e)};this._getChangeHandler=function(){return s};this._getRawBagData=function(){return a};this._getParentBag=function(){return i};h(a);r.debug("Created: "+this,null,"sap.ushell_abap.pbServices.ui2.Bag")};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Catalog", ["sap/ui/core/EventBus","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/Utils","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,i,n,jQuery){"use strict";var a=function(a,r){var o,s,l=[],u,d=true,g,f,c,h=[],p=this;function C(){if(d){throw new t(p+": page is just a stub","Page")}}function S(){if(!o){throw new t(p+": catalog is just an ID","Catalog")}}this.exit=function(){var e=p.toString();if(s){s.exit()}o=undefined;r=undefined;l=[];d=true;u=undefined;c=undefined;h=[];Object.keys(p).forEach(function(e){if(!/getCatalogData|getId|isStub|toString/.test(e)){delete p[e]}});a.forgetCatalog(p);n.debug("Exited: "+e,null,"Catalog")};this.getRemoteBaseUrl=function(){return p.addSystemToServiceUrl(o.type==="H"?"/sap/hba/apps/kpi/s/odata/hana_chip_catalog.xsodata/":o.baseUrl)};this.getRemoteCatalogService=function(){return a.getRemoteCatalogService(o)||{readChips:function(e,t,a,r,s){n.error("Catalog '"+o.id+"', type '"+o.type+"' not supported",null,"Catalog");i.callHandler(r.bind(null,{results:[]}),undefined,true)}}};function v(){var e,t,i;n.debug("Loaded: "+p,null,"Catalog");if(o.Chips){i=o.Chips.results||o.Chips;delete o.Chips;l=[];for(e=0,t=i.length;e<t;e+=1){l[e]=a.createChip(i[e])}d=false;n.debug("Initialized: "+p,null,"Catalog")}delete o.CatalogPage}this.read=function(e,t,n){var r;function s(e){o=e;v();r.resolve()}function l(e){o.Chips=e;v();r.resolve()}function d(e){e.results.forEach(function(e){e.remoteCatalogId=f});l(e)}function c(){v();g=arguments;r.reject.apply(this,arguments)}function h(t){var i;if(t.remoteId){o=t;try{i=p.getRemoteBaseUrl()}catch(e){c(e.toString());return}p.getRemoteCatalogService().readChips(i,o.remoteId,undefined,d,c)}else if(o&&e){l(t.Chips)}else{s(t)}}if(!u||u.state()!=="pending"){r=new jQuery.Deferred;u=r.promise();if(!o||e&&!o.remoteId){a.getPageBuildingService().readCatalog(f,h,r.reject.bind(r))}else{h.bind(this)(o)}}n=n||a.getPageBuildingService().getDefaultErrorHandler();u.done(i.callHandler.bind(null,t,n));u.fail(n)};this.addSystemToServiceUrl=function(i,n){if(i.indexOf("/")!==0||i.indexOf("//")===0){throw new t("addSystemToServiceUrl: Invalid URL: "+i,"Catalog")}n=n||this.getSystemAlias();if(/^[^?]*(;o=([\/;?]|$))/.test(i)){i=i.replace(/;o=([\/;?]|$)/,(n?";o="+n:"")+"$1")}else if(!/^[^?]*;o=/.test(i)&&n){i=i.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+n+"$2")}e.getInstance().publish("sap.ushell.Container","addRemoteSystemForServiceUrl",i);return i};this.clone=function(e,t,i,n){var r,s=function(e,t){return n(e,undefined,t)};if(o&&o.type==="REMOTE"){r=this.getCatalogData();delete r.id;r.domainId=e;if(t!==undefined){r.title=t}a.createNewCatalog(r,i,n)}else{a.getPageBuildingService().cloneCatalog(this.getId(),e,t,function(e){a.createCatalog(e.id,i,s)},s)}};this.getCatalogData=function(){var e;if(!o){return undefined}e=JSON.parse(JSON.stringify(o));delete e.__metadata;return e};this.getCatalogPage=function(){S();if(o.type!=="P"&&o.type!=="CATALOG_PAGE"){return undefined}if(!s){s=a.createPage(f)}return s};this.getChips=function(){if(d){throw new t(p+": catalog is just a stub","Catalog")}return l.slice()};this.getDomainId=function(){return o&&o.domainId};this.getId=function(){return f};this.getSystemAlias=function(){return o&&o.systemAlias||undefined};this.getTitle=function(){S();return o.title};this.getType=function(){S();return o&&o.type};this.isOutdated=function(){S();return s&&!s.isStub()&&s.isOutdated()||o.outdated==="X"};this.isReadOnly=function(){C();return o.isReadOnly==="X"};this.isStub=function(){return d};this.getCachedRemoteFailureArguments=function(){return g};this.load=function(e,i){if(!d){throw new t("Catalog is not a stub anymore","Catalog")}this.read(false,e,i)};this.readChips=function(e,t,n){function r(e){e.results.forEach(function(e){a.createChip(e)});i.callHandler(t,n)}function s(e){e.results.forEach(function(e){e.remoteCatalogId=f});r(e)}function l(t){o=t;if(o.remoteId){this.getRemoteCatalogService().readChips(this.getRemoteBaseUrl(),o.remoteId,e,s,n)}else{a.getPageBuildingService().readCatalogChips(f,e,r,n)}}if(!o){a.getPageBuildingService().readCatalog(f,l.bind(this),n,true)}else{l.bind(this)(o)}};this.readRegisteredChips=function(e,t){function n(){var e=new jQuery.Deferred,t=h;h=[];if(t.length){p.readChips(t,e.resolve.bind(e),e.reject.bind(e))}else{e.resolve()}return e.promise()}if(!c||c.state()!=="pending"){c=n()}t=t||a.getPageBuildingService().getDefaultErrorHandler();c.fail(t).done(i.callHandler.bind(null,e,t))};this.refresh=function(e,t){this.read(true,e,t)};this.registerChip=function(e){if(c&&c.state()==="pending"){throw new t("Invalid state: registerChip while readRegisteredChips pending","Catalog")}h.push(e.getId())};this.remove=function(e,i){S();if(u&&u.state()==="pending"){throw new t("Catalog is being refreshed: "+this,"Catalog")}n.debug("Removing: "+this,null,"Catalog");a.getPageBuildingService().deleteCatalog(o,function(){this.exit();e()}.bind(this),i)};this.toString=function(e){var t=['Catalog({sId:"',f,'"',",bIsStub:",d];if(e){t.push(",oAlterEgo:",JSON.stringify(o),",oFactory:",a.toString(e),",aChips:",JSON.stringify(l))}t.push("})");return t.join("")};this.update=function(e,i,n){var r;S();if(Object.hasOwnProperty.call(e,"__metadata")){throw new t("Unsupported __metadata update","Catalog")}r=JSON.parse(JSON.stringify(o));Object.keys(e).forEach(function(t){r[t]=e[t]});d=true;g=undefined;a.getPageBuildingService().updateCatalog(r,function(){o=r;this.read(true,i,n)}.bind(this),function(){d=false;n=n||a.getPageBuildingService().getDefaultErrorHandler();n.apply(null,arguments)})};if(typeof r==="object"){f=r.id;if(r.remoteId){delete r.Chips}o=r;v()}else if(typeof r==="string"){f=r}if(!f){throw new t("Missing ID","Catalog")}n.debug("Created: "+this,null,"Catalog")};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Chip", ["sap/ushell_abap/pbServices/ui2/Bag","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/ChipDefinition","sap/base/Log"],function(e,t,i,n,r){"use strict";var a={};var o={};function s(e){return Object.prototype.hasOwnProperty.call(a,e)?a[e]:null}var u=function(a,u){var p=this,c,l,f,h,g,C,d,m,w;function I(){if(!h){throw new i(p+": CHIP is just a stub","sap.ushell_abap.pbServices.ui2.Chip")}}function P(i){var n;c=new t.Map;if(!i){return}for(n=0;n<i.length;n+=1){c.put(i[n].id,new e(u,i[n]))}}function y(e){var t=e.basePath,n,r,a,o=e.viewName;if(e.componentName){e.$Namespace=e.componentName}else{r=/^(?:([^\/]+)\/)?(.*)\.view\.(.*)$/.exec(o);if(!r){throw new i(p+": Illegal view name: "+o,"Chip")}a=r[1];o=r[2];e.$ViewType=r[3].toUpperCase();if(a){o=a+"."+o}else{n=o.lastIndexOf(".");if(n<1){throw new i(p+": Missing namespace: "+o,"Chip")}a=o.substring(0,n)}e.$Namespace=a;e.$ViewName=o}var s=e.virtualNamespace;if(s){e.$VirtualNamespace=s}e.$UrlPrefix=e.$Namespace.replace(/\./g,"/");if(t!=="."){t=t.replace(/\/?$/,"/");e.$UrlPrefix=t+e.$UrlPrefix}e.$UrlPrefix=p.toAbsoluteUrl(e.$UrlPrefix)}function v(){f={};if(h.contracts.configuration&&h.contracts.configuration.parameters){f=JSON.parse(JSON.stringify(h.contracts.configuration.parameters))}p.updateConfiguration(f,a.configuration)}function b(e){var t,n;if(h){throw new i(p+": cannot initialize twice",null,"Chip")}h=e;h.contracts=h.contracts||{};if(!h.implementation||!h.implementation.sapui5){throw new i(p+": Missing SAPUI5 implementation","Chip")}y(h.implementation.sapui5);v();r.debug("Initialized: "+p,null,"Chip");if(d){for(t=0,n=d.length;t<n;t+=2){d[t]()}d=null}}this.updateBags=function(t){var i,n,r=c.keys();for(i=0;i<t.length;i+=1){n=t[i].id;if(c.containsKey(n)){c.get(n).update(t[i]);r.splice(r.indexOf(n),1)}else{c.put(n,new e(u,t[i]))}}for(i=0;i<r.length;i+=1){c.remove(r[i])}};this.createApi=function(e,t){var n={},r,a,o,u;I();u=h.contracts;if(u){for(o in u){if(Object.prototype.hasOwnProperty.call(u,o)){a=s(o);if(!a){throw new i(this+": Contract '"+o+"' is not supported","Chip")}n[o]={};r=a.call(n[o],e);if(t){t.put(o,r)}}}}return n};this.getAvailableTypes=function(){var e;I();if(h.contracts.types&&h.contracts.types.parameters&&typeof h.contracts.types.parameters.supportedTypes==="string"&&h.contracts.types.parameters.supportedTypes!==""){e=h.contracts.types.parameters.supportedTypes.toLowerCase();return e.split(",")}return[]};this.getDefaultType=function(){var e=this.getAvailableTypes();if(h.contracts.types&&h.contracts.types.parameters&&typeof h.contracts.types.parameters.defaultType==="string"&&h.contracts.types.parameters.defaultType!==""){var t=h.contracts.types.parameters.defaultType;t=t.toLowerCase();if(e.indexOf(t)>-1){return t}throw new i("The chip has the default type: "+t+" which is not supported")}if(e.indexOf("tile")>-1){return"tile"}if(e.length>0){return e[0]}return""};this.getBag=function(e){if(!e){throw new i("Missing bag ID","Chip")}return c.get(e)};this.getBagIds=function(){return c.keys()};this.getBaseChipId=function(){return a.baseChipId};this.getCatalog=function(){if(m){return m}return a.$proxy?undefined:u.createCatalog(a.catalogId)};this.getConfigurationParameter=function(e){I();return f[e]};this._getChipRawConfigurationString=function(){return a.configuration};this.getDescription=function(){return a.description};this.getId=function(){return a.id};this.getReferenceChipId=function(){return a.referenceChipId};this.getImplementationAsSapui5=function(e){var t,i,n;r.error("Deprecated API call of 'Chip.getImplementationAsSapui5'. Please use 'getImplementationAsSapui5Async' instead",null,"sap.ushell_abap.pbServices.ui2.Chip");I();t={chip:e};i=h.implementation.sapui5;n=this.getBaseChipId();if(n!=="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"&&n!=="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){if(i.$VirtualNamespace){i.$absolutePath=this.toAbsoluteUrl(i.basePath);sap.ui.loader.config({paths:JSON.parse('{"'+i.$Namespace.replace(/\./g,"/")+'":"'+i.$absolutePath+'"}')})}else{sap.ui.loader.config({paths:JSON.parse('{"'+i.$Namespace.replace(/\./g,"/")+'":"'+i.$UrlPrefix+'"}')})}}if(i.componentName){if(n==="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"||n==="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){t.manifest=false}var a=sap.ui.requireSync("sap/ui/core/ComponentContainer");var o=new a;this.oComponentPromise=new Promise(function(e,n){sap.ui.require(["sap/ui/core/Component"],function(r){r.create({name:i.componentName,componentData:t}).then(function(e){o.setComponent(e)}).then(e).catch(n)})});return o}return sap.ui.view({type:i.$ViewType,viewName:i.$ViewName,viewData:t})};this.getImplementationAsSapui5Async=function(e){try{I()}catch(e){return Promise.reject(e)}return new Promise(function(t,i){sap.ui.require(["sap/ui/core/ComponentContainer","sap/ui/core/Component","sap/ui/core/mvc/View"],function(n,r,a){var s={chip:e};var u=h.implementation.sapui5;var p=this.getBaseChipId();if(p!=="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"&&p!=="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){if(u.$VirtualNamespace){u.$absolutePath=this.toAbsoluteUrl(u.basePath);sap.ui.loader.config({paths:JSON.parse('{"'+u.$Namespace.replace(/\./g,"/")+'":"'+u.$absolutePath+'"}')})}else{sap.ui.loader.config({paths:JSON.parse('{"'+u.$Namespace.replace(/\./g,"/")+'":"'+u.$UrlPrefix+'"}')})}}if(u.componentName){var c=true;if(p==="X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"||p==="X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"){c=false}if(!o[u.componentName]){o[u.componentName]=r.create({name:u.componentName,componentData:s,manifest:c});return o[u.componentName].then(function(e){return new n({component:e})}).then(t).catch(i)}return o[u.componentName].then(function(){return r.create({name:u.componentName,componentData:s,manifest:c})}).then(function(e){return new n({component:e})}).then(t).catch(i)}return a.create({type:u.$ViewType,viewName:u.$ViewName,viewData:s}).then(t).catch(i)}.bind(this))}.bind(this))};this.getRemoteCatalog=function(){return m};this.getTitle=function(){return a.title||h&&h.appearance&&h.appearance.title};this.isBasedOn=function(e){var t="X-SAP-UI2-PAGE:"+e.getPage().getId()+":"+e.getId();function i(e){return e===t||e.indexOf(t+":")===0}return a.referenceChipId&&i(a.referenceChipId)||i(a.id)};this.isReference=function(){return!!a.referenceChipId};this.isBrokenReference=function(){return a.referenceChipId==="O"};this.isStub=function(){return!h};this.load=function(e,o){function s(e,t){g=e;C=t;var i,n;if(d){for(i=1,n=d.length;i<n;i+=2){d[i](e,t)}d=null}}function c(){if(u){u.createChipDefinition(a.url,b,s);return}t.get(a.url,true,function(e){r.debug("Loaded: "+p,null,"Chip");b(new n(e))},s)}function f(){if(!a.url){if(w){throw new i("Remote catalog did not deliver CHIP '"+a.id+"'","Chip")}throw new i("Missing module URL","Chip")}w=false;l=t.absoluteUrl(a.url);c()}if(!this.isStub()){throw new i("Chip is not a stub anymore","Chip")}if(typeof e!=="function"){throw new i("Missing success handler","Chip")}o=o||u.getPageBuildingService().getDefaultErrorHandler();if(g){t.callHandler(o.bind(null,g,C),null,true);return}if(d){d.push(e,o);return}if(a.url){c()}else if(a.remoteCatalogId){this.getRemoteCatalog().readRegisteredChips(f,s);w=true}else{u.getPageBuildingService().readChip(a.id,function(e){a=e;f()},s)}d=[e,o]};this.refresh=function(e,t){function n(t){a.title=t.title;a.configuration=t.configuration;a.referenceChipId=t.referenceChipId;P(t.ChipBags&&t.ChipBags.results);if(!p.isStub()){p.updateConfiguration(f,a.configuration)}e()}function r(e){if(e.results[0]){n(e.results[0])}else{t=t||u.getPageBuildingService().getDefaultErrorHandler();t("Could not refresh CHIP. No update received from catalog "+a.remoteCatalogId)}}if(typeof e!=="function"){throw new i("Missing success handler","Chip")}if(!a.url){throw new i(p+": CHIP is just a stub","Chip")}if(a.remoteCatalogId){this.getRemoteCatalog().readChips([a.id],r,t)}else{u.getPageBuildingService().readChip(a.id,n,t)}};this.update=function(e){if(typeof e!=="object"||e.id!==this.getId()){throw new i("Invalid update data: "+this,"Chip")}if(e.ChipBags&&e.ChipBags.results){this.updateBags(e.ChipBags&&e.ChipBags.results)}if(a.url){return}if(!e.url){return}a=e;l=t.absoluteUrl(a.url);r.debug("Updated: "+this,null,"Chip")};this.updateConfiguration=function(e,t){var n,a,o;if(!t){return}if(typeof t==="string"){try{n=JSON.parse(t)}catch(e){r.warning(this+': ignoring invalid configuration "'+t+'"',null,"Chip");return}}else{n=t}for(a in n){if(Object.prototype.hasOwnProperty.call(n,a)){if(Object.prototype.hasOwnProperty.call(f,a)){o=n[a];if(o===undefined){delete e[a]}else if(typeof o!=="string"){throw new i("Value for '"+a+"' must be a string","Chip")}else{e[a]=o}}else{r.warning(this+": ignoring unknown configuration parameter "+a,null,"Chip")}}}};this.toAbsoluteUrl=function(e){return t.absoluteUrl(e,l)};this.toString=function(e){var t=['Chip({sChipUrl:"',l,'"'];if(e){t.push(",oAlterEgo:",JSON.stringify(a),",oBags:",c.toString(),",oDefinition:",JSON.stringify(h))}t.push("})");return t.join("")};this.isInitiallyDefined=function(e){return e}.bind(null,a&&!a.hasOwnProperty("$proxy"));this._setDefinition=function(e){h=e};if(!a){throw new i("Missing CHIP description","Chip")}l=t.absoluteUrl(a.url);if(a.remoteCatalogId){m=u.createCatalog(a.remoteCatalogId);if(!a.url){m.registerChip(this)}}P(a.ChipBags&&a.ChipBags.results);r.debug("Created: "+this,null,"Chip")};u.addContract=function(e,t){if(s(e)){throw new i("Cannot register contract '"+e+"' twice","Chip")}a[e]=t};u.removeContract=function(e){delete a[e]};if(!a.navigation){u.addContract("navigation",function(e){this.navigateToUrl=function(e,t){throw new i("'navigation' contract not implemented!")}})}u.prototype._clearComponentCache=function(){o={}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/ChipDefinition", ["sap/ushell_abap/pbServices/ui2/Error"],function(t){"use strict";var e="http://schemas.sap.com/sapui2/services/Chip/1";function i(t){return t.localName||t.baseName}function n(t,e){var n,a,s,r;if(typeof t.getAttributeNS==="function"){return t.getAttributeNS(null,e)}a=t.attributes;for(s=0,r=a.length;s<r;s+=1){n=a[s];if(!n.namespaceURI&&i(n)===e){return n.nodeValue}}return""}function a(t){return t.textContent||t.text||""}function s(t,n,a){var s,r=n.childNodes,c,o,u;for(o=0,u=r.length;o<u;o+=1){s=r[o];if(s.namespaceURI===e){c=a[i(s)];if(c){c.call(t,s)}}}}var r=function(c){var o=this;if(c instanceof r){c=JSON.parse(JSON.stringify(c));["appearance","contracts","id","implementation"].forEach(function(t){if(Object.prototype.hasOwnProperty.call(c,t)){o[t]=c[t]}});return}if(i(c.documentElement)!=="chip"||c.documentElement.namespaceURI!==e){throw new t("Missing root <chip>","ChipDefinition")}s(this,c.documentElement,{appearance:function(t){this.appearance={};s(this.appearance,t,{description:function(t){this.description=a(t)},title:function(t){this.title=a(t)}})},contracts:function(t){this.contracts={};s(this.contracts,t,{consume:function(t){var e=n(t,"id");this[e]={};s(this[e],t,{parameters:function(t){this.parameters={};s(this.parameters,t,{parameter:function(t){var e=n(t,"name");this[e]=a(t)}})}})}})},id:function(t){this.id=a(t)},implementation:function(t){this.implementation={};s(this.implementation,t,{sapui5:function(t){this.sapui5={basePath:"."};var e;s(this.sapui5,t,{basePath:function(t){this.basePath=a(t)},componentName:function(t){this.componentName=a(t);e=n(t,"virtualNamespace")},viewName:function(t){this.viewName=a(t);e=n(t,"virtualNamespace")}});if(e){this.sapui5.virtualNamespace=e==="true"}}})}});c=null};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Error", ["sap/base/Log"],function(r){"use strict";var e=function(e,n,u){var t=new Error(e);u=u===undefined?true:u;t.name="Error";if(u===true){r.error(e,null,n)}return t};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Factory", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/Catalog","sap/ushell_abap/pbServices/ui2/ChipDefinition","sap/ushell_abap/pbServices/ui2/PageBuildingService","sap/ushell_abap/pbServices/ui2/ChipInstance","sap/ushell_abap/pbServices/ui2/Page","sap/ushell_abap/pbServices/ui2/PageSet","sap/ushell_abap/pbServices/ui2/Utils","sap/base/Log","sap/base/util/LoaderExtensions"],function(e,a,t,i,n,r,l,s,o,c,u){"use strict";var p=function(n){var p={},h={},g={},d,f=this;this.addRemoteCatalogService=function(e,t){if(!e){throw new a("Invalid base URL","sap.ushell_abap.pbServices.ui2.Factory")}if(typeof t.readChips!=="function"){throw new a("Invalid remote catalog service","sap.ushell_abap.pbServices.ui2.Factory")}e=e.replace(/\/$/,"");if(d.containsKey(e)){throw new a("Base URL '"+e+"' already registered","sap.ushell_abap.pbServices.ui2.Factory")}d.put(e,t)};this.createCatalog=function(e,a,i){var n=this,r,l=typeof e==="object"?e.id:e;function s(){var e;i=i||n.getPageBuildingService().getDefaultErrorHandler();if(i){e=Array.prototype.slice.call(arguments);e.splice(1,0,r);i.apply(null,e)}}function c(){s.apply(null,r.getCachedRemoteFailureArguments())}if(Object.prototype.hasOwnProperty.call(h,l)){r=h[l].catalog;if(typeof e==="object"&&r.getCatalogData()===undefined){t.call(r,this,e)}}else{r=new t(this,e);h[l]={catalog:r,chips:{}}}if(a){if(r.isStub()){r.load(a.bind(null,r),s)}else if(r.getCachedRemoteFailureArguments()!==undefined){o.callHandler(c,c,true)}else{o.callHandler(a.bind(null,r),s,true)}}return r};this.createChip=function(a,t,i){var n=a.remoteCatalogId,r=a.id,l,s;if(n){this.createCatalog(n);l=h[n].chips}else{l=p}if(Object.prototype.hasOwnProperty.call(l,r)){s=l[r];s.update(a)}else{s=new e(a,this);l[r]=s}if(t){if(s.isStub()){s.load(t.bind(null,s),i)}else{i=i||this.getPageBuildingService().getDefaultErrorHandler();o.callHandler(t.bind(null,s),i,true)}}return s};this.createChipDefinition=function(e,t,n){var r,l;function s(e,a,t,n){o.callHandler(a.bind(null,new i(e)),t,n)}function c(a){var t,n;var r=new i(a);g[e]=r;for(t=0,n=l.length;t<n;t+=2){s(r,l[t],l[t+1],false)}}function p(a){var t,i,n;if(typeof a==="string"){n=a}else{n=a.message}g[e]=n;for(t=0,i=l.length;t<i;t+=2){l[t+1](n)}}if(!e){throw new a("Missing URL","Factory")}if(typeof t!=="function"){throw new a("Missing success handler","Factory")}n=n||this.getPageBuildingService().getDefaultErrorHandler();e=o.addCacheBusterTokenUsingUshellConfig(e);if(Object.prototype.hasOwnProperty.call(g,e)){r=l=g[e];if(o.isArray(l)){l.push(t,n)}else if(r instanceof i){s(r,t,n,true)}else{o.callHandler(n.bind(null,r),null,true)}return}l=[t,n];g[e]=l;u.loadResource({dataType:"xml",url:e,async:true}).then(c).catch(p)};this.createChipInstance=function(e,a,t,i){var n,l;e.Chip=e.Chip||{$proxy:true};e.Chip.id=e.Chip.id||e.chipId;e.Chip.remoteCatalogId=e.Chip.remoteCatalogId||e.remoteCatalogId;if(e.RemoteCatalog&&e.RemoteCatalog.id){this.createCatalog(e.RemoteCatalog)}n=this.createChip(e.Chip);l=new r(this,e,n,i);if(a){l.load(a.bind(null,l),t)}return l};this.createNewCatalog=function(e,a,t){this.getPageBuildingService().createCatalog(e,function(e){var i=f.createCatalog(e);i.load(a.bind(null,i),function(e,a){t(e,i,a)})},function(e,a){t(e,undefined,a)})};this.createNewPageBasedCatalog=function(e,a,t,i){this.getPageBuildingService().createPageBasedCatalog(e,a,function(e){f.createCatalog(e,t,i)},i)};this.createPage=function(e,a,t,i){var n;n=new l(this,e);if(a){n.load(a.bind(null,n),t,i)}return n};this.createPageSet=function(e,a,t){var i;i=new s(this,e);if(a){i.load(a.bind(null,i),t)}return i};this.forgetCatalog=function(e){delete h[e.getId()]};this.getPageBuildingService=function(){return n};this.getRemoteCatalogService=function(e){var a=e.type==="H"?"/sap/hba/apps/kpi/s/odata/hana_chip_catalog.xsodata":e.baseUrl;return a?d.get(a.replace(/\/$/,"")):undefined};this.toString=function(e){var a=["Factory({oPbs:",n.toString(e)];if(e){a.push(",mChips:",JSON.stringify(p))}a.push("})");return a.join("")};d=new o.Map;if(!n){throw new a("Missing page building service","Factory")}c.debug("Created: "+this,null,"Factory")};p.createFactory=function(e,a,t,i){return new p(n.createPageBuildingService(e,a,t,i))};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/ODataService", ["sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error"],function(e,r){"use strict";var n=new e.Map;var t=function(e,t){var s;this.getCsrfToken=function(){if(n.get(s)&&n.get(s).token){return n.get(s).token}return""};this.getDefaultErrorHandler=function(){return t};this.openBatchQueue=function(){e.openBatchQueue()};this.refreshCsrfToken=function(i,o){var a;if(typeof i!=="function"){throw new r("Success callback is not a function","ODataService")}o=o||t;a=n.get(s);if(!a.fetchingInProgress){a.token=undefined;a.fetchingInProgress=true;e.read("",function(){if(!n.get(s)||!n.get(s).token){o("No CSRF token delivered");a.errorHandlers.forEach(function(e){e("No CSRF token delivered")})}else{i();a.successHandlers.forEach(function(e){e()})}a.successHandlers=[];a.errorHandlers=[];a.fetchingInProgress=false},function(){a.fetchingInProgress=false;o.apply(null,arguments)})}else{a.successHandlers.push(i);a.errorHandlers.push(o)}};this.setCsrfToken=function(e){var t;if(e&&typeof e!=="string"){throw new r("Invalid CSRF token: "+e,"ODataService")}t=n.get(s);t.token=e};this.setDefaultErrorHandler=function(e){if(e&&typeof e!=="function"){throw new r("Error callback is not a function","ODataService")}t=e||function(){}};this.submitBatchQueue=function(){e.submitBatchQueue.apply(e,arguments)};this.toString=function(r){var n=["ODataService({"];if(r){n.push('csrfToken:"',this.getCsrfToken(),'"');n.push(",oODataWrapper:",e.toString(true))}n.push("})");return n.join("")};if(!e){throw new r("Missing OData wrapper","ODataService")}s=e.getBaseUrl();if(!n.get(s)){n.put(s,{fetchingInProgress:false,successHandlers:[],errorHandlers:[]})}this.setDefaultErrorHandler(t)};t.resetSharedCsrfTokens=function(){n=new e.Map};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/ODataWrapper", ["sap/ui/thirdparty/datajs","sap/base/i18n/Localization","sap/ui/core/Supportability","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,a,r,n,s,i,jQuery){"use strict";function o(){}function u(e,t){if(r.isArray(e)){e.forEach(function(e){e.reject(t)})}else{e.reject(t)}}var c;c=function(e,a){var n="saplb",f,l,d,h=this,g,b;function O(e){var t={};t.baseUrl=e[0];if(typeof e[2]==="boolean"){t.supportsChangeSets=e[2]}return t}this.getBatchQueue=function(){return f};c.headerValue=function(e,t){e=e.toLowerCase();for(var a in t){if(Object.prototype.hasOwnProperty.call(t,a)&&a.toLowerCase()===e){return t[a]}}return undefined};function S(t){var a=e["sap-language"]||c["sap-language"],r=e["sap-statistics"]||c["sap-statistics"],n=e["sap-client"]||c["sap-client"];t=t||{};if(a){t["sap-language"]=a}if(r||r==="false"){t["sap-statistics"]=""+r}if(n){t["sap-client"]=n}return t}function y(e){e=e||{};var t=c.oStickySessionConfiguration[g];if(typeof t==="undefined"){return e}if(t&&t.enabled&&typeof t.value!=="undefined"){e[n]=t.value}return e}this.detectStickySession=function(e){var t,a=c.oStickySessionConfiguration[g];if(!a||!a.enabled){return}t=c.headerValue(n,e);if(typeof t==="undefined"){return}if(a.value!==t){a.value=t}};c.csrfTokenValue=function(e){var t=c.headerValue("x-csrf-token",e);if(t==="Required"){return t}var a=c.headerValue("cache-control",e);if(a===undefined||a.indexOf("max-age=0")>-1||a.indexOf("no-cache")>-1){return t||""}return""};this.doRequest=function(e,n,s,u,f,p,l){i.debug("[000] do request, sMethod",n,"ODataWrapper");var d;u=u||o;f=f||a.getDefaultErrorHandler();h.check(u,f);d={Accept:"application/json","Accept-Language":t.getLanguage()||"","X-CSRF-Token":a.getCsrfToken()};S(d);y(d);OData.request({requestUri:e,method:n,data:s,headers:d},function(t,a){this.detectStickySession((a||{}).headers);i.debug("Received OData response for "+n+' "'+e+'"',null,"ODataWrapper");r.callHandler(u.bind(null,t),f)}.bind(this),function(t){function r(){f.apply(null,arguments)}function o(){u.apply(null,arguments)}if(!l&&t.response.statusCode===403&&c.csrfTokenValue(t.response.headers).toLowerCase()==="required"){i.debug("CSRF token required for "+n+' "'+e+'", refreshing it',JSON.stringify(t.response),"ODataWrapper");a.refreshCsrfToken(this.doRequest.bind(h,e,n,s,o,r,p,true),r)}else{h.onError(n,e,f,null,t)}}.bind(this),p);i.debug("Sent OData request for "+n+' "'+e+'"',null,"ODataWrapper")};this.toRelativeUrl=function(e){var t=e.indexOf(g);if(t<0){throw new s('Not relative to base URL "'+g+'": '+e,"ODataWrapper")}return e.slice(t+g.length)};this.toRequestUrl=function(e){if(/^\//.test(e)){throw new s("Not a relative URL: "+e,"ODataWrapper")}return g+e};this.readOrBatch=function(e,a,r){var n,s=this.toRequestUrl(e),o=y(S());if(f){i.debug('Queued OData request for GET "'+e+'"',null,"ODataWrapper");f.push({method:"GET",requestUri:e,headers:o});n=(new jQuery.Deferred).done(a).fail(r);d.push(n);l=false;return}o.Accept="application/json";o["Accept-Language"]=t.getLanguage()||"";o["X-CSRF-Token"]="Fetch";OData.read({requestUri:s,headers:o},a,r);i.debug('Sent OData request for GET "'+s+'"',null,"ODataWrapper")};this.requestOrBatch=function(e,t,n,s,u){var c,p={data:n,method:t,requestUri:e,headers:y(S())},g=this.toRequestUrl(e);if(f){s=s||o;u=u||a.getDefaultErrorHandler();h.check(s,u);i.debug("Queued OData request for "+t+' "'+e+'"',null,"ODataWrapper");if(!l){f.push({__changeRequests:[]});d.push([]);l=b}f[f.length-1].__changeRequests.push(p);c=(new jQuery.Deferred).done(function(e,a){i.debug("Received OData response for "+t+' "'+g+'"',null,"ODataWrapper");r.callHandler(s.bind(null,e),u)}).fail(h.onError.bind(h,t,g,u,null));d[d.length-1].push(c);return}this.doRequest(g,t,n,s,u)};this.isStickySessionEnabled=function(){return(c.oStickySessionConfiguration[g]||{}).enabled||false};this.enableStickySession=function(){c.oStickySessionConfiguration[g].enabled=true};this.check=function(e,t){if(!e){throw new s("Missing success callback","ODataWrapper")}if(typeof e!=="function"){throw new s("Success callback is not a function","ODataWrapper")}if(!t){throw new s("Missing error callback","ODataWrapper")}if(typeof t!=="function"){throw new s("Error callback is not a function","ODataWrapper")}};this.create=function(e,t,a,r){i.debug("[000] create: url",e,"ODataWrapper");this.requestOrBatch(e,"POST",t,a,r)};this.del=function(e,t,a){var r=e;if(typeof r!=="string"){r=this.toRelativeUrl(e.__metadata.uri)}this.requestOrBatch(r,"DELETE",null,function(e){if(t){t()}},a)};this.getBaseUrl=function(){return g};this.getODataService=function(){return a};this.onError=function(e,t,a,r,n){var s,o="Error ";if(n.response&&n.response.statusCode){o+="("+n.response.statusCode+", "+n.response.statusText+") "}o+="in OData response for "+e+' "'+t+'": '+n.message;if(n.response&&n.response.body){try{s=JSON.parse(n.response.body).error;if(s){if(s.hasOwnProperty("message")&&s.message.hasOwnProperty("value")){o+="\nDetails: "+s.message.value}if(n.response.statusCode&&!s.httpStatus){s.httpStatus=n.response.statusCode}}}catch(e){}}i.error(o,JSON.stringify(n.response),"ODataWrapper");if(r){r.reject(o,s)}a(o,s)};this.openBatchQueue=function(){if(f){throw new s("Batch queue already open","ODataWrapper")}f=[];d=[];l=false};this.isBatchQueueOpen=function(){return!!f};this.read=function(e,t,n,s){var o,u=this.toRequestUrl(e),f;function p(e,s){this.detectStickySession(s.headers);a.setCsrfToken(c.csrfTokenValue(s.headers)||a.getCsrfToken());i.debug('Received OData response for GET "'+u+'"',null,"ODataWrapper");f=c.headerValue("sap-message",s.headers);if(f){i.warning("SAP message for GET "+u,f,"ODataWrapper")}if(o){o.resolve(JSON.parse(JSON.stringify(e)),a.getCsrfToken())}r.callHandler(t.bind(null,e),n)}n=n||a.getDefaultErrorHandler();this.check(t,n);if(s){OData.read.$cache=OData.read.$cache||new r.Map;o=OData.read.$cache.get(u);if(o){i.debug('Using cached response for GET "'+u+'"',null,"ODataWrapper");o.done(function(e,s){a.setCsrfToken(a.getCsrfToken()||s);r.callHandler(t.bind(null,JSON.parse(JSON.stringify(e))),n)}).fail(n);return}o=new jQuery.Deferred;OData.read.$cache.put(u,o.promise())}this.readOrBatch(e,p.bind(this),this.onError.bind(this,"GET",u,n,o))};this.batch=function(e,t,a){var r=this.toRequestUrl("$batch");this.doRequest(r,"POST",e,t,a,OData.batchHandler)};this.submitBatchQueue=function(e,t){var n=d;function o(s){var i=s.__batchResponses.length,o=n.length;if(o!==i){h.onError("POST",this.toRequestUrl("$batch"),t,null,{message:"Protocol error! Expected "+o+" responses, but received "+i});return}s.__batchResponses.forEach(function(e,t){var a=n[t];if(e.response){u(a,e)}else if(e.__changeResponses){e.__changeResponses.forEach(function(e,t){a[t].resolve(e.data,e)})}else{a.resolve(e.data,e)}});if(e){r.callHandler(e,a.getDefaultErrorHandler())}}if(!f){throw new s("No open batch queue to submit","ODataWrapper")}if(f.length>0){i.debug("[000] submit batch queue: batch","ODataWrpper");this.batch({__batchRequests:f},o.bind(this),t)}else if(e){r.callHandler(e,a.getDefaultErrorHandler(),true)}i.debug("[000] submit batch queue","ODataWrapper");f=undefined;d=undefined};this.toString=function(e){var t=['ODataWrapper({sBaseUrl:"',g,'"'];t.push("})");return t.join("")};this.put=function(e,t,a,r){i.debug("[000] put: request or batch, payload.id",t.id,"ODataWrapper");this.requestOrBatch(e,"PUT",t,function(e){if(a){a()}},r)};this.update=function(e,t,a){var r={__metadata:{type:e.__metadata&&e.__metadata.type}},n,s=this.toRelativeUrl(e.__metadata.uri);for(n in e){if(Object.prototype.hasOwnProperty.call(e,n)&&n.indexOf("$")!==0&&typeof e[n]!=="object"){r[n]=e[n]}}this.put(s,r,t,a)};if(typeof e==="string"){e=O(arguments)}else if(typeof e==="object"){e=p(e)}if(!e||!e.baseUrl||typeof e.baseUrl!=="string"){throw new s("Missing base URL","ODataWrapper")}if(!a||typeof a!=="object"){throw new s("Missing OData service facade","ODataWrapper")}e.baseUrl=e.baseUrl.replace(/\/$/,"")+"/";g=e.baseUrl;b=e.supportsChangeSets;if(typeof c.oStickySessionConfiguration==="undefined"){i.error("ODataWrapper.oStickySessionConfiguration is not defined!","the ODataWrapper constructor was called before the static property was defined","ODataWrapper")}else if(typeof c.oStickySessionConfiguration[g]==="undefined"){c.oStickySessionConfiguration[g]={enabled:false,value:undefined}}};function f(e){var t={};var a={};t.baseUrl=e[0];if(typeof e[1]==="boolean"){t.supportsChangeSets=e[1]}if(typeof e[2]==="function"){a.defaultFailure=e[2]}a.settings=t;return a}function p(e){if(e===undefined){return undefined}try{return JSON.parse(JSON.stringify(e))}catch(e){return undefined}}if(typeof c.oStickySessionConfiguration==="undefined"){c.oStickySessionConfiguration={}}c.checkSapStatisticsSetting=function(e){try{c["sap-statistics"]=a.isStatisticsEnabled()}catch(t){c["sap-statistics"]=/sap-statistics=(true|x|X)/.test(e)}};c.checkSapStatisticsSetting(window.location.search);c._Service=function e(t,a){var r=new c(t,this);n.call(this,r,a);return r};c.createODataWrapper=function(e,t){i.debug("[000] createOdataWrapper","ODataWrapper");if(typeof arguments[0]==="string"){var a=f(arguments);e=a.settings;if(a.defaultFailure){t=a.defaultFailure}}else if(typeof arguments[0]==="object"){e=p(e)}return new c._Service(e,t)};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/PageBuildingService", ["sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/Error"],function(e,n,t,i){"use strict";var a=function(t,r,s,o){var c,g=this;function d(e){return e.replace(/'/g,"''").replace(/&/g,"%26")}function p(e,n,t){var i;if(typeof e==="string"){i=e}else{if(e.instanceId){return"ChipInstanceBags(pageId='"+encodeURIComponent(e.pageId)+"',instanceId='"+encodeURIComponent(e.instanceId)+"',id='"+encodeURIComponent(n)+"')"+(t?"?$expand=ChipInstanceProperties":"")}i=e.id}return"Bags(pageId='"+encodeURIComponent(i)+"',id='"+encodeURIComponent(n)+"')"+(t?"?$expand=Properties":"")}a.extractBatchResponseEntry=function(e){if(e.statusCode==="201"){return e.data}if(e.statusCode==="204"){return undefined}return e.message||""};this.batch=function(n,t,i,r){var s=[];function o(e){var n,t=[];for(n=0;n<e.length;n+=1){t[n]=a.extractBatchResponseEntry(e[n])}return t}i=i||function(){};r=r||g.getDefaultErrorHandler();c.check(i,r);n=n||[];t=t||[];if(n.length>0){s.push({__changeRequests:n})}s=s.concat(t);if(s.length===0){e.callHandler(i.bind(null,[],[]),r,true);return}c.batch({__batchRequests:s},function(t){var a=t.__batchResponses,g=a[0].__changeResponses;if(a[0].response&&a[0].message){c.onError("POST",c.getBaseUrl()+"$batch",r,undefined,t.__batchResponses[0]);return}if(g&&g.length!==n.length||a.length!==s.length){r("Number of requests differs from number of responses in $batch");return}if(g){e.callHandler(i.bind(null,o(g),o(a.slice(1))),r,false)}else{e.callHandler(i.bind(null,[],o(a)),r,false)}},r)};this.isPersonalization=function(){return!!s};this.readMetadata=function(n,t,i){var a=c.getBaseUrl()+"$metadata"+(i?"?"+Date.now():"");t=t||this.getDefaultErrorHandler();c.check(n,t);OData.read(a,function(i){e.callHandler(n.bind(null,i),t)},c.onError.bind(c,"GET",a,t,undefined),OData.metadataHandler)};this.deleteBag=function(e,n,t,a){if(!e){throw new i("Missing parent ID or object","PageBuildingService")}if(!n){throw new i("Missing bag ID","PageBuildingService")}c.del(p(e,n,false),t,a)};this.readBag=function(e,n,t,a){if(!e){throw new i("Missing parent ID or object","PageBuildingService")}if(!n){throw new i("Missing bag ID","PageBuildingService")}c.read(p(e,n,true),t,a)};this.readAllCatalogs=function(e,n,t,i,a,r){var s="id";r=r===undefined?true:r;if(a&&typeof a==="string"){s=a}var o="Pages('"+encodeURIComponent(e)+"')/allCatalogs?$expand=Chips/ChipBags/ChipProperties&"+"$orderby="+s;if(i&&typeof i==="string"){o=o+"&$filter="+encodeURIComponent(i)}if(this.readAllCatalogs.cacheBusterTokens&&this.readAllCatalogs.cacheBusterTokens.get(e)){o+="&sap-cache-id="+this.readAllCatalogs.cacheBusterTokens.get(e)}c.read(o,n,t,r)};this.readCatalogs=function(e,n,t){var i="Catalogs?$orderby=id";if(t&&typeof t==="string"){i=i+"&$filter="+encodeURIComponent(t)}c.read(i,e,n)};this.readAllCatalogsForUser=function(e,n,t){var i=e?"?$filter="+encodeURIComponent(e):"";c.read("Pages('unused')/allCatalogs"+i,n,t)};this.getReferencingCatalogIds=function(e,n,t){if(typeof n!=="function"){n=t;t=arguments[3]}function a(t){var i=[],a=t.results||[];a.forEach(function(n){if(n.referenceChipId===e){if(i.indexOf(n.catalogId)===-1){i.push(n.catalogId)}}});n(i)}if(typeof e!=="string"){throw new i("sReferencedChipId must be a string","PageBuildingService")}if(typeof n!=="function"){throw new i("fnSuccess is mandatory","PageBuildingService")}c.read("Chips?$filter="+encodeURIComponent("referenceChipId eq '"+d(e)+"'"),a,function(e){new i(e,"PageBuildingService");t.apply(null,arguments)})};this.createPageBasedCatalog=function(e,n,t,a){if(!e){throw new i("Missing domain ID","PageBuildingService")}c.create("Catalogs",{domainId:e,title:n,type:"CATALOG_PAGE"},t,a)};this.createCatalog=function(e,n,t){c.create("Catalogs",e,n,t)};this.deleteCatalog=function(e,n,t){c.del(e,n,t)};this.cloneCatalog=function(e,n,t,a,r){if(!e){throw new i("Missing source catalog ID","PageBuildingService")}if(!n){throw new i("Missing new domain ID","PageBuildingService")}if(n.indexOf(":")>=0){throw new i("Illegal domain ID: "+n,"PageBuildingService")}c.create("CloneCatalog?sourceId='"+encodeURIComponent(e)+"'&targetId='"+encodeURIComponent(n)+(t!==undefined?"'&title='"+encodeURIComponent(t)+"'":"'"),{},a,r)};this.clonePageChipInstance=function(e,n,t,a,r){if(!e){throw new i("Missing source page ID","PageBuildingService")}if(!n){throw new i("Missing source CHIP instance ID","PageBuildingService")}if(!t){throw new i("Missing target page ID","PageBuildingService")}c.create("ClonePageChipInstance?sourcePageId='"+encodeURIComponent(e)+"'&sourceChipInstanceId='"+encodeURIComponent(n)+"'&targetPageId='"+encodeURIComponent(t)+"'",{},function(e){c.read("PageChipInstances(pageId='"+encodeURIComponent(e.pageId)+"',instanceId='"+encodeURIComponent(e.instanceId)+"')"+"?$expand=ChipInstanceBags/ChipInstanceProperties",a,r)},r)};this.readCatalog=function(e,n,t,a,r){var s;if(!e){throw new i("Missing catalog ID","PageBuildingService")}s="Catalogs('"+encodeURIComponent(e)+"')";if(!a){s+="?$expand=Chips";if(!r){s+="/ChipBags/ChipProperties"}}c.read(s,n,t)};this.updateCatalog=function(e,n,t){c.update(e,n,t)};this.readCatalogChips=function(e,n,t,a){var r,s="",o="?$filter=";if(!e){throw new i("Missing catalog ID","PageBuildingService")}r="Catalogs('"+encodeURIComponent(e)+"')/Chips";if(n){if(!n.length){throw new i("No CHIP IDs given","PageBuildingService")}n.forEach(function(e){s=s+o+"id%20eq%20'"+encodeURIComponent(e)+"'";o="%20or%20"});if(c.getBaseUrl().length+r.length+s.length>2e3){s=""}}c.read(r+s,t,a)};this.createPage=function(e,n,t,a,r,s){if(!e){throw new i("Missing page ID","PageBuildingService")}c.create("Pages",{id:e,catalogId:n,layout:t,title:a},r,s)};this.readPages=function(e,n,t){var i="Pages?";if(!t){i+="$expand=Catalog&"}c.read(i+"$orderby=id",e,n)};this.readPage=function(e,n,t,a){var r="Pages('"+encodeURIComponent(e)+"')";if(!e){throw new i("Missing page ID","PageBuildingService")}if(a===undefined){r+="?$expand=Bags/Properties,PageChipInstances/Chip/ChipBags/ChipProperties,"+"PageChipInstances/RemoteCatalog,"+"PageChipInstances/ChipInstanceBags/ChipInstanceProperties"}else if(a!==""){r+="?$expand="+a}c.read(r,n,t)};this.readPageSet=function(e,n,t,a){var r;var s=this;var o;a=a===undefined?true:a;if(!e){throw new i("Missing page set ID","PageBuildingService")}r="PageSets('"+encodeURIComponent(e)+"')?$expand="+"Pages/PageChipInstances/Chip/ChipBags/ChipProperties,"+"Pages/PageChipInstances/RemoteCatalog,"+"Pages/PageChipInstances/ChipInstanceBags/ChipInstanceProperties,"+"AssignedPages,"+"DefaultPage";if(this.readPageSet.cacheBusterTokens&&this.readPageSet.cacheBusterTokens.get(e)){r+="&sap-cache-id="+this.readPageSet.cacheBusterTokens.get(e)}if(this.readPageSet.appendedParameters){o=Object.keys(this.readPageSet.appendedParameters);if(o.length>0){o.sort();o.forEach(function(e){r+="&"+encodeURIComponent(e)+"="+encodeURIComponent(s.readPageSet.appendedParameters[e])})}}c.read(r,n,t,a)};this.updatePageSet=function(e,n,t){c.update(e,n,t)};this.createPageInPageSet=function(e,n,t,a,r){if(!e){throw new i("Missing page set ID","PageBuildingService")}c.create("PageSets('"+encodeURIComponent(e)+"')/Pages",{catalogId:t||"",layout:"",title:n||""},a,r)};this.updatePage=function(e,n,t){c.update(e,n,t)};this.deletePage=function(e,n,t){if(!e){throw new i("Missing page ID","PageBuildingService")}c.del("Pages('"+encodeURIComponent(e)+"')",n,t)};this.createPageChipInstance=function(e,n,t,i,a,r,s,o){this.createPageChipInstanceFromRawData({pageId:e,instanceId:n,chipId:t,title:i,configuration:a,layoutData:r},s,o)};this.createPageChipInstanceFromRawData=function(e,n,t){if(typeof e!=="object"){throw new i("Invalid raw data","PageBuildingService")}if(!e.pageId){throw new i("Missing page ID","PageBuildingService")}if(!e.chipId){throw new i("Missing CHIP ID","PageBuildingService")}e.instanceId=e.instanceId||"";e.title=e.title||"";e.configuration=e.configuration||"";e.layoutData=e.layoutData||"";c.create("PageChipInstances",e,n,t)};this.updatePageChipInstance=function(e,n,t){c.update(e,n,t)};this.deletePageChipInstance=function(e,n,t,a){if(!e){throw new i("Missing page ID","PageBuildingService")}if(!n){throw new i("Missing instance ID","PageBuildingService")}c.del("PageChipInstances(pageId='"+encodeURIComponent(e)+"',instanceId='"+encodeURIComponent(n)+"')",t,a)};this.updateBagProperties=function(e,n,t,a,r,s,o){var g=[],d=[],p,l,h,u,f="__metadata";function I(e){var n={__metadata:{type:e[f].type,uri:e[f].uri}},t;for(t in e){if(Object.prototype.hasOwnProperty.call(e,t)&&t!==f&&t.indexOf("$")!==0&&typeof e[t]!=="object"){n[t]=e[t]}}return n}if(!e){throw new i("Missing parent object","PageBuildingService")}if(!n){throw new i("Missing bag ID","PageBuildingService")}if(typeof r==="function"){this.updateBagProperties(e,n,t,a,[],r,s);return}t=t||[];a=a||[];r=r||[];if(t.length===0&&a.length===0&&r.length===0){throw new i("No properties to update, create or reset","PageBuildingService")}for(p=0;p<t.length;p+=1){h=t[p];u=h[f].uri;l=u.indexOf(c.getBaseUrl());if(l>=0){u=u.slice(l+c.getBaseUrl().length)}g.push({requestUri:u,method:"PUT",data:I(h)})}u=e.instanceId?"ChipInstanceProperties":"Properties";for(p=0;p<a.length;p+=1){h=a[p];if(!h.name){throw new i("Missing property name","PageBuildingService")}if(e.instanceId){h.instanceId=e.instanceId;h.pageId=e.pageId}else{h.pageId=e.id}h.bagId=n;g.push({requestUri:u,method:"POST",data:h})}for(p=0;p<r.length;p+=1){h=r[p];u=h[f].uri;l=u.indexOf(c.getBaseUrl());if(l>=0){u=u.slice(l+c.getBaseUrl().length)}g.push({requestUri:u,method:"DELETE"});d.push({requestUri:u,method:"GET"})}this.batch(g,d,function(e,n){var i=e.slice(a.length+t.length),r;for(r=0;r<i.length;r+=1){if(i[r]===undefined){if(typeof n[r]==="object"){i[r]=n[r]}}}if(s){s(e.slice(0,t.length),e.slice(t.length,a.length+t.length),i)}},o)};this.createProperty=function(e,n,t,a,r,s,o){var g;if(!e){throw new i("Missing parent ID or object","PageBuildingService")}if(!n){throw new i("Missing bag ID","PageBuildingService")}if(!t){throw new i("Missing property name","PageBuildingService")}if(typeof r==="function"){this.createProperty(e,n,t,a,undefined,r,s);return}g={bagId:n,name:t,pageId:e,translatable:r,value:a};if(typeof e!=="string"){if(e.instanceId){g.instanceId=e.instanceId;g.pageId=e.pageId}else{g.pageId=e.id}}c.create(g.instanceId?"ChipInstanceProperties":"Properties",g,s,o)};this.updateProperty=function(e,n,t){c.update(e,n,t)};this.deleteProperty=function(e,n,t){c.del(e,n,t)};this.readChip=function(e,n,t){if(!e){throw new i("Missing CHIP ID","PageBuildingService")}var a="Chips('"+encodeURIComponent(e)+"')?$expand=ChipBags/ChipProperties";if(o!==undefined){a=a+"&sap-cache-id="+o}c.read(a,n,t)};if(typeof t==="string"){c=a._createODataWrapper(t,this)}else{c=t}this.readAllCatalogs.cacheBusterTokens=new e.Map;this.readPageSet.cacheBusterTokens=new e.Map;if(!c.isStickySessionEnabled()&&!s){c.enableStickySession()}n.call(this,c,r)};a._createODataWrapper=function(e,n){return new t(e,n,true)};a.createPageBuildingService=function(e,n,t,i){return new a(e,n,t,i)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/PageSet", ["sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Page","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],function(e,t,i,n){"use strict";var a={assigned:1,userCreated:2,personalized:3,defaultPage:4};var s=function(s,g){var u,r,o,f=[],l,d=true,c=this;function p(){if(d){throw new i(c+": page set is just a stub","sap.ushell_abap.pbServices.ui2.PageSet")}}this.getPageType=function(e){var t=e.getId(),n;p();if(!l.containsKey(t)){throw new i("Unknown page "+t,"sap.ushell_abap.pbServices.ui2.PageSet")}n=l.get(t);if(n===a.assigned&&e.isPersonalized()){n=a.personalized}return n};function h(i){var g=i.DefaultPage.id,u=i.AssignedPages&&i.AssignedPages.results||[];r=i;l=new e.Map;u.forEach(function(e){l.put(e.id,a.assigned)});r.Pages.results.forEach(function(e){var i=new t(s,e),n=i.getId();f.push(i);if(g===n){o=i;l.put(n,a.defaultPage)}else if(!l.containsKey(n)){l.put(n,a.userCreated)}});delete r.AssignedPages;delete r.DefaultPage;delete r.Pages;d=false;n.debug("Initialized: "+c,null,"PageSet")}this.appendPage=function(e,g,r,o){p();if(typeof r!=="function"){throw new i("Missing success handler","PageSet")}s.getPageBuildingService().createPageInPageSet(u,e,g,function(e){var i=new t(s,e);f.push(i);l.put(i.getId(),a.userCreated);n.debug("Appended new page with ID "+i.getId()+" to pageset "+c,null,"PageSet");r(i)},o)};this.isPageRemovable=function(e){return this.getPageType(e)===a.userCreated};this.isPageResettable=function(e){return this.getPageType(e)===a.personalized};this.removePage=function(e,t,n){if(!this.isPageRemovable(e)){throw new i("Cannot remove page "+e.getId(),"PageSet")}e.remove(function(){f.splice(f.indexOf(e),1);l.remove(e.getId());if(t){t()}},n)};this.resetPage=function(e,t,n){if(!this.isPageResettable(e)){throw new i("Cannot reset page "+e.getId(),"sap.ushell_abap.pbServices.ui2.PageSet")}e.remove(function(){e.load(t,n,true)},n)};this.filter=function(e,t){var i,n=[],a;p();e=e||[];t=t||[];for(i=0;i<f.length;i+=1){a=f[i];if(e.indexOf(a.getId())!==-1){n.push(a)}else if(a.getCatalog()&&t.indexOf(a.getCatalog().getId())!==-1){n.push(a)}}f=n};this.getConfiguration=function(){p();return r.configuration};this.setConfiguration=function(t,n,a){p();if(typeof n!=="function"){throw new i("Missing success handler","PageSet")}if(r.configuration===t){e.callHandler(n,a,true);return}r.configuration=t;s.getPageBuildingService().updatePageSet(r,function(e){n()},a)};this.getDefaultPage=function(){p();return o};this.getId=function(){return u};this.getPages=function(){p();return f.slice()};this.isStub=function(){return d};this.load=function(e,t){if(!d){throw new i("Page set is not a stub anymore","PageSet")}s.getPageBuildingService().readPageSet(u,function(t){n.debug("Loaded: "+c,null,"PageSet");h(t);e()},t,true)};this.toString=function(e){var t=['PageSet({sId:"',u,'",bIsStub:',d];if(e){t.push(",oAlterEgo:",JSON.stringify(r),",oFactory:",s.toString(e),",aPages:",JSON.stringify(f))}t.push("})");return t.join("")};u=g;if(!u){throw new i("Missing page set ID","PageSet")}n.debug("Created: "+this,null,"PageSet")};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/RemoteCatalogService", ["sap/ushell_abap/pbServices/ui2/PageBuildingService"],function(e){"use strict";var i=function(){this.readChips=function(i,a,n,r,u){e.createPageBuildingService(i).readCatalogChips(a,n,r,u)}};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/Utils", ["sap/ui/thirdparty/URI","sap/base/Log","sap/ushell_abap/pbServices/ui2/Error","sap/ui/Device"],function(e,t,r,n){"use strict";var i=function(){};if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var t=Array.prototype.slice.call(arguments,1),r=this,n=function(){},i=function(){return r.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};n.prototype=this.prototype;i.prototype=new n;return i}}var s;i.absoluteUrl=function(e,t){t=t||location.href;if(t.indexOf("://")<0&&t.charAt(0)!=="/"){throw new r("Illegal base URL: "+t)}if(!e||e.indexOf("://")>=0||e.charAt(0)==="/"){return i.addCacheBusterTokenUsingUshellConfig(e)}if(t.search(/^([^:]*:)?\/\/[^/]+$/)<0){t=t.replace(/\/[^/]*$/,"")}return i.addCacheBusterTokenUsingUshellConfig(t+"/"+e)};i.callHandler=function(e,r,n){var s;if(n){setTimeout(function(){i.callHandler(e,r,false)},0);return}try{e()}catch(e){s=e.message||e.toString();t.error("Call to success handler failed: "+s,e.stack);if(r){r(s)}}};i.get=function(e,n,o,a,u,c){if(typeof o!=="function"){throw new r("Missing success handler")}if(typeof a!=="function"){throw new r("Missing error handler")}if(n&&c){throw new r("Caching of XML responses not supported")}if(typeof i.addCacheBusterTokenUsingUshellConfig==="function"){e=i.addCacheBusterTokenUsingUshellConfig(e)}u=u||new XMLHttpRequest;u.onreadystatechange=function(){var r,u;if(this.readyState!==4){return}if(this.status!==200){t.error("Error "+this.status+" in response for URL "+e,null);a(e+": "+this.status+" "+this.statusText,this.responseText);return}t.debug("Received response for URL "+e,null);if(n){u=this.responseXML;if(u===null||!u.documentElement){a(e+": no valid XML");return}r=u}else{r=this.responseText;if(c){s.put(e,r)}}i.callHandler(o.bind(null,r),a)};if(!n&&s.containsKey(e)){t.debug("Return cached response for URL "+e,null);i.callHandler(o.bind(null,s.get(e)),a)}else{try{if(u.readyState<XMLHttpRequest.OPENED){u.open("GET",e,true)}else{t.debug("XHR Request was already opened for "+e,null)}u.send();t.debug("Sent request to URL "+e,null)}catch(r){t.error("Error '"+(r.message||r)+"' in request to URL "+e,null);throw r}}};i.addCacheBusterToken=function(e,t,r,n){if(t.test(e)){e=e.replace(t,r);e=e.replace(/\[CacheBusterToken\]/g,n)}return e};i.removeCBAndNormalizeUrl=function(t){var r,n,i,s;if(typeof t!=="string"||t===""||o(t)){return t}function o(t){var r=new e(t),n=r.path();if(r.is("absolute")){return false}if(n&&n.charAt(0)==="/"){return false}return true}r=t.match(/(.*)(\/~[\w-]+~[A-Z0-9]?)(.*)/);if(r){n=r[1];i=r[2];s=r[3]}function a(t){return new e(t).normalizePathname().toString()}function u(t){var r=new e(t).segment(),n,i=0;for(n=0;n<r.length&&i>=0;n+=1){if(r[n]===".."){i=i-1}else{i=i+1}}return i<0}if(i){if(s&&u(s)){t=n+s}}return a(t)};i.addCacheBusterTokenUsingUshellConfig=function(e){var t=window["sap-ushell-config"]&&window["sap-ushell-config"].cacheBusting,r=t&&t.patterns,n=e,s=[],o,a=[];s=i.getParameterMap();o=s["sap-ushell-nocb"]&&s["sap-ushell-nocb"][0];if((o==="true"||o==="X")&&typeof e==="string"){e=e.replace(/\/~[\w-]+~[A-Z0-9]?/,"");return e}if(!t||typeof e!=="string"||e===""||/[/=]~[\w-]+~[A-Z0-9]?[/#?&]/.test(e)||/[/=]~[\w-]+~[A-Z0-9]?$/.test(e)){return e}if(t&&t.urls){if(e.charAt(e.length-1)==="/"){e=e.substr(0,e.length-1)}if(t.urls.hasOwnProperty(e)){return e+"/"+t.urls[e].cacheBusterToken}if(t.urls.hasOwnProperty(e+"/")){return e+"/"+t.urls[e+"/"].cacheBusterToken}}if(!r){return e}Object.keys(r).forEach(function(e){if(r.hasOwnProperty(e)){var t=r[e];t.pattern=new RegExp(e);a.push(t)}});a.sort(function(e,t){return e.order-t.order});a.every(function(r){if(r.pattern.test(e)){if(!r.cacheBusterToken){r.cacheBusterToken=t.cacheBusterToken}n=i.addCacheBusterToken(e,r.pattern,r.replacement,r.cacheBusterToken);return false}return true});return n};i.clearCache=function(){s=new i.Map};i.getFormFactor=function(){if(n.system.desktop){return n.system.SYSTEMTYPE.DESKTOP}if(n.system.tablet){return n.system.SYSTEMTYPE.TABLET}if(n.system.phone){return n.system.SYSTEMTYPE.PHONE}};i.getParameterMap=function(e){var t;var n;var i={};var s;var o;var a;var u;var c;var l=arguments.length>0?e:location.search;if(l&&l.charAt(0)!=="?"){throw new r("Illegal search string "+l)}if(!l||l==="?"){return{}}u=l.substring(1).replace(/\+/g," ").split(/[&;]/);c=u.length<500?u.length:500;for(t=0,n=c;t<n;t+=1){s=u[t];o="";a=s.indexOf("=");if(a>=0){o=s.slice(a+1);o=decodeURIComponent(o);s=s.slice(0,a)}s=decodeURIComponent(s);if(!Object.prototype.hasOwnProperty.call(i,s)){i[s]=[]}i[s].push(o)}return i};i.getParameterValue=function(e,t){var n,s;if(typeof t!=="string"){throw new r("Missing parameter name")}e=e.split("#")[0];s=e.indexOf("?");if(s>=0){n=i.getParameterMap(e.slice(s));if(n[t]){return n[t][0]}}return""};i.isArray=function(e){return Object.prototype.toString.apply(e)==="[object Array]"};i.isString=function e(t){return/String/.test(Object.prototype.toString.call(t))};i.parseXml=function(e){var t;if(!e||typeof e!=="string"){return null}t=(new DOMParser).parseFromString(e,"text/xml");if(t.getElementsByTagName("parsererror").length){throw new r("Invalid XML: "+e)}return t};i.Map=function(){this.entries={}};i.Map.prototype.put=function(e,t){var r=this.get(e);this.entries[e]=t;return r};i.Map.prototype.containsKey=function(e){if(typeof e!=="string"){throw new r("Not a string key: "+e)}return Object.prototype.hasOwnProperty.call(this.entries,e)};i.Map.prototype.get=function(e){if(this.containsKey(e)){return this.entries[e]}return undefined};i.Map.prototype.keys=function(){return Object.keys(this.entries)};i.Map.prototype.remove=function(e){delete this.entries[e]};i.Map.prototype.toString=function(){var e=["Map("];e.push(JSON.stringify(this.entries));e.push(")");return e.join("")};i.clearCache();return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/actions", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],function(t,e,n){"use strict";t.addContract("actions",function(t){var n;this.setActionsProvider=function(t){if(typeof t!=="function"){throw new e("CHIP actions provider is not a function","chip.actions")}n=t};return{getActions:function(){if(n){return n()}return[]}}});t.addContract("types",function(t){var i,r;this.attachSetType=function(t){if(typeof t!=="function"){throw new e("Change event handler is not a function","chip.types")}if(r===t){return}r=t;if(i){r(i)}};return{getAvailableTypes:function(){return t.getChip().getAvailableTypes()},getDefaultType:function(){return t.getChip().getDefaultType()},setType:function(t){var o;if(typeof t!=="string"||t===""){throw new e("The given type is not a string","contract.types")}o=t.toLowerCase();if(this.getAvailableTypes().indexOf(o)<0){throw new e("The CHIP does not support type '"+o+"'","contract.types")}i=o;if(!r){return}try{r(o)}catch(t){n.error("Could not set CHIP type '"+o+"': "+(t.message||t.toString()),null,"chip.types")}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/bag", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error"],function(t,e,a){"use strict";t.addContract("bag",function(t){var i;this.getBag=function(e){return t.getBag(e)};this.getBagIds=function(){return t.getBagIds()};this.getOriginalLanguage=function(){return t.getPage()&&t.getPage().getOriginalLanguage()};this.attachBagsUpdated=function(t){if(typeof t!=="function"){throw new a("The given handler is not a function","chip.bag")}i=t};return{fireBagsUpdated:function(t){if(!e.isArray(t)||t.length<1){throw new a("At least one bag ID must be given","contract.bag")}if(i){i(t)}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/configuration", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/Utils"],function(t,i,n){"use strict";t.addContract("configuration",function(t){var e;this.getParameterValueAsString=function(i){return t.getConfigurationParameter(i)};this.attachConfigurationUpdated=function(t){if(typeof t!=="function"){throw new i("The given handler is not a function","chip.configuration")}e=t};return{fireConfigurationUpdated:function(t){if(!n.isArray(t)||t.length<1){throw new i("At least one configuration property key must be given","contract.configuration")}if(e){e(t)}}}});t.addContract("writeConfiguration",function(t){this.setParameterValues=function(i,n,e){t.updateConfiguration(i,n,e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/configurationUi", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error"],function(n,i){"use strict";n.addContract("configurationUi",function(n){var t,e,o,u=false,f,c,r;this.attachCancel=function(n){if(typeof n!=="function"){throw new i("Cancel event handler is not a function","chip.configurationUi")}t=n};this.attachSave=function(n){if(typeof n!=="function"){throw new i("Save event handler is not a function","chip.configurationUi")}f=n};this.display=function(){if(e){e()}};this.isEnabled=function(){return u};this.isReadOnly=function(){return n.isReadOnly()};this.setDirtyProvider=function(n){o=n};this.setUiProvider=function(n){c=n};this.setAsyncUiProvider=function(n){r=n};return{attachDisplay:function(n){if(typeof n!=="function"){throw new i("Display event handler is not a function","ChipInstance")}e=n},fireCancel:function(){if(t){t()}},fireSave:function(){return f?f():undefined},getUi:function(n){return c?c(n):undefined},getUiAsync:function(n){return r?r(n):undefined},isDirty:function(){return o?o():undefined},setEnabled:function(n){u=n}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/fullscreen", ["sap/ushell_abap/pbServices/ui2/Chip"],function(e){"use strict";e.addContract("fullscreen",function(e){this.getFullscreen=function(){return e.getFullscreen()};this.setFullscreen=function(t){e.setFullscreen(t)};this.attachFullscreen=function(t){e.attachFullscreen(t)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/preview", ["sap/ushell_abap/pbServices/ui2/Chip"],function(e){"use strict";var t={};t.setEnvironmentType=function(e){if(e!=="runtime"&&e!=="designtime"){throw new Error("setEnvironmentType only accepts the values 'runtime' or 'designtime'")}this.environment=e};t.getEnvironmentType=function(){return this.environment};e.addContract("preview",function(e){var n=false,i,r,u,o;this.getDescription=function(){return e.getChip().getDescription()};this.getTitle=function(){return e.getTitle()};this.isEnabled=function(){return n};this.getEnvironmentType=function(){return t.getEnvironmentType()};this.setPreviewIcon=function(e){i=e};this.setPreviewSubtitle=function(e){r=e};this.setPreviewTitle=function(e){u=e};this.setTargetUrl=function(e){o=e};return{getPreviewIcon:function(){return i},getPreviewSubtitle:function(){return r},getPreviewTitle:function(){return u},getTargetUrl:function(){return o},setEnabled:function(e){n=e}}});return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/search", ["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/ushell_abap/pbServices/ui2/Utils"],function(i,t,e){"use strict";i.addContract("search",function(i){var r,s;this.setKeywords=function(i){if(!e.isArray(i)){throw new t("Not an array: "+i,"chip.search")}s=i.slice()};this.attachHighlight=function(i){if(typeof i!=="function"){throw new t("Not a function: "+i,"chip.search")}r=i};return{getKeywords:function(){return s?s.slice():[]},fireHighlight:function(i){if(r){r(i)}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/pbServices/ui2/contracts/url", ["sap/ushell_abap/pbServices/ui2/Chip"],function(t){"use strict";t.addContract("url",function(t){this.addSystemToServiceUrl=function(e,i){return t.getChip().getCatalog().addSystemToServiceUrl(e,i)};this.getApplicationSystem=function(){return t.getChip().getCatalog().getSystemAlias()};this.toAbsoluteUrl=function(e){return t.getChip().toAbsoluteUrl(e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell_abap/ui5appruntime/AppInfoAdapter", ["sap/base/Log","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery"],function(e,a,jQuery){"use strict";var n=e.getLogger("sap/ushell_abap/ui5appruntime/AppInfoAdapter",e.Level.INFO);function r(){}r.prototype.getAppInfo=function(e){var a=new URLSearchParams(window.location.search);if(e===undefined){e=a.get("sap-ui-app-id")}if(e){return this._loadAppIndexData("/sap/bc/ui2/app_index/ui5_app_info_json",e)}return Promise.reject(new Error("Cannot load app info - no app-id provided and URL parameter 'sap-ui-app-id' not set"))};r.prototype._loadAppIndexData=function(e,r){var p=new a(e).query({id:r}).toString();return new Promise(function(e,a){jQuery.ajax({type:"GET",dataType:"json",url:p}).done(function(n){var o=n[r];if(o){e(n[r])}else{a(new Error("UI5 app index data loaded from "+p+" does not contain app "+r))}}).fail(function(e){n.error(e.responseText);a(new Error("Failed to load UI5 app index data loaded from "+p+": "+e.responseText))})})};return new r});
sap.ui.require.preload({
	"sap/ushell_abap/bootstrap/evo/abap-def-loader.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
(function(){"use strict";var a=document.getElementById("sap-ui-bootstrap").getAttribute("data-sap-ui-async");if(a&&a.toLowerCase()==="true"){sap.ui.require(["sap/ushell_abap/bootstrap/evo/abap-def"]);return}sap.ui.requireSync("sap/ushell_abap/bootstrap/evo/abap-def")})();
},
	"sap/ushell_abap/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell_abap","type":"library","embeds":[],"applicationVersion":{"version":"1.136.1"},"title":"SAP library: sap.ushell_abap","description":"SAP library: sap.ushell_abap","ach":"CA-FLP-FE-UI","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.ui.core":{"minVersion":"1.136.0"},"sap.m":{"minVersion":"1.136.0"},"sap.ushell":{"minVersion":"1.136.1"},"sap.ui.layout":{"minVersion":"1.136.0","lazy":true},"sap.ui.fl":{"minVersion":"1.136.0","lazy":true},"sap.f":{"minVersion":"1.136.0","lazy":true}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/ushell_abap/pbServices/ui2/ChipInstance.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
this.sap=this.sap||{};sap.ui.define(["sap/ushell_abap/pbServices/ui2/Bag","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],function(e,t,n,i){"use strict";var r=function(r,a,u,s){var c,o,f,l,g,h;var p=new t.Map;var d=false;var I=[];var C=this;var v=Object.assign({},a);function y(){a.referenceChipInstanceId="";a.referencePageId=""}function S(){y();if(s){s.updateScope()}}function P(){if(!c){throw new n(C+": CHIP instance is just a stub","ChipInstance")}}function b(e,n){if(!c){c=u.createApi(C,p)}i.debug("Initialized: "+C,null,"ChipInstance");t.callHandler(e,n)}function m(t){var n,i=u.getBagIds(),s;for(n=0;n<t.length;n+=1){o.put(t[n].id,new e(r,t[n],u.getBag(t[n].id),S))}for(n=0;n<i.length;n+=1){s={pageId:a.pageId,instanceId:a.instanceId,id:i[n],$tmp:true};if(!o.containsKey(s.id)){o.put(s.id,new e(r,s,u.getBag(s.id),S))}}}function w(){if(u.isStub()){throw new n(this+": initializeConfiguration expects that the CHIP is no stub anymore","ChipInstance",false)}if(!f){f={};u.updateConfiguration(f,a.configuration)}}this.persist=function(e,t){r.getPageBuildingService().updatePageChipInstance(a,function(){y();if(s){s.updateScope()}if(e){e()}},t)};this.attachFullscreen=function(e){if(typeof e!=="function"){throw new n(this+": fullscreen event handler is not a function","ChipInstance")}I.push(e)};this.attachRefresh=function(e){if(e&&typeof e!=="function"){throw new n(this+": refresh event handler is not a function","ChipInstance")}l=e};this.attachTitleChange=function(e){h=e};this.detachAll=function(){I=[];l=null};this.exit=function(){i.debug("Exit: "+C,null,"ChipInstance");c=null;o=new t.Map;f=null;g=null;h=null};this.getApi=function(){return c};this.getBagIds=function(){return o.keys()};this.getBag=function(t){var i;if(!t){throw new n("Missing bag ID","ChipInstance")}i=o.get(t);if(i){return i}i=new e(r,{pageId:a.pageId,instanceId:a.instanceId,id:t,$tmp:true},null,S);o.put(t,i);return i};this.getChip=function(){return u};this.getConfiguration=function(){return a.configuration};this.getConfigurationParameter=function(e){w();if(Object.prototype.hasOwnProperty.call(f,e)){return f[e]}return u.getConfigurationParameter(e)};this.getContract=function(e){P();return p.get(e)};this.getFullscreen=function(){return d};this.getId=function(){return a.instanceId};this.getImplementationAsSapui5=function(){i.error("Deprecated API call of 'ChipInstance.getImplementationAsSapui5'. Please use 'getImplementationAsSapui5Async' instead",null,"sap.ushell_abap.pbServices.ui2.ChipInstance");P();return u.getImplementationAsSapui5(c)};this.getImplementationAsSapui5Async=function(){try{P()}catch(e){return Promise.reject(e)}return u.getImplementationAsSapui5Async(c)};this.getLayoutData=function(){return a.layoutData};this.getPage=function(){return s};this.getTitle=function(){return g||a.title||u.getTitle()};this.getUpdated=function(e){function t(){i.error("Parse Error: CHIP instance's updated property has unexpected format","value of updated property: '"+a.updated+"'","ChipInstance")}var n,r;if(a.updated&&!e){n=/\((\d*)\)/.exec(a.updated);if(!n){t();return undefined}r=new Date(parseInt(n[1],10));if(isNaN(r.getTime())){t();return undefined}return r}return a.updated};this.isOutdated=function(){return a.outdated==="X"};this.isReadOnly=function(){P();return a.isReadOnly==="X"};this.isReference=function(){return!!a.referenceChipInstanceId||!!a.referencePageId};this.isBrokenReference=function(){return a.referenceChipInstanceId==="O"||a.referencePageId==="O"};this.getOriginalId=function(){return a.referenceChipInstanceId===""||a.referenceChipInstanceId==="O"?undefined:a.referenceChipInstanceId};this.getOriginalPageId=function(){return a.referencePageId===""||a.referencePageId==="O"?undefined:a.referencePageId};this.isStub=function(){return!c};this.load=function(e,n){var i;n=n||r.getPageBuildingService().getDefaultErrorHandler();i=b.bind(null,e,n);if(u.isStub()){u.load(i,n)}else{t.callHandler(i,n,true)}};this.remove=function(e,t){if(s&&s.removeChipInstance(C,e,t)){return}this.exit();r.getPageBuildingService().deletePageChipInstance(a.pageId,a.instanceId,e,t)};this.refresh=function(){if(l){try{l();return true}catch(e){i.error(C+": call to refresh handler failed: "+(e.message||e.toString()),null,"ChipInstance");return false}}return false};this.setFullscreen=function(e){var t,n;if(d!==e){d=e;for(t=0,n=I.length;t<n;t+=1){I[t]()}}};this.setLayoutData=function(e,n,i){if(a.layoutData===e){if(n){i=i||r.getPageBuildingService().getDefaultErrorHandler();t.callHandler(n,i,true)}return}a.layoutData=e;this.persist(n,i)};this.setTitle=function(e,n,i,u){var s;u=u||r.getPageBuildingService().getDefaultErrorHandler();if(g!==e){g=e;if(h){t.callHandler(h.bind(null,this),u,!n)}}if(n&&a.title!==g){s=a.title;a.title=g;g=undefined;this.persist(i,function(){a.title=s;g=undefined;u.apply(null,arguments)})}else if(i){t.callHandler(i,u,true)}};this.toString=function(e){var t=["ChipInstance({oChip:",u.toString(e),",bFullscreen:",d];if(e){t.push(",oAlterEgo:",JSON.stringify(a),",oApi:",JSON.stringify(c),",oBags:",o.toString(),",oConfiguration:",JSON.stringify(f),",oFactory:",r.toString(e),",aFullscreenHandlers.length:",I.length,',sTitle:"',g,'"')}t.push("})");return t.join("")};this.updateConfiguration=function(e,t,n){w();u.updateConfiguration(f,e);a.configuration=JSON.stringify(f);this.persist(t,n)};this._getConstructorData=function(){return{factory:r,alterEgo:v,chip:u,page:s}};this._getBags=function(){return o};this._setBags=function(e){o=e};o=new t.Map;m(a.ChipInstanceBags&&a.ChipInstanceBags.results||[]);delete a.Chip;i.debug("Created: "+this,null,"ChipInstance")};r.prototype.clone=function(){var e=this._getConstructorData();var t=new r(e.factory,e.alterEgo,e.chip,e.page);return new Promise(function(e,n){t.load(e,n)}).then(function(){t._setBags(this._getBags());return t}.bind(this))};return r});
},
	"sap/ushell_abap/pbServices/ui2/Page.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
this.sap=this.sap||{};sap.ui.define(["sap/ushell_abap/pbServices/ui2/Bag","sap/ushell_abap/pbServices/ui2/AllCatalogs","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,i,n,a,jQuery){"use strict";var s=function(s,r){var g,u,o,l,c,d=[],f=true,h=true,p=this;function P(){if(h){throw new n(p+": page is just a stub","Page")}}function I(t){var i,n=!!(t.Bags&&t.Bags.results),a=n?t.Bags.results:[],r=t.PageChipInstances&&t.PageChipInstances.results||[],g=a.length,u=r.length;f=!n;delete t.Bags;delete t.Catalog;delete t.PageChipInstances;o=t;h=false;for(i=0;i<g;i+=1){l.put(a[i].id,new e(s,a[i]))}for(i=0;i<u;i+=1){d[i]=s.createChipInstance(r[i],null,null,p)}}function v(e,t){s.getPageBuildingService().updatePage(o,function(t){p.updateScope();if(e){e()}},t)}this.addChipInstance=function(e,t,i,n){var a=s.getPageBuildingService(),r,g;function u(e){var a=s.createChipInstance(e,n?null:t,i,p);d.push(a);p.updateScope();if(n){t(a)}}P();if(e.getChip){g=e;r=g.getChip()}else{r=e}if(r.getRemoteCatalog()){a.createPageChipInstanceFromRawData({pageId:o.id,chipId:r.getId(),configuration:g&&g.getConfiguration()||"",title:g&&g.getTitle(),remoteCatalogId:r.getRemoteCatalog().getId()},u,i)}else{a.createPageChipInstance(o.id,null,r.getId(),g&&g.getTitle(),g&&g.getConfiguration()||"","",u,i)}};this.addChipInstanceReference=function(e,t,i){var n=s.getPageBuildingService();function a(n){var a=s.createChipInstance(n,e.isStub()?null:t,i,p);d.push(a);if(e.isStub()){t(a)}}P();n.clonePageChipInstance(e.getPage().getId(),e.getId(),this.getId(),a,i)};this.exit=function(){var e,t;a.debug("Exiting: "+this,null,"Page");for(e=0,t=d.length;e<t;e+=1){d[e].exit()}o=null;l=new i.Map;c=null;d=[];h=true;a.debug("Exited: "+this,null,"Page")};this.getAllCatalogs=function(){if(!u){u=new t(s,g)}return u};this.getBagIds=function(){if(f){throw new n(p+": page is just a stub, load bags on demand","Page")}return l.keys()};this.getBag=function(t){var i;if(f){throw new n(p+": page is just a stub, load bags on demand","Page")}if(!t){throw new n("Missing bag ID","Page")}if(l.containsKey(t)){return l.get(t)}i=new e(s,{pageId:this.getId(),id:t,$tmp:true});l.put(t,i);return i};this.loadBag=function(t){var i;if(!t){throw new n("Missing bag ID","Page")}if(l.containsKey(t)){i=l.get(t)}else{i=new jQuery.Deferred;l.put(t,i);s.getPageBuildingService().readBag(g,t,function(t){i.resolve(new e(s,t))},function(){i.resolve(new e(s,{pageId:g,id:t,$tmp:true}))})}return i.promise()};this.getCatalog=function(){P();if(!c&&o.catalogId){c=s.createCatalog(o.catalogId)}return c};this.getChipInstances=function(){P();return d.slice()};this.getId=function(){return g};this.getLayout=function(){P();return o.layout};this.setLayout=function(e,t,n){P();if(o.layout===e){if(t){n=n||s.getPageBuildingService().getDefaultErrorHandler();i.callHandler(t,n,true)}return}o.layout=e;v(t,n)};this.getOriginalLanguage=function(){P();return o.originalLanguage};this.getScope=function(){P();return o.scope};this.getTitle=function(){P();return o.title};this.setTitle=function(e,t,n){P();if(o.title===e){if(t){n=n||s.getPageBuildingService().getDefaultErrorHandler();i.callHandler(t,n,true)}return}o.title=e;v(t,n)};this.isCatalogPage=function(){P();return o.isCatalogPage==="X"};this.isPersonalizationLocked=function(){P();return o.isPersLocked==="X"};this.setPersonalizationLocked=function(e,t,a){P();if(s.getPageBuildingService().isPersonalization()){throw new n("Personalization locking cannot be changed at personalization scope","Page")}if(o.isPersLocked==="X"&&e||o.isPersLocked!=="X"&&!e){if(t){a=a||s.getPageBuildingService().getDefaultErrorHandler();i.callHandler(t,a,true)}return}o.isPersLocked=e?"X":" ";v(t,a)};this.isOutdated=function(){P();return o.outdated==="X"};this.isReadOnly=function(){P();return o.isReadOnly==="X"};this.isPersonalized=function(){P();return o.scope==="PERSONALIZATION"};this.isStub=function(){return h};this.load=function(e,t,i){var r;if(!h){throw new n("Page is not a stub anymore","Page")}function u(){if(r===0){a.debug("Initialized: "+p,null,"Page");e()}}function o(){r-=1;u()}s.getPageBuildingService().readPage(g,function(e){var n,s=e.PageChipInstances&&e.PageChipInstances.results||[],g=s.length;a.debug("Loaded: "+p,null,"Page");I(e);r=i?0:g;if(!i){for(n=0;n<g;n+=1){d[n].load(o,t)}}u()},t)};this.remove=function(e,t){this.exit();s.getPageBuildingService().deletePage(g,e,t)};this.removeChipInstance=function(e,t,i){var n=d.indexOf(e);P();if(n>=0){d.splice(n,1);e.remove(function(){p.updateScope();if(t){t.apply(this,arguments)}},function(){d.splice(n,0,e);i=i||s.getPageBuildingService().getDefaultErrorHandler();i.apply(this,arguments)});return true}return false};this.toString=function(e){var t=['Page({sId:"',g,'",bIsStub:',h,",bIsLoadingBagsOnDemand:",f];if(e){t.push(",oAlterEgo:",JSON.stringify(o),",oCatalog:",c?c.toString(e):c,",oFactory:",s.toString(e),",aChipInstances:",JSON.stringify(d))}t.push("})");return t.join("")};this.updateScope=function(){if(s.getPageBuildingService().isPersonalization()){o.scope="PERSONALIZATION"}};if(typeof r==="object"){g=r.id;I(r)}else if(typeof r==="string"){g=r}if(!g){throw new n("Missing ID","Page")}l=new i.Map;a.debug("Created: "+this,null,"Page")};return s});
},
	"sap/ushell_abap/pbServices/ui2/contracts/refresh.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.require(["sap/ushell_abap/pbServices/ui2/Chip"],function(e){"use strict";e.addContract("refresh",function(e){this.attachRefresh=function(t){e.attachRefresh(t)}})});
},
	"sap/ushell_abap/pbServices/ui2/contracts/types.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
(function(){"use strict"})();
},
	"sap/ushell_abap/pbServices/ui2/contracts/visible.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.require(["sap/ushell_abap/pbServices/ui2/Chip","sap/ushell_abap/pbServices/ui2/Error","sap/base/Log"],function(i,e,t){"use strict";i.addContract("visible",function(i){var r=true,n;function s(){try{n(r)}catch(e){t.error(i+": call to visible handler failed: "+(e.message||e.toString()),null,"chip.visible")}}this.attachVisible=function(i){if(typeof i!=="function"){throw new e("Not a function: "+i,"chip.visible")}if(n===i){return}n=i;s()};this.isVisible=function(){return r};return{setVisible:function(i){if(r===i){return}r=i;if(n){s()}}}})});
}
});
//# sourceMappingURL=library-preload.js.map
