// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/ushell/utils","sap/ushell_abap/pbServices/ui2/ODataWrapper","sap/ushell_abap/pbServices/ui2/ODataService","sap/ushell/Container"],function(t,e,a,n,i,s){"use strict";return function(){function r(e){var a;if(e&&!t(e)){a=JSON.stringify(e);return a.replace(/\{|\}|\\n|,/g,"\n")}return""}this.createTicket=function(t){var u="/sap/opu/odata/UI2/INTEROP/";var c="Messages";var o=s;var l,g,p,b;if(!t.text){throw new a.Error("Support Ticket data does not contain text member")}l=e.get("clientContext.navigationData.applicationInformation.url",t);g=e.get("clientContext.navigationData.navigationHash",t);p=e.get("clientContext.navigationData.tileDebugInfo",t);l=typeof l==="string"?l:"";g=typeof g==="string"?g:"";p=typeof p==="string"&&p.length>0?JSON.parse(p).catalogId||"":"";t.text=t.text.trim();t.subject=t.subject.trim();if(t.subject.length>40){t.text=t.subject+"\n"+t.text;t.subject=t.subject.substring(0,40).slice(0,-3)+"..."}t.url=l;t.catalogId=p;t.hash=g;t.clientContext=r(t.clientContext);var f=new Promise(function(e,a){var s={baseUrl:u,"sap-language":o.getUser().getLanguage(),"sap-client":o.getLogonSystem().getClient()};b=n.createODataWrapper(s);i.call(this,b,function(){return false});b.create(c,t,function(t){e(t.messageNumber)},function(t){a(t)})}.bind(this));return f}}});
//# sourceMappingURL=SupportTicketAdapter.js.map