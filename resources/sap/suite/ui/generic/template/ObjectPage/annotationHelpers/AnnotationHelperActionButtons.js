sap.ui.define(["sap/suite/ui/generic/template/js/AnnotationHelper","sap/ui/Device"],function(t,e){"use strict";function i(t){if(!t.startsWith("{")){return t}if(t.startsWith("{=")){var e=t.slice(2,-1).trim();return e.indexOf(" ")<0?e:"("+e+")"}return"$"+t}function r(t,e,r,n){var a=false;var o=e.filter(function(t){a=a||t===n;return t!==""&&t!==r});if(a){return n}if(o.length===0){return r}if(o.length===1&&o[0].indexOf("${")<0){return o[0]}return"{= "+o.map(i).join(" "+t+" ")+" }"}function n(){return r("&&",Array.from(arguments),"true","false")}function a(e,i,r,n,a){var o=r&&r[n];var l=o&&o.Path;if(l){t._actionControlExpand(e,l,i.entityType);return"{= !!${"+a.specificModelName+">"+l+"}}"}return""}function o(e,i,r,n){var a=r&&r[n];var o=a&&a.Path;if(o){t._actionControlExpand(e,o,i.entityType);return"!!${"+o+"}"}return""}function l(t,i,r){var n=!i.isDraft&&i.children.length&&!e.system.phone&&t.getFlexibleColumnLayout();if(n&&i.fCLLevel<(n.maxColumnsCount||3)-1){return"${_templPrivGlobal>/generic/FCL/highestViewLevel} === "+i.level}if(r==="Edit"&&i.isDraft&&i.level>1&&t.getFlexibleColumnLayout()){return"${_templPrivGlobal>/generic/FCL/isVisuallyFullScreen}"}return""}function u(e,i,r,n,a,o){var l=o&&a.some(function(i){if(i.level>0){var r=i.entitySetDefinition;var a=r&&r["Org.OData.Capabilities.V1.UpdateRestrictions"];var o=t.areBooleanRestrictionsValidAndPossible(e,a,r,"Updatable",undefined,n);return a&&!o}});return!l&&t.areBooleanRestrictionsValidAndPossible(e,i,r,"Updatable",undefined,n)}u.requiresIContext=true;function s(e,i,r,u,s,f){var c="!${ui>/editable}";var v="";if(s.isDraft&&s.level===1){v="!${DraftAdministrativeData/DraftIsCreatedByMe}";t.formatWithExpandSimple(e,{Path:"DraftAdministrativeData/DraftIsCreatedByMe"},r)}var d=l(u,s,"Edit");var p=o(e,r,i,"Updatable");var m=[],D="";if(s.isDraft){f.forEach(function(t){if(t.level>0){var i=t.entitySetDefinition;var r=i&&i["Org.OData.Capabilities.V1.UpdateRestrictions"];m.push(a(e,i,r,"Updatable",t));if(t.level===1){v="!${"+t.specificModelName+">DraftAdministrativeData/DraftIsCreatedByMe}"}}});D=n.apply(null,m)}return n(c,v,d,p,D)}s.requiresIContext=true;function f(t,e,i,r,a){var u;if(a.isDraft){u=a.level===1?"!${ui>/editable}":"{ui>/editable}"}else{u="!${ui>/createMode}"}var s=l(r,a,"Delete");var f=o(t,i,e,"Deletable");return n(u,s,f)}f.requiresIContext=true;function c(t){return!t||"{path: '"+t+"'}"}function v(t,e){var i=t.Action.String;var r=t.InvocationGrouping&&t.InvocationGrouping.EnumMember||"";var n=t["com.sap.vocabularies.UI.v1.IsCopyAction"]&&t["com.sap.vocabularies.UI.v1.IsCopyAction"].Bool==="true"||false;return"._templateEventHandlers.onCallAction('"+i+"', '"+e+"', '"+r+"', "+n+")"}function d(e,i,r,a,o){var l=o?"":"!${ui>/createMode}";var u="";if(a["com.sap.vocabularies.UI.v1.Hidden"]){var s=t.getBindingForHiddenPath(a);u=s.toString()}else if(i){t._actionControlExpand(e,i,r);u="{"+i+"}"}return n(l,u)}d.requiresIContext=true;function p(t){if(t.length===1){return function(t){return"${DraftAdministrativeData/"+t+"}"}}var e=t[1];var i=e.specificModelName;return function(t){return"${"+i+">DraftAdministrativeData/"+t+"}"}}return{isEditButtonRequired:u,getEditActionButtonVisibility:s,getDeleteActionButtonVisibility:f,getActionControlBreakoutVisibility:c,getCallAction:v,getDatafieldForActionVisibility:d,getDraftAdminDataAccess:p}},true);
//# sourceMappingURL=AnnotationHelperActionButtons.js.map