/*!
* SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
*/
sap.ui.define(["sap/base/util/deepClone","sap/suite/ui/generic/template/designtime/utils/designtimeUtils","sap/base/util/ObjectPath","sap/suite/ui/generic/template/genericUtilities/testableHelper"],function(e,t,n,i){"use strict";const a="sap.suite.ui.generic.template.ListReport";const o="sap.suite.ui.generic.template.AnalyticalListPage";function r(e,t){const n={};e.forEach(e=>{const i=e.id;switch(i){case"useDateRange":n[i]=t[i]??e.value;break;case"navigationProperties":n[i]=t[i]??e.value;break;case"showGoButtonOnFilterBar":n[i]=t[i]??e.value;break;case"hideVisualFilter":n[i]=t[i]??e.value;break;case"defaultFilterMode":n[i]=t[i]??e.value;break;default:break}});return n}function s(e){function t(e){return(e.navigationProperty||[]).map(e=>e.name)}function n(e){const t=["SiblingEntity","DraftAdministrativeData"];return!t.includes(e)}function i(e,t,n){const i=e.getODataAssociationEnd(t,n).multiplicity;return i.endsWith("1")}const a=e.getModel().getMetaModel();const o=e.getEntitySet?.();if(!o){throw new Error("Error while retrieving the entity set of the SmartFilterBar control")}const r=a.getODataEntityType(a.getODataEntitySet(o).entityType);return t(r).filter(e=>i(a,r,e)).filter(n)}let u=function e(t){let n=t.getModel("i18n").getResourceBundle();function i(e){return e.map(e=>({id:e,name:e}))}const r={id:"useDateRange",name:n.getText("RTA_ENABLE_DATE_RANGE_FILTER"),description:n.getText("RTA_ENABLE_DATE_RANGE_FILTER_DESC"),value:true,type:"boolean",getPath:function(e){return`component/settings/filterSettings/dateSettings/useDateRange`},restrictedTo:[a,o],keyUser:true};const u={id:"navigationProperties",name:n.getText("RTA_NAVIGATION_PROPERTIES_LIST_REPORT_FILTER"),description:n.getText("RTA_NAVIGATION_PROPERTIES_LIST_REPORT_FILTER_DESC"),type:"string[]",getPath:function(e){return`component/settings/filterSettings/navigationProperties`},value:[],restrictedTo:[a],enums:i(s(t)),keyUser:true};const l={id:"showGoButtonOnFilterBar",name:n.getText("RTA_SHOW_GO_BUTTON_ON_FILTER_BAR_ANALYTICAL_PAGE"),description:n.getText("RTA_SHOW_GO_BUTTON_ON_FILTER_BAR_ANALYTICAL_PAGE_DESC"),value:false,type:"boolean",getPath:function(e){return`component/settings/showGoButtonOnFilterBar`},restrictedTo:[o],keyUser:true};const g={id:"hideVisualFilter",name:n.getText("RTA_HIDE_VISUAL_FILTER"),description:n.getText("RTA_HIDE_VISUAL_FILTER_DESC"),value:false,type:"boolean",getPath:function(e){return`component/settings/hideVisualFilter`},restrictedTo:[o],keyUser:true};const c={id:"defaultFilterMode",name:n.getText("RTA_DEFAULT_FILTER_MODE"),description:n.getText("RTA_DEFAULT_FILTER_MODE_DESC"),value:"visual",type:"string",enums:[{id:"visual",name:"Visual"},{id:"compact",name:"Compact"}],getPath:function(e){return`component/settings/defaultFilterMode`},restrictedTo:[o],keyUser:true};return[r,u,c,l,g]};function l(e){const t=e.getFilterSettings();return{useDateRange:n.get("dateSettings.useDateRange",t),navigationProperties:n.get("navigationProperties",t),hideVisualFilter:!!e.getHideVisualFilter?.(),defaultFilterMode:e.getDefaultFilterMode?.(),showGoButtonOnFilterBar:!!e.getShowGoButtonOnFilterBar?.()}}async function g(n,i){const a=n.getModel("i18n");const o=t.getOwnerComponentFor(n);const s=l(o);const g=u(n);let c=t.filterDesigntimeSettingsByFloorPlan(n,g);c=t.getAllowedDesigntimeSettingsBasedOnAdaptationMode(c,o);const T=r(c,s);const d=e(T);const _=t.getSettings(T,c);const p=await t.openAdaptionDialog([..._],T,d,"{i18n>RTA_CONFIGURATION_TITLE_FILTER_BAR}",{width:"650px",height:"800px"},a);const E={sChangeType:t.ChangeType.ChangePageConfiguration};return t.extractChanges(p,d,c,o,E)}i.testableStatic(g,"fnOpenTableConfigurationDialog");const c={getDesigntime:function(e){return{actions:{settings:{fe:{name:"Configuration",icon:"sap-icon://developer-settings",handler:g}}}}}};return c});
//# sourceMappingURL=SmartFilterBar.designtime.js.map