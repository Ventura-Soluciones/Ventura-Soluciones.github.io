// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils/UrlParsing","sap/ushell/ApplicationType/systemAlias","sap/ushell/utils","sap/ui/thirdparty/URI","sap/base/util/ObjectPath"],function(e,s,a,t,r){"use strict";var i=new t(document.URL).search(true);function n(){return e}function p(e,a,t){if(!t||t===s.SYSTEM_ALIAS_SEMANTICS.applied){return s.isAbsoluteURI(e)&&!a}if(t===s.SYSTEM_ALIAS_SEMANTICS.apply){return s.isAbsoluteURI(e)}throw new Error("Invalid system alias semantics: '"+t+"'")}function l(e,s){var a,t,r;if(typeof s==="string"){r=s}else{r=decodeURI(s.toString())}if(e){var i=r.match(/#.*/);if(i){t=i;a=r.replace(i,"")}else{a=r;t=""}r=a+(r.indexOf("?")<0?"?":"&")+e+t}return r}function u(s,a){var t=a.match(/#.*/);var r=t&&t[0];if(!r){var i=e.paramsToString(s);return l(i,a)}var n=e.parseShellHash(r);Object.keys(s).forEach(function(e){var a=s[e];n.params[e]=[a]});var p=Object.keys(n.params).reduce(function(e,s){var a=n.params[s];var t=a.map(function(e){return encodeURIComponent(e)});e[encodeURIComponent(s)]=t;return e},{});n.params=p;var u=a.replace(r,"");var f=e.constructShellHash(n);return u+"#"+f}function f(e,s){if(e["sap-system"]&&e["sap-system"]!=null&&e["sap-system"]!=undefined&&e["sap-system"]!=""){e.systemAlias=e["sap-system"]}else{e.systemAlias=s.systemAlias}if(e.systemAlias===undefined){delete e.systemAlias}}function o(e,s,t){var r={appParams:{},system:undefined};if(e&&e.mappedIntentParamsPlusSimpleDefaults){r.appParams=JSON.parse(JSON.stringify(e.mappedIntentParamsPlusSimpleDefaults))}if(s){var i=a.getMember(s,"sap|app.destination");if(typeof i==="string"&&i.length>0){r.system=t.systemAliases[i]&&JSON.parse(JSON.stringify(t.systemAliases[i]));if(typeof r.system==="object"){r.system.alias=i}}}return r}function m(e,s){if(s){y(e,"sap-iframe-hint",s)}}function c(e,s){var a=e.intentParamsPlusAllDefaults;if(a&&a["sap-post"]&&a["sap-post"][0]==="false"){s.openWithPostByAppParam=false}}function d(e){var s;if(i&&i.hasOwnProperty("sap-keep-alive")){s=i["sap-keep-alive"]}else{s=r.get("extendedInfo.appParams.sap-keep-alive",e);if(Array.isArray(s)){s=s[0]}}if(s!==undefined){y(e,"sap-keep-alive",s)}}function y(e,s,a){if(e.url){var t=e.url.indexOf("#");var r=e.url;var i="";if(t>0){r=e.url.slice(0,t);i=e.url.slice(t)}e.url=r+(r.indexOf("?")>=0?"&":"?")+s+"="+a+i}}return{getURLParsing:n,appParameterToUrl:y,appendParametersToUrl:l,appendParametersToIntentURL:u,absoluteUrlDefinedByUser:p,setSystemAlias:f,getExtendedInfo:o,addIframeCacheHintToURL:m,checkOpenWithPost:c,addKeepAliveToURLTemplateResult:d}});
//# sourceMappingURL=utils.js.map