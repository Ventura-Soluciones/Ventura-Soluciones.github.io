// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/ApplicationType/systemAlias","sap/ushell/ApplicationType/utils","sap/ushell/Config"],function(e,s,t,a,n){"use strict";function i(i,r,p){var l=i.inbound;var o=l&&l.resolutionResult;var u={};var m=new s(r);var c=e({},i.mappedIntentParamsPlusSimpleDefaults);if(i.inbound&&i.inbound.action==="launchURL"&&i.inbound.semanticObject==="Shell"){delete c["sap-external-url"]}var d=c["sap-system"]&&c["sap-system"][0];var y=c["sap-system-src"]&&c["sap-system-src"][0];u["sap-system"]=d;delete c["sap-system"];if(typeof y==="string"){u["sap-system-src"]=y;delete c["sap-system-src"]}return new Promise(function(e,s){if(a.absoluteUrlDefinedByUser(m,o.systemAlias,o.systemAliasSemantics)){e(r)}else{t.spliceSapSystemIntoURI(m,o.systemAlias,d,y,"URL",o.systemAliasSemantics||t.SYSTEM_ALIAS_SEMANTICS.applied,p).then(function(s){var t=s.toString();e(t)},s)}}).then(function(e){var s=false,t,i=n.last("/core/navigation/flpURLDetectionPattern"),r=new RegExp(i);if(c&&c.hasOwnProperty("sap-params-append")){delete c["sap-params-append"];s=true}t=a.getURLParsing().paramsToString(c);return r.test(e)||s===true?a.appendParametersToIntentURL(c,e):a.appendParametersToUrl(t,e)},Promise.reject.bind(Promise)).then(function(e){["additionalInformation","applicationDependencies","systemAlias"].forEach(function(e){if(l.resolutionResult.hasOwnProperty(e)){u[e]=l.resolutionResult[e]}});u.url=e;u.text=l.title;u.applicationType="URL";return Promise.resolve(u)},Promise.reject.bind(Promise))}return{generateURLResolutionResult:i}});
//# sourceMappingURL=urlResolution.js.map