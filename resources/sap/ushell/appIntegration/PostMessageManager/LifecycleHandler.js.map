{"version":3,"file":"LifecycleHandler.js","names":["sap","ui","define","Log","Deferred","mobileLibrary","hasher","URI","PostMessageManager","Container","EventHub","ushellLibrary","ushellResources","ShellModel","ushellUtils","URLHelper","StatefulType","appIntegration","contracts","aEventPreprocessor","oMessageEvent","oMessage","service","startsWith","replace","MessageEvent","data","JSON","stringify","origin","source","oDistributionPolicies","activeOnly","ignoreCapabilities","isValidRequestTarget","oContainer","includes","getApplicationType","oServiceRequestHandlers","handler","oMessageBody","oApplicationContainer","setStatefulType","ContractV1","options","provideApplicationContext","allowInactive","aNewCapabilities","Array","isArray","error","Error","aFormattedCapabilities","map","oCapability","action","addCapabilities","oSetup","isStateful","ContractV2","push","bIsAppruntime","isSAPLegacyApplicationType","getFrameworkId","isIframeValid","session","bLogoutSupport","extendSession","sTitle","oAdditionalInformation","ShellUIService","getShellUIService","setTitle","fnCallback","callbackMessage","sendRequest","getPostMessageTarget","getPostMessageTargetOrigin","setBackNavigation","aHierarchyLevels","setHierarchy","aRelatedApps","setRelatedApps","bIsDirty","setDirtyFlag","bIncludeHash","getFLPUrlAsync","bGetAll","BookmarkV2","getServiceAsync","getShellGroupIDs","oParameters","groupId","addBookmarkByGroupId","AddBookmarkButton","requireAsync","dialogButton","firePress","FlpLaunchPage","oDeferred","getTilesByGroupId","promisify","sAppName","getModel","getProperty","sSubject","undefined","i18n","getText","sendEmail","document","URL","bSetAppStateToPublic","sTo","sBody","sCc","sBcc","sIFrameURL","oParams","oKeyboardEvent","KeyboardEvent","err","altKey","ctrlKey","shiftKey","key","keyCode","IEevent","createEvent","sSpecialKeys","initKeyboardEvent","dispatchEvent","bRegister","setAsyncDirtyStateProvider","async","oNavigationContext","oNativeDeferred","backupTimer","setTimeout","resolve","then","oResponseMessageBody","clearTimeout","result","promise","getFLPConfig","getFLPPlatform","attachLogoutEvent","emit","sCurrentHash","getHash","date","Date","now","path","AppLifeCycle","oSystemContext","getCurrentApplication","getSystemContext","sXhrUrl","getFullyQualifiedXhrUrl","sHostName","sProtocol","sPort","sFlpURL","getFLPUrl","oURI","protocol","hostname","port","sResult","oAppTargetResolution","getCurrentAppTargetResolution","sFullyQualifiedSystemAlias","systemAlias","sContentProviderId","contentProviderId","SystemAlias","getSystemAliasInProvider","setAppInfo","bValue","AppConfiguration","setApplicationFullWidthInternal","oShellController","getRenderer","getShellController","oSessionHandler","_getSessionHandler","isInitialized","userActivityHandler","sFLPUrl","getDocumentUrl","replaceIframeUrlToFLPUrl","sIFrameURL1","sFLPUrl1","sXStateKey","sIStateKey","sXStateKeyNew","sIStateKeyNew","replaceAll","oAppStateService","setAppStateToPublic","sNewURL","triggerEmail","register","forEach","oEventPreprocessor","addEventPreprocessor","Object","keys","sServiceRequest","oDistributionPolicy","setDistributionPolicy","oHandler","setRequestHandler"],"sources":["LifecycleHandler-dbg.js"],"mappings":"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","ignoreList":[]}