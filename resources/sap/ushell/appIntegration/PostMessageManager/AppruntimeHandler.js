// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container"],function(e,a,t,i){"use strict";const s={"sap.ushell.appRuntime.innerAppRouteChange":{activeOnly:true,ignoreCapabilities:true},"sap.ushell.appRuntime.keepAliveAppHide":{activeOnly:true,ignoreCapabilities:true},"sap.ushell.appRuntime.keepAliveAppShow":{activeOnly:true,ignoreCapabilities:true},"sap.ushell.appRuntime.hashChange":{activeOnly:true},"sap.ushell.appRuntime.setDirtyFlag":{activeOnly:true},"sap.ushell.appRuntime.getDirtyFlag":{activeOnly:true},"sap.ushell.appRuntime.themeChange":{ignoreCapabilities:true},"sap.ushell.appRuntime.uiDensityChange":{ignoreCapabilities:true}};const n={"sap.ushell.appRuntime.hashChange":{async handler(t,s){const{newHash:n,direction:l}=t;a.disableBlueBoxHashChangeTrigger=true;a.replaceHash(n);a.disableBlueBoxHashChangeTrigger=false;if(l){const a=await i.getServiceAsync("ShellNavigationInternal");a.hashChanger.fireEvent("hashReplaced",{hash:a.hashChanger.getHash(),direction:l});e.debug(`PostMessageAPI.hashChange :: Informed by the Iframe, to change the History direction property in FLP to: ${l}`)}}},"sap.ushell.appRuntime.iframeIsValid":{async handler(e,a,t){a.setIsIframeValidTime({time:(new Date).getTime()})},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.appRuntime.iframeIsBusy":{async handler(e,a){}},"sap.ushell.appRuntime.isInvalidIframe":{async handler(e,a,t){a.setIsInvalidIframe(e.bValue)},options:{provideApplicationContext:true,allowInactive:true}}};return{register(){Object.keys(s).forEach(e=>{const a=s[e];t.setDistributionPolicy(e,a)});Object.keys(n).forEach(e=>{const a=n[e];t.setRequestHandler(e,a.handler,a.options)})}}});
//# sourceMappingURL=AppruntimeHandler.js.map