// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/util/uid","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/utils"],function(e,t,a,s,r){"use strict";const o=[(e,a)=>{if(a.action==="pro54_setGlobalDirty"){a.service="sap.ushell.appIntegration.PostMessageManager.NWBCHandler.pro54_setGlobalDirty";delete a.action;a.body=a.parameters;delete a.parameters;if(!a.request_id){a.request_id=t()}if(!a.type){a.type="request"}return new MessageEvent("message",{data:JSON.stringify(a),origin:e.origin,source:e.source})}}];const l={"sap.ushell.appIntegration.PostMessageManager.NWBCHandler.pro54_setGlobalDirty":{async handler(t,a,o){const l=a.getGlobalDirtyStorageKey();if(localStorage.getItem(l)===s.DirtyState.PENDING){e.debug(`getGlobalDirty() pro54_setGlobalDirty SetItem key:${l} value: ${t.globalDirty}`,null,"sap.ushell.appIntegration.ApplicationContainer");r.localStorageSetItem(l,t.globalDirty,true)}},options:{provideApplicationContext:true}}};return{register(){o.forEach(e=>{a.addEventPreprocessor(e)});Object.keys(l).forEach(e=>{const t=l[e];a.setRequestHandler(e,t.handler,t.options)})}}});
//# sourceMappingURL=NWBCHandler.js.map