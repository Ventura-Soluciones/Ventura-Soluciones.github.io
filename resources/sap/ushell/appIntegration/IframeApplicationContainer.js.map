{"version":3,"file":"IframeApplicationContainer.js","names":["sap","ui","define","Log","uid","Device","URI","ApplicationContainer","IframeApplicationContainerRenderer","PostMessageManager","UrlPostProcessing","systemAliasUtils","Config","Container","ushellLibrary","System","ushellUtils","UriParameters","IframeApplicationContainer","extend","metadata","library","properties","visible","type","defaultValue","globalDirtyStorageKey","iframeUrl","visibility","iframePostAllParams","iframeWithPost","interfaces","renderer","prototype","init","apply","this","arguments","_aPendingRequestsWaitingForResponse","setProperty","time","sDirtyStateStorageKey","localStorage","removeItem","getGlobalDirtyStorageKey","_fnStorageEventListener","_handleStorageEvent","bind","addEventListener","_fnPagehideEventListener","exit","onBeforeRendering","getReadyForRendering","_attachLogoutEvent","_initNWBCStorage","_addRemoteSystemForUrl","_calculateIframeUrl","_calculateIframeWithPost","getProperty","sIframeUrl","sIframeUrlWithSystemAlias","addSystemAlias","onAfterRendering","async","MessageBroker","getServiceAsync","sTargetOrigin","getPostMessageTargetOrigin","addAcceptedOrigin","os","ios","$","prop","parent","css","setVisibility","bVisible","oDomRef","getDomRef","setAttribute","removeStyleClass","length","addStyleClass","setDataHelpId","sDataHelpId","getIframeWithPost","oIframe","_getIframe","sApplicationType","getApplicationType","isApplicationTypeEmbeddedInIframe","_fnLogout","_handleLogout","attachLogoutEvent","getFrameworkId","localStorageSetItem","DirtyState","INITIAL","oUrlParams","fromURL","document","URL","bPostEnabledByConfig","last","bPostDisabledByUrlParam","get","bPostEnforcedByUrlParam","bPostDisabledByResolution","getOpenWithPostByAppParam","bApplicableApplicationType","includes","bEnablePost","getUrl","processUrl","_injectParametersFromUrl","has","sIframeParams","aParams","split","sTmpURI","forEach","sParam","addQuery","toString","_oSystem","sUrl","oAnchor","createElement","sClient","href","sBase","protocol","host","alias","baseUrl","client","undefined","platform","addRemoteSystem","oEvent","key","newValue","PENDING","oTarget","getPostMessageTarget","debug","sMessage","JSON","stringify","action","postMessage","oContentWindow","sTargetDomain","preventDefault","oIFrame","tagName","getAttribute","getElementById","contentWindow","sFormId","replace","oForm","query","hasOwnProperty","src","oUri","isTrustedPostMessageSource","oMessage","source","origin","sendRequest","sServiceRequest","oMessageBody","bWaitForResponse","oPromise","push","oResult","filter","oPendingRequest","sendBeforeAppCloseEvent","oEventData","getBeforeAppCloseEvent","enabled","params","removeEventListener","detachLogoutEvent"],"sources":["IframeApplicationContainer-dbg.js"],"mappings":"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","ignoreList":[]}