sap.ui.define(["exports","sap/ushell/thirdparty/webcomponents-base","sap/ushell/thirdparty/Icons","sap/ushell/thirdparty/i18n-defaults","sap/ushell/thirdparty/event-strict","sap/ushell/thirdparty/Label"],function(t,e,i,o,s,r){"use strict";const n=t=>t.nodeName==="SLOT"?false:t.offsetWidth<=0&&t.offsetHeight<=0||t.style&&t.style.visibility==="hidden";const a=/^(?:a|area)$/i,l=/^(?:input|select|textarea|button)$/i,u=t=>{if(t.disabled)return false;const e=t.getAttribute("tabindex");return e!=null?parseInt(e)>=0:l.test(t.nodeName)||a.test(t.nodeName)&&!!t.href};const c=t=>t.hasAttribute("data-ui5-focus-trap"),d=t=>{const e=getComputedStyle(t);return t.scrollHeight>t.clientHeight&&["scroll","auto"].indexOf(e.overflowY)>=0||t.scrollWidth>t.clientWidth&&["scroll","auto"].indexOf(e.overflowX)>=0},h=async(t,e)=>!t||n(t)?null:m(t,true),b=async(t,e)=>!t||n(t)?null:m(t,false),f=t=>t.hasAttribute("data-ui5-focus-redirect")||!n(t),p=t=>{if(e.v(t)){const e=t.getAttribute("tabindex");if(e!==null&&parseInt(e)<0)return true}return false},m=async(t,o,s)=>{let r,a,l=-1;t.shadowRoot?r=o?t.shadowRoot.firstChild:t.shadowRoot.lastChild:t instanceof HTMLSlotElement&&t.assignedNodes()?(a=t.assignedNodes(),l=o?0:a.length-1,r=a[l]):r=o?t.firstElementChild:t.lastElementChild;let h;for(;r;){const t=r;if(!n(t)&&!p(t)){if(e.v(r)&&(await r._waitForDomRef(),r=r.getDomRef()),!r||n(r))return null;if(r.nodeType===1&&f(r)&&!c(r)){if(u(r)||(h=await m(r,o),!i.h()&&!h&&d(r)))return r&&typeof r.focus=="function"?r:null;if(h)return h&&typeof h.focus=="function"?h:null}}r=o?t.nextSibling:t.previousSibling,a&&!a[l].contains(r)&&(l=o?l+1:l-1,r=a[l])}return null};const y=t=>{if(!t||t.hasAttribute("data-sap-no-tab-ref")||n(t))return false;const e=t.getAttribute("tabindex");if(e!=null)return parseInt(e)>=0;const i=t.nodeName.toLowerCase();return i==="a"||/^(input|select|textarea|button|object)$/.test(i)?!t.disabled:false};const v=t=>g([...t.children]),g=(t,e)=>{const i=e||[];return t&&t.forEach(t=>{if(t.nodeType===Node.TEXT_NODE||t.nodeType===Node.COMMENT_NODE)return;const e=t;if(!e.hasAttribute("data-sap-no-tab-ref"))if(y(e)&&i.push(e),e.tagName==="SLOT")g(e.assignedNodes(),i);else{const t=e.shadowRoot?e.shadowRoot.children:e.children;g([...t],i)}}),i};i.p("@ui5/webcomponents-theming","sap_horizon",async()=>o.defaultThemeBase);i.p("@ui5/webcomponents","sap_horizon",async()=>o.defaultTheme);var _=`:host{box-sizing:border-box;height:var(--_ui5-v2-10-0-rc-2_list_item_base_height);background-color:var(--ui5-v2-10-0-rc-2-listitem-background-color);border-bottom:.0625rem solid transparent}:host(:not([hidden])){display:block}:host([disabled]){opacity:var(--_ui5-v2-10-0-rc-2-listitembase_disabled_opacity);pointer-events:none}:host([actionable]:not([disabled]):not([ui5-li-group-header])){cursor:pointer}:host([has-border]){border-bottom:var(--ui5-v2-10-0-rc-2-listitem-border-bottom)}:host([selected]){background-color:var(--sapList_SelectionBackgroundColor);border-bottom:var(--ui5-v2-10-0-rc-2-listitem-selected-border-bottom)}:host([selected]) .ui5-li-additional-text{text-shadow:var(--sapContent_TextShadow)}:host([actionable]:not([active]):not([selected]):not([ui5-li-group-header]):hover){background-color:var(--sapList_Hover_Background)}:host([actionable]:not([active]):not([selected]):not([ui5-li-group-header]):hover) .ui5-li-additional-text{text-shadow:var(--sapContent_TextShadow)}:host([actionable][selected]:not([active],[data-moving]):hover){background-color:var(--sapList_Hover_SelectionBackground)}:host([active][actionable]:not([data-moving])),:host([active][actionable][selected]:not([data-moving])){background-color:var(--sapList_Active_Background)}:host([desktop]:not([data-moving])) .ui5-li-root.ui5-li--focusable:focus:after,:host([desktop][focused]:not([data-moving])) .ui5-li-root.ui5-li--focusable:after,:host(:not([data-moving])) .ui5-li-root.ui5-li--focusable:focus-visible:after,:host([desktop]:not([data-moving])) .ui5-li-root .ui5-li-content:focus:after,:host([desktop][focused]:not([data-moving])) .ui5-li-root .ui5-li-content:after,:host(:not([data-moving])) .ui5-li-root .ui5-li-content:focus-visible:after{content:"";border:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);position:absolute;inset:.125rem;pointer-events:none}.ui5-li-root{position:relative;display:flex;align-items:center;width:100%;height:100%;padding:var(--_ui5-v2-10-0-rc-2_list_item_base_padding);box-sizing:border-box;background-color:inherit}.ui5-li-root.ui5-li--focusable{outline:none}.ui5-li-content{display:flex;align-items:center;flex:auto;overflow:hidden;max-width:100%;font-family:"72override",var(--sapFontFamily);color:var(--sapList_TextColor)}.ui5-li-content .ui5-li-title{color:var(--sapList_TextColor);font-size:var(--_ui5-v2-10-0-rc-2_list_item_title_size)}.ui5-li-text-wrapper{display:flex;flex-direction:row;justify-content:space-between;flex:auto;min-width:1px;line-height:normal}\n`;i.p("@ui5/webcomponents-theming","sap_horizon",async()=>o.defaultThemeBase);i.p("@ui5/webcomponents","sap_horizon",async()=>o.defaultTheme);var x=`[draggable=true]{cursor:grab!important}[draggable=true][data-moving]{cursor:grabbing!important;opacity:var(--sapContent_DisabledOpacity)}\n`;var w=this&&this.__decorate||function(t,e,i,o){var s=arguments.length,r=s<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,i):o,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)if(n=t[a])r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r;return s>3&&r&&Object.defineProperty(e,i,r),r};let T=class t extends e.b{constructor(){super(...arguments);this.selected=false;this.movable=false;this.hasBorder=false;this.disabled=false;this.focused=false;this.actionable=false}onEnterDOM(){if(i.f$1()){this.setAttribute("desktop","")}}onBeforeRendering(){this.actionable=true}_onfocusin(t){this.fireDecoratorEvent("request-tabindex-change",t);if(t.target!==this.getFocusDomRef()){return}this.fireDecoratorEvent("_focused",t)}_onkeydown(t){if(e.B(t)){return this._handleTabNext(t)}if(e.m$1(t)){return this._handleTabPrevious(t)}if(this.getFocusDomRef().matches(":has(:focus-within)")){return}if(e.i(t)){t.preventDefault()}if(e.b$1(t)){this.fireItemPress(t)}}_onkeyup(t){if(this.getFocusDomRef().matches(":has(:focus-within)")){return}if(e.i(t)){this.fireItemPress(t)}}_onclick(t){if(this.getFocusDomRef().matches(":has(:focus-within)")){return}this.fireItemPress(t)}fireItemPress(t){if(this.disabled||!this._pressable){return}if(e.b$1(t)){t.preventDefault()}this.fireDecoratorEvent("_press",{item:this,selected:this.selected,key:t.key})}_handleTabNext(t){if(this.shouldForwardTabAfter()){if(!this.fireDecoratorEvent("forward-after")){t.preventDefault()}}}_handleTabPrevious(t){const e=t.target;if(this.shouldForwardTabBefore(e)){this.fireDecoratorEvent("forward-before")}}shouldForwardTabAfter(){const t=v(this.getFocusDomRef());return t.length===0||t[t.length-1]===e.t()}shouldForwardTabBefore(t){return this.getFocusDomRef()===t}get classes(){return{main:{"ui5-li-root":true,"ui5-li--focusable":this._focusable}}}get _ariaDisabled(){return this.disabled?true:undefined}get _focusable(){return!this.disabled}get _pressable(){return true}get hasConfigurableMode(){return false}get _effectiveTabIndex(){if(!this._focusable){return-1}if(this.selected){return 0}return this.forcedTabIndex?parseInt(this.forcedTabIndex):undefined}};w([e.s({type:Boolean})],T.prototype,"selected",void 0);w([e.s({type:Boolean})],T.prototype,"movable",void 0);w([e.s({type:Boolean})],T.prototype,"hasBorder",void 0);w([e.s()],T.prototype,"forcedTabIndex",void 0);w([e.s({type:Boolean})],T.prototype,"disabled",void 0);w([e.s({type:Boolean})],T.prototype,"focused",void 0);w([e.s({type:Boolean})],T.prototype,"actionable",void 0);T=w([e.m({renderer:o.d,styles:[_,x]}),s.l("request-tabindex-change",{bubbles:true}),s.l("_press",{bubbles:true}),s.l("_focused",{bubbles:true}),s.l("forward-after",{bubbles:true,cancelable:true}),s.l("forward-before",{bubbles:true})],T);var B=T;var k;(function(t){t["Top"]="Top";t["Bottom"]="Bottom"})(k||(k={}));var z=k;function I(){return o.jsxs("div",{class:"ui5-busy-indicator-root",children:[this._isBusy&&o.jsxs("div",{class:"ui5-busy-indicator-busy-area",title:this.ariaTitle,tabindex:0,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuetext":"Busy","aria-labelledby":this.labelId,"data-sap-focus-ref":true,children:[this.textPosition.top&&D.call(this),o.jsxs("div",{class:"ui5-busy-indicator-circles-wrapper",children:[o.jsx("div",{class:"ui5-busy-indicator-circle circle-animation-0"}),o.jsx("div",{class:"ui5-busy-indicator-circle circle-animation-1"}),o.jsx("div",{class:"ui5-busy-indicator-circle circle-animation-2"})]}),this.textPosition.bottom&&D.call(this)]}),o.jsx("slot",{}),this._isBusy&&o.jsx("span",{"data-ui5-focus-redirect":true,tabindex:0,role:"none",onFocusIn:this._redirectFocus})]})}function D(){return o.jsx(o.Fragment,{children:this.text&&o.jsx(r,{id:`${this._id}-label`,class:"ui5-busy-indicator-text",children:this.text})})}i.p("@ui5/webcomponents-theming","sap_horizon",async()=>o.defaultThemeBase);i.p("@ui5/webcomponents","sap_horizon",async()=>o.defaultTheme);var E=`:host(:not([hidden])){display:inline-block}:host([_is-busy]){color:var(--_ui5-v2-10-0-rc-2_busy_indicator_color)}:host([size="S"]) .ui5-busy-indicator-root{min-width:1.625rem;min-height:.5rem}:host([size="S"][text]:not([text=""])) .ui5-busy-indicator-root{min-height:1.75rem}:host([size="S"]) .ui5-busy-indicator-circle{width:.5rem;height:.5rem}:host([size="S"]) .ui5-busy-indicator-circle:first-child,:host([size="S"]) .ui5-busy-indicator-circle:nth-child(2){margin-inline-end:.0625rem}:host(:not([size])) .ui5-busy-indicator-root,:host([size="M"]) .ui5-busy-indicator-root{min-width:3.375rem;min-height:1rem}:host([size="M"]) .ui5-busy-indicator-circle:first-child,:host([size="M"]) .ui5-busy-indicator-circle:nth-child(2){margin-inline-end:.1875rem}:host(:not([size])[text]:not([text=""])) .ui5-busy-indicator-root,:host([size="M"][text]:not([text=""])) .ui5-busy-indicator-root{min-height:2.25rem}:host(:not([size])) .ui5-busy-indicator-circle,:host([size="M"]) .ui5-busy-indicator-circle{width:1rem;height:1rem}:host([size="L"]) .ui5-busy-indicator-root{min-width:6.5rem;min-height:2rem}:host([size="L"]) .ui5-busy-indicator-circle:first-child,:host([size="L"]) .ui5-busy-indicator-circle:nth-child(2){margin-inline-end:.25rem}:host([size="L"][text]:not([text=""])) .ui5-busy-indicator-root{min-height:3.25rem}:host([size="L"]) .ui5-busy-indicator-circle{width:2rem;height:2rem}.ui5-busy-indicator-root{display:flex;justify-content:center;align-items:center;position:relative;background-color:inherit;height:inherit;border-radius:inherit}.ui5-busy-indicator-busy-area{position:absolute;z-index:99;inset:0;display:flex;justify-content:center;align-items:center;background-color:inherit;flex-direction:column;border-radius:inherit}:host([active]) ::slotted(*){opacity:var(--sapContent_DisabledOpacity)}:host([desktop]) .ui5-busy-indicator-busy-area:focus,.ui5-busy-indicator-busy-area:focus-visible{outline:var(--_ui5-v2-10-0-rc-2_busy_indicator_focus_outline);outline-offset:-2px}.ui5-busy-indicator-circles-wrapper{line-height:0}.ui5-busy-indicator-circle{display:inline-block;background-color:currentColor;border-radius:50%}.ui5-busy-indicator-circle:before{content:"";width:100%;height:100%;border-radius:100%}.circle-animation-0{animation:grow 1.6s infinite cubic-bezier(.32,.06,.85,1.11)}.circle-animation-1{animation:grow 1.6s infinite cubic-bezier(.32,.06,.85,1.11);animation-delay:.2s}.circle-animation-2{animation:grow 1.6s infinite cubic-bezier(.32,.06,.85,1.11);animation-delay:.4s}.ui5-busy-indicator-text{width:100%;text-align:center}:host([text-placement="Top"]) .ui5-busy-indicator-text{margin-bottom:.5rem}:host(:not([text-placement])) .ui5-busy-indicator-text,:host([text-placement="Bottom"]) .ui5-busy-indicator-text{margin-top:.5rem}@keyframes grow{0%,50%,to{-webkit-transform:scale(.5);-moz-transform:scale(.5);transform:scale(.5)}25%{-webkit-transform:scale(1);-moz-transform:scale(1);transform:scale(1)}}\n`;var R=this&&this.__decorate||function(t,e,i,o){var s=arguments.length,r=s<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,i):o,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)if(n=t[a])r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r;return s>3&&r&&Object.defineProperty(e,i,r),r};var F;let L=F=class t extends e.b{constructor(){super();this.size="M";this.active=false;this.delay=1e3;this.textPlacement="Bottom";this._isBusy=false;this._keydownHandler=this._handleKeydown.bind(this);this._preventEventHandler=this._preventEvent.bind(this)}onEnterDOM(){this.addEventListener("keydown",this._keydownHandler,{capture:true});this.addEventListener("keyup",this._preventEventHandler,{capture:true});if(i.f$1()){this.setAttribute("desktop","")}}onExitDOM(){if(this._busyTimeoutId){clearTimeout(this._busyTimeoutId);delete this._busyTimeoutId}this.removeEventListener("keydown",this._keydownHandler,true);this.removeEventListener("keyup",this._preventEventHandler,true)}get ariaTitle(){return F.i18nBundle.getText(o.BUSY_INDICATOR_TITLE)}get labelId(){return this.text?`${this._id}-label`:undefined}get textPosition(){return{top:this.text&&this.textPlacement===z.Top,bottom:this.text&&this.textPlacement===z.Bottom}}onBeforeRendering(){if(this.active){if(!this._isBusy&&!this._busyTimeoutId){this._busyTimeoutId=setTimeout(()=>{delete this._busyTimeoutId;this._isBusy=true},Math.max(0,this.delay))}}else{if(this._busyTimeoutId){clearTimeout(this._busyTimeoutId);delete this._busyTimeoutId}this._isBusy=false}}_handleKeydown(t){if(!this._isBusy){return}t.stopImmediatePropagation();if(e.B(t)){this.focusForward=true;this.shadowRoot.querySelector("[data-ui5-focus-redirect]").focus();this.focusForward=false}}_preventEvent(t){if(this._isBusy){t.stopImmediatePropagation()}}_redirectFocus(t){if(this.focusForward){return}t.preventDefault();this.shadowRoot.querySelector(".ui5-busy-indicator-busy-area").focus()}};R([e.s()],L.prototype,"text",void 0);R([e.s()],L.prototype,"size",void 0);R([e.s({type:Boolean})],L.prototype,"active",void 0);R([e.s({type:Number})],L.prototype,"delay",void 0);R([e.s()],L.prototype,"textPlacement",void 0);R([e.s({type:Boolean})],L.prototype,"_isBusy",void 0);R([o.i("@ui5/webcomponents")],L,"i18nBundle",void 0);L=F=R([e.m({tag:"ui5-busy-indicator",languageAware:true,styles:E,renderer:o.d,template:I})],L);L.define();var C=L;t.BusyIndicator=C;t.H=b;t.ListItemBase=B;t.b=h;t.b$1=v});
//# sourceMappingURL=BusyIndicator.js.map