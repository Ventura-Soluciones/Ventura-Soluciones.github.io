sap.ui.define(["sap/ushell/thirdparty/webcomponents-base","sap/ushell/thirdparty/webcomponents","sap/ushell/thirdparty/event-strict","sap/ushell/thirdparty/Icons","sap/ushell/thirdparty/i18n-defaults","sap/ushell/thirdparty/ListItemTemplate","sap/ushell/thirdparty/MenuItem2","sap/ushell/thirdparty/ListItemCustom","sap/ushell/thirdparty/BusyIndicator","sap/ushell/thirdparty/List","sap/ushell/thirdparty/Button2","sap/ushell/thirdparty/information","sap/ushell/thirdparty/toLowercaseEnumValue","sap/ushell/thirdparty/Icon","sap/ushell/thirdparty/Label"],function(e,t,o,i,n,s,r,a,l,p,u,c,h,d,m){"use strict";function f(){return n.jsx(a.ListItemCustom,{class:"ui5-menu-separator",_forcedAccessibleRole:"separator",disabled:true})}i.p("@ui5/webcomponents-theming","sap_horizon",async()=>n.defaultThemeBase);i.p("@ui5/webcomponents","sap_horizon",async()=>n.defaultTheme);var _=`:host{border-top:.0625rem solid var(--sapGroup_ContentBorderColor);min-height:.125rem}.ui5-menu-separator{border:inherit;min-height:inherit;background:inherit;opacity:1}\n`;var v=this&&this.__decorate||function(e,t,o,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,o):i,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)if(r=e[a])s=(n<3?r(s):n>3?r(t,o,s):r(t,o))||s;return n>3&&s&&Object.defineProperty(t,o,s),s};let b=class e extends l.ListItemBase{get isSeparator(){return true}get classes(){return{main:{"ui5-menu-separator":true}}}get _focusable(){return false}get _pressable(){return false}};b=v([e.m({tag:"ui5-menu-separator",renderer:n.d,styles:[_],template:f})],b);b.define();function g(){return n.jsxs(s.ResponsivePopover,{id:`${this._id}-menu-rp`,class:"ui5-menu-rp",placement:"Bottom",verticalAlign:"Bottom",horizontalAlign:this.horizontalAlign,opener:this.opener,open:this.open,preventInitialFocus:true,hideArrow:true,allowTargetOverlap:true,accessibleName:this.acessibleNameText,onBeforeOpen:this._beforePopoverOpen,onOpen:this._afterPopoverOpen,onBeforeClose:this._beforePopoverClose,onClose:this._afterPopoverClose,children:[this.isPhone&&n.jsxs("div",{slot:"header",class:"ui5-menu-dialog-header",children:[n.jsx("div",{class:"ui5-menu-dialog-title",children:n.jsx("h1",{children:this.headerText})}),n.jsx(u.Button,{icon:c.decline,design:"Transparent","aria-label":this.labelClose,onClick:this._close})]}),n.jsx("div",{id:`${this._id}-menu-main`,children:this.items.length?n.jsx(p.List,{id:`${this._id}- menu-list`,selectionMode:"None",loading:this.loading,loadingDelay:this.loadingDelay,separators:"None",accessibleRole:"Menu",onItemClick:this._itemClick,onMouseOver:this._itemMouseOver,onKeyDown:this._itemKeyDown,"onui5-close-menu":this._close,children:n.jsx("slot",{})}):this.loading&&n.jsx(l.BusyIndicator,{id:`${this._id}-menu-busy-indicator`,delay:this.loadingDelay,class:"ui5-menu-busy-indicator",active:true})})]})}i.p("@ui5/webcomponents-theming","sap_horizon",async()=>n.defaultThemeBase);i.p("@ui5/webcomponents","sap_horizon",async()=>n.defaultTheme);var y=`:host{line-height:initial}::slotted([ui5-menu-item]){line-height:inherit}.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5-v2-10-0-rc-2_menu_popover_border_radius)}.ui5-menu-busy-indicator{width:100%}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-v2-10-0-rc-2-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem;font-family:var(--sapFontHeaderFamily)}.ui5-menu-dialog-title>h1{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--sapFontHeader5Size)}.ui5-menu-back-button{margin-right:1rem}\n`;var I=this&&this.__decorate||function(e,t,o,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,o):i,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)if(r=e[a])s=(n<3?r(s):n>3?r(t,o,s):r(t,o))||s;return n>3&&s&&Object.defineProperty(t,o,s),s};var O;const w=300;let x=O=class t extends e.b{constructor(){super(...arguments);this.open=false;this.horizontalAlign="Start";this.loading=false;this.loadingDelay=1e3}get isRtl(){return this.effectiveDir==="rtl"}get labelClose(){return O.i18nBundle.getText(n.MENU_CLOSE_BUTTON_ARIA_LABEL)}get isPhone(){return i.d$1()}get _popover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get _menuItems(){return this.items.filter(e=>!e.isSeparator)}get acessibleNameText(){return O.i18nBundle.getText(n.MENU_POPOVER_ACCESSIBLE_NAME)}onBeforeRendering(){const e=this._menuItems.some(e=>!!e.icon);this._menuItems.forEach(t=>{t._siblingsWithIcon=e})}_close(){this.open=false}_openItemSubMenu(e){clearTimeout(this._timeout);if(!e._popover||e._popover.open){return}this.fireDecoratorEvent("before-open",{item:e});e._popover.opener=e;e._popover.open=true;e.selected=true}_closeItemSubMenu(e){if(e&&e._popover){const t=e._menuItems.find(e=>e._popover&&e._popover.open);if(t){this._closeItemSubMenu(t)}e._popover.open=false;e.selected=false}}_itemMouseOver(e){if(i.f$1()){const t=e.target;if(this._isInstanceOfMenuItem(t)){t.focus();this._startOpenTimeout(t)}}}async focus(e){await i.f$3();const t=this._menuItems[0];if(t){return t.focus(e)}return super.focus(e)}_startOpenTimeout(e){clearTimeout(this._timeout);this._timeout=setTimeout(()=>{const t=e.parentElement;const o=t&&t._menuItems.find(e=>e._popover&&e._popover.open);if(o){this._closeItemSubMenu(o)}this._openItemSubMenu(e)},w)}_itemClick(e){const t=e.detail.item;if(!t._popover){const e=!this.fireDecoratorEvent("item-click",{item:t,text:t.text||""});if(!e&&this._popover){t.fireDecoratorEvent("close-menu")}}else{this._openItemSubMenu(t)}}_itemKeyDown(t){const o=e.B(t)||e.m$1(t);const i=t.target;const n=i.parentElement;const s=e.D(t)||e.P(t);const r=this.isRtl?e.K(t):e.c(t);const a=!s&&!r&&this._isInstanceOfMenuItem(n);if(this._isInstanceOfMenuItem(i)){if(e.b$1(t)||o){t.preventDefault()}if(e.c(t)||e.K(t)){i._navigateToEndContent(e.K(t))}if(r){this._openItemSubMenu(i)}else if((a||o)&&n._popover){n._popover.open=false;n.selected=false;n._popover.focusOpener()}}else if(e.D(t)){this._navigateOutOfEndContent(n)}else if(e.P(t)){this._navigateOutOfEndContent(n,true)}}_navigateOutOfEndContent(e,t){const o=e?.parentElement;const i=o._menuItems.indexOf(e);const n=t?o._menuItems[i+1]:o._menuItems[i-1];const s=n||o._menuItems[i];s.focus()}_beforePopoverOpen(e){const t=!this.fireDecoratorEvent("before-open",{});if(t){this.open=false;e.preventDefault()}}_afterPopoverOpen(){this._menuItems[0]?.focus();this.fireDecoratorEvent("open")}_beforePopoverClose(e){const t=!this.fireDecoratorEvent("before-close",{escPressed:e.detail.escPressed});if(t){this.open=true;e.preventDefault()}}_afterPopoverClose(){this.open=false;this.fireDecoratorEvent("close")}_isInstanceOfMenuItem(e){return"isMenuItem"in e}};I([e.s()],x.prototype,"headerText",void 0);I([e.s({type:Boolean})],x.prototype,"open",void 0);I([e.s()],x.prototype,"horizontalAlign",void 0);I([e.s({type:Boolean})],x.prototype,"loading",void 0);I([e.s({type:Number})],x.prototype,"loadingDelay",void 0);I([e.s({converter:s.e})],x.prototype,"opener",void 0);I([e.d({default:true,type:HTMLElement,invalidateOnChildChange:true})],x.prototype,"items",void 0);I([n.i("@ui5/webcomponents")],x,"i18nBundle",void 0);x=O=I([e.m({tag:"ui5-menu",renderer:n.d,styles:y,template:g}),o.l("item-click",{cancelable:true}),o.l("before-open",{bubbles:true,cancelable:true}),o.l("open",{bubbles:true}),o.l("close-menu",{bubbles:true}),o.l("before-close",{bubbles:true,cancelable:true}),o.l("close")],x);x.define();var C=x;return C});
//# sourceMappingURL=Menu.js.map