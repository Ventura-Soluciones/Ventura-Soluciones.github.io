// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/Navigation","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/appstate/AppState","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing","sap/ushell/appRuntime/ui5/services/Container"],function(e,t,s,i,a,n,r){"use strict";function o(o,p,u){e.call(this,o,p,u);this.getHref=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.getHref",{oTarget:e})};this.backToPreviousApp=function(){if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.backToPreviousApp")}return Promise.resolve()};this.historyBack=function(e){if(i.checkDataLossAndContinue()){t.postMessageToFLP("sap.ushell.services.Navigation.historyBack",{iSteps:e})}};this.isInitialNavigation=function(){return t.postMessageToFLP("sap.ushell.services.Navigation.isInitialNavigation",{})};this.navigate=function(e,s){if(i.getIsScube()){if(e.target&&e.target.shellHash){var a=n.parseShellHash(e.target.shellHash);if(a.params){delete a.params["sap-app-origin"];e.target.shellHash=n.constructShellHash(a)}}else if(e.params){delete e.params["sap-app-origin"]}return r.getServiceAsync("ShellNavigationInternal").then(function(t){return t.toExternal(e,s)})}else if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.navigate",{oTarget:e})}return Promise.resolve()};this.getPrimaryIntent=async function(e,s){return t.postMessageToFLP("sap.ushell.services.Navigation.getPrimaryIntent",{sSemanticObject:e,oLinkFilter:s})};this.getLinksLocal=this.getLinks;this.getLinks=function(e=[]){function s(e){e.forEach(function(e){if(e){delete e.ui5Component}})}if(!Array.isArray(e)){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}if(i.getIsScube()){this.getLinksLocal(e).then(function(i){s(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e).then(function(e){if(i.length!==0){e=e.concat(i)}return e})})}else{s(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e)}};this.getSemanticObjectsLocal=this.getSemanticObjects;this.getSemanticObjects=function(){if(i.getIsScube()){return this.getSemanticObjectsLocal()}return t.postMessageToFLP("sap.ushell.services.Navigation.getSemanticObjects")};this.isNavigationSupported=function(e,s,n){var o=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isNavigationSupported",{aTargets:e})};if(n===true){return o(e)}if(i.getIsScube()){var p;p=e.map(function(e){if(typeof e==="object"){var t=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){t=a(e);delete t.params["sap-app-origin"]}return t}return e});return r.getServiceAsync("NavTargetResolutionInternal").then(function(e){return e.isNavigationSupported(p,s)})}return o(e)};this.getAppState=function(e,i){return t.postMessageToFLP("sap.ushell.services.Navigation.getAppState",{sAppStateKey:i}).then(function(e){return r.getServiceAsync("AppState").then(function(t){var i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);return i})})};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(i.getIsScube()){return this.resolveIntentLocal(e)}return t.postMessageToFLP("sap.ushell.services.Navigation.resolveIntent",{sHashFragment:e})};this.isUrlSupported=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isUrlSupported",{sUrl:e})}}o.prototype=e.prototype;o.hasNoAdapter=e.hasNoAdapter;return o},true);
//# sourceMappingURL=Navigation.js.map