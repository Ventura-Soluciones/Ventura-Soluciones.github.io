{"version":3,"file":"AppLifeCycleAgent.js","names":["sap","ui","define","Log","extend","UriParameters","assert","EventBus","URI","Device","BusyIndicator","EventHub","hasher","oUrlParsing","resources","Container","AppRuntimeContext","AppCommunicationMgr","AppRuntimeService","FesrEnhancer","AppLifeCycleAgent","that","this","sAppResolutionModule","oAppResolution","bEnableAppResolutionCache","oAppResolutionCache","fnCreateApplication","oCachedApplications","oRouterDisableRetriggerApplications","oAppDirtyStateProviders","oAppBackNavigationFunc","oRunningApp","fnRenderApp","oShellUIService","sDatalossMessage","init","sModule","ofnCreateApplication","ofnRenderApp","bEnableCache","sAppId","oAppInfo","resetCurrentApp","undefined","addAppInfoToCache","registerCommHandlers","oServiceCalls","create","executeServiceCallFn","oMessageData","oMsg","JSON","parse","oMessage","data","destroy","store","restore","on","do","oData","componentId","disable","_sendAppRuntimeSetup","browserI18n","getTranslationModel","window","navigator","language","getResourceBundle","getText","onbeforeunload","getDirtyFlag","oAppRuntimeFullSetup","isStateful","isKeepAlive","isIframeValid","session","bLogoutSupport","oAppRuntimeMinSetup","postMessageToFLP","ui5appruntime","config","stateful","Promise","fnResolve","fnReject","sUrl","sAppIntent","oParsedShellIntent","sScubeAppIntent","startInteraction","body","getIsScube","fromURL","get","sHash","indexOf","parseShellHash","params","disableCFLPUpdate","replaceHash","browser","chrome","show","_resetBackNavigationCallback","getInstance","publish","getAppInfo","then","sUi5ComponentName","oResolvedHashFragment","ui5ComponentName","name","sKeepAliveAppKey","Object","keys","find","sCachedKey","length","sCacheId","expandSapIntentParams","query","oURLParameters","oParsedHash","oCreateApplicationResult","deletedKeepAliveId","bDestroyKeepAlive","appDestroy","oApplication","sId","e","error","document","URL","stack","sStorageKey","oApp","bValue","resolve","cleanDirtyStateProviderArray","setAppShortId","oCachedEntry","cloneCurrentAppEntry","_getBackNavigationCallback","getComponentInstance","setVisible","getAsyncDirtyStateProviders","isKeepAliveSupported","deactivate","suspend","getRouter","stop","bRouterDisableRetrigger","setAsyncDirtyStateProviders","setBackNavigation","activate","initialize","setTimeout","info","oAppAttributes","oUrlParameters","hasOwnProperty","sAppStateKey","sParameters","oUrlParametersExpanded","sError","addAppParamsToIntent","getApplicationParameters","oStartupParameters","sSapIntentParam","sStartupParametersWithoutSapIntentParam","buildFinalParamsString","sSimpleParams","sIntentParams","sParams","startsWith","toString","sMoreParams","removeSearch","getServiceAsync","oNavTargetResolution","resolveHashFragmentLocal","done","fail","sMsg","fnGetAppInfo","stringify","require","replace","oObj","setCurrentApp","setCurrentAppAttributes","oEntry","setShellUIService","oService","checkDataLossAndContinue","confirm","setDirtyFlag"],"sources":["AppLifeCycleAgent-dbg.js"],"mappings":"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","ignoreList":[]}