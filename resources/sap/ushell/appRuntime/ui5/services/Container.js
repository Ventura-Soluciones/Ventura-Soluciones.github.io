// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/assert"],function(n,t,e){"use strict";var r,i,u,o=false,a=[],s=[],c=[],f=false;n.inAppRuntime=function(){return true};n.runningInIframe=this.inAppRuntime;n.getFLPUrl=function(n){return t.sendMessageToOuterShell("sap.ushell.services.Container.getFLPUrl",{bIncludeHash:n})};n.getFLPUrlAsync=function(n){return this.getFLPUrl(n)};n.getRenderer=function(){return u};n.getRendererInternal=function(){return u};n.logout=function(){return r.logout()};n.getFLPPlatform=function(){return t.sendMessageToOuterShell("sap.ushell.services.Container.getFLPPlatform")};n.extendSession=function(){i?.userActivityHandler()};n.setDirtyFlag=function(n){o=n};n.getDirtyFlag=function(){return o||this.handleDirtyStateProvider()};n.registerDirtyStateProvider=function(n){if(typeof n!=="function"){throw new Error("fnDirty must be a function")}a.push(n)};n.handleDirtyStateProvider=function(n){var t=false;if(a.length>0){const r=n||this._oShellNavigationInternal.getNavigationContext();for(var e=0;e<a.length&&t===false;e++){t=t||(a[e](r)||false)}}return t};n.deregisterDirtyStateProvider=function(n){if(typeof n!=="function"){throw new Error("fnDirty must be a function")}var t=-1;for(var e=a.length-1;e>=0;e--){if(a[e]===n){t=e;break}}if(t>=0){a.splice(t,1)}};n.cleanDirtyStateProviderArray=function(){a=[];o=false};this.setAsyncDirtyStateProvider=function(){};n.getAsyncDirtyStateProviders=function(){return a};n.setAsyncDirtyStateProviders=function(n){a=n};function l(n,t){var e=false;for(var r=0;r<n.length;r++){if(n[r]===t){e=true;break}}if(!e){n.push(t)}}n.attachLogoutEvent=function(n,r){e(typeof n==="function","Container.attachLogoutEvent: fnFunction must be a function");if(r===true){l(s,n)}else{l(c,n)}if(!f){f=true;t.postMessageToFLP("sap.ushell.services.Container.attachLogoutEvent",{})}};n._getAsyncFunctionsArray=function(){return s};n._getSyncFunctionsArray=function(){return s};n.executeAsyncAndSyncLogoutFunctions=function(){return new Promise(function(n,t){var e=[];if(c.length>0){for(var r=0;r<c.length;r++){c[r]()}}if(s.length>0){for(var i=0;i<s.length;i++){e.push(s[i]())}}Promise.all(e).then(n)})};function g(n,t){for(var e=0;e<n.length;e++){if(n[e]===t){n.splice(e,1);break}}}n.detachLogoutEvent=function(n){g(c,n);g(s,n)};n._getAsyncFunctionsArray=function(){return s};n._getSyncFunctionsArray=function(){return c};n._clearAsyncFunctionsArray=function(){s=[]};n._clearSyncFunctionsArray=function(){c=[]};const h=n.init.bind(n);n.init=function(t,e){return new Promise(function(o){sap.ui.require(["sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy"],function(a,s){i=a;u=s;h(t,e).then(()=>{r=n._getAdapter();return n.getServiceAsync("ShellNavigationInternal")}).then(function(t){n._oShellNavigationInternal=t;o()})})})};return n},false);
//# sourceMappingURL=Container.js.map