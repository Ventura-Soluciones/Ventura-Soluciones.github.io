//@ui5-bundle sap/ushell/preload-bundles/homepage-af-dep.js
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/f/dnd/GridDragOver", ["sap/base/i18n/Localization","sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/Element"],function(t,i,jQuery,e,o){"use strict";var r=i.extend("sap.f.dnd.GridDragOver",{_iTimeoutBeforeDrop:200,_$indicator:jQuery("<div class='sapUiDnDGridIndicator'></div>"),constructor:function(){this._oDragControlDelegate={ondragend:this.scheduleEndDrag};this._oDropContainerDelegate={ondragleave:this._onDragLeave,onBeforeRendering:this._onDropContainerBeforeRendering,onAfterRendering:this._onDropContainerAfterRendering}},destroy:function(){this._oDragEndDelegate=null}});r.prototype.setCurrentContext=function(t,i,e,o){if(this._oDragControl===t&&this._oDropContainer===i&&this._sTargetAggregation===e){return this}if(this._oDragControl&&this._oDragControl!==t){this.endDrag()}this._oDragControl=t;this._oDragContainer=t.getParent();this._oDropContainer=i;this._sTargetAggregation=e;this._oCoreDragSession=o;this._mDragItemDimensions=this._getDimensions(t);this._bIsInSameContainer=this._oDragContainer===this._oDropContainer;if(this._bIsInSameContainer){this._iDragFromIndex=i.indexOfAggregation(e,t)}else{this._iDragFromIndex=null}i.getAggregation(e).forEach(function(t){t.addStyleClass("sapUiDnDGridControl")});this._attachEventDelegates();this._hideCoreDefaultIndicator();return this};r.prototype.handleDragOver=function(t){if(this._shouldFreeze(t.pageX,t.pageY)){return}this._hideCoreDefaultIndicator();var i=this._calculateDropPosition(t);if(!i){return}if(this._timeoutOnSamePosition(i)){if(i.targetControl===this._oDragControl){return}this._hideDraggedItem();this._showIndicator(i,t);this._freezeCurrentPosition(t.pageX,t.pageY)}};r.prototype.getSuggestedDropPosition=function(){return this._mLastDropPosition};r.prototype.setDropIndicatorSize=function(t){if(!t){this._mDropIndicatorSize=null;return}if(!t.rows||!t.columns){e.error("Custom indicator size for grid drag and drop is not valid. It must be an object with rows and columns properties: '{rows: <int>, columns: <int>}'.");this._mDropIndicatorSize=null;return}this._mDropIndicatorSize=t};r.prototype.scheduleEndDrag=function(){if(!this._isDragActive()){return}var t=this._oDropContainer.getBindingInfo(this._sTargetAggregation);if(t&&t.template){setTimeout(this.endDrag.bind(this),0)}else{this.endDrag()}};r.prototype.endDrag=function(){if(!this._isDragActive()){return}this._hideIndicator();this._showDraggedItem();this._removeEventDelegates();this._resetCoreDefaultIndicator();this._mDropIndicatorSize=null;this._oDragControl=null;this._oDropContainer=null;this._sTargetAggregation=null;this._iDragFromIndex=null;this._iDropPositionHoldStart=null;this._mLastDropPosition=null;this._mFreezePosition=null;this._oCoreDragSession=null};r.prototype._isDragActive=function(){return this._oDragControl&&this._oDropContainer};r.prototype._showIndicator=function(t,i){var e=this._oDropContainer,o=e.getDomRefForSetting(this._sTargetAggregation)||e.getDomRef(),r=t.targetControl,n=e.indexOfAggregation(this._sTargetAggregation,r),s,a,g;if(r){s=this._findContainingGridItem(r);a=s||r.$()}if(this._mDropIndicatorSize){g={"grid-row-start":"span "+this._mDropIndicatorSize.rows,"grid-column-start":"span "+this._mDropIndicatorSize.columns}}else{g={"grid-column-start":this._mDragItemDimensions.columnsSpan,"grid-row-start":this._mDragItemDimensions.rowsSpan}}if(g){this._$indicator.css(g)}if(a&&t.position=="Before"){this._$indicator.insertBefore(a)}else if(a){this._$indicator.insertAfter(a);n+=1}else{o.appendChild(this._$indicator[0])}this._$indicator.show();this._iDragFromIndex=n};r.prototype._hideIndicator=function(){this._$indicator.detach();this._$indicator.attr("style","")};r.prototype._hideDraggedItem=function(){this._oDragControl.$().hide();var t=this._findContainingGridItem(this._oDragControl);if(t&&this._bIsInSameContainer){t.hide()}};r.prototype._showDraggedItem=function(){if(this._oDragControl.getDomRef()){this._oDragControl.$().show()}var t=this._findContainingGridItem(this._oDragControl);if(t){t.show()}};r.prototype._hideCoreDefaultIndicator=function(){var t=this._oCoreDragSession.getIndicator(),i={visibility:"hidden",position:"relative"};this._oCoreDragSession.setIndicatorConfig(i);if(t){jQuery(t).css(i)}};r.prototype._resetCoreDefaultIndicator=function(){var t=this._oCoreDragSession.getIndicator(),i={visibility:"visible",position:"absolute"};this._oCoreDragSession.setIndicatorConfig(i);if(t){jQuery(t).css(i)}};r.prototype._timeoutOnSamePosition=function(t){if(!this._mLastDropPosition||t.targetControl!==this._mLastDropPosition.targetControl||t.position!=this._mLastDropPosition.position){this._iDropPositionHoldStart=Date.now();this._mLastDropPosition=t;return false}return Date.now()-this._iDropPositionHoldStart>this._iTimeoutBeforeDrop};r.prototype._shouldFreeze=function(t,i){var e=20;return this._mFreezePosition&&Math.abs(this._mFreezePosition.pageX-t)<e&&Math.abs(this._mFreezePosition.pageY-i)<e};r.prototype._freezeCurrentPosition=function(t,i){this._mFreezePosition={pageX:t,pageY:i}};r.prototype._calculateDropPosition=function(t){var i=this._findItemFromPoint(t.pageX,t.pageY),e,r,n;if(!i){e=this._findClosestItem(t.pageX,t.pageY)}if(e){i=e.target}if(e&&e.direction==="Left"){n="After"}if(!i){i=this._getLastItem();n="After"}if(!i){return{targetControl:null,position:"After"}}if(i.hasClass("sapUiDnDGridIndicator")){return null}r=o.closestTo(i[0],true);if(!n){n=this._calculateDropBeforeOrAfter(r,t)}return{targetControl:r,position:n}};r.prototype._calculateDropBeforeOrAfter=function(t,i){var e=this._getDimensions(t),o=e.rect;if(this._oDragControl===t){return"Before"}if(this._mDragItemDimensions.rect.width*1.5<o.width){var r=window.pageXOffset,n={left:o.left+r,width:o.width},s=i.pageX-n.left;return s<n.width*.5?"Before":"After"}if(this._iDragFromIndex===null){return"Before"}var a=this._oDropContainer.indexOfAggregation(this._sTargetAggregation,t);if(this._iDragFromIndex>a){return"Before"}return"After"};r.prototype._getDimensions=function(t){var i=this._findContainingGridItem(t);if(i){return{rect:i[0].getBoundingClientRect(),columnsSpan:i.css("grid-column-start"),rowsSpan:i.css("grid-row-start")}}return{rect:t.getDomRef().getBoundingClientRect(),columnsSpan:"span 1",rowsSpan:"span 1"}};r.prototype._findContainingGridItem=function(t){var i=t.$(),e=i.parent().css("display");if(e==="grid"||e==="inline-grid"){return i}e=i.parent().parent().css("display");if(e==="grid"||e==="inline-grid"){return i.parent()}return null};r.prototype._getLastItem=function(){var t=this._oDropContainer.getAggregation(this._sTargetAggregation),i;if(t&&t.length){i=t[t.length-1].$()}return i};r.prototype._findItemFromPoint=function(t,i){var e=document.elementFromPoint(t-window.pageXOffset,i-window.pageYOffset),o=jQuery(e).closest(".sapUiDnDGridControl, .sapUiDnDGridIndicator");if(o.hasClass("sapUiDnDGridIndicator")){return o}if(o.hasClass("sapUiDnDGridControl")){return o}return null};r.prototype._findClosestItem=function(i,e){var o=t.getRTL(),r=o?-1:1,n=80*r,s=20,a,g,h=0,d=i-n;while(!a&&d>0&&h<4){a=this._findItemFromPoint(d,e);d-=n;h++}if(a){g="Left"}if(!a&&e-s>0){a=this._findItemFromPoint(i,e-20);g="Top"}return{target:a,direction:g}};r.prototype._removeEventDelegates=function(){if(this._oDropContainer){this._oDropContainer.removeEventDelegate(this._oDropContainerDelegate)}if(this._oDragControl){this._oDragControl.removeEventDelegate(this._oDragControlDelegate)}};r.prototype._attachEventDelegates=function(){this._removeEventDelegates();this._oDragControl.addEventDelegate(this._oDragControlDelegate,this);this._oDropContainer.addEventDelegate(this._oDropContainerDelegate,this)};r.prototype._onDragLeave=function(t){var i=document.elementFromPoint(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset),e=this._oDropContainer.getDomRef().contains(i);if(!e){this.scheduleEndDrag()}};r.prototype._onDropContainerBeforeRendering=function(){if(!this._isDragActive()){return}this._hideIndicator()};r.prototype._onDropContainerAfterRendering=function(){if(!this._isDragActive()){return}this._hideDraggedItem();if(this._mLastDropPosition){this._showIndicator(this._mLastDropPosition)}};var n;r.getInstance=function(){if(!n){n=new r}return n};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/f/dnd/GridDropInfo", ["sap/ui/core/library","sap/ui/core/dnd/DropInfo","sap/f/dnd/GridDragOver","sap/base/Log"],function(r,t,e,o){"use strict";var n=t.extend("sap.f.dnd.GridDropInfo",{metadata:{library:"sap.f",interfaces:["sap.ui.core.dnd.IDropInfo"],properties:{dropIndicatorSize:{type:"function",invalidate:false,parameters:{draggedControl:{type:"sap.ui.core.Control"}}}},events:{}}});n.prototype.isDroppable=function(r,e){if(!this._shouldEnhance()){return t.prototype.isDroppable.apply(this,arguments)}if(!this.getEnabled()){return false}if(!r||!e){return false}var o=this.getDropTarget();if(!o){return false}var n=o.getDomRefForSetting(this.getTargetAggregation());if(n&&n.contains(e.target)){e.setMark("DragWithin",this.getTargetAggregation());return true}if(!n&&o===r){return true}return false};n.prototype.fireDragEnter=function(r){if(!this._shouldEnhance()||this._isKeyboardEvent(r)){return t.prototype.fireDragEnter.apply(this,arguments)}if(!r||!r.dragSession||!r.dragSession.getDragControl()){return null}var o=e.getInstance(),n=r.dragSession.getDragControl();if(this.getDropIndicatorSize()){o.setDropIndicatorSize(this.getDropIndicatorSize()(n))}o.setCurrentContext(r.dragSession.getDragControl(),this.getDropTarget(),this.getTargetAggregation(),r.dragSession);var i=o.getSuggestedDropPosition();var s=this.fireEvent("dragEnter",{dragSession:r.dragSession,browserEvent:r.originalEvent,target:i?i.targetControl:null},true);if(s){o.handleDragOver(r)}return s};n.prototype.fireDragOver=function(r){if(!this._shouldEnhance()||this._isKeyboardEvent(r)){return t.prototype.fireDragOver.apply(this,arguments)}if(!r||!r.dragSession||!r.dragSession.getDragControl()){return null}var e=this._suggestDropPosition(r);if(e&&r.dragSession&&e.targetControl){r.dragSession.setDropControl(e.targetControl)}return this.fireEvent("dragOver",{dragSession:r.dragSession,browserEvent:r.originalEvent,target:e?e.targetControl:null,dropPosition:e?e.position:null})};n.prototype.fireDrop=function(r){if(!this._shouldEnhance()||this._isKeyboardEvent(r)){return t.prototype.fireDrop.apply(this,arguments)}if(!r||!r.dragSession||!r.dragSession.getDragControl()){return null}var o=r.dragSession,n=e.getInstance(),i;n.setCurrentContext(o.getDragControl(),this.getDropTarget(),this.getTargetAggregation(),o);i=n.getSuggestedDropPosition();this.fireEvent("drop",{dragSession:r.dragSession,browserEvent:r.originalEvent,dropPosition:i?i.position:null,draggedControl:o.getDragControl(),droppedControl:i?i.targetControl:null});n.scheduleEndDrag()};n.prototype._shouldEnhance=function(){if(this._bShouldEnhance===undefined){if(!this.getParent().isA("sap.f.dnd.IGridDroppable")){o.error("The control which uses 'sap.f.dnd.GridDropInfo' has to implement 'sap.f.dnd.IGridDroppable'.","sap.f.dnd.GridDropInfo");this._bShouldEnhance=false;return this._bShouldEnhance}this._bShouldEnhance=this.getDropPosition()===r.dnd.DropPosition.Between&&this.getDropLayout()===r.dnd.DropLayout.Horizontal}return this._bShouldEnhance};n.prototype._isKeyboardEvent=function(r){return r.originalEvent.type==="keydown"};n.prototype._suggestDropPosition=function(r){if(!r.dragSession||!r.dragSession.getDragControl()){return null}var t=e.getInstance();t.setCurrentContext(r.dragSession.getDragControl(),this.getDropTarget(),this.getTargetAggregation(),r.dragSession);t.handleDragOver(r);return t.getSuggestedDropPosition()};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBox", ["./ComboBoxTextField","./ComboBoxBase","./List","./library","sap/ui/Device","sap/ui/core/Element","sap/ui/core/Item","./ComboBoxRenderer","sap/ui/dom/containsOrEquals","sap/m/inputUtils/scrollToItem","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/filterItems","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/selectionRange","sap/m/inputUtils/calculateSelectionStart","sap/ui/events/KeyCodes","sap/base/Log"],function(e,t,s,i,o,n,r,a,l,h,p,c,u,d,g,f,m,y,I){"use strict";var S=i.ListMode;var v=t.extend("sap.m.ComboBox",{metadata:{interfaces:["sap.m.IToolbarInteractiveControl"],library:"sap.m",designtime:"sap/m/designtime/ComboBox.designtime",properties:{selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},filterSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},_open:{type:"boolean",defaultValue:false,visibility:"hidden"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false}},events:{change:{parameters:{value:{type:"string"},itemPressed:{type:"boolean"}}},selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},dnd:{draggable:false,droppable:true}},renderer:a});function L(e){var t=this.getSelectedItem(),s=d.getListItem(t),i=t&&s&&s.getDomRef(),o=i&&i.offsetTop,n=i&&i.offsetHeight,r=this.getPicker(),a=r.getDomRef("cont"),l=a.clientHeight;if(t&&o+n>l){if(!e){this._getList().$().css("visibility","hidden")}else{a.scrollTop=o-n/2;this._getList().$().css("visibility","visible")}}}v.prototype._getSelectedItemText=function(e){e=e||this.getSelectedItem();if(!e){e=this.getDefaultSelectedItem()}if(e){return e.getText()}return""};v.prototype.setSelectedIndex=function(e,t){var s;t=t||this.getItems();e=e>t.length-1?t.length-1:Math.max(0,e);s=t[e];if(s){this.setSelection(s)}};v.prototype.revertSelection=function(){var e,t=this.getPickerTextField();this.setSelectedItem(this._oSelectedItemBeforeOpen);this.setValue(this._sValueBeforeOpen);if(this.getSelectedItem()===null){e=this._sValueBeforeOpen}else{e=this._oSelectedItemBeforeOpen.getText()}t&&t.setValue(e)};v.prototype._filterStartsWithItems=function(e,t){var s=e.toLowerCase();var i=this.getItems(),o=i.filter(function(e){return e[t]&&e[t]().toLowerCase().startsWith(s)});return o};v.prototype.setSelection=function(e){var t=this._getList(),s,i;this.setAssociation("selectedItem",e);this._setPropertyProtected("selectedItemId",e instanceof r?e.getId():e,true);if(typeof e==="string"){e=n.getElementById(e)}if(t){s=d.getListItem(e);if(s){t.setSelectedItem(s,true)}else{t.removeSelections(true)}}i=e?e.getKey():this.getMetadata().getProperty("selectedKey").defaultValue;this._setPropertyProtected("selectedKey",i)};v.prototype.isSelectionSynchronized=function(){var e=this.getSelectedItem();return this.getSelectedKey()===(e&&e.getKey())};v.prototype.isItemSelected=function(e){return e&&e.getId()===this.getAssociation("selectedItem")};v.prototype.setAssociation=function(e,s,i){var o=this._getList();if(o&&e==="selectedItem"){if(!(s instanceof r)){s=this.findItem("id",s)}o.setSelectedItem(d.getListItem(s),true)}return t.prototype.setAssociation.apply(this,arguments)};v.prototype.removeAllAssociation=function(e,i){var o=this._getList();if(o&&e==="selectedItem"){s.prototype.removeAllAssociation.apply(o,arguments)}return t.prototype.removeAllAssociation.apply(this,arguments)};v.prototype.init=function(){t.prototype.init.apply(this,arguments);this.bOpenValueStateMessage=true;this._sValueBeforeOpen="";this._sInputValueBeforeOpen="";this._oSelectedItemBeforeOpen=null;if(o.system.phone){this.attachEvent("_change",this.onPropertyChange,this)}this.setLastFocusedListItem(null)};v.prototype.onBeforeRendering=function(){t.prototype.onBeforeRendering.apply(this,arguments);var e=this.getItems();if(this.getRecreateItems()){d.fillList(e,this._getList(),this._mapItemToListItem.bind(this));this.setRecreateItems(false)}this.synchronizeSelection();if(!this.isOpen()&&document.activeElement===this.getFocusDomRef()&&this.getEnabled()){this.addStyleClass("sapMFocus")}if(this.getSelectedItem()&&e.indexOf(this.getSelectedItem())===-1){var s=this.getValue();this.clearSelection();this.setValue(s)}if(this.getShowClearIcon()){this._getClearIcon().setVisible(this.shouldShowClearIcon())}else if(this._oClearIcon){this._getClearIcon().setVisible(false)}};v.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._oSelectedItemBeforeOpen=null;this._bInputFired=null;this.setLastFocusedListItem(null)};v.prototype.onBeforeRenderingPicker=function(){var e=this["onBeforeRendering"+this.getPickerType()];e&&e.call(this)};v.prototype.onBeforeRenderingDropdown=function(){var e=this.getPicker(),t=this.$().outerWidth()/parseFloat(i.BaseFontSize)+"rem";if(e){e.setContentMinWidth(t)}};v.prototype.onBeforeRenderingList=function(){if(this.bProcessingLoadItemsEvent){var e=this._getList(),t=this.getFocusDomRef();if(e){e.setBusy(true)}if(t){t.setAttribute("aria-busy","true")}}};v.prototype.onAfterRenderingPicker=function(){var e=this["onAfterRendering"+this.getPickerType()];var t=this.getDomRef().getBoundingClientRect().width;var s=getComputedStyle(this.getDomRef()).getPropertyValue("--sPopoverMaxWidth");e&&e.call(this);L.call(this,false);if(t<=parseInt(s)&&!o.system.phone){this.getPicker().addStyleClass("sapMSuggestionPopoverDefaultWidth")}else{this.getPicker().getDomRef().style.setProperty("max-width",t+"px");this.getPicker().addStyleClass("sapMSuggestionPopoverInputWidth")}};v.prototype.onAfterRenderingList=function(){var e=this.getSelectedItem(),t=d.getListItem(e);if(this.bProcessingLoadItemsEvent&&!this.bItemsUpdated&&this.getItems().length===0){return}var s=this._getList(),i=this.getFocusDomRef();this.highlightList(this._sInputValueBeforeOpen);if(e){s.setSelectedItem(t);this.setLastFocusedListItem(t)}if(s){s.setBusy(false)}if(i){i.removeAttribute("aria-busy")}};v.prototype.filterItems=function(e){return u(this,this.getItems(),e,true,this.getFilterSecondaryValues(),this.fnFilter||p)};v.prototype._mapItemToListItem=function(e){var t=d.createListItemFromCoreItem(e,this.getShowSecondaryValues());if(e.isA("sap.ui.core.Item")){this.setSelectable(e,e.getEnabled())}if(e.isA("sap.ui.core.SeparatorItem")){t.addAriaLabelledBy(this._getGroupHeaderInvisibleText().getId())}t.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"NonInteractiveItem");return t};v.prototype.oninput=function(e){t.prototype.oninput.apply(this,arguments);this.syncPickerContent();if(e.isMarked("invalid")){return}this._bInputFired=true;this.loadItems(function(){this.handleInputValidation(e)},{name:"input",busyIndicator:false});if(this.bProcessingLoadItemsEvent&&this.getPickerType()==="Dropdown"){if(this.isOpen()&&!this.getValue()){this.close()}else{this.open()}}if(this.getLastFocusedListItem()){this.getLastFocusedListItem().removeStyleClass("sapMLIBFocused");this.setLastFocusedListItem(null)}this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true)}};v.prototype.handleInputValidation=function(e){var t,s,i,o,n=this.getSelectedItem(),r=e.target.value,a=r==="",l=e.srcControl,p=this.getPickerType()==="Dropdown",c=d.getListItem(n),u=this.filterItems(r);if(a&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){t=this.getItems()}else{t=u.items;g(this.getItems(),u)}i=t[0];o=t.some(function(e){return e.getKey()===this.getSelectedKey()},this);s=this.intersectItems(this._filterStartsWithItems(r,"getText"),t);if(i&&this.getSelectedKey()&&!o){this.setSelection(null)}const f=s.some(e=>e.getText()===r);if(!a&&l&&(l._bDoTypeAhead||f)){this.handleTypeAhead(l,t,r)}else if(!a&&s[0]&&r===s[0].getText()){this.setSelection(s[0])}else{this.setSelection(null)}if(n!==this.getSelectedItem()){this.fireSelectionChange({selectedItem:this.getSelectedItem()});c=d.getListItem(this.getSelectedItem())}this._sInputValueBeforeOpen=r;if(this.isOpen()){setTimeout(function(){this.highlightList(r)}.bind(this))}if(i){if(a&&!this.bOpenedByKeyboardOrButton){this.close()}else if(p){this.open();h(c,this.getPicker())}}else if(this.isOpen()){if(p&&!this.bOpenedByKeyboardOrButton){this.close()}}else{this.clearFilter()}};v.prototype.handleTypeAhead=function(e,t,s){var i,o=this.getFilterSecondaryValues(),n=c(s,e,t,function(e){i=[e.getText()];if(o){i.push(e.getAdditionalText())}return i});this.setSelection(n[0]);this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus")};v.prototype.onSelectionChange=function(e){var t=d.getItemByListItem(this.getItems(),e.getParameter("listItem")),s=this.getChangeEventParams(),i=t!==this.getSelectedItem();t&&this.updateDomValue(t.getText());this.setSelection(t);this.fireSelectionChange({selectedItem:this.getSelectedItem()});if(i){s.itemPressed=true;this.onChange(null,s)}};v.prototype.onItemPress=function(e){var t=e.getParameter("listItem"),s=t.getTitle(),i=this.getChangeEventParams(),o=t!==d.getListItem(this.getSelectedItem());if(t.isA("sap.m.GroupHeaderListItem")){return}this.setLastFocusedListItem(t);this.updateDomValue(s);if(!o){i.itemPressed=true;this.onChange(null,i)}this._setPropertyProtected("value",s,true);if(this.getPickerType()==="Dropdown"&&!this.isPlatformTablet()){this.selectText(this.getValue().length,this.getValue().length)}this.close()};v.prototype.onBeforeOpen=function(){t.prototype.onBeforeOpen.apply(this,arguments);var e=this._getSuggestionsPopover();var s=this["onBeforeOpen"+this.getPickerType()];this.setProperty("_open",true);if(this.hasLoadItemsEventListeners()&&!this.bProcessingLoadItemsEvent){this.loadItems()}this.addContent();s&&s.call(this);e.resizePopup(this)};v.prototype.onBeforeOpenDialog=function(){var e=this.getPickerTextField();this._oSelectedItemBeforeOpen=this.getSelectedItem();this._sValueBeforeOpen=this.getValue();this.getSelectedItem()&&g(this.getItems(),this.filterItems(""));e.setValue(this._sValueBeforeOpen)};v.prototype.onAfterOpen=function(){var e=this.getSelectedItem(),t=f(this.getFocusDomRef()),s=this.isPlatformTablet();this.closeValueStateMessage();L.call(this,true);if(!s&&e&&t.start===t.end&&t.start>1){setTimeout(function(){this.selectText(0,t.end)}.bind(this),0)}};v.prototype.onBeforeClose=function(){t.prototype.onBeforeClose.apply(this,arguments);var e=this.getFocusDomRef();this.setProperty("_open",false);if(document.activeElement===e){this.updateFocusOnClose()}this.toggleIconPressedStyle(false)};v.prototype.onAfterClose=function(){this.clearFilter();this._sInputValueBeforeOpen="";if(this.isPickerDialog()){t.prototype.closeValueStateMessage.apply(this,arguments)}};v.prototype.onItemChange=function(e){var s=this.getAssociation("selectedItem"),i=e.getParameter("newValue"),o=e.getParameter("name");if(s===e.getParameter("id")){switch(o){case"text":if(!this.isBound("value")){this.setValue(i)}break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(i)}break}}return t.prototype.onItemChange.call(this,e,this.getShowSecondaryValues())};v.prototype.onkeydown=function(e){var s=e.srcControl;t.prototype.onkeydown.apply(s,arguments);if(!s.getEnabled()||!s.getEditable()){return}var i=y;s._bDoTypeAhead=!o.os.android&&e.which!==i.BACKSPACE&&e.which!==i.DELETE};v.prototype.oncut=function(e){var s=e.srcControl;t.prototype.oncut.apply(s,arguments);s._bDoTypeAhead=false};v.prototype.onsapenter=function(e){var s=e.srcControl,i=s.getSelectedItem(),o=s._getSuggestionsPopover(),n=o&&o.getFocusedListItem();if(i&&this.getFilterSecondaryValues()){s.updateDomValue(i.getText())}t.prototype.onsapenter.apply(s,arguments);if(!s.getEnabled()||!s.getEditable()){return}if(n&&n.isA("sap.m.GroupHeaderListItem")){return}if(s.isOpen()&&!this.isComposingCharacter()){s.close()}};["onsapup","onsapdown","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(e){v.prototype[e]=function(t){this.handleListNavigation(t,e)}});v.prototype.handleListNavigation=function(e,t){var s=e.srcControl;if(!s.getEnabled()||!s.getEditable()){return}e.preventDefault();this.loadItems(function(){this.syncPickerContent();if(!this.isOpen()){this.handleInlineListNavigation(t)}else{var s=this._getSuggestionsPopover();s&&s.handleListNavigation(this,e,!!this.getSelectedItem())}e.setMarked()})};v.prototype.handleInlineListNavigation=function(e){var t=this.getItems(),s=d.getSelectableItems(t),i=this.getSelectedItem(),o;switch(e){case"onsapdown":o=s.indexOf(i)+1;break;case"onsapup":o=i?s.indexOf(i)-1:s.length-1;break;case"onsapend":o=s.length-1;break;case"onsaphome":o=0;break;case"onsappagedown":o=Math.min(s.length-1,s.indexOf(i)+10);break;case"onsappageup":o=Math.max(0,s.indexOf(i)-10);break}this.handleSelectionFromList(s[o])};v.prototype.handleSelectionFromList=function(e){if(!e){return}var t=this.getFocusDomRef(),s=t.value.substring(0,t.selectionStart),i=this.getSelectedItem(),o=this.getLastFocusedListItem(),n,r,a,l;if(e.isA("sap.m.StandardListItem")||e.isA("sap.m.GroupHeaderListItem")){n=e;e=d.getItemByListItem(this.getItems(),e)}else{n=d.getListItem(e)}this.setSelection(e);this.setLastFocusedListItem(n);if(e.isA("sap.ui.core.SeparatorItem")){this.setSelectedItem(null);this.updateDomValue(s);this.fireSelectionChange({selectedItem:null});this._getGroupHeaderInvisibleText().setText(this._oRb.getText("LIST_ITEM_GROUP_HEADER")+" "+e.getText());return}if(e!==i){r=e.getText();l=o&&o.isA("sap.m.GroupHeaderListItem");a=m(f(t,l),r,s,l);this.updateDomValue(r);this.fireSelectionChange({selectedItem:e});e=this.getSelectedItem();this.selectText(a,t.value.length)}};v.prototype.setLastFocusedListItem=function(e){this._oLastFocusedListItem=e};v.prototype.getLastFocusedListItem=function(){return this._oLastFocusedListItem};v.prototype.onsapshow=function(e){var s,i,o=this.getEditable(),n;t.prototype.onsapshow.apply(this,arguments);this.syncPickerContent();if(!this.getValue()&&o){s=d.getSelectableItems(this.getItems());i=s[0];if(i){n=d.getListItem(i);if(this.isOpen()){this._getSuggestionsPopover().updateFocus(this,n);this.setLastFocusedListItem(n)}else{this.addStyleClass("sapMFocus")}this.setSelection(i);this.updateDomValue(i.getText());this.fireSelectionChange({selectedItem:i});setTimeout(function(){this.selectText(0,i.getText().length)}.bind(this),0)}}};v.prototype.onsaphide=v.prototype.onsapshow;v.prototype.ontap=function(e){if(!this.getEnabled()){return}if(!this.isMobileDevice()){this.openValueStateMessage()}this.updateFocusOnClose()};v.prototype.updateFocusOnClose=function(){var e=this.getFocusDomRef(),t=this._getSuggestionsPopover();this.setLastFocusedListItem(null);if(t){t.setValueStateActiveState(false);t.updateFocus(this)}e.removeAttribute("aria-activedescendant")};v.prototype.onmouseup=function(){if(this.getPickerType()==="Dropdown"&&document.activeElement===this.getFocusDomRef()&&!this.getSelectedText()){this.selectText(0,this.getValue().length)}};v.prototype.onfocusin=function(e){var t=this.getPickerType()==="Dropdown";if(this._bIsBeingDestroyed){return}if(e.target===this.getOpenArea()){this.bOpenValueStateMessage=false;if(t&&!this.isPlatformTablet()){this.focus()}}else{if(!this.isOpen()&&this.bOpenValueStateMessage&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}this.bOpenValueStateMessage=true}if(this.getEnabled()&&(!this.isOpen()||!this.getSelectedItem()||!this._getList().hasStyleClass("sapMListFocus"))){this.addStyleClass("sapMFocus")}};v.prototype.onsapfocusleave=function(e){var s,i,o,r,a=this.getSelectedItem();if(a&&this.getFilterSecondaryValues()){this.updateDomValue(a.getText())}t.prototype.onsapfocusleave.apply(this,arguments);if(this.isPickerDialog()){return}i=this.getPicker();if(!e.relatedControlId||!i){return}s=this.isPlatformTablet();o=n.getElementById(e.relatedControlId);r=o&&o.getFocusDomRef();if(l(i.getFocusDomRef(),r)&&!s&&!this._getSuggestionsPopover().getValueStateActiveState()){this.focus()}};v.prototype.synchronizeSelection=function(){if(this.isSelectionSynchronized()){return}var e=this.getSelectedKey(),t=this.getItemByKey(""+e);if(t&&e!==""){this.setAssociation("selectedItem",t,true);this._setPropertyProtected("selectedItemId",t.getId(),true);this.setValue(t.getText());this._sValue=this.getValue()}};v.prototype.configPicker=function(e){var t=this.getRenderer(),s=t.CSS_CLASS_COMBOBOXBASE;e.setHorizontalScrolling(false).addStyleClass(s+"Picker").addStyleClass(s+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this)};v.prototype._configureList=function(e){var t=this.getRenderer();if(!e){return}e.applyAriaRole("listbox");e.setMode(S.SingleSelectMaster).addStyleClass(t.CSS_CLASS_COMBOBOXBASE+"List").addStyleClass(t.CSS_CLASS_COMBOBOX+"List");e.attachSelectionChange(this.onSelectionChange,this).attachItemPress(this.onItemPress,this);e.addEventDelegate({onBeforeRendering:this.onBeforeRenderingList,onAfterRendering:this.onAfterRenderingList},this)};v.prototype.getDefaultSelectedItem=function(){return null};v.prototype.getChangeEventParams=function(){return{itemPressed:false}};v.prototype.clearSelection=function(){this.setAssociation("selectedItem",null);this.setSelectedItemId("");this.setSelectedKey("")};v.prototype.selectText=function(e,s){t.prototype.selectText.apply(this,arguments);return this};v.prototype.clone=function(e){var s=t.prototype.clone.apply(this,arguments),i=this._getList();s.setAssociation("selectedItem",null);if(!this.isBound("items")&&i){s.syncPickerContent();s.setSelectedIndex(this.indexOfItem(this.getSelectedItem()))}return s};v.prototype.open=function(){this.syncPickerContent();t.prototype.open.call(this);var e=d.getListItem(this.getSelectedItem());const s=this._getSuggestionsPopover();if(!this._bInputFired&&s){s.updateFocus(this,e)}this._bInputFired=false;return this};v.prototype.syncPickerContent=function(){var e,t=this.getPicker(),s=this.getInputForwardableProperties();if(!t){var i,o;t=this.createPicker(this.getPickerType());e=this.getPickerTextField();d.fillList(this.getItems(),this._getList(),this._mapItemToListItem.bind(this));g(this.getItems(),this.filterItems(""));if(e){s.forEach(function(t){t=t.charAt(0).toUpperCase()+t.slice(1);i="set"+t;o="get"+t;if(e[i]){e[i](this[o]())}},this)}this._getSuggestionsPopover().updateValueState(this.getValueState(),this.getValueStateText(),this.getShowValueStateMessage())}this.synchronizeSelection();return t};v.prototype.findAggregatedObjects=function(){var e=this._getList();if(e){return s.prototype.findAggregatedObjects.apply(e,arguments)}return[]};v.prototype.setSelectedItem=function(e){if(typeof e==="string"){this.setAssociation("selectedItem",e,true);e=n.getElementById(e)}if(!(e instanceof r)&&e!==null){return this}if(!e){e=this.getDefaultSelectedItem()}this.setSelection(e);this.setValue(this._getSelectedItemText(e));return this};v.prototype.setSelectedItemId=function(e){e=this.validateProperty("selectedItemId",e);if(!e){e=this.getDefaultSelectedItem()}this.setSelection(e);e=this.getSelectedItem();this.setValue(this._getSelectedItemText(e));return this};v.prototype.setSelectedKey=function(e){e=this.validateProperty("selectedKey",e);var t=this.shouldResetSelection(e),s=this.isBound("selectedKey")&&this.isBound("value")&&this.getBindingInfo("selectedKey").skipModelUpdate;if(t){this.setSelection(null);if(!s){this.setValue("")}return this}var i=this.getItemByKey(e);if(i){this.setSelection(i);if(!s){this.setValue(this._getSelectedItemText(i))}return this}this._sValue=this.getValue();return this._setPropertyProtected("selectedKey",e)};v.prototype.shouldResetSelection=function(e){return e===this.getMetadata().getProperty("selectedKey").defaultValue};v.prototype._setPropertyProtected=function(e,t,s){try{return this.setProperty(e,t,s)}catch(e){I.warning("setSelectedKey update failed due to exception. Loggable in support mode log",null,null,function(){return{exception:e}})}};v.prototype.getSelectedItem=function(){var e=this.getAssociation("selectedItem");return e===null?null:n.getElementById(e)||null};v.prototype._decoratePopupInput=function(e){t.prototype._decoratePopupInput.apply(this,arguments);if(!e||!e.isA(["sap.m.InputBase"])){return}e.addEventDelegate({onsapenter:function(){var t=e.getValue();this.updateDomValue(t);this.onChange();if(t){this.updateDomValue(t);this.onChange();this.close()}}},this);e.attachChange(this._handleInnerInputChange.bind(this));return e};v.prototype._handleInnerInputChange=function(e){if(e.getParameter("value")===""){this.clearSelection();this.clearFilter()}};v.prototype.applyShowItemsFilters=function(){var e,t;this.syncPickerContent();e=this.getPicker();t=function(){e.detachBeforeOpen(t,this);e=null;g(this.getItems(),this.filterItems(this.getValue()||"_"))};e.attachBeforeOpen(t,this)};v.prototype.showItems=function(e){var s,i,o=Array.prototype.slice.call(arguments),n=this.fnFilter,r=function(){this.setFilterFunction(e||function(){return true});i=this.filterItems(this.getValue()||"_");g(this.getItems(),i);this.setFilterFunction(n);s=i.items;if(s&&s.length){t.prototype.showItems.apply(this,o)}}.bind(this);this.attachLoadItems(r);this.loadItems(r)};v.prototype.handleClearIconPress=function(e){var t=this.getSelectedItem(),s=this.getChangeEventParams();if(!(this.getEnabled()&&this.getEditable())){return}if(this.getValue()!==""){this.clearSelection();this.bOpenedByKeyboardOrButton?this.clearFilter():this.close();this.setProperty("effectiveShowClearIcon",false)}if(t){this.fireSelectionChange({selectedItem:null});this.fireChangeEvent(null,s)}};v.prototype._getToolbarInteractive=function(){return true};return v});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxBase", ["./Input","./ComboBoxTextField","./ComboBoxBaseRenderer","./SuggestionsPopover","sap/ui/base/ManagedObjectObserver","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/SeparatorItem","sap/ui/core/InvisibleText","sap/ui/base/ManagedObject","sap/base/Log","./library","sap/ui/Device","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/m/inputUtils/forwardItemProperties","sap/m/inputUtils/highlightDOMElements","sap/m/inputUtils/highlightItemsWithContains","sap/m/inputUtils/ListHelpers","sap/ui/core/IconPool"],function(t,e,i,s,o,n,r,a,u,l,p,h,c,d,g,jQuery,f,I,y,m,b){"use strict";var v=h.PlacementType;var S=["value","enabled","name","placeholder","editable","textAlign","textDirection","valueState","valueStateText"];var P=e.extend("sap.m.ComboBoxBase",{metadata:{library:"sap.m",abstract:true,defaultAggregation:"items",properties:{showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},open:{type:"boolean",defaultValue:false},showClearIcon:{type:"boolean",defaultValue:false},effectiveShowClearIcon:{type:"boolean",defaultValue:false,visibility:"hidden"}},aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"}},events:{loadItems:{}},dnd:{draggable:false,droppable:true}},renderer:i});P.prototype.oncompositionend=function(t){e.prototype.oncompositionend.apply(this,arguments);if(!c.browser.firefox){this.handleInputValidation(t,this.isComposingCharacter())}};P.prototype.shouldShowClearIcon=function(){return this.getProperty("effectiveShowClearIcon")&&!!this.getValue()&&this.getEditable()&&this.getEnabled()};P.prototype.updateItems=function(t){this.bItemsUpdated=false;var e=this.getItems().length;var i;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;if(this.hasLoadItemsEventListeners()){if(this.isOpen()){m.fillList(this.getItems(),this._getList(),this._mapItemToListItem.bind(this));this.setRecreateItems(false)}this.onItemsLoaded()}i=this._getList();if(i&&e===this.getItems().length){i.setBusy(false);i.setShowNoData(!this.getItems().length);this.bInitialBusyIndicatorState=false}};P.prototype.setFilterFunction=function(t){if(t===null||t===undefined){this.fnFilter=null;return this}if(typeof t!=="function"){p.warning("Passed filter is not a function and the default implementation will be used")}else{this.fnFilter=t}return this};P.prototype.highlightList=function(t){var e=[];e=this._getList().$().find(".sapMSLIInfo [id$=-infoText], .sapMSLITitleOnly [id$=-titleText]");if(this.useHighlightItemsWithContains()){y(e,t)}else{I(e,t)}};P.prototype.useHighlightItemsWithContains=function(){return false};P.prototype._decoratePopupInput=function(t){if(t){this.setTextFieldHandler(t);t.setShowClearIcon(this.getShowClearIcon())}return t};P.prototype.setTextFieldHandler=function(t){var e=this,i=t._handleEvent;t._handleEvent=function(t){i.apply(this,arguments);if(/keydown|keyup|sapdown|sapup|saphome|sapend|sappagedown|sappageup|input/.test(t.type)){e._handleEvent(t)}}};P.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items")};P.prototype.loadItems=function(t,e){var i=typeof t==="function";if(this.hasLoadItemsEventListeners()&&this.getItems().length===0){this._bOnItemsLoadedScheduled=false;if(i){e=jQuery.extend({action:t,busyIndicator:true,busyIndicatorDelay:300},e);this.aMessageQueue.push(e);if(this.iLoadItemsEventInitialProcessingTimeoutID===-1&&e.busyIndicator){this.iLoadItemsEventInitialProcessingTimeoutID=setTimeout(function t(){this.setInternalBusyIndicatorDelay(0);this.setInternalBusyIndicator(true)}.bind(this),e.busyIndicatorDelay)}}if(!this.bProcessingLoadItemsEvent){this.bProcessingLoadItemsEvent=true;this.fireLoadItems()}}else if(i){t.call(this)}};P.prototype.onItemsLoaded=function(){this.bProcessingLoadItemsEvent=false;clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);if(this.bInitialBusyIndicatorState!==this.getBusy()){this.setInternalBusyIndicator(this.bInitialBusyIndicatorState)}if(this.iInitialBusyIndicatorDelay!==this.getBusyIndicatorDelay()){this.setInternalBusyIndicatorDelay(this.iInitialBusyIndicatorDelay)}for(var t=0,e,i,s;t<this.aMessageQueue.length;t++){e=this.aMessageQueue.shift();t--;s=t+1===this.aMessageQueue.length;i=s?null:this.aMessageQueue[t+1];if(typeof e.action==="function"){if(e.name==="input"&&!s&&i.name==="input"){continue}e.action.call(this)}}};P.prototype.hasLoadItemsEventListeners=function(){return this.hasListeners("loadItems")};P.prototype._scheduleOnItemsLoadedOnce=function(){if(!this._bOnItemsLoadedScheduled&&!this.isBound("items")&&this.hasLoadItemsEventListeners()&&this.bProcessingLoadItemsEvent){this._bOnItemsLoadedScheduled=true;setTimeout(this.onItemsLoaded.bind(this),0)}};P.prototype.getPickerInvisibleTextId=function(){return u.getStaticId("sap.m","COMBOBOX_AVAILABLE_OPTIONS")};P.prototype._getGroupHeaderInvisibleText=function(){if(!this._oGroupHeaderInvisibleText){this._oGroupHeaderInvisibleText=new u;this._oGroupHeaderInvisibleText.toStatic()}return this._oGroupHeaderInvisibleText};P.prototype._isListInSuggestMode=function(){return this._getList().getItems().some(function(t){return!t.getVisible()&&m.getItemByListItem(this.getItems(),t).getEnabled()},this)};P.prototype.getSelectable=function(t){return t._bSelectable};P.prototype._setItemsShownWithFilter=function(t){this._bItemsShownWithFilter=t};P.prototype._getItemsShownWithFilter=function(){return this._bItemsShownWithFilter};P.prototype._getClearIcon=function(){if(this._oClearIcon){return this._oClearIcon}this._oClearIcon=this.addEndIcon({src:b.getIconURI("decline"),noTabStop:true,visible:false,alt:this._oRb.getText("INPUT_CLEAR_ICON_ALT"),useIconTooltip:false,decorative:false,press:this.handleClearIconPress.bind(this)},0);this._oClearIcon.addStyleClass("sapMComboBoxBaseClearIcon");return this._oClearIcon};P.prototype.handleClearIconPress=function(t){};P.prototype.onkeyup=function(t){if(!this.getEnabled()||!this.getEditable()){return}this.getShowClearIcon()&&this.setProperty("effectiveShowClearIcon",!!this.getValue())};P.prototype.onkeydown=function(t){e.prototype.onkeydown.apply(this,arguments);var i=this._getSuggestionsPopover();if(this.areHotKeysPressed(t)){if(i&&i.isOpen()){i.setValueStateActiveState(true);i._handleValueStateLinkNav(this,t);i.updateFocus(this,null)}else{this._handleValueStateLinkNav()}}};P.prototype.setValue=function(t){e.prototype.setValue.apply(this,arguments);this.setProperty("effectiveShowClearIcon",!!t);return this};P.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oRb=r.getResourceBundleFor("sap.m");this.setPickerType(c.system.phone?"Dialog":"Dropdown");this._setItemsShownWithFilter(false);this.bItemsUpdated=false;this.bOpenedByKeyboardOrButton=false;this._bShouldClosePicker=false;this.bProcessingLoadItemsEvent=false;this.iLoadItemsEventInitialProcessingTimeoutID=-1;this.aMessageQueue=[];this.bInitialBusyIndicatorState=this.getBusy();this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();this._bOnItemsLoadedScheduled=false;this._bDoTypeAhead=true;this.getArrowIcon().addEventDelegate({onmousedown:function(t){this._bShouldClosePicker=this.isOpen()}},this);this.getArrowIcon().attachPress(this._handlePopupOpenAndItemsLoad.bind(this,true,this));this.fnFilter=null;var t=new o(function(t){var e=t.mutation;var i=t.child;var s={remove:"detachEvent",insert:"attachEvent"};var o={remove:"handleItemRemoval",insert:"handleItemInsertion"};if(!i[s[e]]||!this[o[e]]){return}i[s[e]]("_change",this.onItemChange,this);this.setRecreateItems(true);this[o[e]](i)}.bind(this));t.observe(this,{aggregations:["items"]})};P.prototype.handleItemRemoval=function(t){};P.prototype.handleItemInsertion=function(t){};P.prototype.setRecreateItems=function(t){this._bRecreateItems=t};P.prototype.getRecreateItems=function(){return this._bRecreateItems};P.prototype.onBeforeRendering=function(){var t=this.isOpen(),i=t?this._getSuggestionsPopover()._getValueStateHeader().getText():null,s=t?this._getSuggestionsPopover()._getValueStateHeader().getValueState():null;e.prototype.onBeforeRendering.apply(this,arguments);if(t&&(this.getValueStateText()&&i!==this.getValueStateText()||this.getValueState()!==s||this.getFormattedValueStateText())){this._updateSuggestionsPopoverValueState(true)}};P.prototype._handlePopupOpenAndItemsLoad=function(t,e){var i;if(!this.getEnabled()||!this.getEditable()){return}if(t&&this._getItemsShownWithFilter()){this._bShouldClosePicker=false;this.toggleIconPressedStyle(true);this.bOpenedByKeyboardOrButton=false;this.clearFilter();this._setItemsShownWithFilter(false);return}if(this._bShouldClosePicker){this._bShouldClosePicker=false;this.close();return}this.loadItems();this.bOpenedByKeyboardOrButton=t;if(this.isPlatformTablet()){this.syncPickerContent();i=this.getPicker();i.setInitialFocus(i)}if(e){i=this.getPicker();i&&i.setInitialFocus(e)}this.open()};P.prototype.exit=function(){e.prototype.exit.apply(this,arguments);this._oRb=null;if(this._getGroupHeaderInvisibleText()){this._getGroupHeaderInvisibleText().destroy();this._oGroupHeaderInvisibleText=null}if(this._oSuggestionPopover){this._oSuggestionPopover.destroy();this._oSuggestionPopover=null}clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);this.aMessageQueue=null;this.fnFilter=null};P.prototype.onsapshow=function(t){if(!this.getEnabled()||!this.getEditable()){return}t.setMarked();if(t.keyCode===g.F4){this.onF4(t)}if(this._getItemsShownWithFilter()){this.loadItems(this._handlePopupOpenAndItemsLoad.bind(this,true));return}if(this.isOpen()){this.close();return}this.selectText(0,this.getValue().length);this.loadItems();this.bOpenedByKeyboardOrButton=true;this.open()};P.prototype.onF4=function(t){t.preventDefault()};P.prototype.onsapescape=function(t){if(this.getEnabled()&&this.getEditable()&&this.isOpen()){t.setMarked();t.preventDefault();this.close()}else{e.prototype.onsapescape.apply(this,arguments)}};P.prototype.onsaphide=P.prototype.onsapshow;P.prototype.onsapfocusleave=function(t){if(!t.relatedControlId){e.prototype.onsapfocusleave.apply(this,arguments);return}var i=n.getElementById(t.relatedControlId);if(i===this){return}var s=this.getPicker(),o=i&&i.getFocusDomRef();if(s&&d(s.getFocusDomRef(),o)){return}e.prototype.onsapfocusleave.apply(this,arguments)};P.prototype.getPopupAnchorDomRef=function(){return this.getDomRef()};P.prototype.addContent=function(t){};P.prototype.getList=function(){p.warning("[Warning]:","You are attempting to use deprecated method 'getList()', please refer to SAP note 2746748.",this);return this._getList()};P.prototype._getList=function(){var t=this._oSuggestionPopover&&this._oSuggestionPopover.getItemsContainer();if(this.bIsDestroyed||!t){return null}return t};P.prototype.setPickerType=function(t){this._sPickerType=t};P.prototype.getPickerType=function(){return this._sPickerType};P.prototype._updateSuggestionsPopoverValueState=function(t){var e=this._getSuggestionsPopover();if(!e){return}var i=this.getValueState(),s=this.getValueState()!==e._getValueStateHeader().getValueState(),o=this.getFormattedValueStateText(),n=this.getValueStateText(),r=o!==null||s;if(e.isOpen()&&!r){this.setFormattedValueStateText(e._getValueStateHeader().getFormattedText())}e.updateValueState(i,o||n,this.getShowValueStateMessage(),t)};P.prototype.shouldValueStateMessageBeOpened=function(){var t=e.prototype.shouldValueStateMessageBeOpened.apply(this,arguments);return t&&!this.isOpen()};P.prototype.onPropertyChange=function(t,e){var i=t.getParameter("newValue"),s=t.getParameter("name"),o="set"+s.charAt(0).toUpperCase()+s.slice(1),n=e&&e.srcControl||this.getPickerTextField();if(this.getInputForwardableProperties().indexOf(s)>-1&&n&&typeof n[o]==="function"){n[o](i)}};P.prototype.getInputForwardableProperties=function(){return S};P.prototype.isPickerDialog=function(){return this.getPickerType()==="Dialog"};P.prototype.isPlatformTablet=function(){var t=!c.system.combi,e=c.system.tablet&&t;return e};P.prototype.getDropdownSettings=function(){return{showArrow:false,placement:v.VerticalPreferredBottom,offsetX:0,offsetY:0,bounce:false,ariaLabelledBy:this.getPickerInvisibleTextId()||undefined}};P.prototype._configureList=function(){};P.prototype.createPicker=function(t){var e=this.getAggregation("picker");if(e){return e}this._oSuggestionPopover=this._createSuggestionsPopover();e=this._oSuggestionPopover.getPopover();this.setAggregation("picker",e,true);this.configPicker(e);return e};P.prototype.configPicker=function(t){};P.prototype._hasShowSelectedButton=function(){return false};P.prototype._createSuggestionsPopover=function(){var e=new s(this);e.decorateParent(this);e.createSuggestionPopup(this,{showSelectedButton:this._hasShowSelectedButton()},t);this._decoratePopupInput(e.getInput());e.initContent(this.getId());this.forwardEventHandlersToSuggPopover(e);this._configureList(e.getItemsContainer());return e};P.prototype.forwardEventHandlersToSuggPopover=function(t){t.setOkPressHandler(this._handleOkPress.bind(this));t.setCancelPressHandler(this._handleCancelPress.bind(this));t.setInputLabels(this.getLabels.bind(this))};P.prototype._handleOkPress=function(){var t=this,e=t.getPickerTextField();t.updateDomValue(e.getValue());t.onChange();t.close()};P.prototype._handleCancelPress=function(){this.close();this.revertSelection()};P.prototype.setSelectable=function(t,e){if(this.indexOfItem(t)<0){return}t._bSelectable=e;var i=m.getListItem(t);if(i){i.setVisible(e)}};P.prototype.onBeforeOpen=function(){this.closeValueStateMessage();this._updateSuggestionsPopoverValueState();if(!this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true)}};P.prototype.onBeforeClose=function(){this.bOpenedByKeyboardOrButton=false;this._setItemsShownWithFilter(false);this._updateSuggestionsPopoverValueState()};P.prototype.getPicker=function(){var t=this.getAggregation("picker");if(t&&!t.bIsDestroyed&&!this.bIsDestroyed){return t}return null};P.prototype._getSuggestionsPopover=function(){return this._oSuggestionPopover};P.prototype.getValueStateLinks=function(){var t=this.getPicker()&&this.getPicker().getCustomHeader()&&typeof this.getPicker().getCustomHeader().getFormattedText==="function",e=t&&this.getPicker().getCustomHeader().getFormattedText(),i=e&&e.getControls();return i||[]};P.prototype.getPickerTextField=function(){var t=this._getSuggestionsPopover();return t?t.getInput():null};P.prototype.getPickerTitle=function(){var t=this.getPicker(),e=t&&t.getCustomHeader();if(this.isPickerDialog()&&e){return e.getContentMiddle()[0]}return null};P.prototype.revertSelection=function(){};P.prototype.hasContent=function(){return this.getItems().length>0};P.prototype.syncPickerContent=function(){};P.prototype.open=function(){var t=this.getPicker();if(t){t.open()}return this};P.prototype.getVisibleItems=function(){return m.getVisibleItems(this.getItems())};P.prototype.isItemSelected=function(){};P.prototype.getKeys=function(t){t=t||this.getItems();for(var e=0,i=[];e<t.length;e++){i[e]=t[e].getKey()}return i};P.prototype.findItem=function(t,e){var i="get"+t.charAt(0).toUpperCase()+t.slice(1);for(var s=0,o=this.getItems();s<o.length;s++){if(o[s][i]()===e){return o[s]}}return null};P.prototype.getItemByText=function(t){return this.findItem("text",t)};P.prototype.clearFilter=function(){this.getItems().forEach(function(t){var e=m.getListItem(t);if(e){e.setVisible(t.getEnabled()&&this.getSelectable(t))}},this)};P.prototype.onItemChange=function(t,e){f({item:t.getSource(),propName:t.getParameter("name"),propValue:t.getParameter("newValue")},e)};P.prototype.clearSelection=function(){};P.prototype.setInternalBusyIndicator=function(t){this.bInitialBusyIndicatorState=this.getBusy();return this.setBusy.apply(this,arguments)};P.prototype.setInternalBusyIndicatorDelay=function(t){this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();return this.setBusyIndicatorDelay.apply(this,arguments)};P.prototype.getItemAt=function(t){return this.getItems()[+t]||null};P.prototype.getFirstItem=function(){return this.getItems()[0]||null};P.prototype.getLastItem=function(){var t=this.getItems();return t[t.length-1]||null};P.prototype.getEnabledItems=function(t){return m.getEnabledItems(t||this.getItems())};P.prototype.getItemByKey=function(t){return this.findItem("key",t)};P.prototype.addItemGroup=function(t,e,i){e=e||new a({text:l.escapeSettingsValue(t.text)||l.escapeSettingsValue(t.key)});this.addAggregation("items",e,i);if(this._getList()&&e.isA("sap.ui.core.SeparatorItem")){this._getList().addItem(this._mapItemToListItem(e))}return e};P.prototype.isOpen=function(){var t=this.getPicker();return!!(t&&t.isOpen())};P.prototype.close=function(){var t=this.getPicker();if(t){t.close()}return this};P.prototype.intersectItems=function(t,e){return t.filter(function(t){return e.map(function(t){return t.getId()}).indexOf(t.getId())!==-1})};P.prototype.showItems=function(t){var e=this.fnFilter,i=function(){if(!this.getItems().length){return}this.detachLoadItems(i);this.setFilterFunction(t||function(){return true});this.applyShowItemsFilters();this._handlePopupOpenAndItemsLoad(false,this);this.setFilterFunction(e)}.bind(this);if(!this.getEnabled()||!this.getEditable()){return}this._setItemsShownWithFilter(true);this.attachLoadItems(i);this.loadItems(i)};P.prototype._getFormattedValueStateText=function(){if(this.isOpen()){return this._getSuggestionsPopover()._getValueStateHeader().getFormattedText()}else{return e.prototype.getFormattedValueStateText.call(this)}};P.prototype.applyShowItemsFilters=function(){};P.prototype.getValueStateLinksForAcc=function(){const t=this._getFormattedValueStateText();if(!t){return[]}return t.getControls()};return P});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxBaseRenderer", ["./ComboBoxTextFieldRenderer","sap/ui/core/Renderer","sap/ui/core/library"],function(e,t,a){"use strict";var s=a.ValueState;var r=t.extend(e);r.apiVersion=2;r.CSS_CLASS_COMBOBOXBASE="sapMComboBoxBase";r.getAriaDescribedBy=function(t){let a=e.getAriaDescribedBy.apply(this,arguments);if(t.getValueStateLinksForAcc().length&&t.getValueState()!==s.Error){a=a?`${a} ${t.getValueStateLinksShortcutsId()}`:t.getValueStateLinksShortcutsId()}return a};r.getAccessibilityState=function(t){var a=e.getAccessibilityState.call(this,t),r=t.getPicker();if(r){a.controls=r.getId()}if(t.getValueStateLinksForAcc().length&&t.getValueState()===s.Error){a.errormessage=a.errormessage?`${a.errormessage} ${t.getValueStateLinksShortcutsId()}`:t.getValueStateLinksShortcutsId()}return a};r.addOuterClasses=function(t,a){e.addOuterClasses.apply(this,arguments);var s=r.CSS_CLASS_COMBOBOXBASE;t.class(s);if(!a.getEnabled()){t.class(s+"Disabled")}if(!a.getEditable()){t.class(s+"Readonly")}};r.addButtonClasses=function(t,a){e.addButtonClasses.apply(this,arguments);t.class(r.CSS_CLASS_COMBOBOXBASE+"Arrow")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxRenderer", ["./ComboBoxBaseRenderer","sap/ui/core/Renderer","sap/m/inputUtils/ListHelpers"],function(e,s,t){"use strict";var a=s.extend(e);a.apiVersion=2;a.CSS_CLASS_COMBOBOX="sapMComboBox";a.addOuterClasses=function(s,t){e.addOuterClasses.apply(this,arguments);s.class(a.CSS_CLASS_COMBOBOX)};a.addInnerClasses=function(s,t){e.addInnerClasses.apply(this,arguments);s.class(a.CSS_CLASS_COMBOBOX+"Inner")};a.addButtonClasses=function(s,t){e.addButtonClasses.apply(this,arguments);s.class(a.CSS_CLASS_COMBOBOX+"Arrow")};a.addPlaceholderClasses=function(s,t){e.addPlaceholderClasses.apply(this,arguments);s.class(a.CSS_CLASS_COMBOBOX+"Placeholder")};a.writeInnerAttributes=function(s,a){var r=a.isOpen(),i,n,d;var o=a._getSuggestionsPopover();e.writeInnerAttributes.apply(this,arguments);s.attr("aria-expanded",r);if(!o){return}var l=o.getFocusedListItem();if(!r||!l){return}i=l.isA("sap.m.GroupHeaderListItem")||l.isA("sap.ui.core.SeparatorItem");n=a.getSelectedItem();d=n&&t.getListItem(n);l=i?l:d;if(l){s.attr("aria-activedescendant",l.getId())}};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxTextField", ["./InputBase","./library","sap/ui/core/LabelEnablement","./ComboBoxTextFieldRenderer","sap/ui/core/Lib"],function(e,t,o,r,i){"use strict";var n=e.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}}},renderer:r});var a=i.getResourceBundleFor("sap.m");n.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oArrowIcon=this.addEndIcon({id:this.getId()+"-arrow",src:"sap-icon://slim-arrow-down",noTabStop:true,alt:a.getText("COMBOBOX_BUTTON"),decorative:false})};n.prototype.getArrowIcon=function(){return this._oArrowIcon};n.prototype.getIcon=n.prototype.getArrowIcon;n.prototype.toggleIconPressedStyle=function(t){this.toggleStyleClass(e.ICON_PRESSED_CSS_CLASS,t)};n.prototype.onBeforeRendering=function(){e.prototype.onBeforeRendering.apply(this,arguments);var t=o.getReferencingLabels(this)||[],r=this.getArrowIcon();r.setVisible(this.getShowButton());t.forEach(function(e){if(r.getAriaLabelledBy().indexOf(e)===-1){r.addAssociation("ariaLabelledBy",e,true)}},this)};n.prototype.getOpenArea=function(){var e=this.getArrowIcon().getDomRef();return e?e.parentNode:e};n.prototype.onsapenter=function(t){e.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return}this._bCheckDomValue&&t.setMarked();var o=this.getValue(),r=o.length;this.setValue(o);this.selectText(r,r)};n.prototype.getValue=function(){var e=this.getFocusDomRef();if(e){return e.value}return this.getProperty("value")};n.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef()};n.prototype.getAccessibilityInfo=function(){var t=e.prototype.getAccessibilityInfo.apply(this,arguments);t.type=a.getText("ACC_CTR_TYPE_COMBO");return t};n.prototype.exit=function(){e.prototype.exit.apply(this,arguments);this._oArrowIcon=null};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxTextFieldRenderer", ["./InputBaseRenderer","sap/ui/core/Renderer"],function(t,e){"use strict";var a=e.extend(t);a.apiVersion=2;a.CSS_CLASS_COMBOBOXTEXTFIELD="sapMComboBoxTextField";a.writeInnerAttributes=function(t,e){t.attr("role","combobox");t.attr("aria-haspopup","dialog");t.attr("aria-autocomplete","both");t.attr("aria-expanded","false");t.attr("autocomplete","off");t.attr("autocorrect","off");t.attr("autocapitalize","off");t.attr("type","text")};a.getAriaRole=function(){};a.addOuterStyles=function(t,e){t.style("max-width",e.getMaxWidth())};a.writeIcons=function(t,e){t.openStart("div").attr("tabindex","-1").attr("aria-hidden","true").class("sapMInputBaseIconContainer").openEnd();e.forEach(t.renderControl,t);t.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Menu", ["./library","sap/ui/core/library","sap/ui/core/Control","./Button","./Dialog","./NavContainer","./List","./Page","./MenuListItem","./MenuItem","sap/ui/core/Lib","sap/ui/unified/Menu","sap/ui/unified/MenuItem","sap/ui/unified/MenuItemGroup","sap/ui/Device","sap/ui/core/EnabledPropagator","sap/ui/thirdparty/jquery","sap/ui/core/Popup","sap/ui/base/ManagedObject","sap/ui/core/Element"],function(e,t,i,n,s,o,a,r,l,u,g,p,m,h,d,_,jQuery,I,f,c){"use strict";var y=I.Dock;var C=e.ListType;var v=e.ListMode;var M=t.ItemSelectionMode;var S=i.extend("sap.m.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.IMenuItem",multiple:true,singularName:"item",bindable:"bindable",defaultClass:u},_dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},_menu:{type:"sap.ui.unified.Menu",multiple:false,visibility:"hidden"}},events:{itemSelected:{parameters:{item:{type:"sap.m.MenuItem"}}},closed:{},beforeClose:{allowPreventDefault:true}}},renderer:null});_.call(S.prototype);S.UNIFIED_MENU_ITEMS_ID_SUFFIX="-unifiedmenu";S.UNFIFIED_MENU_ITEMS_PROPS=m.getMetadata().getAllProperties();S.LIST_ITEMS_ID_SUFFIX="-menuinnerlist";S.MENU_LIST_ITEMS_PROPS=l.getMetadata().getAllProperties();S.prototype.init=function(){if(d.system.phone){this._initDialog()}this._bIsInitialized=false;this.attachEvent("propertyChanged",this._onPropertyChanged,this);this.attachEvent("aggregationChanged",this._onAggregationChanged,this)};S.prototype.exit=function(){var e=this._getMenu(),t=e&&e.getPopup(),i=this._getDialog();if(this._navContainerId){this._navContainerId=null}if(this._bIsInitialized){this._bIsInitialized=null}if(t){t.detachClosed(this._menuClosed,this);e.detachBeforeClose(this._handleVisualParentClose,this)}if(i){i.detachBeforeClose(this._handleVisualParentClose,this)}};S.prototype.invalidate=function(){};S.prototype.setTitle=function(e){var t=this._getNavContainer();this.setProperty("title",e,true);if(t&&t.getPages().length){t.getPages()[0].setTitle(e)}return this};S.prototype.openBy=function(e,t,i,n,s){if(d.system.phone){this._openDialog()}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true}if(!i){i=y.BeginTop}if(!n){n=y.BeginBottom}if(!s){s="0 -2"}this._getMenu().open(t,e,i,n,e,s)}};S.prototype.close=function(){if(d.system.phone){this._getDialog()&&this._getDialog().close()}else{this._getVisualParent()&&this._getVisualParent().close()}};S.prototype.isOpen=function(){if(d.system.phone){return this._getDialog()&&this._getDialog().isOpen()}else{return this._getVisualParent()&&this._getVisualParent().isOpen()}};S.prototype._initDialog=function(){var e=new s({showHeader:false,stretch:true,content:this._initNavContainer(),buttons:[this._initCloseButton()]});e.addStyleClass("sapMRespMenuDialog");e.addStyleClass("sapUiNoContentPadding");this.setAggregation("_dialog",e,true);e.attachAfterClose(this._menuClosed,this);e.attachBeforeClose(this._handleVisualParentClose,this)};S.prototype._getDialog=function(){return this.getAggregation("_dialog")};S.prototype._openDialog=function(){if(!this._bIsInitialized){this._initAllPages();this._bIsInitialized=true}this._getNavContainer().to(this._getNavContainer().getPages()[0]);this._getDialog().open()};S.prototype._initAllMenuItems=function(){this._initMenuForItems(this.getItems())};S.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnEnhanceUnifiedMenuAccState=e};S.prototype._initMenuForItems=function(e,t){var i=new p;i.attachBeforeClose(this._handleVisualParentClose,this);i._setCustomEnhanceAccStateFunction(this._fnEnhanceUnifiedMenuAccState);i.isCozy=this._isMenuCozy.bind(this,i);this.addStyleClass("sapMMenu");i.aCustomStyleClasses=this.aCustomStyleClasses;i.mCustomStyleClassMap=this.mCustomStyleClassMap;e.forEach(function(e){if(this._isMenuItemGroup(e)){this._addVisualMenuItemGroupFromItemsGroup(e,i)}else{this._addVisualMenuItemFromItem(e,i)}}.bind(this));if(t){t.setSubmenu(i)}else{i.getPopup().attachClosed(this._menuClosed,this);this.setAggregation("_menu",i,true)}i.attachItemSelect(this._handleMenuItemSelect,this)};S.prototype._handleVisualParentClose=function(e){if(!this.fireBeforeClose()){e.preventDefault()}};S.prototype._menuClosed=function(){this.fireClosed()};S.prototype._getMenu=function(){return this.getAggregation("_menu")};S.prototype._initCloseButton=function(){var e=g.getResourceBundleFor("sap.m");return new n({text:e.getText("MENU_CLOSE"),press:P.bind(this)})};function P(){this._getDialog().close()}S.prototype._initNavContainer=function(){var e=new o;this._navContainerId=e.getId();return e};S.prototype._getNavContainer=function(){return c.getElementById(this._navContainerId)};S.prototype._initAllPages=function(){this._initPageForParent(this)};S.prototype._initPageForParent=function(e){var t=e.getItems(),i=e instanceof S,n=i?e.getTitle():e.getText(),s=new a({mode:v.None}),o=new r({title:n,showNavButton:!i,content:s});if(!i){this._setBackButtonTooltipForPageWithParent(e,o)}o.attachNavButtonPress(function(){this._getNavContainer().back()},this);this._getNavContainer().addPage(o);t.forEach(function(e){this._addListItemFromItem(e,o)},this);this._updateListInset(s);s.attachEvent("itemPress",this._handleListItemPress,this);return o};S.prototype._handleListItemPress=function(e){var t=e.getParameter("listItem"),i=c.getElementById(t.getMenuItem()),n=i._getItems().length?i._getVisualChild():null,s=!t.getProperty("selected");if(n){this._getNavContainer().to(n)}else{this._getDialog().close();if(t._getItemSelectionMode()!==M.None){t.setSelected(s);i.setSelected(s)}this.fireItemSelected({item:i})}i.firePress()};S.prototype._setBackButtonTooltipForPageWithParent=function(e,t){var i=e.getParent(),n=g.getResourceBundleFor("sap.m"),s;s=i instanceof S?i.getTitle():i.getText();s=n.getText("MENU_PAGE_BACK_BUTTON")+" "+s;t.setNavButtonTooltip(s)};S.prototype._isMenuItemGroup=function(e){return!!e.getItemSelectionMode};S.prototype._createMenuListItemFromItem=function(e){var t=this._generateListItemId(e.getId()),i=c.getElementById(t),n=c.getElementById(e.getAssociation("_group"));if(i){return i}i=new l({id:t,type:e.getEnabled()?C.Active:C.Inactive,icon:e.getIcon(),title:this._handleSettingsValue(e.getText()),selected:e.getSelected(),startsSection:e.getStartsSection(),menuItem:e,tooltip:this._handleSettingsValue(e.getTooltip()),visible:e.getVisible(),enabled:e.getEnabled()});i.setAssociation("_group",n);e.aDelegates.forEach(function(e){i.addEventDelegate(e.oDelegate,e.vThis)});return i};S.prototype._createVisualMenuItemFromItem=function(e){var t=this._generateUnifiedMenuItemId(e.getId()),i=c.getElementById(t),n=e.getCustomData(),s=e.getEndContent();if(i){return i}i=new m({id:t,icon:e.getIcon(),text:this._handleSettingsValue(e.getText()),selected:e.getSelected(),shortcutText:this._handleSettingsValue(e.getShortcutText()),startsSection:e.getStartsSection(),tooltip:this._handleSettingsValue(e.getTooltip()),visible:e.getVisible(),enabled:e.getEnabled()});for(var o=0;o<n.length;o++){e._addCustomData(i,n[o])}s.forEach(t=>{e._addEndContent(i,t)});e.aDelegates.forEach(function(e){i.addEventDelegate(e.oDelegate,e.vThis)});return i};S.prototype._addVisualMenuItemFromItem=function(e,t,i){var n=this._createVisualMenuItemFromItem(e),s=this._isMenuItemGroup(t)?t.getParent():t,o=e.getItems(),a;e._setVisualParent(s);e._setVisualControl(n);if(o.length){a=o[0];if(this._isMenuItemGroup(a)){var r=a.getItems();a=r.length?r[0]:null}this._initMenuForItems(o,n);a&&e._setVisualChild(a._getVisualParent())}i===undefined?t.addItem(n):t.insertItem(n,i)};S.prototype._createVisualMenuItemGroupFromItemsGroup=function(e){var t=this._generateUnifiedMenuItemId(e.getId()),i=c.getElementById(t),n=e.getCustomData();if(i){return i}i=new h({id:t,itemSelectionMode:e.getItemSelectionMode()});e._setVisualControl(i);e._setParentMenu(this);for(var s=0;s<n.length;s++){e._addCustomData(i,n[s])}return i};S.prototype._addVisualMenuItemGroupFromItemsGroup=function(e,t,i){var n=this._createVisualMenuItemGroupFromItemsGroup(e),s=e.getItems();i===undefined?t.addItem(n):t.insertItem(n,i);for(var o=0;o<s.length;o++){this._addVisualMenuItemFromItem(s[o],n)}};S.prototype._addListItemFromItem=function(e,t,i){var n=e.getItems(),s=this._isMenuItemGroup(e),o;if(s){e._setParentMenu(this);e.getItems().forEach(e=>{this._addListItemFromItem(e,t,i);if(i!==undefined){i++}});return}var a=this._createMenuListItemFromItem(e),r=t.getContent()[0];e._setVisualParent(t);e._setVisualControl(a);if(n.length){this._initPageForParent(e);o=n[0];if(this._isMenuItemGroup(o)){n=o.getItems();o=n.length?n[0]:null}if(o){e._setVisualChild(o._getVisualParent())}}if(i===undefined){r.addItem(a)}else{r.insertItem(a,i)}r.invalidate()};S.prototype._connectVisualItem=function(e,t,i){if(!t||c.getElementById(e._getVisualControl())&&t.indexOfItem(e)!==-1){return}if(d.system.phone){this._addListItemFromItem(e,t,i);var n=t.getContent()[0];this._updateListInset(n)}else{this._addVisualMenuItemFromItem(e,t,i)}};S.prototype._updateListInset=function(e){var t=false,i="sapMListIcons",n=e.getItems();for(var s=0;s<n.length;s++){if(n[s].getIcon()){t=true;break}}if(t){e.addStyleClass(i)}else{e.removeStyleClass(i)}};S.prototype._getItems=function(){var e=[];const t=i=>{i.forEach(i=>{if(!this._isMenuItemGroup(i)){e.push(i)}else{t(i.getItems())}})};t(this.getItems());return e};S.prototype._handleMenuItemSelect=function(e){var t=e.getParameter("item"),i;if(!t){return}i=this._findMenuItemByUnfdMenuItem(t);i.setSelected(t.getSelected());if(i&&!i._getItems().length){this.fireItemSelected({item:i})}if(i){i.firePress()}};S.prototype._generateListItemId=function(e){return e+S.LIST_ITEMS_ID_SUFFIX};S.prototype._generateUnifiedMenuItemId=function(e){return e+S.UNIFIED_MENU_ITEMS_ID_SUFFIX};S.prototype._findMenuItemByUnfdMenuItem=function(e){var t=e.getId().slice(0,-S.UNIFIED_MENU_ITEMS_ID_SUFFIX.length);return c.getElementById(t)};S.prototype._isMenuCozy=function(e){if(!e.bCozySupported){return false}if(e.hasStyleClass("sapUiSizeCozy")){return true}if(V(e.oOpenerRef)){return true}return false};function V(e){if(!e){return false}e=e.$?e.$():jQuery(e);var t=e.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy");return!t.hasClass("sapUiSizeCompact")&&!t.hasClass("sapUiSizeCondensed")||t.hasClass("sapUiSizeCozy")}S.prototype.addAggregation=function(e,t,n){i.prototype.addAggregation.apply(this,arguments);if(e==="items"){this._connectVisualItem(t,this._getVisualParent())}return this};S.prototype.insertAggregation=function(e,t,n,s){i.prototype.insertAggregation.apply(this,arguments);if(e==="items"){this._connectVisualItem(t,this._getVisualParent(),n)}return this};S.prototype.removeAggregation=function(e,t,n){var s=i.prototype.removeAggregation.apply(this,arguments);if(e==="items"){this._removeVisualItem(s)}return s};S.prototype.removeAllAggregation=function(e,t){var n=i.prototype.removeAllAggregation.apply(this,arguments);if(e==="items"){for(var s=0;s<n.length;s++){this._removeVisualItem(n[s])}}return n};S.prototype._removeVisualItem=function(e,t){var i=c.getElementById(e._getVisualControl()),n;if(i){n=i.getParent();n.removeItem(i);if(d.system.phone){this._removeSubPageForItem(e);if(n.getItems().length===0){if(t){t._setVisualChild(null);c.getElementById(t._getVisualControl()).invalidate()}}if(n){n.invalidate()}}}};S.prototype.destroyAggregation=function(e,t){if(e==="items"){for(var n=0;n<this.getItems().length;n++){this._removeVisualItem(this.getItems()[n])}}return i.prototype.destroyAggregation.apply(this,arguments)};S.prototype._removeSubPageForItem=function(e,t){var i;if(!t){for(var n=0;n<e.getItems().length;n++){this._removeSubPageForItem(e.getItems()[n])}}if(e._getVisualChild()){i=c.getElementById(e._getVisualChild());if(this._getNavContainer()&&i){this._getNavContainer().removePage(i)}!!i&&i.destroy()}};S.prototype._getVisualParent=function(){var e=this._getNavContainer(),t=this._getMenu();if(e&&e.getPages().length){return e.getPages()[0]}else{return t}};S.prototype._onPropertyChanged=function(e){e.cancelBubble();var t=e.getParameter("propertyKey"),i=e.getParameter("propertyValue"),n=d.system.phone?S.MENU_LIST_ITEMS_PROPS:S.UNFIFIED_MENU_ITEMS_PROPS,s=d.system.phone?this._generateListItemId:this._generateUnifiedMenuItemId,o,a;if(d.system.phone&&t==="text"){t="title"}if(!n[t]){return}o=s(e.getSource().getId());a=c.getElementById(o);if(a){a.setProperty(t,i);if(d.system.phone&&this._getDialog().isOpen()){this._getDialog().close()}}};S.prototype._onAggregationChanged=function(e){e.cancelBubble();var t=e.getParameter("aggregationName");switch(t){case"items":this._onItemsAggregationChanged(e);break;case"tooltip":this._onTooltipAggregationChanged(e);break;default:}};S.prototype._onTooltipAggregationChanged=function(e){var t=e.getSource()._getVisualControl(),i=e.getParameter("methodName"),n=e.getParameter("methodParams"),s;if(!t){return}s=c.getElementById(t);if(i==="set"){s.setTooltip(n.item)}if(i==="destroy"){s.destroyTooltip()}};S.prototype._onItemsAggregationChanged=function(e){var t=e.getSource(),i=e.getParameter("methodName"),n=e.getParameter("methodParams"),s;if(i==="add"||i==="insert"){if(i==="insert"){s=n.index}this._addOrInsertItem(t,n.item,s)}if(i==="remove"){this._removeVisualItem(n.item,t)}if(i==="removeall"){for(var o=0;o<n.items.length;o++){this._removeVisualItem(n.items[o],t)}}if(i==="destroy"){this._destroyItem(t)}};S.prototype._addOrInsertItem=function(e,t,i){var n;if(e._getVisualChild()){this._connectVisualItem(t,c.getElementById(e._getVisualChild()),i)}else{if(d.system.phone){this._initPageForParent(e);e._setVisualChild(e.getItems()[0]._getVisualParent());n=c.getElementById(e._getVisualControl());n&&n.invalidate()}else{this._initMenuForItems(e.getItems(),c.getElementById(e._getVisualControl()));e._setVisualChild(e._getItems()[0]._getVisualParent())}}};S.prototype._destroyItem=function(e){var t=c.getElementById(e._getVisualControl());if(t&&t.setMenuItem){t.setMenuItem(null)}this._removeSubPageForItem(e,true);e._setVisualChild(null);if(t&&t.setMenuItem){t.invalidate();t.setMenuItem(e)}};S.prototype.getDomRefId=function(){if(d.system.phone){return this._getDialog().getId()}else{return this._getMenu().getId()}};S.prototype.openAsContextMenu=function(e,t){if(d.system.phone){this._openDialog()}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true}this._getMenu().openAsContextMenu(e,t)}};["addStyleClass","removeStyleClass","toggleStyleClass"].forEach(function(e){S.prototype[e]=function(t,n){var s=this._getDialog();i.prototype[e].apply(this,arguments);if(s){s[e].apply(s,arguments)}return this}});S.prototype.getSelectedItems=function(){return this._getItems().filter(e=>e.getSelected&&e.getSelected()&&e._getItemSelectionMode()!==M.None)};S.prototype._handleSettingsValue=function(e){if(typeof e!=="string"){return e}try{f.bindingParser(e);return e}catch{return f.escapeSettingsValue(e)}};return S});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuItem", ["./library","sap/ui/core/library","sap/ui/core/Element","sap/ui/core/Item","sap/ui/base/ManagedObjectObserver"],function(e,t,n,o,r){"use strict";var s=t.ItemSelectionMode;var a=o.extend("sap.m.MenuItem",{metadata:{interfaces:["sap.m.IMenuItem"],library:"sap.m",properties:{icon:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Behavior",defaultValue:false},shortcutText:{type:"string",group:"Appearance",defaultValue:""},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.IMenuItem",multiple:true,singularName:"item",bindable:"bindable"},endContent:{type:"sap.ui.core.Control",multiple:true}},associations:{_group:{type:"sap.ui.unified.MenuItemGroup",group:"Behavior",visibility:"hidden"}},events:{press:{},propertyChanged:{parameters:{propertyKey:{type:"string"},propertyValue:{type:"any"}}},aggregationChanged:{parameters:{aggregationName:{type:"string"},methodName:{type:"string"},methodParams:{type:"object"}}}}}});a.UNIFIED_MENU_ITEMS_ID_SUFFIX="-unifiedmenu";a.prototype.exit=function(){if(this._sVisualChild){this._sVisualChild=null}if(this._sVisualParent){this._sVisualParent=null}if(this._sVisualControl){this._sVisualControl=null}};a.prototype.setProperty=function(e,t){o.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:e,propertyValue:t},false,true)};a.prototype.setAggregation=function(e,t,n){o.prototype.setAggregation.apply(this,arguments);this.fireEvent("aggregationChanged",{aggregationName:e,methodName:"set",methodParams:{item:t}},false,true);return this};a.prototype.addAggregation=function(e,t,r){var s=this._getVisualControl(),a;o.prototype.addAggregation.apply(this,arguments);if(e==="customData"&&s){a=n.getElementById(s);this._addCustomData(a,t)}else if(e==="endContent"&&s){a=n.getElementById(s);this._addEndContent(a,t)}this.fireEvent("aggregationChanged",{aggregationName:e,methodName:"add",methodParams:{item:t}},false,true);return this};a.prototype.insertAggregation=function(e,t,r,s){var i=this._getVisualControl(),u;o.prototype.insertAggregation.apply(this,arguments);if(e==="customData"&&i){u=n.getElementById(i);u.insertCustomData(t.clone(a.UNIFIED_MENU_ITEMS_ID_SUFFIX),r);this._observeCustomDataChanges(t)}else if(e==="endContent"&&i){u=n.getElementById(i);u.insertEndContent(t.clone(a.UNIFIED_MENU_ITEMS_ID_SUFFIX),r);this._observeEndContentChanges(t)}this.fireEvent("aggregationChanged",{aggregationName:e,methodName:"insert",methodParams:{item:t,index:r}},false,true);return this};a.prototype.removeAggregation=function(e,t,n){var r=o.prototype.removeAggregation.apply(this,arguments);if(e==="customData"){if(this.getCustomData().length===1){this._disconnectAndDestroyCustomDataObserver()}else if(t&&this._oCustomDataObserver){this._oCustomDataObserver.unobserve(t,{properties:["value"]})}}else if(e==="endContent"){if(this.getEndContent().length===1){this._disconnectAndDestroyEndContentObserver()}else if(t&&this._oEndContentObserver){if(!this.getEndContent().length){this._oEndContentObserver.unobserve(t,{aggregations:["endContent"]})}}}this.fireEvent("aggregationChanged",{aggregationName:e,methodName:"remove",methodParams:{item:r}},false,true);return r};a.prototype.removeAllAggregation=function(e,t){var n=o.prototype.removeAllAggregation.apply(this,arguments);if(e==="customData"){this._disconnectAndDestroyCustomDataObserver()}else if(e==="endContent"){this._disconnectAndDestroyEndContentObserver()}this.fireEvent("aggregationChanged",{aggregationName:e,methodName:"removeall",methodParams:{items:n}},false,true);return n};a.prototype.destroyAggregation=function(e,t){if(e==="customData"){this._disconnectAndDestroyCustomDataObserver()}else if(e==="endContent"){this._disconnectAndDestroyEndContentObserver()}this.fireEvent("aggregationChanged",{aggregationName:e,methodName:"destroy"},false,true);return o.prototype.destroyAggregation.apply(this,arguments)};a.prototype.destroy=function(){var e=n.getElementById(this._getVisualControl());if(e){e.destroy()}return o.prototype.destroy.apply(this,arguments)};a.prototype.addEventDelegate=function(e,t){o.prototype.addEventDelegate.apply(this,arguments);if(this._getVisualControl()){var r=n.getElementById(this._getVisualControl());r.addEventDelegate(e,t)}return this};a.prototype.removeEventDelegate=function(e){o.prototype.removeEventDelegate.apply(this,arguments);if(this._getVisualControl()){var t=n.getElementById(this._getVisualControl());t.removeEventDelegate(e)}return this};a.prototype.setSelected=function(e){var t=n.getElementById(this.getAssociation("_group"));if(e&&t&&t.getItemSelectionMode()===s.SingleSelect){t._clearSelectedItems()}this.setProperty("selected",e);return this};a.prototype._addCustomData=function(e,t){e.addCustomData(t.clone(a.UNIFIED_MENU_ITEMS_ID_SUFFIX,undefined,{}));this._observeCustomDataChanges(t)};a.prototype._addEndContent=function(e,t){e.addEndContent(t.clone(a.UNIFIED_MENU_ITEMS_ID_SUFFIX,undefined,{cloneChildren:true,cloneBindings:false}));this._observeEndContentChanges(t)};a.prototype._observeCustomDataChanges=function(e){this._getCustomDataObserver().observe(e,{properties:["value"]})};a.prototype._observeEndContentChanges=function(e){this._getEndContentObserver().observe(e,{properties:true})};a.prototype._customDataObserverCallbackFunction=function(e){n.getElementById(e.object.getId()+"-"+a.UNIFIED_MENU_ITEMS_ID_SUFFIX).setValue(e.current)};a.prototype._endContentObserverCallbackFunction=function(e){n.getElementById(e.object.getId()+"-"+a.UNIFIED_MENU_ITEMS_ID_SUFFIX).setProperty(e.name,e.current)};a.prototype._getCustomDataObserver=function(){if(!this._oCustomDataObserver){this._oCustomDataObserver=new r(this._customDataObserverCallbackFunction)}return this._oCustomDataObserver};a.prototype._getEndContentObserver=function(){if(!this._oEndContentObserver){this._oEndContentObserver=new r(this._endContentObserverCallbackFunction)}return this._oEndContentObserver};a.prototype._disconnectAndDestroyCustomDataObserver=function(){if(this._oCustomDataObserver){this._oCustomDataObserver.disconnect();this._oCustomDataObserver.destroy();this._oCustomDataObserver=null}};a.prototype._disconnectAndDestroyEndContentObserver=function(){if(this._oEndContentObserver){this._oEndContentObserver.disconnect();this._oEndContentObserver.destroy();this._oEndContentObserver=null}};a.prototype._setVisualChild=function(e){this._setInternalRef(e,"_sVisualChild")};a.prototype._setVisualParent=function(e){this._setInternalRef(e,"_sVisualParent")};a.prototype._setVisualControl=function(e){this._setInternalRef(e,"_sVisualControl")};a.prototype._setInternalRef=function(e,t){if(!e||typeof e==="string"){this[t]=e}else if(e.getId){this[t]=e.getId()}};a.prototype._getVisualChild=function(){return this._sVisualChild};a.prototype._getVisualParent=function(){return this._sVisualParent};a.prototype._getVisualControl=function(){return this._sVisualControl};a.prototype._getItems=function(){var e=[];const t=n=>{n.forEach(n=>{if(!n.getItemSelectionMode){e.push(n)}else{t(n.getItems())}})};t(this.getItems());return e};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuListItem", ["./ListItemBase","./library","sap/ui/core/Element","sap/ui/core/IconPool","sap/ui/core/library","./MenuListItemRenderer","sap/m/Image"],function(e,t,i,r,o,n,a){"use strict";var s=o.TextDirection;var u=t.ListType;var p=o.ItemSelectionMode;var l=e.extend("sap.m.MenuListItem",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Misc",defaultValue:true},title:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},itemSelectionMode:{type:"sap.ui.core.ItemSelectionMode",group:"Behavior",defaultValue:p.None},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:s.Inherit},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},associations:{_group:{type:"sap.ui.unified.MenuItemGroup",group:"Behavior",visibility:"hidden"},menuItem:{type:"sap.m.MenuItem",multiple:false}}},renderer:n});l.prototype.exit=function(){if(this._image){this._image.destroy()}if(this._imageRightArrow){this._imageRightArrow.destroy()}e.prototype.exit.apply(this,arguments)};l.prototype._getImage=function(e,t,i,o){var n=this._image;if(n){n.setSrc(i);if(n.isA("sap.m.Image")){n.setDensityAware(o)}}else{n=r.createControlByURI({id:e,src:i,densityAware:o,useIconTooltip:false},a).setParent(this,null,true)}if(n.isA("sap.m.Image")){n.addStyleClass(t,true)}else{n.addStyleClass(t+"Icon",true)}this._image=n;return this._image};l.prototype._getIconArrowRight=function(){if(!this._imageRightArrow){this._imageRightArrow=r.createControlByURI({id:this.getId()+"-arrowRight",src:"sap-icon://slim-arrow-right",useIconTooltip:false},a).setParent(this,null,true);this._imageRightArrow.addStyleClass("sapMMenuLIArrowRightIcon",true)}return this._imageRightArrow};l.prototype._hasSubItems=function(){return!!(this.getMenuItem()&&i.getElementById(this.getMenuItem())._getItems().length)};l.prototype.setProperty=function(t,i){e.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:t,propertyValue:i});if(t==="enabled"){this.setType(i?u.Active:u.Inactive)}};l.prototype._getMenuItemGroup=function(){return i.getElementById(this.getAssociation("_group"))};l.prototype._getItemSelectionMode=function(){var e=this._getMenuItemGroup();return e?e.getItemSelectionMode():p.None};l.prototype._hasGroupSeparator=function(){var e=i.getElementById(this.getMenuItem()),t=e&&e.getParent(),r,o;if(!t){return false}if(t.getItemSelectionMode){t=t.getParent()}r=t._getItems();o=r.indexOf(e);return o>0&&r[o-1]&&r[o-1].getAssociation("_group")!==e.getAssociation("_group")};l.prototype._hasEndContent=function(){var e=i.getElementById(this.getMenuItem());return!!e?.getEndContent().length};l.prototype._getEndContent=function(){var e=i.getElementById(this.getMenuItem());return e?.getEndContent()};return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuListItemRenderer", ["./ListItemBaseRenderer","sap/ui/core/Renderer","sap/m/library","sap/ui/core/library"],function(e,t,n,i){"use strict";var o=i.TextDirection;var s=n.ListType;var a=i.ItemSelectionMode;var r=t.extend(e);r.apiVersion=2;r.renderSeparator=function(e,t){e.openStart("li");e.attr("role","separator");e.class("sapUiMnuDiv");e.openEnd();e.openStart("div");e.class("sapUiMnuDivL");e.openEnd();e.close("div");e.voidStart("hr").voidEnd();e.openStart("div");e.class("sapUiMnuDivR");e.openEnd();e.close("div");e.close("li")};r.renderLIAttributes=function(e,t){e.class("sapMSLI");if(t.getIcon()){e.class("sapMSLIIcon")}if(t.getType()==s.Detail||t.getType()==s.DetailAndActive){e.class("sapMSLIDetail")}if(t._hasSubItems()){e.class("sapMMenuLIHasChildren")}if(!t.getEnabled()){e.class("sapMMLIDisabled")}};r.renderLIContent=function(e,t){var n=t.getTitleTextDirection();if(t.getStartsSection()||t._hasGroupSeparator()){r.renderSeparator(e,t)}e.openStart("div");e.class("sapMMenuLIImgThumbWrapper");e.openEnd();if(t.getIcon()){e.renderControl(t._getImage(t.getId()+"-img","sapMMenuLIImgThumb",t.getIcon(),t.getIconDensityAware()))}e.close("div");e.openStart("div");e.class("sapMSLIDiv");e.class("sapMSLITitleDiv");e.openEnd();if(t._bNoFlex){e.openStart("div");e.class("sapMLIBNoFlex");e.openEnd()}e.openStart("div");e.class("sapMSLITitleOnly");if(n!==o.Inherit){e.attr("dir",n.toLowerCase())}e.openEnd();e.text(t.getTitle());e.close("div");if(t._bNoFlex){e.close("div")}e.close("div");if(t._hasSubItems()){e.renderControl(t._getIconArrowRight())}else if(t._getItemSelectionMode()!==a.None&&t.getProperty("selected")||t._hasEndContent()){if(t._getItemSelectionMode()!==a.None&&t.getProperty("selected")){e.openStart("div",t.getId()+"-sel");e.class("sapMMenuLISel");e.openEnd();e.close("div")}if(t?._getEndContent().length){e.openStart("div",t.getId()+"-endContent");e.class("sapUiMnuEndContent");e.openEnd();t._getEndContent().forEach(t=>e.renderControl(t));e.close("div")}}};r.getAccessibilityState=function(t){var n=e.getAccessibilityState(t),i;if(t._getItemSelectionMode()!==a.None&&t.getProperty("selected")){n.checked=true;n.selected=null}switch(t._getItemSelectionMode()){case a.SingleSelect:i="menuitemradio";break;case a.MultiSelect:i="menuitemcheckbox";break;default:i="menuitem"}n.role=i;return n};r.getAriaRole=function(e){};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MessageBox", ["./Button","./Dialog","./Text","./FormattedText","./Link","./MessageStrip","./VBox","sap/ui/core/IconPool","sap/ui/core/ElementMetadata","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/message/MessageType","sap/ui/core/Control","sap/m/library","sap/ui/thirdparty/jquery"],function(e,t,i,n,s,o,a,l,r,c,u,d,f,g,jQuery){"use strict";var O=g.DialogType;var p=g.DialogRoleType;var I=g.ButtonType;var T=g.TitleAlignment;var R=g.FlexRendertype;var S=g.FlexAlignItems;var E=g.LinkAccessibleRole;var y=u.TextDirection;var x={};x.Action={OK:"OK",CANCEL:"CANCEL",YES:"YES",NO:"NO",ABORT:"ABORT",RETRY:"RETRY",IGNORE:"IGNORE",CLOSE:"CLOSE",DELETE:"DELETE"};x.Icon={NONE:undefined,INFORMATION:"INFORMATION",WARNING:"WARNING",ERROR:"ERROR",SUCCESS:"SUCCESS",QUESTION:"QUESTION"};var A=x.Action,C=x.Icon;function N(){if(x._rb!==c.getResourceBundleFor("sap.m")){x._rb=c.getResourceBundleFor("sap.m")}}function M(e){if(typeof e==="object"){return"<pre>"+JSON.stringify(e,null,"\t").replace(/{/gi,"&#x007B;")+"</pre>"}return e}function h(e,t,i,l){var r,c,u,f,g=false,O=new a({renderType:R.Bare,alignItems:S.Start,items:[t]});if(!e.details){return O}function p(e){r.setHtmlText(M(e));var t=i.getInitialFocus();i.addAriaLabelledBy(r);r.setVisible(true);c.setVisible(false);i._setInitialFocus();if(!t||t===c.getId()){l.focus()}}function I(){c.setBusyIndicatorDelay(0).setBusy(true);c.getDomRef("busyIndicator").focus();e.details().then(function(e){if(i.isDestroyed()){return}p(e)}).catch(function(){if(i.isDestroyed()){return}if(document.activeElement===c.getDomRef("busyIndicator")){g=true}c.setVisible(false);u.setVisible(true)})}r=new n({visible:false});c=new s({accessibleRole:E.Button,text:x._rb.getText("MSGBOX_LINK_TITLE"),press:function(){if(typeof e.details==="function"){I()}else{p(e.details)}}});f=new s({text:x._rb.getText("MSGBOX_DETAILS_RETRY_LOADING"),accessibleRole:E.Button,press:function(){c.setVisible(true);u.setVisible(false);var e={onAfterRendering:function(){c.removeEventDelegate(e);I()}};c.addEventDelegate(e)}});f.addEventDelegate({onAfterRendering:function(){if(g){f.focus()}g=false}});u=new o({text:x._rb.getText("MSGBOX_DETAILS_LOAD_ERROR"),type:d.Error,visible:false,link:f});c.addStyleClass("sapMMessageBoxLinkText");u.addStyleClass("sapMMessageBoxErrorText");r.addStyleClass("sapMMessageBoxDetails");O.addItem(c);O.addItem(u);O.addItem(r);return O}x.show=function(n,s){var o,a,c,u=null,d=[],g,R,S,E,M,b,m,B={id:r.uid("mbox"),initialFocus:null,textDirection:y.Inherit,verticalScrolling:true,horizontalScrolling:true,details:"",contentWidth:null},v={INFORMATION:"sapMMessageBoxInfo",WARNING:"sapMMessageBoxWarning",ERROR:"sapMMessageBoxError",SUCCESS:"sapMMessageBoxSuccess",QUESTION:"sapMMessageBoxQuestion",STANDARD:"sapMMessageBoxStandard"},_={INFORMATION:l.getIconURI("information"),WARNING:l.getIconURI("alert"),ERROR:l.getIconURI("error"),SUCCESS:l.getIconURI("sys-enter-2"),QUESTION:l.getIconURI("sys-help-2")};N();if(typeof s==="string"||arguments.length>2){R=arguments[1];S=arguments[2];E=arguments[3];M=arguments[4];b=arguments[5];m=arguments[6];s={icon:R,title:S,actions:E,onClose:M,id:b,styleClass:m}}if(s&&s.hasOwnProperty("details")){B.icon=C.INFORMATION;B.emphasizedAction=A.OK;B.actions=[A.OK,A.CANCEL];s=jQuery.extend({},B,s)}s=jQuery.extend({},B,s);if(typeof s.actions!=="undefined"&&!Array.isArray(s.actions)){if(s.emphasizedAction!==null){s.emphasizedAction=s.actions}s.actions=[s.actions]}if(!s.actions||s.actions.length===0){s.emphasizedAction=A.OK;s.actions=[A.OK]}function L(t,i){var n;if(x.Action.hasOwnProperty(t)){n=x._rb.getText("MSGBOX_"+t)}var s=new e({id:r.uid("mbox-btn-"),text:n||t,type:i,press:function(){u=t;o.close()}});return s}var F;for(g=0;g<s.actions.length;g++){F=s.emphasizedAction===s.actions[g]?I.Emphasized:I.Default;d.push(L(s.actions[g],F))}function D(){if(typeof s.onClose==="function"){s.onClose(u)}o.detachAfterClose(D);o.destroy()}function w(){var e=0;var t=null;if(s.initialFocus){if(s.initialFocus instanceof f){t=s.initialFocus}if(typeof s.initialFocus==="string"){for(e=0;e<d.length;e++){if(x.Action.hasOwnProperty(s.initialFocus)){if(x._rb.getText("MSGBOX_"+s.initialFocus).toLowerCase()===d[e].getText().toLowerCase()){t=d[e];break}}else{if(s.initialFocus.toLowerCase()===d[e].getText().toLowerCase()){t=d[e];break}}}}}return t}if(typeof n==="string"){c=new i({textDirection:s.textDirection}).setText(n).addStyleClass("sapMMsgBoxText");a=c}else if(n instanceof f){c=n.addStyleClass("sapMMsgBoxText")}o=new t({id:s.id,type:O.Message,title:s.title,titleAlignment:T.Auto,icon:_[s.icon],initialFocus:w(),verticalScrolling:s.verticalScrolling,horizontalScrolling:s.horizontalScrolling,afterClose:D,buttons:d,ariaLabelledBy:a?a.getId():undefined,contentWidth:s.contentWidth,closeOnNavigation:s.closeOnNavigation}).addStyleClass("sapMMessageBox");if(s.hasOwnProperty("details")&&s.details!==""){c=h(s,c,o,d[0])}o.addContent(c);o.setProperty("role",p.AlertDialog);if(v[s.icon]){o.addStyleClass(v[s.icon])}else{o.addStyleClass(v.STANDARD)}if(s.styleClass){o.addStyleClass(s.styleClass)}if(s.dependentOn){s.dependentOn.addDependent(o)}o.open()};x.alert=function(e,t){N();var i={icon:C.NONE,title:x._rb.getText("MSGBOX_TITLE_ALERT"),emphasizedAction:t&&t.actions?null:A.OK,actions:A.OK,id:r.uid("alert"),initialFocus:null},n,s,o,a;if(typeof t==="function"||arguments.length>2){n=arguments[1];s=arguments[2];o=arguments[3];a=arguments[4];t={onClose:n,title:s,id:o,styleClass:a}}t=jQuery.extend({},i,t);x.show(e,t)};x.confirm=function(e,t){N();var i={icon:C.QUESTION,title:x._rb.getText("MSGBOX_TITLE_CONFIRM"),emphasizedAction:t&&t.actions?null:A.OK,actions:[A.OK,A.CANCEL],id:r.uid("confirm"),initialFocus:null},n,s,o,a;if(typeof t==="function"||arguments.length>2){n=arguments[1];s=arguments[2];o=arguments[3];a=arguments[4];t={onClose:n,title:s,id:o,styleClass:a}}t=jQuery.extend({},i,t);x.show(e,t)};x.error=function(e,t){N();var i={icon:C.ERROR,title:x._rb.getText("MSGBOX_TITLE_ERROR"),emphasizedAction:null,actions:A.CLOSE,id:r.uid("error"),initialFocus:null};t=jQuery.extend({},i,t);x.show(e,t)};x.information=function(e,t){N();var i={icon:C.INFORMATION,title:x._rb.getText("MSGBOX_TITLE_INFO"),emphasizedAction:t&&t.actions?null:A.OK,actions:A.OK,id:r.uid("info"),initialFocus:null};t=jQuery.extend({},i,t);x.show(e,t)};x.warning=function(e,t){N();var i={icon:C.WARNING,title:x._rb.getText("MSGBOX_TITLE_WARNING"),emphasizedAction:t&&t.actions?null:A.OK,actions:A.OK,id:r.uid("warning"),initialFocus:null};t=jQuery.extend({},i,t);x.show(e,t)};x.success=function(e,t){N();var i={icon:C.SUCCESS,title:x._rb.getText("MSGBOX_TITLE_SUCCESS"),emphasizedAction:t&&t.actions?null:A.OK,actions:A.OK,id:r.uid("success"),initialFocus:null};t=jQuery.extend({},i,t);x.show(e,t)};return x},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MessageToast", ["./InstanceManager","sap/ui/base/DataType","sap/ui/core/AnimationMode","sap/ui/core/ControlBehavior","sap/ui/core/Popup","sap/ui/core/library","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/UIArea","sap/ui/Device","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,o,i,n,s,a,r,u,l,f,jQuery){"use strict";var d=t.getType("sap.ui.core.Popup.Dock");var c=s.CSSSize;var p={};var m="0 -64",v="sapMMessageToast",_="sapUiSelectable",y="sapContrast",g="sapContrastPlus";p._mSettings={duration:3e3,width:"15em",my:"center bottom",at:"center bottom",of:document.defaultView,offset:"0 0",collision:"fit fit",onClose:null,animationTimingFunction:"ease",animationDuration:1e3,autoClose:true,closeOnBrowserNavigation:true};p._aPopups=[];p._iOpenedPopups=0;p._bBoundedEvents=false;p._mOptions={};p._sMessage="";p._validateSettings=function(e){p._isFiniteInteger(e.duration);p._validateWidth(e.width);p._validateDockPosition(e.my);p._validateDockPosition(e.at);p._validateOf(e.of);p._validateOffset(e.offset);p._validateCollision(e.collision);p._validateOnClose(e.onClose);p._validateAutoClose(e.autoClose);p._validateAnimationTimingFunction(e.animationTimingFunction);p._isFiniteInteger(e.animationDuration)};p._isFiniteInteger=function(e){if(typeof e!=="number"||!isFinite(e)||!(Math.floor(e)===e)||e<=0){f.error('"iNumber" needs to be a finite positive nonzero integer on '+p+"._isFiniteInteger")}};p._validateWidth=function(e){if(!c.isValid(e)){f.error(e+" is not of type "+'"sap.ui.core.CSSSize" for property "width" on '+p+"._validateWidth")}};p._validateDockPosition=function(e){if(!d.isValid(e)){f.error('"'+e+'"'+" is not of type "+'"sap.ui.core.Popup.Dock" on '+p+"._validateDockPosition")}};p._validateOf=function(e){if(!(e instanceof jQuery)&&!(e&&e.nodeType===1)&&!(e instanceof a)&&e!==window){f.error('"of" needs to be an instance of sap.ui.core.Control or an Element or a jQuery object or the window on '+p+"._validateOf")}};p._validateOffset=function(e){if(typeof e!=="string"){f.error(e+" is of type "+typeof e+', expected "string" for property "offset" on '+p+"._validateOffset")}};p._validateCollision=function(e){var t=/^(fit|flip|none|flipfit|flipflip|flip flip|flip fit|fitflip|fitfit|fit fit|fit flip)$/i;if(!t.test(e)){f.error('"collision" needs to be a single value fit, flip, or none, or a pair for horizontal and vertical e.g. "fit flip, "fit none", "flipfit" on '+p+"._validateOffset")}};p._validateOnClose=function(e){if(typeof e!=="function"&&e!==null){f.error('"onClose" should be a function or null on '+p+"._validateOnClose")}};p._validateAutoClose=function(e){if(typeof e!=="boolean"){f.error('"autoClose" should be a boolean on '+p+"._validateAutoClose")}};p._validateAnimationTimingFunction=function(e){var t=/^(ease|linear|ease-in|ease-out|ease-in-out)$/i;if(!t.test(e)){f.error('"animationTimingFunction" should be a string, expected values: '+"ease, linear, ease-in, ease-out, ease-in-out on "+p+"._validateAnimationTimingFunction")}};function h(e){for(var t=["my","at","of","offset"],o=0;o<t.length;o++){if(e[t[o]]!==undefined){return false}}return true}function b(e){var t=document.createElement("div");t.className=v+" "+_+" "+y+" "+g;if(i.isAccessibilityEnabled()){t.setAttribute("role","alert")}t.style.width=e.width;t.appendChild(document.createTextNode(e.message));return t}function C(e){if(e){if(h(e)){e.offset=m}if(e.of&&e.of.nodeType===9){e.of=document.defaultView}}else{e={offset:m}}return e}p._handleResizeEvent=function(){if(l.system.phone||l.system.tablet){p._resetPosition(p._aPopups)}setTimeout(p["_applyPositions"].bind(p,p._aPopups),0)};p._handleMouseDownEvent=function(e){var t=e.target.hasAttribute("class")&&e.target.getAttribute("class").indexOf(v)!==-1;if(t||e.isMarked("delayedMouseEvent")){return}p._aPopups.forEach(function(e){e&&e.__bAutoClose&&e.close()})};p._resetPosition=function(e){for(var t=0,o;t<e.length;t++){o=e[t]&&e[t].getContent();if(o){o.style.visibility="hidden";o.style.left=0}}};p._applyPositions=function(e){for(var t=0,o,i;t<e.length;t++){o=e[t];if(o){i=o._oPosition;if(l.system.phone||l.system.tablet){setTimeout(p["_applyPosition"].bind(p,o,i),0)}else{o.setPosition(i.my,i.at,i.of,i.offset)}}}};p._applyPosition=function(e,t){t=t||e._oPosition;var o=e.getContent();e.setPosition(t.my,t.at,t.of,t.offset);o.style.visibility="visible"};p._setCloseAnimation=function(e,t,n,s){var a="opacity "+s.animationTimingFunction+" "+s.animationDuration+"ms",r="webkitTransitionEnd."+v+" transitionend."+v,u=i.getAnimationMode(),l=u!==o.none&&u!==o.minimal;if(l&&s.animationDuration>0){e[0].style.webkitTransition=a;e[0].style.transition=a;e[0].style.opacity=0;e.on(r,function t(){e.off(r);n()})}else{n()}};p._fnKeyDown=function(e){var t;var o=this._aPopups[0];var i=e.shiftKey;var n=l.os.macintosh?e.metaKey:e.ctrlKey;if(o&&o.isOpen()&&i&&n&&e.code==="KeyM"){e.preventDefault();t=document.querySelector(".sapMMessageToastHiddenFocusable");o.getContent().classList.add("sapMFocus");t.focus();clearTimeout(this._iCloseTimeoutId)}};function P(e){var t=e.shiftKey;var o=l.os.macintosh?e.metaKey:e.ctrlKey;var i=this._aPopups[0];if(e.code==="Escape"||t&&o&&e.code==="KeyM"){e.preventDefault();setTimeout(function(){this._mSettings.opener&&this._mSettings.opener.focus()}.bind(this),0);i.close()}}p.show=function(t,o){if(/sap-ui-xx-no-toasts=true/.test(document.location.search)){return}var i=r.closestTo(document.activeElement);var s=i&&i.getUIArea&&i.getUIArea();var a;var u=p,f=jQuery.extend({},p._mSettings,{message:t}),d=new n,c,m,_="mousedown."+v+" touchstart."+v,y;p._mSettings.opener=i;if(!this._oRootNode||this._oRootNode&&s&&s.getRootNode()!==this._oRootNode){this._oRootNode=s?s.getRootNode():document.documentElement}o=C(o);jQuery.extend(f,o);p._validateSettings(f);m=b(f);c=p._aPopups.push(d)-1;d.setContent(m);d.setPosition(f.my,f.at,f.of,f.offset,f.collision);d.setAnimations(function e(t,o,i){i()},function e(t,o,i){u._setCloseAnimation(t,o,i,f)});d.setShadow(false);d.__bAutoClose=f.autoClose;if(f.closeOnBrowserNavigation){e.addPopoverInstance(d)}if(!p._bBoundedEvents){jQuery(window).on("resize."+v,p._handleResizeEvent.bind(p));jQuery(document).on(_,p._handleMouseDownEvent.bind(p));p._bBoundedEvents=true}a=document.createElement("span");a.setAttribute("tabIndex",0);a.setAttribute("class","sapMMessageToastHiddenFocusable");d.getContent().prepend(a);if(this._oRootNode){this._oRootNode.removeEventListener("keydown",u._fnKeyDown.bind(u));this._oRootNode.addEventListener("keydown",u._fnKeyDown.bind(u));a.addEventListener("keydown",P.bind(this))}d.open();p._iOpenedPopups++;function g(){e.removePopoverInstance(u._aPopups[c]);jQuery(u._aPopups[c].getContent()).remove();u._aPopups[c].detachClosed(g);u._aPopups[c].destroy();u._aPopups[c]=null;u._iOpenedPopups--;if(u._iOpenedPopups===0){u._aPopups=[];jQuery(window).off("resize."+v);jQuery(document).off(_);u._bBoundedEvents=false}if(typeof f.onClose==="function"){f.onClose.call(u)}}d.attachClosed(g);this._iCloseTimeoutId=setTimeout(d["close"].bind(d),f.duration);function h(){clearTimeout(u._iCloseTimeoutId);u._iCloseTimeoutId=null;function e(){y=setTimeout(d["close"].bind(d),f.duration);d.getContent().removeEventListener("mouseleave",e)}d.getContent().addEventListener("mouseleave",e);clearTimeout(y);y=null}d.getContent().addEventListener("touchstart",h);d.getContent().addEventListener("mouseover",h);if(l.system.desktop){d.getContent().addEventListener("mouseleave",function(){if(document.activeElement!==d.getContent()){this._iCloseTimeoutId=setTimeout(d["close"].bind(d),f.duration)}})}};p.toString=function(){return"sap.m.MessageToast"};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MultiComboBox", ["./InputBase","./ComboBoxBase","./Tokenizer","./Token","./Popover","./CheckBox","./Toolbar","./library","sap/ui/core/Element","sap/ui/core/EnabledPropagator","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/library","sap/ui/Device","sap/ui/core/Item","sap/ui/core/ResizeHandler","./MultiComboBoxRenderer","sap/ui/dom/containsOrEquals","sap/m/inputUtils/completeTextSelected","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/filterItems","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/forwardItemPropertiesToToken","sap/m/inputUtils/getTokenByItem","sap/ui/events/KeyCodes","sap/base/util/deepEqual","sap/base/assert","sap/base/Log","sap/ui/core/InvisibleText","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos"],function(e,t,i,s,n,o,r,a,l,h,u,c,g,p,d,f,m,I,y,v,S,_,k,T,b,C,E,P,A,V,O,jQuery){"use strict";var D=a.ListMode;var x=g.ValueState;var F=g.OpenState;var L=a.TokenizerRenderMode;var R=t.extend("sap.m.MultiComboBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/MultiComboBox.designtime",properties:{selectedKeys:{type:"string[]",group:"Data",defaultValue:[]},hasSelection:{type:"boolean",visibility:"hidden",defaultValue:false},showSelectAll:{type:"boolean",defaultValue:false}},associations:{selectedItems:{type:"sap.ui.core.Item",multiple:true,singularName:"selectedItem"}},aggregations:{tokenizer:{type:"sap.m.Tokenizer",multiple:false,visibility:"hidden"}},events:{selectionChange:{parameters:{changedItem:{type:"sap.ui.core.Item"},changedItems:{type:"sap.ui.core.Item[]"},selected:{type:"boolean"},selectAll:{type:"boolean"}}},selectionFinish:{parameters:{selectedItems:{type:"sap.ui.core.Item[]"}}}},dnd:{draggable:false,droppable:true}},renderer:m});u.insertFontFaceStyle();h.apply(R.prototype,[true]);R.prototype.clone=function(e){var i=t.prototype.clone.apply(this,arguments),s=this._getList();if(s){i.syncPickerContent()}return i};R.prototype.open=function(){if(!this.isOpen()){this._bPickerIsOpening=true}this.syncPickerContent();return t.prototype.open.apply(this,arguments)};R.prototype.onsapend=function(e){if(e.isMarked("forwardFocusToParent")){this.focus()}};R.prototype.onsaphome=function(e){if(!this.getFocusDomRef().selectionStart&&this._hasTokens()){i.prototype.onsaphome.apply(this.getAggregation("tokenizer"),arguments)}e.setMarked()};R.prototype.onsapdown=function(e){if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();e.preventDefault();this.syncPickerContent();if(!this.isOpen()){this._oTraversalItem=this._getNextTraversalItem();if(this._oTraversalItem&&!this.isFocusInTokenizer()&&!this.isComposingCharacter()){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length)}return}setTimeout(this.handleDownEvent.bind(this,e),0)};R.prototype.onsapup=function(e){if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();e.preventDefault();this.syncPickerContent();if(this.isFocusInTokenizer()||this.isOpen()){return}this._oTraversalItem=this._getPreviousTraversalItem();if(this._oTraversalItem){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length)}};R.prototype.handleDownEvent=function(e){if(!this.isOpen()){return}var t=e.srcControl,i=t&&t.getDomRef(),s=I(this.getDomRef(),i);e.setMarked();e.preventDefault();if(s&&this.getShowSelectAll()){this.focusSelectAll();return}this.focusFirstItemInList()};R.prototype.handleEndEvent=function(e){e.setMarked();e.preventDefault();var t=_.getVisibleItems(this.getItems()),i=t.length&&_.getListItem(t[t.length-1]);i&&i.focus()};R.prototype.handleHomeEvent=function(e){e.setMarked();e.preventDefault();if(this.getShowSelectAll()){this.focusSelectAll();e.stopPropagation(true);return}this.focusFirstItemInList()};R.prototype.focusFirstItemInList=function(){var e=_.getVisibleItems(this.getItems()),t=e.length&&_.getListItem(e[0]);t&&t.focus()};R.prototype.isFocusInTokenizer=function(){return jQuery.contains(this.getAggregation("tokenizer").getFocusDomRef(),document.activeElement)};R.prototype.onsapshow=function(e){e.preventDefault();this._handleItemToFocus();t.prototype.onsapshow.apply(this,arguments)};R.prototype._handlePopupOpenAndItemsLoad=function(){this._handleItemToFocus();t.prototype._handlePopupOpenAndItemsLoad.apply(this,arguments)};R.prototype._closePickerDelegate={onsaptabnext:function(){this.close();setTimeout(function(){this.closeValueStateMessage()}.bind(this),0)}};R.prototype._formattedTextLinksNav=function(){return{onsapup:this.focus,onsapdown:this.handleDownEvent}};R.prototype._handleFormattedTextNav=function(){var e=this.getPicker().getCustomHeader();var t=this.getValueStateLinks();if(!e.getDomRef()||t.length===0){return}const i=t[t.length-1];const s=t[0];s.focus();if(!this.bSetLinksDelegates){this.bSetLinksDelegates=true;t.forEach(function(e){e.addEventDelegate(this._formattedTextLinksNav(),this)},this);const e={onsaptabprevious:function(e){e.preventDefault();this.getFocusDomRef().focus()}};i.addEventDelegate(this._closePickerDelegate,this);s.addEventDelegate(e,this)}};R.prototype.onsaphide=function(e){this.onsapshow(e)};R.prototype._selectItemByKey=function(e){var t,i,s,n,o,r;if(!this.getEnabled()||!this.getEditable()){return}if(e){e.setMarked()}t=this._getUnselectedItems();for(n=0;n<t.length;n++){r=!(t[n].getKey()===undefined||t[n].getKey()===null)&&!t[n].isA("sap.ui.core.SeparatorItem");if(t[n].getText().toUpperCase()===this.getValue().toUpperCase()&&r){s=t[n];o=true;break}}if(o){i={item:s,id:s.getId(),key:s.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false};this._bPreventValueRemove=false;if(this.getValue()===""||typeof this.getValue()==="string"&&s.getText().toLowerCase().startsWith(this.getValue().toLowerCase())){if(_.getListItem(s).getSelected()){this.setValue("")}else{this.setSelection(i)}}}else{this._bPreventValueRemove=true}if(e){this.close()}};R.prototype.onsapenter=function(t){var i=this.getAggregation("tokenizer");e.prototype.onsapenter.apply(this,arguments);this._showAlreadySelectedVisualEffect();if(this.getValue()&&!this.isComposingCharacter()){this._selectItemByKey(t)}if(!this.getEditable()&&i.getHiddenTokensCount()&&t.target===this.getFocusDomRef()){i._togglePopup(i.getTokensPopup(),this.getDomRef())}};R.prototype.onsaptabnext=function(e){var t=this.getValue();if(t){var i=this._getUnselectedItemsStartingText(t);if(i.length){this._selectItemByKey(e)}else{this._showWrongValueVisualEffect()}}};R.prototype.onsaptabprevious=R.prototype.onsaptabnext;R.prototype.onsapfocusleave=function(e){var t=this.isPlatformTablet(),i=l.getElementById(e.relatedControlId),s=i&&i.getFocusDomRef(),n=this.getPicker(),o=this.getAggregation("tokenizer");if(!this._bPickerIsOpening&&(!n||!n.getFocusDomRef()||!s||!jQuery.contains(n.getFocusDomRef(),s))){if(!jQuery.contains(this.getDomRef(),document.activeElement)){o.setRenderMode(L.Narrow)}}if(n&&s){if(P(n.getFocusDomRef(),s)&&!t&&!this.isPickerDialog()){this.focus()}}};R.prototype.onfocusin=function(e){var t=this.getPicker();var i=false;var s=t&&t.getFocusDomRef();var n=t&&t.oPopup.getOpenState()||F.CLOSED;var o=n===F.CLOSING||n===F.CLOSED;var r=this.getPickerType()==="Dropdown";var a=this.getAggregation("tokenizer");if(r){i=s&&jQuery.contains(s,e.relatedTarget)}if(this.getEditable()&&e.target===this.getDomRef("inner")){a.setRenderMode(L.Loose);setTimeout(a["scrollToEnd"].bind(a),0)}if(e.target===this.getFocusDomRef()){a.hasOneTruncatedToken()&&a.setFirstTokenTruncated(false);this.getEnabled()&&this.addStyleClass("sapMFocus");!o&&i&&this.handleInputValidation(e,false)}if(e.target===this.getOpenArea()&&r&&!this.isPlatformTablet()){this.focus()}if(!this.isOpen()&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}};R.prototype._handleItemTap=function(e){var t=l.closestTo(e.target);if(!t.isA("sap.m.CheckBox")&&!t.isA("sap.m.GroupHeaderListItem")){this._bCheckBoxClicked=false}};R.prototype._handleItemPress=function(e){if(this.isOpen()&&this._isListInSuggestMode()&&this.getPicker().oPopup.getOpenState()!==F.CLOSING){this.clearFilter();var t=this._getLastSelectedItem();if(t){_.getListItem(t).focus()}}};R.prototype._handleSelectionLiveChange=function(e){if(e.getParameter("selectAll")){return}var t=e.getParameter("listItem");var i=e.getParameter("listItems");var s=i&&i[i.length-1]||t;var n=this.isPickerDialog()?this.getPickerTextField():this;var o=this._getIsClick()&&!!s;var r=e.getParameter("selected");var a=_.getItemByListItem(this.getItems(),t);var l;if(i&&i.length){l=[];i.forEach(function(e){if(e.getType()==="Active"){l.push(_.getItemByListItem(this.getItems(),e))}},this)}if(t.getType()==="Inactive"){return}A(a,"The corresponding mapped item was not found on "+this);if(!a){return}var h={item:a,items:l,id:a.getId(),key:a.getKey(),selectAll:false,fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:true};if(r){this.fireChangeEvent(a.getText());this.setSelection(h)}else{this.fireChangeEvent(a.getText());this.removeSelection(h)}if(this._bCheckBoxClicked){n.setValue(this._sOldInput);if(o&&this.isOpen()&&this.getPicker().oPopup.getOpenState()!==F.CLOSING){s.focus();this._setIsClick(false)}}else{this._bCheckBoxClicked=true;this.setValue("");this.close()}};R.prototype.onkeydown=function(e){if(this.areHotKeysPressed(e)&&this.isOpen()){this._handleFormattedTextNav();return}var i=this.getEditable(),s=this.getAggregation("tokenizer"),n=s.getTokens().length;t.prototype.onkeydown.apply(this,arguments);if(!this.getEnabled()){return}if((e.ctrlKey||e.metaKey)&&e.which===E.I&&n){e.preventDefault();if(i){this._togglePopover()}else{this._handleIndicatorPress()}return}this._bIsPasteEvent=(e.ctrlKey||e.metaKey)&&e.which===E.V;if(this.getValue().length===0&&(e.ctrlKey||e.metaKey)&&e.which===E.A&&this._hasTokens()){s.focus();s.selectAllTokens(true);e.preventDefault()}if(this.isPickerDialog()){this._sOldValue=this.getPickerTextField().getValue();this._iOldCursorPos=jQuery(this.getFocusDomRef()).cursorPos()}this._bDoTypeAhead=!p.os.android&&e.which!==E.BACKSPACE&&e.which!==E.DELETE};R.prototype.oninput=function(e){t.prototype.oninput.apply(this,arguments);var i=e.srcControl,s=this.isPickerDialog(),n=s?this.getPickerTextField():this,o=n.getValueState();if(o===x.Error&&this._bAlreadySelected){n.setValueState(this._sInitialValueState);n.setValueStateText(this._sInitialValueStateText);this._bAlreadySelected=false}if(!this.getEnabled()||!this.getEditable()){return}this.syncPickerContent();this.handleInputValidation(e,this.isComposingCharacter());if(this._bIsPasteEvent){i.updateDomValue(this._sOldValue||e.target.value||"");return}if(this.isOpen()){setTimeout(this.highlightList.bind(this,this._sOldInput))}if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true)}};R.prototype.filterItems=function(e){return k(this,e.items,e.value,true,false,this.fnFilter||v)};R.prototype.onkeyup=function(e){t.prototype.onkeyup.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return}this._sOldValue=this.getValue();this._iOldCursorPos=jQuery(this.getFocusDomRef()).cursorPos()};R.prototype._showWrongValueVisualEffect=function(){var e=this._getSuggestionsPopover();var t=this._sInitialValueStateText;var i=this._sInitialValueState;var s=t||this._oRbC.getText("VALUE_STATE_ERROR");var n=this;if(i===x.Error){return}if(e){e.updateValueState(x.Error,s,true);setTimeout(e.updateValueState.bind(e,n.getValueState(),s,true),1e3)}if(!this.isPickerDialog()){this.setValueState(x.Error);this.setValueStateText(this.getValueStateText()||s);setTimeout(this["setValueState"].bind(this,i||x.Error),1e3)}this._syncInputWidth(this.getAggregation("tokenizer"))};R.prototype._showAlreadySelectedVisualEffect=function(){var e=this._oRb.getText("VALUE_STATE_ERROR_ALREADY_SELECTED");if(!this.getValue()){return}var t=!!this.getSelectedItems().filter(function(e){return e.getText().toLowerCase()===this.getValue().toLowerCase()},this).length;var i=this.getItems().filter(function(e){return e.getText().toLowerCase()===this.getValue().toLowerCase()},this).length;if(t){if(!this._bAlreadySelected){this._sInitialValueState=this.getValueState();this._sInitialValueStateText=this.getValueStateText()}this._bAlreadySelected=true;this.setValueStateText(e);this.setValueState("Error");return}else if(i){return}else{this._showWrongValueVisualEffect()}};R.prototype._hasShowSelectedButton=function(){return true};R.prototype.forwardEventHandlersToSuggPopover=function(e){t.prototype.forwardEventHandlersToSuggPopover.apply(this,arguments);e.setShowSelectedPressHandler(this._filterSelectedItems.bind(this))};R.prototype.configPicker=function(e){var t=this.getRenderer(),i=t.CSS_CLASS_MULTICOMBOBOX;e.setHorizontalScrolling(false).addStyleClass(t.CSS_CLASS_COMBOBOXBASE+"Picker").addStyleClass(i+"Picker").addStyleClass(i+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this)};R.prototype._configureList=function(e){var t=10;if(!e){return}e.applyAriaRole("listbox");e.setMode(D.MultiSelect);e.setIncludeItemInSelection(true);e.setGrowingThreshold(t);e.attachBrowserEvent("tap",this._handleItemTap,this).attachSelectionChange(this._handleSelectionLiveChange,this).attachItemPress(this._handleItemPress,this);e.addEventDelegate({onAfterRendering:this.onAfterRenderingList,onfocusin:this.onFocusinList},this);this.getShowSelectAll()&&this.createSelectAllHeaderToolbar(e)};R.prototype._decoratePopupInput=function(e){t.prototype._decoratePopupInput.apply(this,arguments);if(!e||!e.isA(["sap.m.InputBase"])){return}e.attachSubmit(function(t){var i=e.getValue();if(i){this.setValue(i);this._selectItemByKey();this.setValue(this._sOldInput);this.close()}}.bind(this));e.addEventDelegate({onfocusout:this._handleInputFocusOut},this);e.attachChange(this._handleInnerInputChange.bind(this));return e};R.prototype._handleOkPress=function(){t.prototype._handleOkPress.apply(this,arguments);if(this.getValue()){this._selectItemByKey()}};R.prototype._handleInnerInputChange=function(e){if(e.getParameter("value")===""){this._sOldInput="";this.clearFilter()}};R.prototype.onBeforeRendering=function(){var e=this.getEditable();var i=this.getAggregation("tokenizer");var s=this.getItems();t.prototype.onBeforeRendering.apply(this,arguments);this._bInitialSelectedKeysSettersCompleted=true;i.setEnabled(this.getEnabled());i.setEditable(e);this._updatePopoverBasedOnEditMode(e);if(!s.length){this._clearTokenizer()}if(this._getList()){this.syncPickerContent(true)}this.toggleSelectAllVisibility(this.getShowSelectAll());if(this._sOldInput&&s.length&&this.isOpen()){T(this.getItems(),this.filterItems({value:this._sOldInput,items:s}));setTimeout(this.highlightList.bind(this,this._sOldInput))}this._deregisterResizeHandler();this._synchronizeSelectedItemAndKey();this.setProperty("hasSelection",!!this.getSelectedItems().length);if(!this._bAlreadySelected){this._sInitialValueStateText=this.getValueStateText()}if(this.getValueState()!==x.Error){this._sInitialValueState=this.getValueState()}if(this.getShowClearIcon()){this._getClearIcon().setVisible(this.shouldShowClearIcon())}else if(this._oClearIcon){this._getClearIcon().setVisible(false)}};R.prototype.syncPickerContent=function(e){var t,i;var s=this.getPicker();var n=this.getAggregation("tokenizer");if(!s){s=this.createPicker(this.getPickerType());this._updateSuggestionsPopoverValueState();e=true}if(e){i=this._getList();t=this.getEditable()?this.getItems():this.getSelectedItems();this._synchronizeSelectedItemAndKey();var o=n.getTokens();var r=o.findIndex(function(e){return document.activeElement===e.getDomRef()});i.destroyItems();this._clearTokenizer();this._fillList(t);this.bShouldRestoreTokenizerFocus=r>-1;this.iFocusedIndex=r;if(i.getItemNavigation()){this._iFocusedIndex=i.getItemNavigation().getFocusedIndex()}}return s};R.prototype._registerResizeHandler=function(){A(!this._iResizeHandlerId,"Resize handler already registered");this._iResizeHandlerId=f.register(this,this._onResize.bind(this))};R.prototype._deregisterResizeHandler=function(){if(this._iResizeHandlerId){f.deregister(this._iResizeHandlerId);this._iResizeHandlerId=null}};R.prototype._onResize=function(){var e=this.getAggregation("tokenizer");e.setMaxWidth(this._calculateSpaceForTokenizer());this._syncInputWidth(e);this._handleNMoreAccessibility()};R.prototype.onAfterRenderingPicker=function(){var e=this["_onAfterRendering"+this.getPickerType()];var t=this.getDomRef().getBoundingClientRect().width;var i=getComputedStyle(this.getDomRef()).getPropertyValue("--sPopoverMaxWidth");if(e){e.call(this)}if(t<=parseInt(i)&&!p.system.phone){this.getPicker().addStyleClass("sapMSuggestionPopoverDefaultWidth")}else{this.getPicker().getDomRef().style.setProperty("max-width",t+"px");this.getPicker().addStyleClass("sapMSuggestionPopoverInputWidth")}};R.prototype.onBeforeOpen=function(){t.prototype.onBeforeOpen.apply(this,arguments);var e=this._getSuggestionsPopover();var i=this["_onBeforeOpen"+this.getPickerType()],s=this.getFocusDomRef();if(s){s.setAttribute("aria-controls",this.getPicker().getId())}this.addContent();this._aInitiallySelectedItems=this.getSelectedItems();this._synchronizeSelectedItemAndKey();if(i){i.call(this)}e.resizePopup(this)};R.prototype.onAfterOpen=function(){var e=this.getFocusDomRef();e&&this.getFocusDomRef().setAttribute("aria-expanded","true");this._bPickerIsOpening=false;this.closeValueStateMessage()};R.prototype.onBeforeClose=function(){t.prototype.onBeforeClose.apply(this,arguments)};R.prototype.onAfterClose=function(){var e=!jQuery.contains(this.getDomRef(),document.activeElement)||this.isPickerDialog(),t=this.getFocusDomRef();t&&this.getFocusDomRef().setAttribute("aria-expanded","false");this.toggleIconPressedStyle(false);this.clearFilter();!this.isComposingCharacter()&&!this._bPreventValueRemove&&this.setValue("");this._sOldValue="";this._sOldInput="";this._getSuggestionsPopover()._sTypedInValue="";if(this.isPickerDialog()){this.getPickerTextField().setValue("");this.getFilterSelectedButton()&&this.getFilterSelectedButton().setPressed(false)}this.fireSelectionFinish({selectedItems:this.getSelectedItems()});this.getAggregation("tokenizer").setRenderMode(e?L.Narrow:L.Loose);if(this.getValueState()==x.Error&&document.activeElement===this.getFocusDomRef()){this.selectText(0,this.getValue().length)}};R.prototype._onBeforeOpenDialog=function(){};R.prototype._onBeforeOpenDropdown=function(){var e=this.getPicker(),t=this.getDomRef(),i;if(t&&e){i=t.offsetWidth/parseFloat(a.BaseFontSize)+"rem";e.setContentMinWidth(i)}};R.prototype.getFilterSelectedButton=function(){return this._getSuggestionsPopover().getFilterSelectedButton()};R.prototype._filterSelectedItems=function(e,t){var i=e.oSource,s,n,o=this.getPickerTextField()?this.getPickerTextField().getValue():"",r=i&&i.getPressed&&i.getPressed()||t,a=_.getVisibleItems(this.getItems()),l=this.getItems(),h=this.getSelectedItems(),u=null;if(r){a.forEach(function(e){n=h.indexOf(e)>-1?true:false;s=_.getListItem(e);if(!s){return}if(s.isA("sap.m.GroupHeaderListItem")){s.setVisible(false);u=s}else{s.setVisible(n);if(n&&u){u.setVisible(true)}}},this)}else{T(this.getItems(),this.filterItems({value:o,items:l}))}this.manageSelectAllCheckBoxState()};R.prototype.revertSelection=function(){this.setSelectedItems(this._aInitiallySelectedItems)};R.prototype.setSelection=function(e){var t=this._getList(),i;if(e.item&&this.isItemSelected(e.item)){return}if(!e.item){return}if(!e.items||!e.items.length||e.selectAll){i=[e.item]}else{i=e.items}i.forEach(function(i){if(!e.listItemUpdated&&_.getListItem(i)&&t){t.setSelectedItem(_.getListItem(i),true)}var n=new s({key:i.getKey()});n.setText(i.getText());i.data(_.CSS_CLASS+"Token",n);this.getAggregation("tokenizer").addToken(n);this.addAssociation("selectedItems",i,e.suppressInvalidate);var o=this.getSelectedKeys();var r=this.getKeys([i])[0];if(r===""||o.indexOf(r)===-1){o.push(r);this.setProperty("selectedKeys",o,e.suppressInvalidate)}if(e.fireChangeEvent){this.fireSelectionChange({changedItem:e.item,changedItems:e.items,selectAll:e.selectAll,selected:true})}},this);if(!this.getProperty("hasSelection")&&this.getSelectedItems().length){this.setProperty("hasSelection",true)}this.setValue("");if(e.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()})}}};R.prototype.removeSelection=function(e){var t,i,s;if(e.item&&!this.isItemSelected(e.item)){return}if(!e.item){return}if(!e.items||!e.items.length||e.selectAll){t=[e.item]}else{t=e.items}t.forEach(function(t){this.removeAssociation("selectedItems",t,e.suppressInvalidate);i=this.getSelectedKeys();s=i.indexOf(t.getKey());i.splice(s,1);this.setProperty("selectedKeys",i,e.suppressInvalidate);if(!e.listItemUpdated&&_.getListItem(t)){var n=_.getListItem(t);this._getList().setSelectedItem(n,false)}if(!e.tokenUpdated){var o=C(t);t.data(_.CSS_CLASS+"Token",null);this.getAggregation("tokenizer").removeToken(o)}if(e.fireChangeEvent){this.fireSelectionChange({changedItem:e.item,changedItems:e.items,selectAll:e.selectAll,selected:false})}},this);if(this.getProperty("hasSelection")&&!this.getSelectedItems().length){this.setProperty("hasSelection",false)}if(e.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()})}}};R.prototype._synchronizeSelectedItemAndKey=function(){var e=this.getSelectedKeys();var t=this.getKeys(this.getSelectedItems());if(!e.length){V.info("Info: _synchronizeSelectedItemAndKey() the MultiComboBox control does not contain any item on ",this);return}for(var i=0,s=null,n=null,o=e.length;i<o;i++){s=e[i];if(t.indexOf(s)>-1){continue}n=this.getItemByKey(""+s);if(n){this.setSelection({item:n,id:n.getId(),key:n.getKey(),fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:false})}}};R.prototype.updateItems=function(e){var i=function(e){return e&&e.getKey&&e.getKey()},s,n=this.getSelectedItems().map(i),o=this.getSelectedKeys();var r=t.prototype.updateItems.apply(this,arguments);n=this.getSelectedItems().map(i).filter(function(e){return n.indexOf(e)>-1});s=o.concat(n);this.setSelectedKeys(s);return r};R.prototype._getSelectedItemsOf=function(e){for(var t=0,i=e.length,s=[];t<i;t++){if(_.getListItem(e[t]).getSelected()){s.push(e[t])}}return s};R.prototype._getLastSelectedItem=function(){var e=this.getAggregation("tokenizer").getTokens();var t=e.length?e[e.length-1]:null;if(!t){return null}return this._getItemByToken(t)};R.prototype._getFocusedListItem=function(){if(!document.activeElement){return null}var e=l.getElementById(document.activeElement.id);if(this._getList()&&I(this._getList().getFocusDomRef(),e.getFocusDomRef())){return e}return null};R.prototype._getFocusedItem=function(){return _.getItemByListItem(this.getItems(),this._getFocusedListItem())};R.prototype._hasTokens=function(){return this.getAggregation("tokenizer").getTokens().length>0};R.prototype._decorateListItem=function(e){e.addDelegate({onkeydown:function(e){if((e.ctrlKey||e.metaKey)&&e.which==E.A){e.setMarked();e.preventDefault();var t=_.getSelectableItems(this.getItems());var i=this._getSelectedItemsOf(t);if(i.length!==t.length){t.forEach(function(e){this.setSelection({item:e,items:t,selectAll:true,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false})},this)}else{t.forEach(function(e){this.removeSelection({item:e,items:t,selectAll:true,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false})},this)}}if(this.areHotKeysPressed(e)){this._handleFormattedTextNav(e)}},onmousedown:function(e){this._setIsClick(true)},onkeyup:function(e){var t=null;if(e.which==E.SPACE&&this.isOpen()&&this._isListInSuggestMode()){this.open();t=this._getLastSelectedItem();if(t){_.getListItem(t).focus()}return}}},true,this);e.addEventDelegate({onsapbackspace:function(e){e.preventDefault()},onsapshow:function(e){e.setMarked();this.close()},onsaphide:function(e){this.onsapshow(e)},onsapenter:function(e){e.setMarked();if(e.srcControl&&e.srcControl.isA("sap.m.GroupHeaderListItem")){return}this.close()},onsaphome:this.handleHomeEvent.bind(this),onsapend:this.handleEndEvent.bind(this),onsapup:function(e){e.setMarked();e.preventDefault();var t=_.getVisibleItems(this.getItems());var i=t[0];var s=l.closestTo(document.activeElement);if(s!==_.getListItem(i)){return}if(this.getShowSelectAll()){this.focusSelectAll()}else{this.focus()}e.stopPropagation(true)},onfocusin:function(e){this.addStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused")},onfocusout:function(e){this.removeStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused")},onsapfocusleave:function(e){var t=this.getAggregation("picker");var i=l.getElementById(e.relatedControlId);if(t&&i&&P(t.getFocusDomRef(),i.getFocusDomRef())){if(e.srcControl){e.srcControl.focus()}}},onsaptabnext:function(){this.getPicker().close()},onsaptabprevious:function(){this.getPicker().close()}},this);if(p.support.touch){e.addEventDelegate({ontouchstart:function(e){e.setMark("cancelAutoClose")}})}};R.prototype._handleInputFocusOut=function(e){var t=this.isPickerDialog(),i=t?this.getPickerTextField():this,s=this._sOldInput||this._sOldValue||"",n=t&&e&&e.relatedTarget&&e.relatedTarget.id.includes("-popup-closeButton");if(!n){i.updateDomValue(s)}this._bIsPasteEvent=null};R.prototype.onItemChange=function(e){var i=t.prototype.onItemChange.call(this,e,this.getShowSecondaryValues());var s=e.getParameters();b({item:e.getSource(),propName:s.name,propValue:s.newValue});return i};R.prototype._handleIndicatorPress=function(){var e,t=this.getAggregation("tokenizer");if(this.getEditable()){this.syncPickerContent();this._filterSelectedItems({},true);this.focus();e=this.getPicker();e.open()}else{t._togglePopup(t.getTokensPopup(),this.getDomRef())}if(this.isPickerDialog()){this.getFilterSelectedButton().setPressed(true);this.bOpenedByKeyboardOrButton=true}};R.prototype._togglePopover=function(){var e=this.getPicker();if(!e){e=this.syncPickerContent(true)}if(e.isOpen()){e.close()}else{e.open()}};R.prototype._createTokenizer=function(){var e=new i({renderMode:L.Narrow}).attachTokenDelete(this._handleTokenDelete,this);e.getTokensPopup().attachAfterOpen(function(){if(e.hasOneTruncatedToken()){e.setFirstTokenTruncated(false)}}).attachAfterClose(function(){var t=e.getTokens();if(t.length===1&&!t[0].getTruncated()){e.setFirstTokenTruncated(true)}});e.addEventDelegate({onAfterRendering:this._onAfterRenderingTokenizer},this);e.setShouldRenderTabIndex(false);return e};R.prototype._onAfterRenderingTokenizer=function(){var e=this.getAggregation("tokenizer");if(this.getEditable()){e.addStyleClass("sapMTokenizerIndicatorDisabled")}else{e.removeStyleClass("sapMTokenizerIndicatorDisabled")}setTimeout(this._syncInputWidth.bind(this,e),0);setTimeout(this._handleNMoreAccessibility.bind(this),0)};R.prototype._handleTokenDelete=function(e){var t=e.getParameter("tokens");var i=this.getSelectedItems();this._removeSelection(t);if(i.length!==_.getSelectableItems(this.getItems())){!this.isPickerDialog()&&!this.isFocusInTokenizer()&&this.focus();this.fireChangeEvent("")}};R.prototype._removeSelection=function(e){var t=this.getAggregation("tokenizer");e.forEach(function(e){var i=e&&this._getItemByToken(e);if(!this.getEditable()||!this.getEnabled()||!i||!this.isItemSelected(i)||!i.getEnabled()||!e.getEditable()){return}this.removeSelection({item:i,id:i.getId(),key:i.getKey(),tokenUpdated:true,fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true});e.destroy();if(this.getSelectedItems().length>0){var s=t.getTokens();s[s.length-1].focus()}else{this.focus()}},this)};R.prototype.onAfterRenderingList=function(){var e=document.activeElement===this.getFocusDomRef();var t=l.closestTo(document.activeElement);var i=t&&t.isA("sap.m.Token");var s=this._getList();var n=s?s.getVisibleItems():[];if(this.getEditable()&&!e&&!i&&n[this._iFocusedIndex]){n[this._iFocusedIndex].focus();this._iFocusedIndex=null}this.manageSelectAllCheckBoxState()};R.prototype.onFocusinList=function(){var e=this._getList();if(this._bListItemNavigationInvalidated&&this._getList().getItemNavigation()){e.getItemNavigation().setSelectedIndex(this._iInitialItemFocus);this._bListItemNavigationInvalidated=false}this._getSuggestionsPopover().updateListDataAttributes(e)};R.prototype.onAfterRendering=function(){var e=this.getAggregation("tokenizer");var i;t.prototype.onAfterRendering.apply(this,arguments);this._registerResizeHandler();setTimeout(function(){e.setMaxWidth(this._calculateSpaceForTokenizer())}.bind(this),0);if(this.bShouldRestoreTokenizerFocus){i=e.getTokens()[this.iFocusedIndex];if(i){i.focus()}this.bShouldRestoreTokenizerFocus=false}};R.prototype.onfocusout=function(e){this.isOpen()&&this._handleInputFocusOut();this.removeStyleClass("sapMFocus");if(this.getValueState()===x.Error&&this.getValueStateText()===this._oRb.getText("VALUE_STATE_ERROR_ALREADY_SELECTED")){this.setValueState(this._sInitialValueState);this.setValueStateText(this._sInitialValueStateText)}t.prototype.onfocusout.apply(this,arguments);var i=this.getValue(),s=this.getPicker(),n=e.relatedTarget;if(!I(s?.getDomRef(),n)&&!I(this.getDomRef(),n)){this.setValue(null);if(i){this.fireChangeEvent("",{value:i})}}};R.prototype.onpaste=function(e){var t;var i=false;var s=this.getSelectedItems();var n=_.getSelectableItems(this.getItems());if(!n.length){this.syncPickerContent(true)}n=_.getSelectableItems(this.getItems());t=e.originalEvent.clipboardData.getData("text/plain");if(t.length&&t.endsWith("\r\n")){t=t.substring(0,t.lastIndexOf("\r\n"))}var o=t.split(/\r\n|\r|\n|\t/g);if(o&&o.length>1){n.filter(function(e){return s.indexOf(e)===-1}).forEach(function(e){if(o.indexOf(e.getText())>-1){i=true;this.setSelection({item:e,id:e.getId(),key:e.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false})}},this)}if(i){e.stopPropagation();e.preventDefault()}};R.prototype.onsapbackspace=function(e){var t=this.getAggregation("tokenizer");var i=t.getTokens();var s=i.filter(function(e){return e.getSelected()});if(!this.getEnabled()||!this.getEditable()){e.preventDefault();return}if(this.getCursorPosition()>0||this.getValue().length>0){return}if(s.length>0){this._removeAllTokens();return}if(document.activeElement===this.getFocusDomRef()){i[i.length-1]&&i[i.length-1].focus()}e.preventDefault()};R.prototype._removeAllTokens=function(){var e=this.getAggregation("tokenizer");var t=e.getTokens().filter(function(e){return e.getSelected()});if(!t.length){return}this._removeSelection(t);this.fireChangeEvent("");this.invalidate()};R.prototype.onsapdelete=R.prototype.onsapbackspace;R.prototype.onsapnext=function(e){var t=this.getAggregation("tokenizer");if(e.isMarked()){return}var i=l.closestTo(document.activeElement);if(!i){return}if(i===t||t.$().find(i.$()).length>0&&this.getEditable()){t.scrollToEnd();this.focus()}};R.prototype.onsapprevious=function(e){if(this.getCursorPosition()===0&&!y(this.getFocusDomRef())){if(e.srcControl===this){i.prototype.onsapprevious.apply(this.getAggregation("tokenizer"),arguments)}}};R.prototype.onclick=function(e){var t=this.getEditable(),i=this.getEnabled(),s=e.target.className.indexOf("sapMTokenizerIndicator")>-1;if(t&&i&&s){e.preventDefault();this._handleIndicatorPress()}};R.prototype.ontap=function(e){t.prototype.ontap.apply(this,arguments);var i=this.getOpenArea();if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();if(this.isPickerDialog()&&i.contains(e.target)){this.open()}};R.prototype.getOpenArea=function(){if(this.isPickerDialog()){return this.getDomRef()}else{return t.prototype.getOpenArea.apply(this,arguments)}};R.prototype._getItemsStartingWithPerTerm=function(e,t){var i=[],s=t?_.getEnabledItems(this.getItems()):_.getSelectableItems(this.getItems()),n=this.fnFilter?this.fnFilter:v;s.forEach(function(t){if(n(e,t)){i.push(t)}},this);return i};R.prototype._getItemsStartingWith=function(e,t){var i=[],s=t?_.getEnabledItems(this.getItems()):_.getSelectableItems(this.getItems());s.forEach(function(t){if(typeof e==="string"&&e!==""&&t.getText().toLowerCase().startsWith(e.toLowerCase())){i.push(t)}},this);return i};R.prototype._getUnselectedItemsStartingText=function(e){var t=[];this._getUnselectedItems().forEach(function(i){if(typeof e==="string"&&e!==""&&i.getText().toLowerCase().startsWith(e.toLowerCase())){t.push(i)}},this);return t};R.prototype.getCursorPosition=function(){return this._$input.cursorPos()};R.prototype._selectPreviousItemsOf=function(e){var t;do{t=true;var i=this._getPreviousVisibleItemOf(e);if(i){var s=_.getListItem(i);if(s){t=_.getListItem(i).getSelected()}}this.setSelection({item:e,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true});e=i}while(!t)};R.prototype._getNextVisibleItemOf=function(e){var t=_.getSelectableItems(this.getItems());var i=t.indexOf(e)+1;if(i<=0||i>t.length-1){return null}return t[i]};R.prototype._getPreviousVisibleItemOf=function(e){var t=_.getSelectableItems(this.getItems());var i=t.indexOf(e)-1;if(i<0){return null}return t[i]};R.prototype._getNextUnselectedItemOf=function(e){var t=this._getUnselectedItems();var i=t.indexOf(e)+1;if(i<=0||i>t.length-1){return null}return t[i]};R.prototype._getPreviousUnselectedItemOf=function(e){var t=this._getUnselectedItems();var i=t.indexOf(e)-1;if(i<0){return null}return t[i]};R.prototype._getNextTraversalItem=function(){var e=this.getValue();var t=this._getUnselectedItemsPerTerm(e);if(t.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getNextUnselectedItemOf(this._oTraversalItem)}return t[0]};R.prototype._getPreviousTraversalItem=function(){var e=this.getValue();var t=this._getUnselectedItemsPerTerm(e);if(t.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getPreviousUnselectedItemOf(this._oTraversalItem)}return t[t.length-1]};R.prototype.setSelectedItems=function(e){this.removeAllSelectedItems();if(!e||!e.length){return this}if(!Array.isArray(e)){V.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return this}e.forEach(function(e){if(!(e instanceof d)&&typeof e!=="string"){V.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return}if(typeof e==="string"){e=l.getElementById(e)}this.setSelection({item:e?e:null,id:e?e.getId():"",key:e?e.getKey():"",suppressInvalidate:true})},this);return this};R.prototype.addSelectedItem=function(e){if(!e){return this}if(typeof e==="string"){e=l.getElementById(e)}this.setSelection({item:e?e:null,id:e?e.getId():"",key:e?e.getKey():"",fireChangeEvent:false,suppressInvalidate:true});return this};R.prototype.removeSelectedItem=function(e){if(!e){return null}if(typeof e==="string"){e=l.getElementById(e)}if(!this.isItemSelected(e)){return null}this.removeSelection({item:e,id:e.getId(),key:e.getKey(),fireChangeEvent:false,suppressInvalidate:true});return e};R.prototype.removeAllSelectedItems=function(){var e=[];var t=this.getAssociation("selectedItems",[]);t.forEach(function(t){var i=this.removeSelectedItem(t);if(i){e.push(i.getId())}},this);return e};R.prototype.removeSelectedKeys=function(e){var t,i=[];if(!e||!e.length||!Array.isArray(e)){return i}e.forEach(function(e){t=this.getItemByKey(e);if(t){this.removeSelection({item:t?t:null,id:t?t.getId():"",key:t?t.getKey():"",fireChangeEvent:false,suppressInvalidate:true});i.push(t)}},this);return i};R.prototype.setSelectedKeys=function(e){if(this._bInitialSelectedKeysSettersCompleted){this.setProperty("selectedKeys",[],true);this.removeAllSelectedItems()}this.addSelectedKeys(e);this._bInitialSelectedKeysSettersCompleted=true;return this};R.prototype.addSelectedKeys=function(e){var t,i=[];e=this.validateProperty("selectedKeys",e);e.forEach(function(e){var t=this.getItemByKey(e);if(t){this.addSelectedItem(t)}else if(e!=null){i.push(e)}},this);if(i.length>0){t=this.getProperty("selectedKeys").filter(function(e){return i.indexOf(e)===-1});i=t.concat(i);this.setProperty("selectedKeys",i,true)}return this};R.prototype._getUnselectedItems=function(){var e=jQuery(_.getSelectableItems(this.getItems())).not(this.getSelectedItems()).get();if(!this.isOpen()){return e.filter(function(e){return!e.isA("sap.ui.core.SeparatorItem")})}return e};R.prototype._getUnselectedItemsPerTerm=function(e){var t=jQuery(_.getSelectableItems(this.getItems())).not(this.getSelectedItems()).get();var i=[];var s=this.fnFilter?this.fnFilter:v;if(!this.isOpen()){t=t.filter(function(e){return!e.isA("sap.ui.core.SeparatorItem")})}t.forEach(function(t){if(s(e,t)){i.push(t)}},this);return i};R.prototype.getSelectedItems=function(){var e=[],t=this.getAssociation("selectedItems")||[];t.forEach(function(t){var i=l.getElementById(t);if(i){e.push(i)}},this);return e};R.prototype.getWidth=function(){return this.getProperty("width")||"100%"};R.prototype._updatePopoverBasedOnEditMode=function(e){var t=this._getList(),i=this._getSuggestionsPopover();if(t&&e!==this._bPrevEditable&&e){i.addContent(t)}this._bPrevEditable=e};R.prototype._mapItemToListItem=function(e){var t,i,s,n=this.getRenderer();if(!e){return null}t=_.createListItemFromCoreItem(e,this.getShowSecondaryValues());this._decorateListItem(t);if(e.isA("sap.ui.core.SeparatorItem")){return t}i=n.CSS_CLASS_MULTICOMBOBOX+"Item";s=this.isItemSelected(e)?i+"Selected":"";t.addStyleClass(i+" "+s);this.setSelectable(e,e.getEnabled());return t};R.prototype.setSelectable=function(e,i){t.prototype.setSelectable.call(this,e,i);var s=C(e);if(s){s.setVisible(i)}};R.prototype._fillList=function(){var e;var t;var i;var n=this._getList();var o=this.getEditable()?this.getItems():this.getSelectedItems();if(!n){return}n.destroyItems();for(var r=0,a,l=o.length;r<l;r++){a=this._mapItemToListItem(o[r]);if(a.isA("sap.m.GroupHeaderListItem")){this._getList().addItemGroup(null,a)}else{this._getList().addItem(a)}if(this.isItemSelected(o[r])){this._getList().setSelectedItem(a,true)}}e=this.getAggregation("tokenizer");t=this.getSelectedItems();for(var h=0;h<t.length;h++){i=t[h];var u=new s({key:i.getKey(),text:i.getText()});i.data(_.CSS_CLASS+"Token",u);e.addToken(u,true)}};R.prototype.handleInputValidation=function(e,t){var i=e.target.value,s=this.isValueValid(i),n,o,r;var a=e.srcControl;if(!s&&i!==""&&!t){this._handleFieldValidationState(a);return}r=this._getItemsStartingWith(i,true);if(!t||this._bIsPasteEvent){this._handleTypeAhead(i,r,a)}n=this.getItems();if(this.isPickerDialog()){o=this.getFilterSelectedButton();if(o!=null&&o.getPressed()){o.setPressed(false)}}T(this.getItems(),this.filterItems({value:i,items:n}));this.manageSelectAllCheckBoxState();this._sOldInput=i;if((!this.getValue()||!s)&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){this.close()}else{this.open()}};R.prototype.isValueValid=function(e){var t=this._getItemsStartingWith(e,true);var i=this._getItemsStartingWithPerTerm(e,true);return t.length||i.length};R.prototype._handleTypeAhead=function(e,t,i){var s,n;if(!this._bDoTypeAhead){return}s=this.getSelectedItems();n=t.filter(function(e){return s.indexOf(e)===-1});S(e,i,n)};R.prototype._handleFieldValidationState=function(e){if(this._sOldInput&&this.isValueValid(this._sOldInput)){e.updateDomValue(this._sOldInput)}else if(this._sOldValue&&this.isValueValid(this._sOldValue)){e.updateDomValue(this._sOldValue)}else{e.updateDomValue("");e.setProperty("effectiveShowClearIcon",false)}if(this._iOldCursorPos){jQuery(e.getFocusDomRef()).cursorPos(this._iOldCursorPos)}this._showWrongValueVisualEffect()};R.prototype.init=function(){t.prototype.init.apply(this,arguments);this._bInitialSelectedKeysSettersCompleted=false;this._bListItemNavigationInvalidated=false;this._iInitialItemFocus=-1;this._bCheckBoxClicked=true;this._bPreventValueRemove=false;this._oTokenizer=this._createTokenizer();this._oTokenizer.onfocusfail=function(){};this.setAggregation("tokenizer",this._oTokenizer);this._aInitiallySelectedItems=[];this._oRbC=c.getResourceBundleFor("sap.ui.core");this._fillList()};R.prototype.handleItemRemoval=function(e){this.removeSelection({item:e,id:e?e.getId():"",key:e?e.getKey():"",fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:true})};R.prototype.isItemSelected=function(e){return this.getSelectedItems().indexOf(e)>-1};R.prototype._clearTokenizer=function(){this.getAggregation("tokenizer").destroyTokens()};R.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._deregisterResizeHandler();if(this._oTokenizer){this._oTokenizer.destroy();this._oTokenizer=null}this._oRbC=null;this.oValueStateNavDelegate=null;this._sInitialValueState=null};R.prototype.destroyItems=function(){this.setProperty("selectedKeys",[]);this._clearTokenizer();return this.destroyAggregation("items")};R.prototype._getItemByToken=function(e){return _.getItemBy(this.getItems(),e,"Token")};R.prototype._getItemByValue=function(e){var t=_.getSelectableItems(this.getItems());for(var i=0;i<t.length;i++){if(t[i].getText().toLowerCase()===e.toLowerCase()){return t[i]}}};R.prototype._handleItemToFocus=function(){if(this.isOpen()){return}this.syncPickerContent();var e,t,i=l.getElementById(document.activeElement.id),s=this.getSelectedItems(),n=_.getSelectableItems(this.getItems()),o=this._getList(),r=o&&o.getItemNavigation(),a=this.getValue(),h=this.getPicker();if(i&&i.isA("sap.m.Token")){t=this._getItemByToken(i)}else if(a){t=this._getItemByValue(a)}if(!t){t=s.length?_.getItemByListItem(this.getItems(),this._getList().getSelectedItems()[0]):n[0]}e=_.getVisibleItems(this.getItems()).indexOf(t);if(r){r.setSelectedIndex(e)}else{this._bListItemNavigationInvalidated=true;this._iInitialItemFocus=e}if(!t){h.setInitialFocus(this)}else{h.setInitialFocus(o)}};R.prototype.getAccessibilityInfo=function(){var e=this.getSelectedItems().map(function(e){return e.getText()}).join(" ");var i=t.prototype.getAccessibilityInfo.apply(this,arguments);i.type=c.getResourceBundleFor("sap.m").getText("ACC_CTR_TYPE_MULTICOMBO");i.description=(this.getValueDescriptionInfo()+" "+e).trim();return i};R.prototype.getValueDescriptionInfo=function(){if(this.getValue()){return this.getValue()}return this._hasTokens()?"":c.getResourceBundleFor("sap.m").getText("INPUTBASE_VALUE_EMPTY")};R.prototype._setIsClick=function(e){this._bIsClick=e};R.prototype._getIsClick=function(){return this._bIsClick};R.prototype._calculateSpaceForTokenizer=function(){if(this.getDomRef()){var e,t=this.getDomRef().getBoundingClientRect().width,i=this._calculateIconsSpace(),s=this.$().find(".sapMInputBaseInner"),n=["min-width","padding-right","padding-left"],o=n.reduce(function(e,t){return e+(parseInt(s.css(t))||0)},0);e=t-(i+o);e=e<0?0:e;return e+"px"}else{return null}};R.prototype._syncInputWidth=function(e){var t=this.getDomRef("inner"),i,s;if(!t||e&&!e.getDomRef()){return}s=parseFloat(e.getDomRef().getBoundingClientRect().width.toFixed(2));i=this._calculateIconsSpace();t.style.width="calc(100% - "+parseFloat(i+s)+"px)"};R.prototype._handleNMoreAccessibility=function(){var e=O.getStaticId("sap.m","MULTICOMBOBOX_OPEN_NMORE_POPOVER"),t=this.getAggregation("tokenizer"),i=this.getFocusDomRef(),s=i&&i.getAttribute("aria-describedby"),n=s?s.split(" "):[],o=n.indexOf(e),r=this.getEnabled(),a=!this.getEditable()&&t&&t.getHiddenTokensCount();if(a&&o===-1){n.push(e);r&&this.getFocusDomRef().setAttribute("aria-keyshortcuts","Enter")}else if(o!==-1&&!a){n.splice(o,1);this.getFocusDomRef().removeAttribute("aria-keyshortcuts")}if(i&&n.length){i.setAttribute("aria-describedby",n.join(" ").trim())}};R.prototype.applyShowItemsFilters=function(){this.syncPickerContent();T(this.getItems(),this.filterItems({value:this.getValue()||"_",items:this.getItems()}));this.manageSelectAllCheckBoxState()};R.prototype.showItems=function(e){var i=true,s=this.fnFilter;if(typeof e==="function"){this.syncPickerContent();this.setFilterFunction(e||function(){return true});i=this.filterItems({value:this.getValue()||"_",items:this.getItems()}).items.length>0;this.setFilterFunction(s)}if(i){t.prototype.showItems.apply(this,arguments)}};R.prototype.createSelectAllHeaderToolbar=function(e){e=e||this._getList();if(!e||e.getHeaderToolbar()){return}var t=new o({select:function(e){var t=e.getSource(),i=_.getSelectableItems(this.getItems()),s=this._getSelectedItemsOf(i);if(e.getParameter("selected")){var n=i.filter(function(e){return s.indexOf(e)===-1});n.forEach(function(e){this.setSelection({item:e,items:n,selectAll:true,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false})},this)}else{s.forEach(function(e){this.removeSelection({item:e,items:s,selectAll:true,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false})},this)}t.focus()}.bind(this)});t.addEventDelegate(this._selectAllDelegate(),this);e.setHeaderToolbar(new r({content:t}).addStyleClass("sapMMultiComboBoxSelectAll")).setSticky(["HeaderToolbar"]);this.attachSelectionChange(this.manageSelectAllCheckBoxState.bind(this))};R.prototype.manageSelectAllCheckBoxState=function(){var e=this.getSelectAllCheckbox();if(!e){return}var t=this.getItems(),i=this.getSelectedItems(),s=_.getSelectableItems(t).filter(function(e){return i.indexOf(e)>-1}).length===_.getSelectableItems(t).length;e.setText(this._oRb.getText("MULTICOMBOBOX_SELECT_ALL_CHECKBOX",[i.length,_.getAllSelectableItems(t).length])).setSelected(s)};R.prototype.getSelectAllToolbar=function(){var e=this._getList();return e&&e.getHeaderToolbar()};R.prototype.getSelectAllCheckbox=function(){var e=this.getSelectAllToolbar();return e&&e.getContent()[0]};R.prototype._selectAllDelegate=function(){return{onsapdown:this.handleDownEvent,onsapup:function(e){e.preventDefault();this.getFocusDomRef().focus()},onsaphome:this.handleHomeEvent,onsapend:this.handleEndEvent,onfocusin:function(){var e=this.getRenderer(),t=this.getSelectAllToolbar();t&&t.addStyleClass(e.CSS_CLASS_MULTICOMBOBOX+"SelectAllFocused")},onfocusout:function(){var e=this.getRenderer(),t=this.getSelectAllToolbar();t&&t.removeStyleClass(e.CSS_CLASS_MULTICOMBOBOX+"SelectAllFocused")},onsapshow:this.close,onsaphide:this.close}};R.prototype.focusSelectAll=function(){var e=this.getSelectAllCheckbox();e&&e.focus()};R.prototype.toggleSelectAllVisibility=function(e){var t=this.getSelectAllToolbar();if(t){t.setVisible(e);return}e&&this.createSelectAllHeaderToolbar()};R.prototype.handleClearIconPress=function(){if(!(this.getEnabled()&&this.getEditable())){return}if(this.getValue()!==""){this.setValue("");this._sOldInput="";this.bOpenedByKeyboardOrButton?this.clearFilter():this.close();this.setProperty("effectiveShowClearIcon",false)}};R.prototype.getFormFormattedValue=function(){return this.getSelectedItems().map(function(e){return e.getText()}).join(", ")};R.prototype.getFormObservingProperties=function(){return["value","selectedKeys"]};return R});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MultiComboBoxRenderer", ["./ComboBoxBaseRenderer","./ComboBoxTextFieldRenderer","sap/ui/core/Lib","sap/ui/core/Renderer","sap/ui/core/library"],function(e,t,r,a,s){"use strict";var o=s.ValueState;var i=a.extend(e);i.apiVersion=2;i.CSS_CLASS_MULTICOMBOBOX="sapMMultiComboBox";i.addOuterClasses=function(t,r){e.addOuterClasses.apply(this,arguments);t.class(i.CSS_CLASS_MULTICOMBOBOX);if(r.getProperty("hasSelection")){t.class("sapMMultiComboBoxHasToken")}};i.getAriaDescribedBy=function(e){var r=t.getAriaDescribedBy.apply(this,arguments),a=e.getAggregation("tokenizer"),s=a&&a.getTokensInfoId();if(e.getValueState()!==o.Error&&e.getValueStateLinksForAcc().length){r=r?`${r} ${e.getValueStateLinksShortcutsId()}`:e.getValueStateLinksShortcutsId()}return(r?r+" ":"")+s};i.getAccessibilityState=function(t){var a=e.getAccessibilityState.apply(this,arguments),s=r.getResourceBundleFor("sap.m");a.roledescription=s.getText("MULTICOMBOBOX_ARIA_ROLE_DESCRIPTION");if(t.getValueState()===o.Error&&t.getValueStateLinksForAcc().length){a.errormessage=a.errormessage?`${a.errormessage} ${t.getValueStateLinksShortcutsId()}`:t.getValueStateLinksShortcutsId()}return a};i.prependInnerContent=function(e,t){e.renderControl(t.getAggregation("tokenizer"))};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SplitApp", ["./SplitContainer","./library","sap/ui/Device","./SplitAppRenderer","sap/ui/util/Mobile","sap/ui/thirdparty/jquery"],function(e,t,i,n,o,jQuery){"use strict";var r=e.extend("sap.m.SplitApp",{metadata:{library:"sap.m",properties:{homeIcon:{type:"any",group:"Misc",defaultValue:null}},events:{orientationChange:{deprecated:true,parameters:{landscape:{type:"boolean"}}}},designtime:"sap/m/designtime/SplitApp.designtime"},renderer:n});r.prototype.init=function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.addStyleClass("sapMSplitApp");o.init({viewport:!this._debugZoomAndScroll,statusBar:"default",hideBrowser:true,preventScroll:!this._debugZoomAndScroll,rootId:this.getId()})};r.prototype.onBeforeRendering=function(){if(e.prototype.onBeforeRendering){e.prototype.onBeforeRendering.apply(this,arguments)}o.init({homeIcon:this.getHomeIcon()})};r.prototype.onAfterRendering=function(){if(e.prototype.onAfterRendering){e.prototype.onAfterRendering.apply(this,arguments)}var t=this.getDomRef().parentNode;while(t&&t!==document.documentElement){var i=jQuery(t);if(i.attr("data-sap-ui-root-content")){break}if(!t.style.height){t.style.height="100%"}t=t.parentNode}};r.prototype._onOrientationChange=function(){this.fireOrientationChange({landscape:i.orientation.landscape})};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SplitAppRenderer", ["./SplitContainerRenderer","sap/ui/core/Renderer","sap/m/library"],function(e,r,n){"use strict";var a=n.BackgroundHelper;var t=r.extend(e);t.apiVersion=2;t.renderAttributes=function(e,r){a.addBackgroundColorStyles(e,r.getBackgroundColor(),r.getBackgroundImage())};t.renderBeforeContent=function(e,r){a.renderBackgroundImageTag(e,r,"sapMSplitContainerBG",r.getBackgroundImage(),r.getBackgroundRepeat(),r.getBackgroundOpacity())};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Token", ["./library","sap/ui/core/Control","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/Icon","./TokenRenderer","sap/ui/events/KeyCodes"],function(e,t,i,r,o,a,n){"use strict";var s=r.TextDirection;var p=t.extend("sap.m.Token",{metadata:{library:"sap.m",properties:{selected:{type:"boolean",group:"Misc",defaultValue:false},key:{type:"string",group:"Data",defaultValue:""},text:{type:"string",group:"Data",defaultValue:""},editable:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:s.Inherit},editableParent:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"},truncated:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},posinset:{type:"int",visibility:"hidden"},setsize:{type:"int",visibility:"hidden"}},aggregations:{deleteIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{delete:{enableEventBubbling:true},press:{},select:{},deselect:{}}},renderer:a});p.prototype.init=function(){var e=new o({id:this.getId()+"-icon",src:"sap-icon://decline",noTabStop:true,press:this._fireDeleteToken.bind(this),tooltip:i.getResourceBundleFor("sap.m").getText("TOKEN_ICON_TOOLTIP")});e.addStyleClass("sapMTokenIcon");e.setUseIconTooltip(false);this.setAggregation("deleteIcon",e)};p.prototype.ontouchstart=function(e){if(e.target.id===this.getId()+"-icon"){e.preventDefault()}};p.prototype._getTooltip=function(e,t){return e.getTooltip_AsString()};p.prototype._onTokenPress=function(e){var t=this.getSelected(),i=e.ctrlKey||e.metaKey,r=!t;if(i||e.which===n.SPACE){r=!t}this.setSelected(r);this.firePress();if(t!==r){if(r){this.fireSelect()}else{this.fireDeselect()}}if(this.getSelected()){this.focus()}};p.prototype.ontap=function(e){var t=this.getAggregation("deleteIcon");if(t&&e.target.id===t.getId()){e.setMark("tokenDeletePress",true);return}e.setMark("tokenTap",this);this._onTokenPress(e)};p.prototype._fireDeleteToken=function(e,t,i){if(this.getEditable()&&this.getProperty("editableParent")){this.fireDelete({token:this,byKeyboard:t,backspace:i})}e.preventDefault()};p.prototype.onsapspace=function(e){this._onTokenPress(e);if(e){e.preventDefault();e.stopPropagation()}};p.prototype.onkeydown=function(e){if((e.ctrlKey||e.metaKey)&&e.which===n.SPACE){this.onsapspace(e);e.preventDefault()}};p.prototype.getTruncated=function(){return this.getProperty("truncated")};p.prototype.setTruncated=function(e){return this.setProperty("truncated",e)};return p});
/*!

* OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.

*/
sap.ui.predefine("sap/m/TokenRenderer", ["sap/ui/core/library","sap/ui/core/InvisibleText"],function(e,t){"use strict";var r=e.TextDirection;var a={apiVersion:2};a.render=function(e,r){var i=r._getTooltip(r,r.getEditable()&&r.getProperty("editableParent"));var n=r.getAggregation("deleteIcon");var s=[];var o={role:"option"};var d=r.getProperty("posinset");var l=r.getProperty("setsize");e.openStart("div",r).class("sapMToken");this._setAttributes(e,r);if(r.getSelected()){e.class("sapMTokenSelected")}if(d!==undefined){e.attr("aria-posinset",r.getProperty("posinset"))}if(l!==undefined){e.attr("aria-setsize",r.getProperty("setsize"))}if(!r.getEditable()){e.class("sapMTokenReadOnly");o.readonly=null}if(r.getTruncated()){e.class("sapMTokenTruncated")}if(i){e.attr("title",i)}s.push(t.getStaticId("sap.m","TOKEN_ARIA_LABEL"));if(r.getEditable()&&r.getProperty("editableParent")){s.push(t.getStaticId("sap.m","TOKEN_ARIA_DELETABLE"))}e.attr("aria-selected",r.getSelected());o.describedby={value:s.join(" "),append:true};e.accessibilityState(r,o);e.openEnd();a._renderInnerControl(e,r);if(r.getEditable()&&n){e.renderControl(n)}e.close("div")};a._renderInnerControl=function(e,t){var a=t.getTextDirection();e.openStart("span").class("sapMTokenText");if(a!==r.Inherit){e.attr("dir",a.toLowerCase())}e.openEnd();var i=t.getText();if(i){e.text(i)}e.close("span")};a._setAttributes=function(e,t){e.attr("tabindex","-1")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Tokenizer", ["./library","sap/base/i18n/Localization","sap/m/Button","sap/m/List","sap/m/StandardListItem","sap/m/ResponsivePopover","sap/ui/core/ControlBehavior","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/delegate/ScrollEnablement","sap/ui/Device","sap/ui/core/InvisibleText","sap/ui/core/ResizeHandler","./TokenizerRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/Theming","sap/ui/core/theming/Parameters","sap/ui/dom/jquery/scrollLeftRTL"],function(e,t,o,i,n,s,r,a,l,d,h,p,u,c,f,g,T,k,_,m){"use strict";var y="sapUiNoContentPadding";var v=e.TokenizerRenderMode;var b=e.PlacementType;var R=e.ListMode;var I=e.ListType;var S=e.ButtonType;var M=a.extend("sap.m.Tokenizer",{metadata:{library:"sap.m",properties:{editable:{type:"boolean",group:"Misc",defaultValue:true},enabled:{type:"boolean",group:"Misc",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},renderMode:{type:"string",group:"Misc",defaultValue:v.Narrow},hiddenTokensCount:{type:"int",group:"Misc",defaultValue:0,visibility:"hidden"}},defaultAggregation:"tokens",aggregations:{tokens:{type:"sap.m.Token",multiple:true,singularName:"token"},_tokensInfo:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{tokenChange:{deprecated:true,parameters:{type:{type:"string"},token:{type:"sap.m.Token"},tokens:{type:"sap.m.Token[]"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}},tokenUpdate:{deprecated:true,allowPreventDefault:true,parameters:{type:{type:"string"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}},tokenDelete:{parameters:{tokens:{type:"sap.m.Token[]"},keyCode:{type:"number"}}},renderModeChange:{parameters:{renderMode:{type:"string"}}}}},renderer:f});var C=d.getResourceBundleFor("sap.m");M.prototype.init=function(){this.allowTextSelection(false);this._oTokensWidthMap={};this._oIndicator=null;this._bShouldRenderTabIndex=null;this._oScroller=new h(this,this.getId()+"-scrollContainer",{horizontal:true,vertical:false,nonTouchScrolling:true});this._fFontSizeRatio=1;if(r.isAccessibilityEnabled()){var e=new u({text:C.getText("TOKENIZER_ARIA_NO_TOKENS")});this.setAggregation("_tokensInfo",e)}this.attachEvent("delete",function(e){var t=e.getSource();var o=this.getSelectedTokens();var i=!!o.length&&o[o.indexOf(t)+1]||o[o.indexOf(t)-1];this._fireCompatibilityEvents(t,o);this.fireEvent("tokenDelete",{tokens:[t]});if(i){i.focus()}e.cancelBubble()},this);this._bThemeApplied=false;this._handleThemeApplied=()=>{this._bThemeApplied=true;_.detachApplied(this._handleThemeApplied)};_.attachApplied(this._handleThemeApplied)};M.prototype._fireCompatibilityEvents=function(e,t){this.fireTokenChange({type:M.TokenChangeType.Removed,token:e,tokens:t.length?t:[e],addedTokens:[],removedTokens:t.length?t:[e]});this.fireTokenUpdate({type:M.TokenChangeType.Removed,addedTokens:[],removedTokens:t.length?t:[e]})};M.prototype._handleNMoreIndicatorPress=function(){this._bIsOpenedByNMoreIndicator=true;this._togglePopup(this.getTokensPopup())};M.prototype._getTokensList=function(){if(!this._oTokensList){this._oTokensList=new i({width:"auto",mode:R.Delete}).attachDelete(this._handleListItemDelete,this).attachItemPress(this._handleListItemPress,this)}return this._oTokensList};M.prototype._setPopoverMode=function(e){var t=this.getTokensPopup();var o={showArrow:true,placement:b.VerticalPreferredBottom};t.setShowArrow(o.showArrow);t.setPlacement(o.placement);this._getTokensList().setMode(e)};M.prototype._fillTokensList=function(e,t){e.destroyItems();t=t?t:function(){return true};this.getTokens().filter(t).forEach(function(t){e.addItem(this._mapTokenToListItem(t))},this)};M.prototype._handleListItemDelete=function(e){var t=e.getParameter("listItem");var o=t&&t.data("tokenId");var i;i=this.getTokens().filter(function(e){return e.getId()===o&&e.getEditable()})[0];if(i){this.fireTokenUpdate({addedTokens:[],removedTokens:[i],type:M.TokenUpdateType.Removed});this.fireTokenDelete({tokens:[i]});this._adjustTokensVisibility()}};M.prototype._handleListItemPress=function(e){var t=e.getParameter("listItem");var o=t&&t.data("tokenId");var i=this.getTokens().filter(function(e){return e.getId()===o})[0];if(i){i.firePress()}};M.prototype.getTokensPopup=function(){var e=this._getTokensList();if(this._oPopup){return this._oPopup}this._oPopup=new s({showArrow:true,showHeader:p.system.phone,placement:b.Auto,offsetX:0,offsetY:3,horizontalScrolling:false,title:this._getDialogTitle(),content:this._getTokensList()}).attachBeforeOpen(function(){var t=this.getEditable()?120:32,o=this._oPopup,i=function(){var e=this.getDomRef()&&this.getDomRef().parentElement;var t="Cozy";if(!e){return t}if(e.closest(".sapUiSizeCompact")!==null||document.body.classList.contains("sapUiSizeCompact")){t="Compact"}return t}.bind(this),n=new Promise(function(e){m.get({name:["_sap_m_Tokenizer_FontSizeRatio"+i()],callback:function(t){var o=parseFloat(t);if(isNaN(o)){e(this._fFontSizeRatio);return}e(o)}.bind(this)})}.bind(this));if(o.getContent&&!o.getContent().length){o.addContent(e)}this._fillTokensList(e);t+=Object.keys(this._oTokensWidthMap).map(function(e){return this._oTokensWidthMap[e]},this).sort(function(e,t){return e-t}).pop()||0;n.then(function(e){t+=Math.ceil(t*(1-e));o.setContentWidth(t+"px")})},this).attachAfterClose(this.afterPopupClose,this).attachAfterOpen(function(){var t=e.getItems();this.setRenderMode(v.Loose);this.fireRenderModeChange({renderMode:"Loose"});if(t.length){t[0].focus()}},this);this.addDependent(this._oPopup);this._oPopup.addStyleClass(y);this._oPopup.addStyleClass("sapMTokenizerTokensPopup");if(p.system.phone){this._oPopup.setEndButton(new o({text:C.getText("SUGGESTIONSPOPOVER_CLOSE_BUTTON"),type:S.Emphasized,press:function(){this._oPopup.close()}.bind(this)}))}return this._oPopup};M.prototype.afterPopupClose=function(){if(!this.checkFocus()){this.setRenderMode(v.Narrow);this.fireRenderModeChange({renderMode:"Narrow"})}};M.prototype._getDialogTitle=function(){var e=d.getResourceBundleFor("sap.m");var t=this.getAriaLabelledBy().map(function(e){return l.getElementById(e)});return t.length?t[0].getText?.():e.getText("COMBOBOX_PICKER_TITLE")};M.prototype._togglePopup=function(e,t){var o=t||this.getDomRef(),i=e.isOpen(),n=this.getEditable();this._setPopoverMode(n?R.Delete:R.None);if(i){e.close()}else{e.openBy(o)}};M.prototype._mapTokenToListItem=function(e){if(!e){return null}var t=new n({selected:true,wrapping:true,type:I.Active,wrapCharLimit:1e4}).data("tokenId",e.getId());var o=function(e){this._togglePopup(this.getTokensPopup());if(this.getTokens().length&&this._bIsOpenedByNMoreIndicator){this.getTokens()[0].focus();this._bIsOpenedByNMoreIndicator=false}};t.setTitle(e.getText());t.addDelegate({onkeydown:function(e){e.preventDefault();if(!((e.ctrlKey||e.metaKey)&&e.which===T.I)&&e.which!==T.ESCAPE){return}this._togglePopup(this.getTokensPopup());if(this.getTokens().length&&this._bIsOpenedByNMoreIndicator){this.getTokens()[0].focus();this._bIsOpenedByNMoreIndicator=false}},onsapshow:o,onsaphide:o},this);return t};M.prototype._getPixelWidth=function(){var e=this.getMaxWidth(),t,o=this.getDomRef(),i;if(!o){return}i=parseInt(this.$().css("padding-left"));if(e.indexOf("px")===-1){t=o.clientWidth}else{t=parseInt(this.getMaxWidth())}return t-i};M.prototype._adjustTokensVisibility=function(){if(!this.getDomRef()){return}var e=this._getPixelWidth(),t=this._getVisibleTokens(),o=t.length,i,n,s,r=-1;t.some(function(t,i){e=e-this._oTokensWidthMap[t.getId()];if(e<=1&&o===1||e<0){r=i;return true}else{n=e;return false}},this);if(o===1&&r!==-1){this.setFirstTokenTruncated(true);return}else if(o===1&&t[0].getTruncated()){this.setFirstTokenTruncated(false)}if(r>-1){for(s=0;s<o;s++){if(s>=r){t[s].addStyleClass("sapMHiddenToken")}else{t[s].removeStyleClass("sapMHiddenToken")}}this._handleNMoreIndicator(o-r);i=this._oIndicator.width();if(i>=n){r=r-1;this._handleNMoreIndicator(o-r);t[r].addStyleClass("sapMHiddenToken")}this._setHiddenTokensCount(o-r)}else{this._setHiddenTokensCount(0);this._showAllTokens()}};M.prototype.setFirstTokenTruncated=function(e){var t=this.getTokens()[0];t&&t.setTruncated(e);if(e){this.addStyleClass("sapMTokenizerOneLongToken")}else{this.removeStyleClass("sapMTokenizerOneLongToken")}return this};M.prototype.hasOneTruncatedToken=function(){return this.getTokens().length===1&&this.getTokens()[0].getTruncated()};M.prototype._handleNMoreIndicator=function(e){if(!this.getDomRef()){return this}if(e){var t="MULTIINPUT_SHOW_MORE_TOKENS";if(e===this._getVisibleTokens().length){if(e===1){t="TOKENIZER_SHOW_ALL_ITEM"}else{t="TOKENIZER_SHOW_ALL_ITEMS"}}this._oIndicator.html(C.getText(t,[e]))}return this};M.prototype._getVisibleTokens=function(){return this.getTokens().filter(function(e){return e.getVisible()})};M.prototype._showAllTokens=function(){this._getVisibleTokens().forEach(function(e){e.removeStyleClass("sapMHiddenToken")})};M.prototype.getScrollDelegate=function(){return this._oScroller};M.prototype.scrollToEnd=function(){var e=this.getDomRef(),o=t.getRTL(),i=this.getTokens()[0]&&this.getTokens()[0].getDomRef()&&this.getTokens()[0].getDomRef()===document.activeElement,n,s;if(!this.getDomRef()||i){return}s=this.$().find(".sapMTokenizerScrollContainer")[0];n=s.scrollWidth;if(o){n*=-1}e.scrollLeft=n};M.prototype._registerResizeHandler=function(){if(!this._sResizeHandlerId){this._sResizeHandlerId=c.register(this.getDomRef(),this._handleResize.bind(this))}};M.prototype._handleResize=function(){this._useCollapsedMode(this.getRenderMode())};M.prototype.setPixelWidth=function(e){if(typeof e!=="number"){k.warning("Tokenizer.setPixelWidth called with invalid parameter. Expected parameter of type number.");return}this.setWidth(e+"px");if(this._oScroller){this._oScroller.refresh()}};M.prototype.scrollToStart=function(){var e=this.getDomRef();if(!e){return}e.scrollLeft=0};M.prototype.getScrollWidth=function(){if(!this.getDomRef()){return 0}return this.$().children(".sapMTokenizerScrollContainer")[0].scrollWidth};M.prototype.onBeforeRendering=function(){var e=this.getTokens();if(e.length!==1){this.setFirstTokenTruncated(false)}e.forEach(function(t,o){t.setProperty("editableParent",this.getEditable()&&this.getEnabled());t.setProperty("posinset",o+1);t.setProperty("setsize",e.length)},this);this._setTokensAria()};M.prototype.onAfterRendering=function(){var e=this.getRenderMode();var t=this._getTokenToFocus();this._oIndicator=this.$().find(".sapMTokenizerIndicator");if(this._bThemeApplied){this._storeTokensSizes()}this._useCollapsedMode(e);this._registerResizeHandler();if(!this.getEnabled()&&this.getTokens().length){this.getTokens().forEach(function(e){if(!e.getDomRef()){return}e.getDomRef().setAttribute("tabindex","-1")})}if(t&&t.getDomRef()&&this.getEffectiveTabIndex()){t.getDomRef().setAttribute("tabindex","0")}if(this._bFocusFirstToken){this.scrollToStart();this._bFocusFirstToken=false;return}if(e===v.Loose&&this._nMoreIndicatorPressed){this.scrollToEnd()}};M.prototype.onThemeChanged=function(){this._storeTokensSizes();this._useCollapsedMode(this.getRenderMode())};M.prototype._storeTokensSizes=function(){var e=this.getTokens();e.forEach(function(e){if(e.getDomRef()&&!e.$().hasClass("sapMHiddenToken")&&!e.getTruncated()){this._oTokensWidthMap[e.getId()]=e.$().outerWidth(true)}},this)};M.prototype._getTokenToFocus=function(){var e=this._getVisibleTokens();return e.find(e=>e.getSelected())||e[0]};M.prototype._useCollapsedMode=function(e){var t=this._getVisibleTokens();if(!t.length){this._setHiddenTokensCount(0);return}if(e===v.Narrow){this._adjustTokensVisibility()}else{this._setHiddenTokensCount(0);this._showAllTokens()}};M.prototype.onsapfocusleave=function(e){if(document.activeElement===this.getDomRef()||!this.checkFocus()){this._oSelectionOrigin=null}if(!this.checkFocus()){this._bFocusFirstToken=true;this.setRenderMode(v.Narrow);this.fireRenderModeChange({renderMode:"Narrow"})}};M.prototype.onsapbackspace=function(e){var t=this.getSelectedTokens();var o=this.getTokens().filter(function(e){return e.getFocusDomRef()===document.activeElement})[0];var i=this.getTokens();var n=t.length?t:[o];var s=!!t.length&&i[t.indexOf(o)+1]||i[t.indexOf(o)-1];e.preventDefault();if(s){s.focus()}return this.fireTokenDelete({tokens:n,keyCode:e.which})};M.prototype.onsapdelete=M.prototype.onsapbackspace;M.prototype.onkeydown=function(e){var t;var o=(e.ctrlKey||e.metaKey)&&e.which===T.I;if(!this.getEnabled()){return}if(e.which===T.TAB){this._changeAllTokensSelection(false)}if((e.ctrlKey||e.metaKey)&&e.which===T.A){t=this.getSelectedTokens().length<this._getVisibleTokens().length;if(this._getVisibleTokens().length>0){this.focus();this._changeAllTokensSelection(t);e.preventDefault();e.stopPropagation()}}if((e.ctrlKey||e.metaKey)&&(e.which===T.C||e.which===T.INSERT)){this._copy()}if((e.ctrlKey||e.metaKey)&&e.which===T.X||e.shiftKey&&e.which===T.DELETE){if(this.getEditable()){this._cut()}else{this._copy()}}if(o){e.preventDefault();e.stopPropagation();this._togglePopup(this.getTokensPopup());return}};M.prototype.onsaphide=function(e){this._togglePopup(this.getTokensPopup())};M.prototype.onsapshow=M.prototype.onsaphide;M.prototype._shouldPreventModifier=function(e){var t=p.os.macintosh&&e.metaKey;var o=p.os.windows&&e.altKey;return t||o};M.prototype.onsappreviousmodifiers=function(e){if(!this._shouldPreventModifier(e)){this.onsapprevious(e)}};M.prototype.onsapnextmodifiers=function(e){if(!this._shouldPreventModifier(e)){this.onsapnext(e)}};M.prototype.onsaphomemodifiers=function(e){this._selectRange(false);this.scrollToStart()};M.prototype.onsappageupmodifiers=function(e){this._selectRange(false);this.scrollToStart()};M.prototype.onsapendmodifiers=function(e){this._selectRange(true);this.scrollToEnd()};M.prototype.onsappagedownmodifiers=function(e){this._selectRange(true);this.scrollToEnd()};M.prototype._selectRange=function(e){var t={},o=this._getVisibleTokens(),i=l.closestTo(document.activeElement),n=o.indexOf(i);if(!i||!i.isA("sap.m.Token")){return}if(e){t.start=n;t.end=o.length-1}else{t.start=0;t.end=n}if(t.start<t.end){for(var s=t.start;s<=t.end;s++){o[s].setSelected(true)}}};M.prototype._copy=function(){this._fillClipboard("copy")};M.prototype._fillClipboard=function(e){var t=this.getSelectedTokens();var o=t.map(function(e){return e.getText()}).join("\r\n");var i=function(e){if(e.clipboardData){e.clipboardData.setData("text/plain",o)}else{e.originalEvent.clipboardData.setData("text/plain",o)}e.preventDefault()};document.addEventListener(e,i);document.execCommand(e);document.removeEventListener(e,i)};M.prototype._cut=function(){var e=this.getSelectedTokens();this._fillClipboard("cut");this.fireTokenChange({type:M.TokenChangeType.Removed,token:e,tokens:e,addedTokens:[],removedTokens:e});this.fireTokenUpdate({type:M.TokenChangeType.Removed,addedTokens:[],removedTokens:e});this.fireTokenDelete({tokens:e})};M.prototype._ensureTokenVisible=function(e){if(!e||!e.getDomRef()||!this.getDomRef()){return}var o=this.$().offset().left,i=this.$().width(),n=e.$().offset().left,s=t.getRTL(),r=s?parseInt(e.$().css("margin-left")):parseInt(e.$().css("margin-right")),a=parseInt(e.$().css("border-left-width"))+parseInt(e.$().css("border-right-width")),l=e.$().width()+r+a,d=s?this.$().scrollLeftRTL():this.$().scrollLeft(),h=d-o+n,p=d+(n-o+l-i);if(this._getVisibleTokens().indexOf(e)===0){this.$().scrollLeft(0);return}if(n<o){s?this.$().scrollLeftRTL(h):this.$().scrollLeft(h)}if(n-o+l>i){s?this.$().scrollLeftRTL(p):this.$().scrollLeft(p)}};M.prototype.onfocusin=function(e){this.setRenderMode(v.Loose);this.fireRenderModeChange({renderMode:"Loose"});this._bFocusFirstToken=e.srcControl===this.getTokens()[0];if(!this._bFocusFirstToken&&!this._bTokenToBeDeleted){this._ensureTokenVisible(e.srcControl)}};M.prototype.onmousedown=function(e){this._bTokenToBeDeleted=e.target.matches(".sapMTokenIcon, .sapMTokenIcon *")};M.prototype.ontap=function(e){var t=e.shiftKey,o=e.ctrlKey||e.metaKey,i=e.getMark("tokenTap"),n=e.getMark("tokenDeletePress"),s=this._getVisibleTokens(),r,a,l,d,h;if(n||!i||!t&&o){this._oSelectionOrigin=null;return}if(!t){this._oSelectionOrigin=i;this._changeAllTokensSelection(false,i,true)}r=i;if(this._oSelectionOrigin){r=this._oSelectionOrigin}else{this._oSelectionOrigin=r}if(i&&this.hasOneTruncatedToken()){this._handleNMoreIndicatorPress();return}a=this.indexOfToken(r);l=this.indexOfToken(i);d=Math.min(a,l);h=Math.max(a,l);s.forEach(function(e,o){if(o>=d&&o<=h&&t){e.setSelected(i.getSelected())}})};M.prototype.onsapprevious=function(e){var t=this._getVisibleTokens(),o=t.length;e.preventDefault();if(o===0){return}var i=l.closestTo(document.activeElement);var n=i?t.indexOf(i):-1;if(n===0){e.setMarked("forwardFocusToParent");return}var s,r;if(n>0){s=t[n-1];this._ensureTokenVisible(s);s.focus()}else{s=t[t.length-1];this._ensureTokenVisible(s);s.focus({preventScroll:true})}if(e.shiftKey){r=t[n];s.setSelected(true);r.setSelected(true)}e.setMarked()};M.prototype.onsapnext=function(e){var t=this._getVisibleTokens(),o=t.length;e.preventDefault();if(o===0){return}var i=l.closestTo(document.activeElement);var n=i?t.indexOf(i):-1;var s=t[n+1];this._ensureTokenVisible(s);if(n<o-1){var r=t[n];s.focus();if(e.shiftKey){s.setSelected(true);r.setSelected(true)}}else{e.setMarked("forwardFocusToParent");return}e.setMarked()};M.prototype.addValidator=function(e){k.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this)};M.prototype.removeValidator=function(e){k.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this)};M.prototype.removeAllValidators=function(){k.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this)};M.prototype.addValidateToken=function(e){k.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this)};M.prototype._parseString=function(e){return e.split(/\r\n|\r|\n/g)};M.prototype.checkFocus=function(){var e=g(this.getTokensPopup().getDomRef(),document.activeElement);return this.getDomRef()&&g(this.getDomRef(),document.activeElement)||e};M.prototype.selectAllTokens=function(e){if(e===undefined){e=true}this._changeAllTokensSelection(e);return this};M.prototype._changeAllTokensSelection=function(e,t,o){var i=this._getVisibleTokens();i.filter(function(e){return e!==t}).forEach(function(t){t.setSelected(e)});if(!o){this._doSelect()}return this};M.prototype.getSelectedTokens=function(){return this._getVisibleTokens().filter(function(e){return e.getSelected()})};["onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(e){M.prototype[e]=function(t){if(e==="onsaphome"||e==="onsappageup"){var o=this.getTokens().filter(function(e){return e.getDomRef()&&!e.getDomRef().classList.contains("sapMHiddenToken")});o.length&&o[0].focus();this.scrollToStart();t.preventDefault();return}var i=this._getVisibleTokens(),n=i[i.length-1];if(n.getDomRef()!==document.activeElement){n.focus();this.scrollToEnd();t.stopPropagation()}else{t.setMarked("forwardFocusToParent")}t.preventDefault()}});M.prototype.setShouldRenderTabIndex=function(e){this._bShouldRenderTabIndex=e};M.prototype.getEffectiveTabIndex=function(){return this._bShouldRenderTabIndex===null?!!this.getTokens().length:this._bShouldRenderTabIndex};M.prototype.onclick=function(e){if(!this.getEnabled()){return}this._nMoreIndicatorPressed=!this.hasOneTruncatedToken()&&!this.hasStyleClass("sapMTokenizerIndicatorDisabled")&&e.target.classList.contains("sapMTokenizerIndicator");if(this._nMoreIndicatorPressed){this._handleNMoreIndicatorPress()}};M.prototype.ontouchstart=function(e){e.setMarked();if(p.browser.chrome&&window.getSelection()){window.getSelection().removeAllRanges()}};M.prototype.exit=function(){this._deregisterResizeHandler();if(this._oTokensList){this._oTokensList.destroy();this._oTokensList=null}if(this._oScroller){this._oScroller.destroy();this._oScroller=null}if(this._oPopup){this._oPopup.destroy();this._oPopup=null}this._oTokensWidthMap=null;this._oIndicator=null;this._aTokenValidators=null;this._bShouldRenderTabIndex=null;this._bThemeApplied=false};M.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){c.deregister(this._sResizeHandlerId);delete this._sResizeHandlerId}};M.prototype._setTokensAria=function(){var e=this._getVisibleTokens().length;var t;var o="";var i="";var n={0:"TOKENIZER_ARIA_NO_TOKENS",1:"TOKENIZER_ARIA_CONTAIN_ONE_TOKEN"};if(r.isAccessibilityEnabled()){t=this.getAggregation("_tokensInfo");i=n[e]?n[e]:"TOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS";o=C.getText(i,[e]);t.setText(o)}};M.prototype._doSelect=function(){if(this.checkFocus()&&this._bCopyToClipboardSupport){var e=document.activeElement;var t=window.getSelection();t.removeAllRanges();if(this.getSelectedTokens().length){var o=document.createRange();o.selectNodeContents(this.getDomRef("clip"));t.addRange(o)}if(window.clipboardData&&e.id===this.getId()+"-clip"&&this.getDomRef()){this.getDomRef().focus()}}};M.prototype._setHiddenTokensCount=function(e){e=this.validateProperty("hiddenTokensCount",e);return this.setProperty("hiddenTokensCount",e)};M.prototype.getHiddenTokensCount=function(){return this.getProperty("hiddenTokensCount")};M.prototype.getTokensInfoId=function(){return this.getAggregation("_tokensInfo").getId()};M.prototype._handleBackspace=function(e,t){var o=this.getTokens();if(o[e-1]){return o[e-1].focus()}return t()};M.prototype._handleDelete=function(e,t){var o=this.getTokens();if(o[e+1]){return o[e+1].focus()}return t()};M.prototype.focusToken=function(e,t,o){var i=this.getTokens();var n=t.keyCode;var s=t.keyCode===T.BACKSPACE;if(i.length===0){return}if(!n){return}if(s){return this._handleBackspace(e,o)}return this._handleDelete(e,o)};M.TokenChangeType={Added:"added",Removed:"removed",RemovedAll:"removedAll",TokensChanged:"tokensChanged"};M.TokenUpdateType={Added:"added",Removed:"removed"};return M});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/TokenizerRenderer", ["sap/ui/Device","sap/ui/core/InvisibleText"],function(e,t){"use strict";var n={apiVersion:2};n.render=function(n,o){var a=o.getTokens();n.openStart("div",o);n.class("sapMTokenizer");if(!o.getEditable()){n.class("sapMTokenizerReadonly")}if(!o.getEnabled()){n.class("sapMTokenizerDisabled")}if(!a.length){n.class("sapMTokenizerEmpty");n.attr("aria-hidden","true")}n.style("max-width",o.getMaxWidth());var i=o.getWidth();if(i){n.style("width",i)}var r={role:"listbox"};r.labelledby={value:t.getStaticId("sap.m","TOKENIZER_ARIA_LABEL"),append:true};n.accessibilityState(o,r);n.openEnd();n.renderControl(o.getAggregation("_tokensInfo"));o._bCopyToClipboardSupport=false;if((e.system.desktop||e.system.combi)&&a.length){n.openStart("div",o.getId()+"-clip").class("sapMTokenizerClip");if(window.clipboardData){n.attr("contenteditable","true");n.attr("tabindex","-1")}n.openEnd();n.unsafeHtml("&nbsp");n.close("div");o._bCopyToClipboardSupport=true}n.openStart("div",o.getId()+"-scrollContainer");n.class("sapMTokenizerScrollContainer");if(o.getHiddenTokensCount()===o.getTokens().length){n.class("sapMTokenizerScrollContainerNoVisibleTokens")}n.openEnd();this._renderTokens(n,o);n.close("div");this._renderIndicator(n,o);n.close("div")};n._renderTokens=function(e,t){var n=0,o=t.getTokens(),a=o.length;for(n=0;n<a;n++){e.renderControl(o[n])}};n._renderIndicator=function(e,t){var n=!!t._oPopup&&t._oPopup.isOpen();var o=t._oPopup&&t._oPopup.getId();e.openStart("span");e.class("sapMTokenizerIndicator");this._renderIndicatorTabIndex(e,t);if(t.getHiddenTokensCount()===0){e.class("sapUiHidden")}e.attr("role","button").attr("aria-haspopup","dialog").attr("aria-expanded",n);if(o){e.attr("aria-controls",o)}e.openEnd().close("span")};n._renderIndicatorTabIndex=function(e,t){};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/completeTextSelected", [],function(){"use strict";var e=function(e){var t=e&&e.value&&e.value.length;if(!e||!t||e.selectionStart!==0||e.selectionEnd!==t){return false}return true};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/forwardItemProperties", ["sap/m/inputUtils/ListHelpers"],function(e){"use strict";var t=function(t,i){var a=t.item;var r=a.data(e.CSS_CLASS+"ListItem");var s;var l;var p;var n={text:"title",enabled:"visible",tooltip:"tooltip"};var o=t.propName;var v=t.propValue;if(!r){return}if(a.isA("sap.ui.core.Item")&&o==="enabled"){a._bSelectable=!!v}if(n[o]){l=n[o];p="set"+l.charAt(0).toUpperCase()+l.slice(1);r[p](v)}if(o==="additionalText"){s=i?v:"";r.setInfo(s)}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/forwardItemPropertiesToToken", ["sap/m/inputUtils/ListHelpers","sap/m/inputUtils/getTokenByItem"],function(e,t){"use strict";var r=function(e){var r=e.item;var i=e.propName;var a=e.propValue;var s=t(r);if(!s){return}if(i==="enabled"){s.setVisible(a)}else if(s.getMetadata().hasProperty(i)){s.setProperty(i,a)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/getTokenByItem", ["sap/m/inputUtils/ListHelpers"],function(n){"use strict";var t=function(t){return t?t.data(n.CSS_CLASS+"Token"):null};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/highlightItemsWithContains", ["sap/base/security/encodeXML"],function(e){"use strict";var n=function(n,t){if(!RegExp.escape){RegExp.escape=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}}var r=n?n.textContent:"",i="",u=RegExp.escape(t),a=new RegExp(u,"gi"),p=function(e){return e.match(new RegExp(a,"i"))};if(!p(r)){return e(r)}else{i=r.replace(a,function(n){return'<span class="sapMInputHighlight">'+e(n)+"</span>"})}return i};var t=function(e,t,r){var i,u;r=r||200;if(!t||!e&&!e.length||e.length>r){return}u=[];for(i=0;i<e.length;i++){u.push(n(e[i],t))}for(i=0;i<e.length;i++){e[i].innerHTML=u[i]}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/itemsVisibilityHandler", ["sap/m/inputUtils/ListHelpers"],function(i){"use strict";return function(e,t){var s,r,n;if(!Array.isArray(e)||!e.length){return}t=t||{};s=t.items||[];r=t.groups||[];e.forEach(function(e){n=i.getListItem(e);if(!e.isA("sap.ui.core.SeparatorItem")&&n){n.setVisible(s.indexOf(e)!==-1)}});r.forEach(function(e){n=i.getListItem(e.header);n&&n.setVisible(e.visible)})}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/denormalizeScrollLeftRTL", ["sap/ui/util/_FeatureDetection"],function(i){"use strict";var t;if(i.initialScrollPositionIsZero()){t=function(i,t){return t.clientWidth+i-t.scrollWidth}}else{t=function(i,t){return i}}var n=function(i,n){if(n){return t(i,n)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/scrollLeftRTL", ["sap/ui/dom/denormalizeScrollLeftRTL","sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";var i;if(e.initialScrollPositionIsZero()){i=function(t){return t.scrollWidth+t.scrollLeft-t.clientWidth}}else{i=function(t){return t.scrollLeft}}var r=function(e){var r=this.get(0);if(r){if(e===undefined){return i(r)}else{r.scrollLeft=t(e,r);return this}}};jQuery.fn.scrollLeftRTL=r;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerDisplayMode", ["sap/ui/base/DataType"],function(e){"use strict";var i={Default:"Default",Large:"Large",Simplified:"Simplified"};e.registerEnum("sap.ui.unified.ColorPickerDisplayMode",i);return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHttpRequestMethod", ["sap/ui/base/DataType"],function(e){"use strict";var t={Post:"POST",Put:"PUT"};e.registerEnum("sap.ui.unified.FileUploaderHttpRequestMethod",t);return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Menu", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Popup","./MenuItemBase","./MenuItem","./library","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/RenderManager","sap/ui/unified/MenuRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/ControlEvents","sap/ui/events/PseudoEvents","sap/ui/events/checkMouseEnterOrLeave"],function(e,t,i,o,n,s,r,u,a,p,h,f,l,jQuery,d,c,g,m,y){"use strict";var v=n.Dock;var b=p.OpenState;var I=p.ItemSelectionMode;var _=i.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null,deprecated:true},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.IMenuItem",multiple:true,singularName:"item",defaultClass:r}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}},closed:{},beforeClose:{allowPreventDefault:true}}},renderer:f});(function(r){_.prototype.bCozySupported=true;_._DELAY_SUBMENU_TIMER=300;_._DELAY_SUBMENU_TIMER_EXT=400;_.prototype.init=function(){var e=this;this.bOpen=false;this.oOpenedSubMenu=null;this.oHoveredItem=null;this.oPopup=null;this._bOpenedAsContextMenu=false;this.fAnyEventHandlerProxy=jQuery.proxy(function(e){var t=this.getRootMenu();if(t!=this||!this.isOpen()||!this.getDomRef()||e.type!="mousedown"&&e.type!="touchstart"){return}t.handleOuterEvent(this.getId(),e)},this);this.fOrientationChangeHandler=function(){e.close()};this.bUseTopStyle=false};_.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnCustomEnhanceAccStateFunction=e};_.prototype.enhanceAccessibilityState=function(e,t){var i=typeof this._fnCustomEnhanceAccStateFunction==="function";if(i){this._fnCustomEnhanceAccStateFunction(e,t)}};_.prototype.exit=function(){if(this.oPopup){this.oPopup.detachClosed(this._menuClosed,this);this.oPopup.destroy();delete this.oPopup}g.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(r).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this._resetDelayedRerenderItems();this._detachResizeHandler()};_.prototype.invalidate=function(e){if(e instanceof s&&this.getDomRef()){this._delayedRerenderItems()}else if(this.oPopup&&this.oPopup.isOpen()){i.prototype.invalidate.apply(this,arguments)}};_.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems();this.$().off("mousemove")};_.prototype.onAfterRendering=function(){if(this.$().parent().attr("id")!="sap-ui-static"){c.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page.");this.close();this.$().remove()}var e=this._getItems();for(var t=0;t<e.length;t++){if(e[t].onAfterRendering&&e[t].getDomRef()){e[t].onAfterRendering()}}if(this.oHoveredItem){this.oHoveredItem.hover(true,this)}S(this);this.$().on("mousemove",this._focusMenuItem.bind(this))};_.prototype._focusMenuItem=function(e){if(!o.system.desktop){return}var t=this.getItemByDomRef(e.target);if(!this.isOpen()||!t){return}if(this.oOpenedSubMenu&&l(this.oOpenedSubMenu.getDomRef(),e.target)){return}this.setHoveredItem(t);var i=t&&t.getDomRef()!==document.activeElement;if(i){t.focus(this)}this._openSubMenuDelayed(t)};_.prototype.onThemeChanged=function(){if(this.getDomRef()&&this.getPopup().getOpenState()===b.OPEN){S(this);this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}};_.prototype.addItem=function(e){this.addAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.insertItem=function(e,t){this.insertAggregation("items",e,t,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.removeItem=function(e){this.removeAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.removeAllItems=function(){var e=this.removeAllAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return e};_.prototype.destroyItems=function(){this.destroyAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype._delayedRerenderItems=function(){if(!this.getDomRef()){return}this._resetDelayedRerenderItems();this._discardOpenSubMenuDelayed();this._itemRerenderTimer=setTimeout(function(){var e=this.getDomRef();if(e){var t=(new h).getInterface();f.renderItems(t,this);t.flush(e);t.destroy();this.onAfterRendering();this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}}.bind(this),0)};_.prototype._resetDelayedRerenderItems=function(){if(this._itemRerenderTimer){clearTimeout(this._itemRerenderTimer);delete this._itemRerenderTimer}};_.prototype._detachResizeHandler=function(){if(this._hasResizeListener){o.resize.detachHandler(this._handleResizeChange,this);this._hasResizeListener=false}};_.prototype.open=function(e,t,i,n,s,u,a){var h;this._bLeavingMenu=false;if(this.isOpen()){return}p(this,true);this.oOpenerRef=t;this.bIgnoreOpenerDOMRef=false;this.getPopup().open(0,i,n,s,u||"0 0",a||"flipfit flipfit",function(e){var t=this.getPopup()._getOfDom(s);if(!t||!jQuery(t).is(":visible")||!M(t)){this.close()}else{this.getPopup()._applyPosition(e.lastPosition)}}.bind(this));this.bOpen=this.getPopup().isOpen();o.resize.attachHandler(this._handleResizeChange,this);this._hasResizeListener=true;if(e||this.getRootMenu().getId()===this.getId()){h=this.getNextSelectableItem(-1);this.setHoveredItem(h);h&&h.focus(this)}g.bindAnyEvent(this.fAnyEventHandlerProxy);if(o.support.orientation&&this.getRootMenu()===this){jQuery(r).on("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=true}};_.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition)};_.prototype.openAsContextMenu=function(i,o){var n,s,r,u,a;o=o instanceof t?o.getDomRef():o;if(i instanceof jQuery.Event){a=jQuery(o).offset();n=i.pageX-a.left;s=i.pageY-a.top;this._iX=i.clientX;this._iY=i.clientY}else{n=i.offsetX||0;s=i.offsetY||0;this._iX=i.left||0;this._iY=i.top||0}r=e.getRTL();u=v;if(r){n=o.clientWidth-n}this._bOpenedAsContextMenu=true;this.open(true,o,u.BeginTop,u.BeginTop,o,n+" "+s,"fit")};_.prototype._handleOpened=function(){var t,i,o,n,s,u,a,p,h,f;if(!this._bOpenedAsContextMenu){return}t=this.$();i=jQuery(r);o=this._iX;n=this._iY;s=i.scrollLeft()+i.width();u=i.scrollTop()+i.height();a=e.getRTL();p=false;h=t.width();f=t.height();if(n+f>u){n=n-f;p=true}if(a){if(s-o+h>s){o=s-(o+h);p=true}else{o=s-o;p=true}}else{if(o+h>s){o=o-h;p=true}}this._bOpenedAsContextMenu=false;p&&this.oPopup.setPosition("begin top","begin top",i,o+" "+n,"flipfit")};_.prototype.close=function(e){if(!this.isOpen()||_._dbg){return}this._discardOpenSubMenuDelayed();p(this,false);delete this._bFixed;g.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(r).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this.closeSubmenu();this.setHoveredItem();if(!e){this.bIgnoreOpenerDOMRef=true}this.getPopup().close(0);this.bOpen=this.getPopup().isOpen();this._detachResizeHandler();this._resetDelayedRerenderItems();this.$().remove();this.bOutput=false;if(this.isSubMenu()){this.getParent().getParent().oOpenedSubMenu=null}};_.prototype.isOpen=function(){return this.getPopup().isOpen()};_.prototype._menuClosed=function(){this.fireClosed();if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef){try{this.oOpenerRef.focus()}catch(e){c.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e)}}this.oOpenerRef=undefined}};_.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),false,!!(e.metaKey||e.ctrlKey));e.preventDefault();e.stopPropagation()};_.prototype.onsapnext=function(e){var t,i,o=this.oHoveredItem?this.oHoveredItem.getSubmenu():undefined;if(e.keyCode!==d.ARROW_DOWN&&!e.metaKey&&!e.altKey){if(o){if(o.isOpen()){i=o.getNextSelectableItem(-1);o.setHoveredItem(i);i&&i.focus(this)}else{this.openSubmenu(this.oHoveredItem,true)}}return}if(o&&o.isOpen()){this.closeSubmenu(false,true)}t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1;i=this.getNextSelectableItem(t);this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};_.prototype.onsapnextmodifiers=_.prototype.onsapnext;_.prototype.onsapprevious=function(e){var t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1,i=this.getPreviousSelectableItem(t),o=this.oHoveredItem?this.oHoveredItem.getSubmenu():null;if(e.keyCode!==d.ARROW_UP&&!e.metaKey&&!e.altKey){if(this.isSubMenu()){this.close(true)}e.preventDefault();e.stopPropagation();return}if(o&&o.isOpen()){this.closeSubmenu(false,true)}this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};_.prototype.onsappreviousmodifiers=_.prototype.onsapprevious;_.prototype.onsaphome=function(e){var t=this.getNextSelectableItem(-1);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsapend=function(e){var t=this.getPreviousSelectableItem(this._getItems().length);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsappagedown=function(e){var t=this._getItems(),i=this.oHoveredItem?t.indexOf(this.oHoveredItem):-1,o;if(this.getPageSize()<1){this.onsapend(e);return}i+=this.getPageSize();if(i>=t.length){this.onsapend(e);return}o=this.getNextSelectableItem(i-1);this.setHoveredItem(o);o&&o.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsappageup=function(e){var t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsaphome(e);return}t-=this.getPageSize();if(t<0){this.onsaphome(e);return}i=this.getPreviousSelectableItem(t+1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation()};_.prototype.onkeyup=function(e){if(e.keyCode===d.ARROW_LEFT||e.keyCode===d.ARROW_RIGHT){return}if(this.oHoveredItem&&jQuery(e.target).prop("tagName")!="INPUT"){var t=this.oHoveredItem.getDomRef();jQuery(t).trigger("focus")}if(!this._sapSelectOnKeyDown){return}else{this._sapSelectOnKeyDown=false}if(!m.events.sapselect.fnCheck(e)&&e.keyCode!==d.ENTER){return}this.selectItem(this.oHoveredItem,true,false);e.preventDefault();e.stopPropagation()};_.prototype.onsapbackspace=function(e){if(jQuery(e.target).prop("tagName")!="INPUT"){e.preventDefault()}};_.prototype.onsapbackspacemodifiers=_.prototype.onsapbackspace;_.prototype.onsapescape=function(e){this._bLeavingMenu=true;this.close(true);e.preventDefault();e.stopPropagation()};_.prototype.onsaptabnext=function(e){if(this.isSubMenu()){e.preventDefault()}this._bLeavingMenu=true;this.close(true);e.stopPropagation()};_.prototype.onsaptabprevious=_.prototype.onsaptabnext;_.prototype._openSubMenuDelayed=function(e){if(!e){return}var t=e.getSubmenu(),i=t&&t._getItems().length;this._discardOpenSubMenuDelayed();this._delayedSubMenuTimer=setTimeout(function(){if(i){this.setHoveredItem(e);e&&e.focus(this);this.openSubmenu(e,false,true)}}.bind(this),i?_._DELAY_SUBMENU_TIMER:_._DELAY_SUBMENU_TIMER_EXT)};_.prototype._discardOpenSubMenuDelayed=function(e){if(this._delayedSubMenuTimer){clearTimeout(this._delayedSubMenuTimer);this._delayedSubMenuTimer=null}};_.prototype.onmouseout=function(e){if(!o.system.desktop){return}if(y(e,this.getDomRef())){this.setHoveredItem(null);if(!this.oOpenedSubMenu||!(this.oOpenedSubMenu.getParent()===this.oHoveredItem)){this.setHoveredItem(this.oHoveredItem)}this._discardOpenSubMenuDelayed()}};_.prototype.onsapfocusleave=function(e){if(this.oOpenedSubMenu||!this.isOpen()){return}if(o.os.name=="mac"&&o.browser.firefox&&this.isOpen()){var t=e.relatedControlId,i=t?a.byId(t):null,n=i&&i instanceof s;if(i&&!n){this._getItems()[0].focus();return}}this.getRootMenu().handleOuterEvent(this.getId(),e)};_.prototype.handleOuterEvent=function(e,t){var i=false,n=o.support.touch||o.system.combi;this.bIgnoreOpenerDOMRef=false;if(t.type=="mousedown"||t.type=="touchstart"){if(n&&(t.isMarked("delayedMouseEvent")||t.isMarked("cancelAutoClose"))){return}var s=this;while(s&&!i){if(l(s.getDomRef(),t.target)){i=true}s=s.oOpenedSubMenu}}else if(t.type=="sapfocusleave"){if(n){return}if(t.relatedControlId){var s=this;while(s&&!i){if(s.oOpenedSubMenu&&s.oOpenedSubMenu.getId()==t.relatedControlId||l(s.getDomRef(),jQuery(document.getElementById(t.relatedControlId)).get(0))){i=true}s=s.oOpenedSubMenu}}if(!i){this.bIgnoreOpenerDOMRef=true}}if(!i&&this.fireBeforeClose()){this.close()}};_.prototype.getItemByDomRef=function(e){var t=this._getItems(),i=t.length;for(var o=0;o<i;o++){var n=t[o],s=n.getDomRef();if(l(s,e)){return n}}return null};_.prototype.selectItem=function(e,t,i){if(!e||!(e instanceof s&&this.checkEnabled(e))){return}var n=e.getSubmenu();if(!n||!n._getItems().length){if(this.fireBeforeClose()){this.getRootMenu().close(true)}if(e._getItemSelectionMode&&e._getItemSelectionMode()!==I.None){e.setSelected(!e.getSelected())}}else{if(!o.system.desktop&&this.oOpenedSubMenu===n){this.closeSubmenu()}else{this.openSubmenu(e,t)}}e.fireSelect({item:e,ctrlKey:i});this.getRootMenu().fireItemSelect({item:e})};_.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof _};_.prototype.getRootMenu=function(){var e=this;while(e.isSubMenu()){e=e.getParent().getParent()}return e};_.prototype.getMenuLevel=function(){var e=1;var t=this;while(t.isSubMenu()){t=t.getParent().getParent();e++}return e};_.prototype.getPopup=function(){if(!this.oPopup){this.oPopup=new n(this,false,true,false);this.oPopup.setDurations(0,0);this.oPopup.attachClosed(this._menuClosed,this);this.oPopup.attachOpened(this._handleOpened,this)}return this.oPopup};_.prototype.setHoveredItem=function(e){if(this.oHoveredItem){this.oHoveredItem.hover(false,this)}if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e;e.hover(true,this);this.scrollToItem(this.oHoveredItem)};_.prototype.openSubmenu=function(e,t,i){var o=e.getSubmenu();if(!o){return}if(!this.checkEnabled(e)){return}if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==o){this.closeSubmenu()}if(this.oOpenedSubMenu){this.oOpenedSubMenu._bFixed=i&&this.oOpenedSubMenu._bFixed||!i&&!this.oOpenedSubMenu._bFixed;this.oOpenedSubMenu._bringToFront()}else if(o._getItems().length){this.oOpenedSubMenu=o;var s=n.Dock;o.open(t,e,s.BeginTop,s.EndTop,e,"-4 4")}};_.prototype.closeSubmenu=function(e,t){if(this.oOpenedSubMenu){if(e&&this.oOpenedSubMenu._bFixed){return}if(t){this.oOpenedSubMenu.bIgnoreOpenerDOMRef=true}this.oOpenedSubMenu.close();this.oOpenedSubMenu=null}};_.prototype.scrollToItem=function(e){var t=this.getDomRef(),i=e?e.getDomRef():null;if(!i||!t){return}var o=t.scrollTop,n=i.offsetTop,s=jQuery(t).height(),r=jQuery(i).height();if(o>n){t.scrollTop=n}else if(n+r>o+s){t.scrollTop=Math.ceil(n+r-s)}};_.prototype._bringToFront=function(){jQuery(document.getElementById(this.getPopup().getId())).mousedown()};_.prototype.checkEnabled=function(e){return e&&e.getEnabled()&&this.getEnabled()};_.prototype.getNextSelectableItem=function(e){var t=this._getItems();var i=t[e];for(var o=e+1;o<t.length;o++){if(t[o].getVisible()){return t[o]}}return i&&i.getVisible()?i:null};_.prototype.getPreviousSelectableItem=function(e){var t=this._getItems();var i=t[e];for(var o=e-1;o>=0;o--){if(t[o].getVisible()){return t[o]}}return i&&i.getVisible()?i:null};_.prototype.setRootMenuTopStyle=function(e){this.getRootMenu().bUseTopStyle=e;_.rerenderMenu(this.getRootMenu())};_.rerenderMenu=function(e){var t=e._getItems();for(var i=0;i<t.length;i++){var o=t[i].getSubmenu();if(o){_.rerenderMenu(o)}}e.invalidate()};_.prototype.focus=function(){if(this.isOpen()){i.prototype.focus.apply(this,arguments)}};_.prototype.isCozy=function(){if(!this.bCozySupported){return false}if(this.hasStyleClass("sapUiSizeCozy")){return true}if(u(this.oOpenerRef)){return true}if(u(this.getParent())){return true}return false};_.prototype.getSelectedItems=function(){return this._getItems().filter(e=>e.getSelected&&e.getSelected()&&e._getItemSelectionMode()!==I.None)};_.prototype._getItems=function(){var e=this.getItems(),t=[],i,o;for(o=0;o<e.length;o++){if(e[o].getItems){i=e[o].getItems();for(var n=0;n<i.length;n++){t.push(i[n])}}else{t.push(e[o])}}return t};function u(e){if(!e||!e.getDomRef){return false}return!!e.getDomRef()?.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy")?.classList.contains("sapUiSizeCozy")}function p(e,t){var i=e.getParent();if(i&&i instanceof s){i.onSubmenuToggle(t)}}function S(e){var t=e.getMaxVisibleItems(),i=document.documentElement.clientHeight-10,o=e.$();if(t>0){var n=e._getItems();for(var s=0;s<n.length;s++){if(n[s].getDomRef()){i=Math.min(i,n[s].$().outerHeight(true)*t);break}}}if(o.outerHeight(true)>i){o.css("max-height",i+"px").toggleClass("sapUiMnuScroll",true)}else{o.css("max-height","").toggleClass("sapUiMnuScroll",false)}}function M(e){var t;if(!e){return false}if(e instanceof jQuery){e=e.get(0)}t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(r.innerHeight||document.documentElement.clientHeight)&&t.right<=(r.innerWidth||document.documentElement.clientWidth)}})(window);return _});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItem", ["sap/ui/core/Element","sap/ui/core/IconPool","sap/ui/events/KeyCodes","./MenuItemBase","./library","sap/ui/core/library"],function(e,t,o,n,i,s){"use strict";var a=s.ItemSelectionMode;var r=n.extend("sap.ui.unified.MenuItem",{metadata:{interfaces:["sap.ui.unified.IMenuItem"],library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},selected:{type:"boolean",group:"Behavior",defaultValue:false},shortcutText:{type:"string",group:"Appearance",defaultValue:""}},aggregations:{endContent:{type:"sap.ui.core.Control",multiple:true,singularName:"endContent"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},_group:{type:"sap.ui.unified.MenuItemGroup",group:"Behavior",visibility:"hidden"}}}});t.insertFontFaceStyle();r.prototype.render=function(e,t,o,n){var i=e,r=t.getSubmenu(),l=t.getEnabled(),p=t.getSelected()&&t._getItemSelectionMode()!==a.None,u=t.getEndContent(),c=t.getShortcutText(),d,g;i.openStart("li",t);if(!r&&c){i.attr("aria-keyshortcuts",c)}if(t.getVisible()){i.attr("tabindex","0")}i.class("sapUiMnuItm");if(n.iItemNo==1){i.class("sapUiMnuItmFirst")}else if(n.iItemNo==n.iTotalItems){i.class("sapUiMnuItmLast")}if(!o.checkEnabled(t)){i.class("sapUiMnuItmDsbl")}if(t.getStartsSection()){i.class("sapUiMnuItmSepBefore")}if(t.getTooltip_AsString()){i.attr("title",t.getTooltip_AsString())}if(n.bAccessible){switch(t._getItemSelectionMode()){case a.SingleSelect:d="menuitemradio";break;case a.MultiSelect:d="menuitemcheckbox";break;default:d="menuitem"}i.accessibilityState(t,{role:d,disabled:!l,posinset:n.iItemNo,setsize:n.iTotalItems,selected:null,checked:p?true:undefined,labelledby:{value:this.getId()+"-txt",append:true}});if(r){i.attr("aria-haspopup",s.aria.HasPopup.Menu.toLowerCase());i.attr("aria-owns",r.getId())}}i.openEnd();i.openStart("div");i.class("sapUiMnuItmIco");i.openEnd();if(t.getIcon()){g=t._getIcon();i.renderControl(g)}i.close("div");i.openStart("div",this.getId()+"-txt");i.class("sapUiMnuItmTxt");i.openEnd();i.text(t.getText());i.close("div");i.openStart("div",this.getId()+"-scuttxt");i.class("sapUiMnuItmSCut");i.openEnd();if(!r&&c){i.text(c)}i.close("div");if(r){i.openStart("div");i.class("sapUiMnuItmSbMnu");i.openEnd();i.openStart("div");i.class("sapUiIconMirrorInRTL");i.openEnd();i.close("div");i.close("div")}else if(p||u.length){if(u.length){i.openStart("div",this.getId()+"-endContent");i.class("sapUiMnuEndContent");i.openEnd();u.forEach(e=>i.renderControl(e));i.close("div")}if(p){i.openStart("div",this.getId()+"-sel");i.class("sapUiMnuItmSel");i.openEnd();i.close("div")}}i.close("li")};r.prototype.hover=function(e,t){this.$().toggleClass("sapUiMnuItmHov",e)};r.prototype.focus=function(e){if(this.getVisible()){this.$().trigger("focus")}else{e.focus()}};r.prototype._handleContentNavigation=function(e){const t=e.keyCode===o.ARROW_LEFT||e.keyCode===o.ARROW_RIGHT;if(!this.getEndContent().length||!t){this.oHoveredItem=null;return}const n=this.oHoveredItem?this.getEndContent().indexOf(this.oHoveredItem):-1;let i;if(e.keyCode===o.ARROW_LEFT){i=this.getPreviousSelectableItem(n)}else{i=this.getNextSelectableItem(n)}this.setHoveredItem(i);i&&i.focus();e.preventDefault();e.stopPropagation()};r.prototype.onsapnext=r.prototype._handleContentNavigation;r.prototype.onsapprevious=r.prototype._handleContentNavigation;r.prototype.getNextSelectableItem=function(e){const t=this.getEndContent();const o=e+1>=t.length?t.length-1:e+1;return t[o]};r.prototype.getPreviousSelectableItem=function(e){const t=this.getEndContent();const o=e-1<0?0:e-1;return t[o]};r.prototype.setHoveredItem=function(e){if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e};r.prototype._getItemSelectionMode=function(){var t=this.getAssociation("_group");return t?e.getElementById(t).getItemSelectionMode():a.None};r.prototype.setSelected=function(t){var o=e.getElementById(this.getAssociation("_group"));if(t&&o&&o.getItemSelectionMode()===a.SingleSelect){o._clearSelectedItems()}this.setProperty("selected",t);return this};r.prototype.getSelected=function(){return this.getProperty("selected")&&this._getItemSelectionMode()!==a.None};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemBase", ["sap/ui/core/Element","./library","sap/ui/core/IconPool","sap/m/Image"],function(e,t,o,n){"use strict";var i=e.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});i.prototype.init=function(){};i.prototype.render=function(e,t,o){var n=e;n.openStart("li",t);n.openEnd();n.openStart("div",this.getId()+"-txt");n.style("white-space","nowrap");n.style("display","inline-block");n.style("padding","1px");n.style("color","black");n.openEnd();n.text(t.getId());if(this.getSubmenu()){n.text("&nbsp;&nbsp;->")}n.close("div");n.close("li")};i.prototype.hover=function(e,t){this.$("txt").attr("style",e?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;")};i.prototype.focus=function(){};i.prototype.onSubmenuToggle=function(e){this.$().toggleClass("sapUiMnuItmSubMnuOpen",e)};i.prototype.onAfterRendering=function(){};i.prototype.onsapshow=function(e){if(this.getParent()&&this.getParent().close){this.getParent().close(true)}e.preventDefault()};i.prototype._getIcon=function(){return o.createControlByURI({src:this.getIcon(),useIconTooltip:false},n)};i.prototype.onsaphide=i.prototype.onsapshow;return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemGroup", ["sap/ui/core/Element","sap/ui/core/library"],function(e,t){"use strict";var i=t.ItemSelectionMode;var n=e.extend("sap.ui.unified.MenuItemGroup",{metadata:{interfaces:["sap.ui.unified.IMenuItem"],library:"sap.ui.unified",properties:{itemSelectionMode:{type:"sap.ui.core.ItemSelectionMode",group:"Behavior",defaultValue:i.None}},aggregations:{items:{type:"sap.ui.unified.IMenuItem",multiple:true,singularName:"item"}}}});n.prototype.setItemSelectionMode=function(e,t){this.setProperty("itemSelectionMode",e,t);if(e===i.SingleSelect){this._ensureSingleSelection()}return this};n.prototype.addItem=function(e,t){this._addOrInsertItem(e,undefined,t);return this};n.prototype.insertItem=function(e,t,i){if(t===undefined){t=this.getItems().length}this._addOrInsertItem(e,t,i);return this};n.prototype.removeItem=function(e,t){const i=this.removeAggregation("items",e,t);!t&&this._invalidateParentControls();return i};n.prototype.removeAllItems=function(e){const t=this.removeAllAggregation("items",e);!e&&this._invalidateParentControls();return t};n.prototype.destroyItems=function(e){this.destroyAggregation("items",e);!e&&this._invalidateParentControls();return this};n.prototype._invalidateParentControls=function(){const e=this.getParent();if(e&&!e._getItems().length){const t=e.getParent();t&&t.invalidate();e.close()}};n.prototype._addOrInsertItem=function(e,t,n){const r=e.getSelected&&e.getSelected(),s=this.getItems().length;e.setAssociation("_group",this);if(r&&this.getItemSelectionMode()===i.SingleSelect){this._clearSelectedItems()}t===undefined?this.addAggregation("items",e,n):this.insertAggregation("items",e,t,n);if(s>0){return}const o=this.getParent();if(o){const e=o.getParent();e&&e.invalidate();o.invalidate()}};n.prototype._clearSelectedItems=function(){this.getItems().forEach(e=>e.setSelected&&e.setSelected(false))};n.prototype._ensureSingleSelection=function(){var e=this.getItems(),t=e.map(e=>e.getSelected()),i=t.lastIndexOf(true);this._clearSelectedItems();if(i!==-1){e[i].setSelected(true)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuRenderer", ["sap/ui/core/ControlBehavior"],function(e){"use strict";var t={apiVersion:2};t.render=function(i,n){var s=e.isAccessibilityEnabled(),o=n.getRootMenu();if(n.oHoveredItem&&n.indexOfItem(n.oHoveredItem)<0){n.oHoveredItem=null}i.openStart("div",n);i.attr("tabindex",-1);i.attr("hideFocus",true);if(n.getTooltip_AsString()){i.attr("title",n.getTooltip_AsString())}if(s){i.accessibilityState(n,{disabled:null})}i.class("sapUiMnu");if(n.isSubMenu()){i.class("sapUiSubmenu")}if(o.bUseTopStyle){i.class("sapUiMnuTop")}i.openEnd();t.renderItems(i,n);i.close("div")};t.renderItems=function(i,n){var s=n._getItems(),o=e.isAccessibilityEnabled(),r=false,a=false,l=0,u=0,d,c,p=null,f=null,v=false,g;i.openStart("ul");i.attr("role","menu");i.class("sapUiMnuLst");for(d=0;d<s.length;d++){g=s[d].getSubmenu();if(s[d].getIcon&&s[d].getIcon()){r=true}if(g&&g._getItems().length){a=true}}if(!r){i.class("sapUiMnuNoIco")}if(!a){i.class("sapUiMnuNoSbMnu")}i.openEnd();for(d=0;d<s.length;d++){if(s[d].getVisible()&&s[d].render){l++}}for(d=0;d<s.length;d++){c=s[d];if(c.getVisible()&&c.render){u++;f=c.getAssociation("_group");if(v&&p!==f){i.close("div");v=false}if(f&&!v){i.openStart("div");i.attr("role","group");i.openEnd();v=true}if((p!==f||c.getStartsSection())&&u!==1){t.renderSeparator(i,o)}p=f;c.render(i,c,n,{bAccessible:o,iItemNo:u,iTotalItems:l})}}if(v){i.close("div")}i.close("ul")};t.renderSeparator=function(e,t){e.openStart("li");if(t){e.attr("role","separator")}e.class("sapUiMnuDiv");e.openEnd();e.openStart("div");e.class("sapUiMnuDivL");e.openEnd();e.close("div");e.voidStart("hr").voidEnd();e.openStart("div");e.class("sapUiMnuDivR");e.openEnd();e.close("div");e.close("li")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/library", ["sap/ui/base/Object","sap/ui/base/DataType","sap/ui/core/Lib","./ColorPickerDisplayMode","./FileUploaderHttpRequestMethod","sap/ui/core/RenderManager","sap/ui/core/library"],function(e,i,n,a,t,r){"use strict";var d=n.init({name:"sap.ui.unified",apiVersion:2,version:"1.136.0",dependencies:["sap.ui.core"],designtime:"sap/ui/unified/designtime/library.designtime",types:["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],interfaces:["sap.ui.unified.IMenuItem","sap.ui.unified.IProcessableBlobs"],controls:["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],elements:["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuItemGroup","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.NonWorkingPeriod","sap.ui.unified.RecurringNonWorkingPeriod","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem","sap.ui.unified.TimeRange"],extensions:{"sap.ui.support":{publicRules:true}}});d.CalendarDayType={None:"None",NonWorking:"NonWorking",Working:"Working",Type01:"Type01",Type02:"Type02",Type03:"Type03",Type04:"Type04",Type05:"Type05",Type06:"Type06",Type07:"Type07",Type08:"Type08",Type09:"Type09",Type10:"Type10",Type11:"Type11",Type12:"Type12",Type13:"Type13",Type14:"Type14",Type15:"Type15",Type16:"Type16",Type17:"Type17",Type18:"Type18",Type19:"Type19",Type20:"Type20"};i.registerEnum("sap.ui.unified.CalendarDayType",d.CalendarDayType);d.StandardCalendarLegendItem={Today:"Today",WorkingDay:"WorkingDay",NonWorkingDay:"NonWorkingDay",Selected:"Selected"};i.registerEnum("sap.ui.unified.StandardCalendarLegendItem",d.StandardCalendarLegendItem);d.CalendarIntervalType={Hour:"Hour",Day:"Day",Month:"Month",Week:"Week",OneMonth:"One Month"};i.registerEnum("sap.ui.unified.CalendarIntervalType",d.CalendarIntervalType);d.RecurrenceType={Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly",Yearly:"Yearly"};i.registerEnum("sap.ui.unified.RecurrenceType",d.RecurrenceType);d.CalendarAppointmentHeight={HalfSize:"HalfSize",Regular:"Regular",Large:"Large",Automatic:"Automatic"};i.registerEnum("sap.ui.unified.CalendarAppointmentHeight",d.CalendarAppointmentHeight);d.CalendarAppointmentRoundWidth={HalfColumn:"HalfColumn",None:"None"};i.registerEnum("sap.ui.unified.CalendarAppointmentRoundWidth",d.CalendarAppointmentRoundWidth);d.GroupAppointmentsMode={Collapsed:"Collapsed",Expanded:"Expanded"};i.registerEnum("sap.ui.unified.GroupAppointmentsMode",d.GroupAppointmentsMode);d.FileUploaderHttpRequestMethod=t;d.CalendarAppointmentVisualization={Standard:"Standard",Filled:"Filled"};i.registerEnum("sap.ui.unified.CalendarAppointmentVisualization",d.CalendarAppointmentVisualization);d.ContentSwitcherAnimation={None:"None",Fade:"Fade",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Rotate:"Rotate",SlideRight:"SlideRight",SlideOver:"SlideOver"};i.registerEnum("sap.ui.unified.ContentSwitcherAnimation",d.ContentSwitcherAnimation);d.ColorPickerMode={HSV:"HSV",HSL:"HSL"};i.registerEnum("sap.ui.unified.ColorPickerMode",d.ColorPickerMode);d.ColorPickerDisplayMode=a;d._ContentRenderer=e.extend("sap.ui.unified._ContentRenderer",{constructor:function(i,n,a,t){e.apply(this);this._id=n;this._cntnt=a;this._ctrl=i;this._rm=(new r).getInterface();this._cb=t||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}e.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(function(){var e=document.getElementById(this._id);if(e){if(typeof this._cntnt==="string"){var i=this._ctrl.getAggregation(this._cntnt,[]);for(var n=0;n<i.length;n++){this._rm.renderControl(i[n])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(!!e)}.bind(this),0)}});d._iNumberOfOpenedShellOverlays=0;d.calendar=d.calendar||{};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Layout", ["sap/base/i18n/Localization","sap/base/util/extend","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/Container"],function(t,e,i,r,s,jQuery,n,o){"use strict";var a=function(t){this.init(t)};a.prototype={settings:null,tileWidth:0,tileHeight:0,tileMargin:0,curTouchMatrixCords:null,tilesInRow:null,groupsList:null,item:null,matrix:null,tiles:null,collisionLeft:false,startGroup:null,currentGroup:null,endGroup:null,init:function(i){this.curTouchMatrixCords={column:null,row:null};this.endGroup=null;this.groupSwitched=false;this.item=null;this.matrix=null;this.tiles=null;this.collisionLeft=false;this.startArea=null;this.currentArea=null;this.endArea=undefined;this.startGroup=null;this.draggedTileDomRef=null;this.sDragStartGroupModelId=undefined;this.sDragTargetGroupModelId=undefined;this.currentGroup=null;this.groupsList=null;this.allGroups=null;this.settings=this.settings||i;e(this,this.settings);this.tileWidth=this.thisLayout.styleInfo.tileWidth;this.tileHeight=this.thisLayout.styleInfo.tileHeight;this.tileMargin=this.thisLayout.styleInfo.tileMarginWidth;this.aExcludedControlClass=this.aExcludedControlClass||[];this.reorderElementsCallback=this.reorderElementsCallback||function(){};this.rightToLeft=t.getRTL();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false;this.collidedLinkAreas=[];this.intersectedLink=null;this.aLinksBoundingRects=[];this.intersectedLinkPlaceHolder=undefined;this.isLinkPersonalizationSupported=this.thisLayout.oLaunchPageService?this.thisLayout.oLaunchPageService.isLinkPersonalizationSupported():null;this.isLinkMarkerShown=false;this.bIsTabBarCollision=false},moveDraggable:function(t,e,i){var r=this.getCollisionObject(t,e,i);var s;if(r){this._toggleAnchorItemHighlighting(false);if(r.collidedObjectType!=="TabBar"){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();this.bIsTabBarCollision=false}else{this.bIsTabBarCollision=true;this._toggleTabBarOverflowArrows(true);this.removePlaceHolders();this._handleTabBarCollision(t,i)}if(this.isLinkPersonalizationSupported&&r.collidedObjectType==="Group-link"){s=this._handleLinkAreaIntersection(r.collidedObject,t,e)}else if(r.collidedObjectType==="Group-tile"){s=this._handleTileAreaIntersection(r.collidedObject,t,e);this._toggleTileCloneHoverOpacity(false)}if(s||this.endAreaChanged){this.handlePlaceHolder(r.collidedObject)}}else{this._removeEmptyLinkAreaMark()}},_toggleAnchorItemHighlighting:function(t){if(this.targetGroup){this.targetGroup.classList.toggle("sapUshellAnchorItemDropCollision",t);this.targetGroup.firstElementChild.classList.toggle("sapUshellAnchorInnerMarker",t)}},removePlaceHolders:function(){this._removeLinkDropMarker();this._removeEmptyLinkAreaMark();this._handleChangedGroup(this.currentGroup)},handlePlaceHolder:function(t){if(this.endArea==="tiles"){if(this.endAreaChanged){this._removeLinkDropMarker()}this.handlePlaceholderChange()}else if(this.endArea==="links"&&this.intersectedLink){this._changeLinkPlaceholder(this.intersectedLink,t);if(this.endAreaChanged){this.handlePlaceholderChange()}}},switchLinkWithClone:function(t){if(t){this.intersectedLinkPlaceHolder=t.getDomRef().cloneNode(true);this.intersectedLinkPlaceHolder.setAttribute("id","sapUshellIntersectedLinkPlaceHolder");t.$().replaceWith(this.intersectedLinkPlaceHolder)}},_removeLinkDropMarker:function(){jQuery("#sapUshellLinkDropMarker").remove();this.isLinkMarkerShown=false},saveLinkBoundingRects:function(t){var e=r.getElementById(t.getAttribute("id"));this.draggedLinkBoundingRects=e.getBoundingRects()},_getMarkerOffset:function(t,e){var i=e.getDomRef().getElementsByClassName("sapUshellLineModeContainer")[0].getBoundingClientRect();var r=i.left;var s=i.top;var n=this.rightToLeft?20:-1;var o=this.rightToLeft?42:21;var a=t[t.length-1].offset.x-r+t[t.length-1].width-n;var l=t[this.rightToLeft?t.length-1:0].offset.x-r-o;var h=t[this.rightToLeft?t.length-1:0].offset.y-s;var u=t[this.rightToLeft?0:t.length-1].offset.y-s;if(document.body.classList.contains("sapUiSizeCompact")){h-=6;u-=6}if(this.rightToLeft){if(i.right-t[t.length-1].offset.x-t[t.length-1].width<16){a=a-8}}else if(l<16){l=0}return{right:a,left:l,topLeft:h,topRight:u}},_changeLinkPlaceholder:function(t,e){var i=this.aLinksBoundingRects[t.link.getId()];var r=i.left;var s=i.topLeft;var n=i.topRight;var o=i.right;if(!e.getDomRef().querySelector("#sapUshellLinkDropMarker")){this._removeLinkDropMarker();var a=e.getDomRef().getElementsByClassName("sapUshellLinksInnerContainer")[0];jQuery(a).prepend(this.LinkDropMarker)}this.LinkDropMarker.style.left=(t.leftSide?r:o)+"px";this.LinkDropMarker.style.top=(t.leftSide?s:n)+"px";this.isLinkMarkerShown=true},showTilePlaceholder:function(t,e,i){var r;var s=this.curTouchMatrixCords.row;var n=this.curTouchMatrixCords.column;this.domRef=this.item.getDomRef()?this.item.getDomRef():this.domRef;this.domRef.style.display="";this.removeExcludedElementsFromMatrix(this.aExcludedControlClass);r=this.tiles||this.thisLayout.getGroupTiles(this.endGroup).slice(0);if(this.matrix[s]&&typeof this.matrix[s][n]==="object"){this.handleMatrixCollision(r,t,e,i);return}this._handleMoveOutOfBorders(r,t)},removeTilePlaceholder:function(){this.domRef=this.item.getDomRef()||this.domRef;var t=this.thisLayout.getGroupTiles(this.currentGroup);t=t.slice(0);if(this.startArea!=="links"&&t.indexOf(this.item)>-1){t.splice(t.indexOf(this.item),1)}if(!this.domRef.parentNode.contains("sapUshellLinksInnerContainer")){this.domRef.style.display="none"}this.thisLayout.initGroupDragMode(this.endGroup);var e=this.thisLayout.organizeGroup(t);this.thisLayout.renderLayoutGroup(this.currentGroup,e)},handlePlaceholderChange:function(){var t=this.currentGroup;var e=this.endGroup!==this.currentGroup;var i=this.endAreaChanged&&this.endArea==="links";var r=this.thisLayout.isTabBarActive()&&this.groupSwitched;this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0);this.matrix=this.thisLayout.organizeGroup(this.tiles);if(r){this.handleTabBarSwitch(t)}if(e){this._handleChangedGroup(t)}else if(i){this.removeTilePlaceholder()}if(!i){this.showTilePlaceholder(t,e,i)}},handleMatrixCollision:function(t,e,i,r){var s=this.matrix[this.curTouchMatrixCords.row][this.curTouchMatrixCords.column];var n=t.indexOf(s);var o=t.indexOf(this.item);if(this.rightToLeft){this.collisionLeft=!this.collisionLeft}if(o>-1&&o<n){s=t[n+1]}if(s===this.item){if(i||r){t.splice(t.indexOf(this.item),1)}this._handleTileReplace(t,e);return}var a=this.changeTilesOrder(this.item,s,t,this.matrix);if(a&&!this.isLinkMarkerShown){this._handleTileReplace(a,e)}},handleTabBarSwitch:function(t){this._appendTargetGroupDomRefWithDraggedTile();if(!this.item.getDomRef()){this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.draggedTileDomRef)}else{this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.item.getDomRef())}this.currentGroup=this.endGroup;var e=this.thisLayout.getGroupTiles(t);this.thisLayout.initGroupDragMode(this.endGroup);var i=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,i)},_handleMoveOutOfBorders:function(t,e){var i=this.findTileToPlaceAfter(this.matrix,t);if(t[i+1]==this.item){return}var r;if(t[i+1]){r=t[i+1]}else if(this.currentGroup.getShowPlaceholder()){r=t[0]}var s=this.changeTilesOrder(this.item,r,t,this.matrix);if(s){this._handleTileReplace(s,e)}},_handleChangedGroup:function(t){var e=this.thisLayout.getGroupTiles(this.currentGroup);if(this.currentGroup===this.startGroup&&(this.startArea==="tiles"||this.intersectedLinkPlaceHolder)){e=e.slice(0);if(e.indexOf(this.item)>-1){e.splice(e.indexOf(this.item),1)}}if(this.startGroup===this.endGroup&&this.startArea==="tiles"){this.tiles.splice(this.tiles.indexOf(this.item),1)}var i=this.item.getDomRef()||this.domRef;if(this.startArea==="links"&&!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea==="tiles"){this.endGroup.getInnerContainersDomRefs()[0].appendChild(i)}if(!i.parentNode.contains("sapUshellLinksInnerContainer")){i.style.display="none"}this.currentGroup=this.endGroup;this.thisLayout.initGroupDragMode(this.endGroup);var r=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,r)},_handleTileReplace:function(t,e){this.reorderElementsCallback({currentGroup:e,endGroup:this.endGroup,tiles:t,item:this.item});this.reorderTilesView(t,this.endGroup);this.reorderTilesInDom();this.thisLayout.renderLayoutGroup(this.endGroup,this.matrix)},_getIntersectedLink:function(t,e,i){var r=document.getElementsByClassName("sapUshellLinkTile")[0];if(!r){return}var s=t.getDomRef().querySelector(".sapUshellLineModeContainer").getBoundingClientRect();var n=!document.body.classList.contains("sapUiSizeCompact");var o=Math.floor((i-s.top)/(n?45:31));var a=this.collidedLinkAreas[t.getId()];var l;if(this.rightToLeft){l=Math.floor((s.right-e)/20)}else{l=Math.floor((e-s.left)/20)}if(o<a.length&&a[o]&&l<a[o].length){return a[o][l]}else if(a.length){var h=a.length;if(o>=h){o=h-1}if(!this.collidedLinkAreas[t.getId()][o]){return}l=this.collidedLinkAreas[t.getId()][o].length;return this.collidedLinkAreas[t.getId()][o][l-1]}},_mapGroupLinks:function(t){var e=t.getId();if(!this.collidedLinkAreas[e]||this.bElapseGroupLinksMap){this.bElapseGroupLinksMap=false;var i=t.getLinks();var r=[];var s;var n;var o=0;this.collidedLinkAreas.push(t.getId());i.forEach(function(e){n=this._getLinkBoundingRects(e,t);n.forEach(function(i){if(i.offset.y>s){o++}s=i.offset.y;this._addLinkToHashMap(r,t,i,o,e)}.bind(this))}.bind(this));this.collidedLinkAreas[e]=r}},_getLinkBoundingRects:function(t,e){var i=t.getBoundingRects();if(this.item&&this.item.getId()===t.getId()){i=this.draggedLinkBoundingRects}if(i.length){this.aLinksBoundingRects[t.getId()]=this._getMarkerOffset(i,e)}return i},_addLinkToHashMap:function(t,e,i,r,s){if(!t[r]){t[r]=[]}for(var n=0;n<=(i.width+20)/20;n++){var o={link:s,leftSide:!this.rightToLeft};if(n>(i.width+20)/20/2){o.leftSide=this.rightToLeft}t[r].push(o)}},_isLinkAreaIntersection:function(t,e,i){var r=t.getInnerContainersDomRefs();if(r[1]){return this._isElementCollideByGivenCordinates(r[1],e,i)}return false},_isLinksEquals:function(t,e){if(!t||!e){return false}if(t.link.getId()!==e.link.getId()){return false}return t.link.leftSide===e.link.leftSide},_toggleTileCloneHoverOpacity:function(t){var e=document.getElementsByClassName("sapUshellTile-clone");for(var i=0;i<e.length;++i){e[i].classList.toggle("sapUshellTileDragOpacity",t)}},_handleLinkAreaIntersection:function(t,e,i){if(this.isLinkPersonalizationSupported){this._toggleTileCloneHoverOpacity(true)}this._mapGroupLinks(t);this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));var r=this._getIntersectedLink(t,e,i);var s=false;if(r){s=this._isLinksEquals(this.intersectedLink,r);this.intersectedLink=r}else{this.removeTilePlaceholder()}this._markEmptyLinkArea(t);return s},_markEmptyLinkArea:function(t){if(!t.getLinks().length){var e=t.getDomRef();if(e){var i=e.getElementsByClassName("sapUshellLineModeContainer");for(var r=0;r<i.length;++r){i[r].classList.add("sapUshellEmptyLinkAreaHover")}}}},_removeEmptyLinkAreaMark:function(){var t=document.getElementsByClassName("sapUshellLineModeContainer");for(var e=0;e<t.length;++e){t[e].classList.remove("sapUshellEmptyLinkAreaHover")}},reorderTilesInDom:function(){var t=this.item.getDomRef()?this.item.getDomRef():this.domRef;var e=jQuery(t).index();var i=jQuery(t).closest(".sapUshellTilesContainer-sortable");var r=this.calcDestIndexInGroup();var s=jQuery(this.endGroup.getDomRef()).find(".sapUshellTilesContainer-sortable");var n=s.find(".sapUshellTile");if(this.startArea==="tiles"){i.find(n[e]).remove()}else if(!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea!=="links"){n=s.find(".sapUshellTile");s[0].insertBefore(t,n[r])}},isLinkIntersected:function(){return this.intersectedLink!==undefined},calcDestIndexInGroup:function(){var t;var e=0;var i;var r;var s=false;for(i=0;i<this.matrix.length&&!s;i++){for(r=0;r<this.matrix[i].length;r++){if(this.matrix[i][r]!==undefined){if(this.item.sId!==this.matrix[i][r].sId){if(t!==this.matrix[i][r].sId){t=this.matrix[i][r].sId;e++}}else{s=true;break}}}}return e},layoutStartCallback:function(t){this.init();this.item=r.getElementById(t.getAttribute("id"));this.tilesInRow=this.thisLayout.getTilesInRow();this.groupsList=this.thisLayout.getGroups();this.allGroups=this.thisLayout.getAllGroups();this.startGroup=this.currentGroup=this.item.getParent();this.groupSwitched=false;this.startArea=this.isLinkPersonalizationSupported&&this.item.getMode&&this.item.getMode()==="LineMode"?"links":"tiles";this.currentArea=this.startArea;this.thisLayout.initDragMode();if(this.isLinkPersonalizationSupported){this.LinkDropMarker=this._getLinkDropMarkerElement()}},_getLinkDropMarkerElement:function(){var t=document.createElement("DIV");var e=document.createElement("DIV");var i=document.createElement("DIV");t.setAttribute("id","sapUshellLinkDropMarker");e.setAttribute("id","sapUshellLinkDropMarkerDot");i.setAttribute("id","sapUshellLinkDropMarkerLine");t.appendChild(e);t.appendChild(i);return t},isAreaChanged:function(){return this.currentArea&&this.endArea?this.currentArea!==this.endArea:false},isOriginalAreaChanged:function(){return this.startArea&&this.endArea?this.startArea!==this.endArea:false},_getDestinationIndex:function(t){if(t==="links"){if(this.intersectedLink){var e=this.endGroup.getLinks().indexOf(this.intersectedLink.link);var i=this.endGroup.getLinks().indexOf(this.item);if(this.intersectedLink.leftSide){e=this.rightToLeft?e+1:e-1}if(i<0||i>e){e=this.rightToLeft?e:e+1}return e}return this.endGroup.getLinks().length}return this._getDestinationTileIndex()},layoutEndCallback:function(){var t;var e;var i;this._removeLinkDropMarker();if(this.endArea!=="links"&&!this.tiles){return{tile:this.item}}e=this._getDragSourceGroup();if(!u.isTabBarActive()||!this.bIsTabBarCollision){this.targetGroup=""}i=this._getDestGroupObject(this.targetGroup);t={srcGroup:e,dstGroup:i,dstGroupData:this._getDropTargetGroup(),tile:this.item,dstTileIndex:this._getDestinationIndex(this.endArea),tileMovedFlag:true,srcArea:this.startArea,dstArea:this.bIsTabBarCollision?undefined:this.endArea};return t},_getDestGroupObject:function(t){return t?r.getElementById(t.getAttribute("id")):this.endGroup},_getDragSourceGroup:function(){var t;t=this.startGroup;if(this.thisLayout.isTabBarActive()&&this.groupSwitched===true){t={groupId:this.sDragStartGroupModelId}}return t},_getDropTargetGroup:function(){var t;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t={groupId:this.sDragTargetGroupModelId}}else{t=this.endGroup}return t},_getDestinationTileIndex:function(){var t;var e;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t=this._getDropTargetGroup().groupId;e=this._getModelGroupById(t);return e.tiles.length}return this.tiles.indexOf(this.item)},compareArrays:function(t,e){if(t.length!==e.length){return false}for(var i=0;i<t.length;i++){if(t[i]!==e[i]){return false}}return true},reorderTilesView:function(t){this.tiles=t;this.matrix=this.thisLayout.organizeGroup(t)},changeTilesOrder:function(t,e,i,r){var s=i.slice(0);var n=s.indexOf(t);var o;var a;var l;if(n>-1){s.splice(n,1)}if(e){s.splice(s.indexOf(e),0,this.item)}else{s.push(t)}if(this.currentGroup==this.endGroup){if(this.compareArrays(i,s)){return false}o=this.thisLayout.organizeGroup(s);a=this.thisLayout.getTilePositionInMatrix(t,r);l=this.thisLayout.getTilePositionInMatrix(t,o);if(a.row==l.row&&a.col==l.col){return false}}this.tiles=s;this.currentGroup=this.endGroup;return s},setMatrix:function(t){this.matrix=t},findTileToPlaceAfter:function(t,e){var i=this.thisLayout.rightToLeft?0:this.curTouchMatrixCords.column;var r=this.thisLayout.rightToLeft?1:-1;var s=0;var n;var o;var a;var l=t[0].length;for(n=this.curTouchMatrixCords.row;n>=0;n--){for(o=i;o>=0&&o<l;o+=r){if(!t[n]||typeof t[n][o]!=="object"){continue}a=e.indexOf(t[n][o]);s=a>s?a:s}i=t[0].length-1}return s||e.length-1},_isElementCollideByGivenCordinates:function(t,e,i){var r=t.getBoundingClientRect();var s=false;var n=false;if(r.height===0&&!t.classList.contains("sapUshellNoLinksAreaPresent")){r=t.parentNode.getBoundingClientRect()}s=r.right>=e&&r.left<=e;n=r.bottom>=i&&r.top<=i;return s&&n},_getMatrixCordinatesOfTouchedTile:function(t,i,r){var s=e({},this.curTouchMatrixCords);var n=t.getInnerContainersDomRefs()[0].getBoundingClientRect();this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));var o=this.rightToLeft?n.right+-1*i:n.left*-1+i;var a=(n.top*-1+r)/(this.tileHeight+this.tileMargin);var l=o/(this.tileWidth+this.tileMargin);s={row:Math.floor(a),column:Math.floor(l)};return s},_getCollidedGroup:function(t,e){for(var i=0;i<this.groupsList.length;i++){var r=this.groupsList[i];var s=r.getInnerContainersDomRefs();if(!s){continue}for(var n=0;n<s.length;n++){if(s[n]&&this._isElementCollideByGivenCordinates(s[n],t,e)){var o=!r.groupHasTiles();for(var a=this.groupsList.length-1;a>=i;a--){if(o){break}if(!this.groupsList[a].groupHasTiles()){var l=this.groupsList[a].getDomRef();if(!l||!l.classList.contains("sapUshellInDragMode")){continue}var h=l.getElementsByClassName("sapUshellInner");for(var u=0;u<h.length;u++){h[u].removeAttribute("style")}}}return r}}}},_handleTileAreaIntersection:function(t,i,r){var s=this._getMatrixCordinatesOfTouchedTile(t,i,r);if(t===this.endGroup&&s.column===this.curTouchMatrixCords.column&&s.row===this.curTouchMatrixCords.row){return false}if(this.rightToLeft){this.collisionLeft=this.curTouchMatrixCords.column-s.column>0}else{this.collisionLeft=s.column-this.curTouchMatrixCords.column>0}if(s.column===this.curTouchMatrixCords.column){this.collisionLeft=false}e(this.curTouchMatrixCords,s);return true},_getGroupCollisionObject:function(t,e){var i;var r;i=this._getCollidedGroup(t,e);if(!i||i.getIsGroupLocked()){return undefined}r=this._isLinkAreaIntersection(i,t,e);this.endGroup=i;if(!this.tiles){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}this.endArea=r?"links":"tiles";this.endAreaChanged=this.isAreaChanged();this.currentArea=this.endArea;return{collidedObjectType:r?"Group-link":"Group-tile",collidedObject:i}},getCollisionObject:function(t,e){if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}if(this.thisLayout.isTabBarActive()&&this._isTabBarCollision(e)){return{collidedObjectType:"TabBar"}}return this._getGroupCollisionObject(t,e)},_isTabBarScrollArea:function(t){var e=jQuery("#anchorNavigationBar").height()||0;var i=jQuery("#anchorNavigationBar").offset();var r=i?i.top:0;var s=e+r;return e>0&&t>s&&t<s+30},_cancelLongDropTimmer:function(){clearTimeout(this.thisLayout.oTabBarItemClickTimer)},_isTabBarCollision:function(t){var e=jQuery("#anchorNavigationBar").height()||0;var i=jQuery("#anchorNavigationBar").offset();var r=i?i.top:0;return t<e+r&&t>r},_handleTabBarCollision:function(t,e){var i=this._getTabBarHoverItem(t,e);if(u.isTabBarActive()){this._toggleTileCloneHoverOpacity(true)}this.lastHighlitedTabItem=i;this.thisLayout.setOnTabBarElement(true);var r=this._handleOverflowCollision(t);if(r){return}if(!i){return}this.targetGroup=i;this.sDragTargetGroupModelId=i.getAttribute("modelGroupId");var n=this._getTabBarGroupIndexByModelId(this.sDragTargetGroupModelId);if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}var o=this._getModelGroupById(this._getDropTargetGroup().groupId);if(o.isGroupLocked){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();return}this._toggleAnchorItemHighlighting(true);if(!this.sDragStartGroupModelId){this.sDragStartGroupModelId=this.startGroup.getGroupId()}this.thisLayout.oTabBarItemClickTimer=setTimeout(function(){var t=this._getSelectedTabBarItem();if(this.lastHighlitedTabItem===t){return}this.draggedTileModelPath=this.item.getBindingContext().getPath();this._prepareDomForDragAndDrop();this.startGroup.removeAggregation("tiles",this.item,true);var e=this.sDragStartGroupModelId===this.sDragTargetGroupModelId;this.item.getBindingContext().oModel.setProperty(this.draggedTileModelPath+"/draggedInTabBarToSourceGroup",e);this.groupSwitched=true;s.getInstance().publish("launchpad","switchTabBarItem",{iGroupIndex:n});var i=this.thisLayout.getGroups();this.endGroup=i[0];this.bElapseGroupLinksMap=true}.bind(this),800);if(this.tiles===null&&this.endGroup){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}var a=document.getElementsByClassName("sapUshellTabBarHoverOn");for(var l=a.length-1;l>=0;--l){a[l].classList.remove("sapUshellTabBarHoverOn")}i.classList.add("sapUshellTabBarHoverOn");return true},_prepareDomForDragAndDrop:function(){var t=this.item.getDomRef();if(i.system.tablet){var e=t.cloneNode(true);var r=t.parentNode;this.origItemId=t.getAttribute("id");this.origItemDataSapUi=t.getAttribute("data-sap-ui");t.removeAttribute("id");t.removeAttribute("data-sap-ui");t.style.display="none";e.style.display="none";var s=document.getElementById("dashboardGroups");s.parentNode.appendChild(t);r.appendChild(e);this.draggedTileDomRef=t}else if(!this.draggedTileDomRef){this.draggedTileDomRef=t}},_appendTargetGroupDomRefWithDraggedTile:function(){var t=this.endGroup.getInnerContainerDomRefs()?this.endGroup.getInnerContainerDomRefs()[0]:null;if(!this.item.getDomRef()){if(i.system.tablet){this.draggedTileDomRef.setAttribute("id",this.origItemId);this.draggedTileDomRef.setAttribute("data-sap-ui",this.origItemDataSapUi);this.draggedTileDomRef.style.display=""}if(t){t.appendChild(this.draggedTileDomRef)}}else{if(t){t.appendChild(this.item.getDomRef())}if(i.system.tablet){this.item.getDomRef().style.display=""}}},_getSelectedTabBarItem:function(){return document.getElementsByClassName("sapUshellAnchorItemSelected")[0]},_getTabBarGroupIndexByModelId:function(t){var e;for(var i=0;i<this.allGroups.length;++i){e=this.allGroups[i].groupId;if(t===e){return i}}},_getModelGroupById:function(t){var e=this.thisLayout.getAllGroups();var i;var r;for(var s=0;s<e.length;++s){i=e[s];r=i.groupId;if(r===t){return i}}},_handleOverflowCollision:function(t){var e=r.getElementById("anchorNavigationBar");var i=this._calculateOverflowButtonSideCollision(t);if(i==="right"){if(!this.tabBarArrowCollisionRight){e._scrollToGroupByGroupIndex(e.anchorItems.length-1,5e3);this.tabBarArrowCollisionRight=true}return true}else if(i==="left"){if(!this.tabBarArrowCollisionLeft){e._scrollToGroupByGroupIndex(0,5e3);this.tabBarArrowCollisionLeft=true}return true}this._resetOverFlowButtonElements();return false},_calculateOverflowButtonSideCollision:function(t){var e=jQuery(".sapUshellAnchorRightOverFlowButton");var i=e.offset().left;var r=jQuery(".sapUshellAnchorItemOverFlow");var s=r.offset().left;var n=jQuery(".sapUshellAnchorLeftOverFlowButton");var o=n.offset().left;var a=32;var l=jQuery("#anchorNavigationBar");var h=l.offset().left;if(t>i&&t<s){return"right"}if(t>h&&t<o+a){return"left"}},_resetOverFlowButtonElements:function(){var t=i.system.tablet;var e=jQuery(t?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems");e.stop();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false},_toggleTabBarOverflowArrows:function(t){var e=document.getElementsByClassName("sapUshellAnchorRightOverFlowButton");var i=document.getElementsByClassName("sapUshellAnchorLeftOverFlowButton");for(var r=0;r<e.length;++r){e[r].classList.toggle("sapUshellTabBarOverflowButton",t)}for(var s=0;s<i.length;++s){i[s].classList.toggle("sapUshellTabBarOverflowButton",t)}},_getTabBarHoverItem:function(t,e){var i=jQuery(".sapUshellAnchorItem:not(.sapUshellShellHidden)").eq(0).offset().left;if(t-i<=0){return}var r=Math.round((t-i)/10);if(r>=e.length){r=e.length-1}var s=e[r];var n=document.getElementsByClassName("sapUshellAnchorItem");return n[s]},removeExcludedElementsFromMatrix:function(t){if(!t.length){return}if(!this.matrix){return}var e=this.matrix.map(function(e){return e.map(function(e){var i=t.some(function(t){return e instanceof t});return i?undefined:e})});this.setMatrix(e)},setExcludedControl:function(t){if(t){this.aExcludedControlClass.push(t)}},setReorderTilesCallback:function(t){if(typeof t==="function"){this.reorderElementsCallback=t}}};var l=function(){};var h;l.prototype={_initDeferred:new Promise(function(t){h=t}),init:function(t){var e=function(){var t=this.container&&this.container.getAttribute("id")||"";if(t.includes("destroyed")){return}var i=this.getStyleInfo(this.container);if(i.tileWidth>0){this.isInited=true;this.reRenderGroupsLayout();this.layoutEngine=new a({thisLayout:this});h();return}setTimeout(e,100)}.bind(this);this.cfg=t||this.cfg;this.minTilesinRow=2;this.container=this.cfg.container||document.getElementById("dashboardGroups");this.oTabBarItemClickTimer=new Date;this.bTabBarModeActive=false;this.bOnTabBarElement=false;var i=o.getServiceAsync("FlpLaunchPage");if(i){i.then(function(t){this.oLaunchPageService=t;e()}.bind(this))}else{e()}s.getInstance().subscribe("launchpad","tabBarChange",this._onTabBarChange,this);return this.getInitPromise()},setOnTabBarElement:function(t){this.bOnTabBarElement=t},isOnTabBarElement:function(){return this.bOnTabBarElement},_onTabBarChange:function(t,e,i){if(i==="tabs"){this.bTabBarModeActive=true}else{this.bTabBarModeActive=false}},tabBarTileDropped:function(){if(this.oTabBarItemClickTimer){clearTimeout(this.oTabBarItemClickTimer)}},getInitPromise:function(){return this._initDeferred},getLayoutEngine:function(){return this.layoutEngine},getStyleInfo:function(t){var e=document.createElement("div");var i=t.getAttribute("id");t=i?document.getElementById(i):t;if(!t){return{}}e.className="sapUshellTile";var r=n.last("/core/home/sizeBehavior");if(r==="Small"){e.classList.add("sapUshellSmall")}e.style.position="absolute";e.style.visibility="hidden";t.appendChild(e);var s=window.getComputedStyle(e);var o=window.getComputedStyle(t);var a={tileMarginHeight:parseFloat(s.marginBottom,10)+parseFloat(s.marginTop,10),tileMarginWidth:parseFloat(s.marginLeft,10)+parseFloat(s.marginRight,10),tileWidth:e.offsetWidth,tileHeight:e.offsetHeight,containerWidth:o.width?parseInt(o.width,10):t.offsetWidth};t.removeChild(e);return a},getGroups:function(){return this.cfg.getGroups()},getAllGroups:function(){return this.cfg.getAllGroups?this.cfg.getAllGroups():[]},isTabBarActive:function(){return this.cfg.isTabBarActive?this.cfg.isTabBarActive():false},getTilesInRow:function(){return this.tilesInRow},setTilesInRow:function(t){this.tilesInRow=t},checkPlaceForTile:function(t,i,r,s,n){if(typeof i[r.y]==="undefined"){i.push(new Array(i[0].length))}if(typeof i[r.y+1]==="undefined"){i.push(new Array(i[0].length))}if(typeof i[r.y][r.x]!=="undefined"){return false}var o=e({},r);if(n||t&&t.getLong&&!t.getLong()){return[o]}var a=[o];if(t&&t.getLong&&t.getLong()){if(r.x+1>=i[0].length||typeof i[o.y][o.x+1]!=="undefined"){return false}a.push({y:o.y,x:o.x+1})}return a},placeTile:function(t,e,i){for(var r=0;r<i.length;r++){e[i[r].y][i[r].x]=t}},getTilePositionInMatrix:function(t,e){for(var i=0;i<e.length;i++){for(var r=0;r<e[i].length;r++){if(e[i][r]===t){return{row:i,col:r}}}}return false},fillRowsInLine:function(t,e,i,r){if(!e.length){return 0}var s;for(var n=0;n<t[0].length&&e.length;n++){s=this.checkPlaceForTile(e[0],t,{x:n,y:i},r);if(s){this.placeTile(e[0],t,s);e.shift()}}},organizeGroup:function(t,e){var i=t.slice(0);var r=[];var s=0;r.push(new Array(e?Math.floor(this.tilesInRow/2):this.tilesInRow));while(i.length){this.fillRowsInLine(r,i,s,e);s++}if(this.rightToLeft){for(var n=0;n<r.length;n++){r[n].reverse()}}r=this.cleanRows(r);return r},cleanRows:function(t){var e=false;for(var i=t.length-1;i>0&&!e;i--){for(var r=0;r<t[i].length&&!e;r++){if(typeof t[i][r]==="object"){e=true}}if(!e){t.pop()}}return t},setGroupsLayout:function(t,e){if(t.getIsGroupLocked()&&e.length>0){var i=t.getDomRef().parentElement;t.getDomRef().style.width="";i.style.width="";i.style.display=""}},calcTilesInRow:function(t,e,i){var r=Math.floor(t/(e+i));r=r<this.minTilesinRow?this.minTilesinRow:r;return r},getGroupTiles:function(t){var e=t.getTiles();if(t.getShowPlaceholder()){e.push(t.oPlusTile)}return e},reRenderGroupsLayout:function(t){if(!this.isInited){return}var e=this.getStyleInfo(this.container);if(!e.tileWidth){return}this.styleInfo=e;this.tilesInRow=this.calcTilesInRow(e.containerWidth,e.tileWidth,e.tileMarginWidth);t=t||this.getGroups();for(var i=0;i<t.length;i++){if(t[i].getDomRef&&!t[i].getDomRef()){continue}var r=this.getGroupTiles(t[i]);var s=this.organizeGroup(r);this.setGroupsLayout(t[i],s)}},initDragMode:function(){this.initGroupDragMode(this.layoutEngine.currentGroup)},endDragMode:function(){var t=this.getGroups();for(var e=0;e<t.length;e++){var i=t[e].getDomRef();if(!i||!i.classList.contains("sapUshellInDragMode")){continue}i.classList.remove("sapUshellInDragMode");var r=this.getGroupTiles(t[e]);for(var s=0;s<r.length;s++){r[s].getDomRef().removeAttribute("style")}var n=i.getElementsByClassName("sapUshellInner");for(var o=0;o<n.length;o++){n[o].removeAttribute("style")}}},initGroupDragMode:function(t){if(t.$().hasClass("sapUshellInDragMode")){return}var e=this.getGroupTiles(t);var i=this.organizeGroup(e);t.$().addClass("sapUshellInDragMode");this.renderLayoutGroup(t,i)},calcTranslate:function(t,e){var i=e*(this.styleInfo.tileWidth+this.styleInfo.tileMarginWidth);var r=t*(this.styleInfo.tileHeight+this.styleInfo.tileMarginHeight);if(this.layoutEngine.rightToLeft){i=-i}return{x:i,y:r}},renderLayoutGroup:function(t,e){var i;this.styleInfo=this.getStyleInfo(this.container);for(var r=0;r<e.length;r++){for(var s=0;s<e[r].length;s++){if(i===e[r][s]){continue}else{i=e[r][s]}if(typeof i==="undefined"){break}}}}};var u=new l;return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/CatalogsManager", ["sap/ui/base/Object","sap/ui/core/EventBus","sap/ushell/ui/launchpad/TileStateInternal","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/ushell/components/HomepageManager","sap/ushell/resources","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/Log","sap/ushell/Config","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/Container"],function(e,t,a,o,i,r,s,n,l,g,jQuery,c,u,h,d,p){"use strict";var v;var f=e.extend("sap.ushell.components.CatalogsManager",{metadata:{publicMethods:["createGroup","createGroupAndSaveTile","createTile","deleteCatalogTileFromGroup","notifyOnActionFailure","resetAssociationOnFailure"]},analyticsConstants:{PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"},_aDoables:[],constructor:function(e,t){this.oLaunchPageServicePromise=p.getServiceAsync("FlpLaunchPage").then(function(e){this.oLaunchPageService=e;return e}.bind(this));this.oTileCatalogToGroupsMap={};this.tagsPool=[];this.iInitialLoad=100;this.oModel=t.model;if(!h.last("/core/spaces/enabled")){var a={model:this.oModel};this.oHomepageManager=l.prototype.getInstance();if(!this.oHomepageManager){this.oHomepageManager=new l("dashboardMgr",a)}}v=this.getInterface();this.registerEvents()},registerEvents:function(){var e=t.getInstance();e.subscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoables=[];this._aDoables.push(o.on("showCatalog").do(this.updateTilesAssociation.bind(this)));this._aDoables.push(o.on("updateGroups").do(this.updateTilesAssociation.bind(this)))},unregisterEvents:function(){var e=t.getInstance();e.unsubscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoables.forEach(function(e){e.off()});this._aDoables=[]},getModel:function(){return this.oModel},loadAllCatalogs:function(){var e=new jQuery.Deferred;var t=this;e.resolve();var a=function(){e.done(function(){var e=t.getModel().getProperty("/groups");if(e&&e.length!==0){t.updateTilesAssociation()}})};if(!this.oModel.getProperty("/catalogs")){if(!this.oModel.getProperty("/groups")||this.oModel.getProperty("/groups").length===0){if(!h.last("/core/spaces/enabled")){e=this.oHomepageManager.loadPersonalizedGroups()}}r.destroyFLPAggregationModels(this.oModel.getProperty("/catalogs"));r.destroyTileModels(this.oModel.getProperty("/catalogTiles"));this.oModel.setProperty("/catalogs",[]);this.oModel.setProperty("/catalogSearchEntity",{appBoxes:[],customTiles:[]});this.aPromises=[];c.start("FLP:DashboardManager.GetCatalogsRequest","GetCatalogsRequest","FLP");c.start("FLP:DashboardManager.getCatalogTiles","getCatalogTiles","FLP");c.pause("FLP:DashboardManager.getCatalogTiles");c.start("FLP:DashboardManager.BuildCatalogModelWithRendering","BuildCatalogModelWithRendering","FLP");c.pause("FLP:DashboardManager.BuildCatalogModelWithRendering");this.oLaunchPageServicePromise.then(function(e){e.getCatalogs().done(function(e){var t=e.slice(0,this.iInitialLoad);c.end("FLP:DashboardManager.GetCatalogsRequest");this.aPromises=t.map(this.addCatalogToModel.bind(this));Promise.all(this.aPromises).then(this.processPendingCatalogs.bind(this)).then(function(){this.aPromises=e.slice(this.iInitialLoad).map(this.addCatalogToModel.bind(this));Promise.all(this.aPromises).then(this.processPendingCatalogs.bind(this))}.bind(this)).then(this.onDoneLoadingCatalogs.bind(this,e)).then(a)}.bind(this)).fail(n.showLocalizedErrorHelper("fail_to_load_catalog_msg"))}.bind(this))}else{a()}},updateTilesAssociation:function(){this.mapCatalogTilesToGroups();this.updateCatalogTilesToGroupsMap()},mapCatalogTilesToGroups:function(){var e=this;this.oTileCatalogToGroupsMap={};var t=this.oModel.getProperty("/groups");t.forEach(function(t){["tiles","links"].forEach(function(a){var o=t[a];if(o){for(var i=0;i<o.length;++i){var r=encodeURIComponent(e.oLaunchPageService.getCatalogTileId(o[i].object));var s=e.oTileCatalogToGroupsMap[r]||[];var n=e.oLaunchPageService.getGroupId(t.object);if(s.indexOf(n)===-1&&(typeof t.isGroupVisible==="undefined"||t.isGroupVisible)&&!t.isGroupLocked){s.push(n)}e.oTileCatalogToGroupsMap[r]=s}}})})},updateCatalogTilesToGroupsMap:function(){var e;var t;var a;var o=this.getModel().getProperty("/catalogs");if(o){for(var i=0;i<o.length;i++){var r=o[i].appBoxes;if(r){for(var s=0;s<r.length;s++){var n=r[s];e=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(n.src));a=this.oTileCatalogToGroupsMap[e];t=a||[];n.associatedGroups=t}}var l=o[i].customTiles;if(l){for(var g=0;g<l.length;g++){var c=l[g];e=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(c.src));a=this.oTileCatalogToGroupsMap[e];t=a||[];c.associatedGroups=t}}}}this.getModel().setProperty("/catalogs",o)},addCatalogToModel:function(e){var t={title:this.oLaunchPageService.getCatalogTitle(e),id:this.oLaunchPageService.getCatalogId(e),numberTilesSupportedOnCurrectDevice:0,static:false,customTiles:[],appBoxes:[]};c.resume("FLP:DashboardManager.getCatalogTiles");return new Promise(function(a,o){this.oLaunchPageService.getCatalogTiles(e).done(function(e){c.pause("FLP:DashboardManager.getCatalogTiles");a({oCatalogEntry:e,oCatalogModel:t})}).fail(function(e){n.showLocalizedErrorHelper("fail_to_load_catalog_tiles_msg");o(e)})}.bind(this))},getTagList:function(e){var t={};var a=[];if(this.oModel.getProperty("/tagList")&&this.oModel.getProperty("/tagList").length>0){this.tagsPool.concat(this.oModel.getProperty("/tagList"))}for(var o=0;o<this.tagsPool.length;o++){var i=this.tagsPool[o];if(t[i]){t[i]++}else{t[i]=1}}for(var r in t){a.push({tag:r,occ:t[r]})}var s=a.sort(function(e,t){return t.occ-e.occ});if(e){this.oModel.setProperty("/tagList",s.slice(0,e))}else{this.oModel.setProperty("/tagList",s)}},processPendingCatalogs:function(e){var a=this.oModel.getProperty("/catalogs");var r=t.getInstance();var s=this.oModel.getProperty("/masterCatalogs")||[{title:n.getLocalizedText("all")}];c.end("FLP:DashboardManager.getCatalogTiles");c.resume("FLP:DashboardManager.BuildCatalogModelWithRendering");var l=e.reduce(function(e,t){return e.then(function(){var e;var o;var i=t.oCatalogEntry;var r=t.oCatalogModel;var n=this.searchModelCatalogByTitle(r.title);if(n.result){o=this.oModel.getProperty("/catalogs")[n.indexOfPreviousInstanceInModel];e=false}else{e=true;o=r}var l=i.map(function(e){return this._processCatalogObjectForModel(o,e)}.bind(this));return Promise.all(l).then(function(){if(o.appBoxes.length>0||o.customTiles.length>0){if(e){a.push(r);s.push({title:r.title})}}if(this.oModel.getProperty("/enableCatalogTagFilter")===true){this.getTagList()}}.bind(this))}.bind(this))}.bind(this),Promise.resolve());return l.then(function(){this.oModel.setProperty("/masterCatalogs",s);this.oModel.setProperty("/catalogs",a);r.publish("launchpad","afterCatalogSegment");setTimeout(function(){i.setPerformanceMark("FLP-TTI-AppFinder",{bUseUniqueMark:true});o.emit("firstCatalogSegmentCompleteLoaded",true)},0);c.pause("FLP:DashboardManager.BuildCatalogModelWithRendering")}.bind(this))},_processCatalogObjectForModel:function(e,t){if(this._getIsIntentSupported(t)){if(this._getIsAppBox(t)){return this.createCatalogAppBoxes(t,true).then(t=>{e.appBoxes.push(t)})}return this.createCatalogTiles(t).then(function(t){e.customTiles.push(t);if(!this.aFnToGetTileView){this.aFnToGetTileView=[]}}.bind(this))}return Promise.resolve()},searchModelCatalogByTitle:function(e){var t=this.oModel.getProperty("/catalogs");var a=false;var o;var i=0;var r=false;var s;for(var n=0;n<t.length;++n){s=t[n];if(s.title===g.i18n.getText("catalogsLoading")){r=true}else if(e===s.title){o=n;i=s.numberOfTiles;a=true;break}}return{result:a,indexOfPreviousInstanceInModel:o,indexOfPreviousInstanceInPage:r?o-1:o,numOfTilesInCatalog:i}},_getCatalogTileId:function(e){var t=this.oLaunchPageService.getStableCatalogTileId(e);if(!h.last("/core/spaces/enabled")){t=null}if(!t){t=this.oLaunchPageService.getCatalogTileId(e)}return t},createCatalogAppBoxes:async function(e,t){const a=encodeURIComponent(this._getCatalogTileId(e));const o=this.oTileCatalogToGroupsMap[a]||[];const i=this.oLaunchPageService.getCatalogTileTags(e)||[];const r=this.oLaunchPageService.getCatalogTileContentProviderId(e);const s=await d.getContentProviderLabel(r)||r;if(i.length>0){this.tagsPool=this.tagsPool.concat(i)}let n;if(e.tileResolutionResult){n=e.tileResolutionResult.navigationMode}return{id:a,associatedGroups:o,src:e,title:this.oLaunchPageService.getCatalogTilePreviewTitle(e),subtitle:this.oLaunchPageService.getCatalogTilePreviewSubtitle(e),icon:this.oLaunchPageService.getCatalogTilePreviewIcon(e),keywords:t?(this.oLaunchPageService.getCatalogTileKeywords(e)||[]).join(","):[],tags:i,navigationMode:n,url:this.oLaunchPageService.getCatalogTileTargetURL(e),contentProviderLabel:s}},onDoneLoadingCatalogs:function(e){var a=e.map(function(e){return new Promise(function(t,a){this.oLaunchPageService.getCatalogTiles(e).done(t).fail(a)}.bind(this))}.bind(this));Promise.all(a).then(function(t){var a=true;for(var o=0;o<t.length;o++){if(t[o].length!==0){a=false;break}}if(a||!e.length){this.oModel.setProperty("/catalogsNoDataText",g.i18n.getText("noCatalogs"))}}.bind(this));var o=t.getInstance();o.publish("launchpad","catalogContentLoaded");var r=e.filter(function(e){var t=this.oLaunchPageService.getCatalogError(e);if(t){u.error("A catalog could not be loaded",t,"sap.ushell.components.CatalogsManager")}return!t}.bind(this));if(r.length!==e.length){n.showLocalizedError("partialCatalogFail")}i.handleTilesVisibility()},createCatalogTiles:async function(e){let t=Promise.resolve();const o=e.getChip&&e.getChip().getBaseChipId&&e.getChip().getBaseChipId();if(o&&["X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER","X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"].indexOf(o)===-1){t=new Promise(function(t,a){this.oLaunchPageService.getCatalogTileViewControl(e).done(t).fail(a)}.bind(this))}return t.then(async function(t){const o=encodeURIComponent(this._getCatalogTileId(e));const i=this.oTileCatalogToGroupsMap[o]||[];const r=this.oLaunchPageService.getCatalogTileTags(e)||[];const s=this.oLaunchPageService.getCatalogTileContentProviderId(e);const n=await d.getContentProviderLabel(s);if(r.length>0){this.tagsPool=this.tagsPool.concat(r)}if(!t){t=new a({state:"Loading"})}let l=this.oLaunchPageService.getCatalogTilePreviewTitle(e);if(!l){l=this.oLaunchPageService.getCatalogTileTitle(e)}return{associatedGroups:i,src:e,catalog:e.title,catalogId:e.id,title:l,tags:r,keywords:(this.oLaunchPageService.getCatalogTileKeywords(e)||[]).join(","),id:o,size:this.oLaunchPageService.getCatalogTileSize(e),content:[t],isTileIntentSupported:this.oLaunchPageService.isTileIntentSupported(e),tileType:e.tileType,contentProviderLabel:n}}.bind(this))},createGroupAndSaveTile:function(e){var a=e.catalogTileContext;var o=e.newGroupName;var r=new jQuery.Deferred;if(i.validHash(o)&&a){this.createGroup(o).then(function(e){var o=this.oHomepageManager.getDashboardView();if(o&&o.getModel().getProperty("/tileActionModeActive")){t.getInstance().publish("launchpad","AddTileContainerContent")}var i={};this.createTile({catalogTileContext:a,groupContext:e}).done(function(e){i={group:e.group,status:1,action:"addTileToNewGroup"};r.resolve(i)}).fail(function(e){i={group:e.group,status:0,action:"addTileToNewGroup"};r.resolve(i)})}.bind(this))}return r.promise()},createGroup:function(e){var t=this;var a=new jQuery.Deferred;if(!i.validHash(e)){return a.reject({status:0,action:"createNewGroup"})}var o=this.oLaunchPageService.addGroup(e);o.done(function(e){var o=t.oHomepageManager.addGroupToModel(e);a.resolve(o)});o.fail(function(){n.showLocalizedError("fail_to_create_group_msg");var e={status:0,action:"createNewGroup"};a.resolve(e)});return a.promise()},createTile:function(e){var a=this;var o=e.catalogTileContext;var i=e.groupContext;var r=this.oModel.getProperty(i.getPath());var l=r.groupId;var g=new jQuery.Deferred;var c={};var h=t.getInstance();h.publish("launchpad","addTile",{catalogTileContext:o,groupContext:i});if(!o){u.warning("CatalogsManager: Did not receive catalog tile object. Abort.",this);c={group:r,status:0,action:"add"};return Promise.resolve(c)}var d=this.oLaunchPageService.addTile(o.getProperty("src"),i.getProperty("object"));d.done(function(e){var t=a.oModel.getProperty("/groups");var o=s.getModelPathOfGroup(t,l);a.oHomepageManager.addTileToGroup(o,e);c={group:r,status:1,action:"add"};g.resolve(c)}).fail(function(){n.showLocalizedError("fail_to_add_tile_msg");c={group:r,status:0,action:"add"};g.resolve(c)});return g.promise()},deleteCatalogTileFromGroup:function(e){var t=this;var a=decodeURIComponent(e.tileId);var o=e.groupIndex;var i=this.oModel.getProperty("/groups/"+o);var r=new jQuery.Deferred;var s=[];var n=[];["tiles","links"].forEach(function(e){i[e].forEach(function(e){var o=t.oLaunchPageService.getCatalogTileId(e.object);if(o===a){var r=new jQuery.Deferred;var l=t.oLaunchPageService.removeTile(i.object,e.object);l.done(function(t){return function(){n.push(e.uuid);t.resolve({status:true})}}(r));l.fail(function(e){return function(){e.resolve({status:false})}}(r));s.push(r)}})});jQuery.when.apply(jQuery,s).done(function(e){var a=s.length===n.length;t.oHomepageManager.deleteTilesFromGroup(i.groupId,n);t.updateTilesAssociation();r.resolve({group:i,status:a,action:"remove"})});return r.promise()},calculateCatalogTileIndex:function(e,t,a){var o=parseInt(e*1e5,10);o+=(t!==undefined?t:0)+a;return o},notifyOnActionFailure:function(e,t){n.showLocalizedError(e,t)},resetAssociationOnFailure:function(e,t){this.notifyOnActionFailure(e,t);this.updateTilesAssociation()},_getIsIntentSupported:function(e){return!!this.oLaunchPageService.isTileIntentSupported(e)},_getIsAppBox:function(e){var t;var a=this.oModel.getProperty("/appFinderDisplayMode")||"appBoxes";if(a.toLowerCase()==="tiles"){t=false}else{t=!!(this.oLaunchPageService.getCatalogTileTargetURL(e)&&(this.oLaunchPageService.getCatalogTilePreviewTitle(e)||this.oLaunchPageService.getCatalogTilePreviewSubtitle(e)))}return t},destroy:function(){this.unregisterEvents()}});f.prototype.getInstance=function(){return v};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/DestroyHelper", [],function(){"use strict";function t(t){var e;if(t&&t.content){for(e=0;e<t.content.length;e++){if(t.content[e].destroy){t.content[e].destroy()}}}}function e(e){var n;if(e){for(n=0;n<e.length;n++){t(e[n])}}}function n(t){if(t){e(t.tiles)}}function o(t){var e;if(t){for(e=0;e<t.length;e++){n(t[e])}}}return{destroyFLPAggregationModel:n,destroyFLPAggregationModels:o,destroyTileModel:t,destroyTileModels:e}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/GroupsHelper", [],function(){"use strict";return{getIndexOfGroup:n,getModelPathOfGroup:r};function r(r,u){var t=n(r,u);if(t<0){return null}return"/groups/"+t}function n(r,n){for(var u=0;u<r.length;u++){if(r[u].groupId===n){return u}}return-1}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/HomepageManager", ["sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/core/Theming","sap/ui/base/Object","sap/ui/Device","sap/ui/model/Filter","sap/ushell/ui/launchpad/TileState","sap/ushell/components/_HomepageManager/PagingManager","sap/ushell/components/_HomepageManager/DashboardLoadingManager","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/resources","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/SelectDialog","sap/m/StandardListItem","sap/ushell/components/_HomepageManager/PersistentPageOperationAdapter","sap/ushell/components/_HomepageManager/TransientPageOperationAdapter","sap/ui/model/FilterOperator","sap/m/library","sap/ui/model/Context","sap/m/MessageToast","sap/base/Log","sap/base/util/extend","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/Container"],function(jQuery,e,t,i,o,r,s,n,a,l,u,d,p,h,g,c,f,v,b,m,M,P,T,G,_,y,I,k,w,L){"use strict";var S=T.GenericTileScope;var A={PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"};var O=[];var V;var x=i.extend("sap.ushell.components.HomepageManager",{metadata:{publicMethods:["getModel","getDashboardView","loadPersonalizedGroups","resetGroupsOnFailure","addGroupToModel","addTileToGroup","deleteTilesFromGroup"]},analyticsConstants:A,constructor:function(e,i){if(V){if(!V.view){V.setDashboardView(i.view)}return V}this.oServiceLoadingPromise=L.getServiceAsync("FlpLaunchPage").then(function(e){this.oPageBuilderService=e;this.oPageBuilderService.registerTileActionsProvider(this._addFLPActionsToTile.bind(this));this.oPageOperationAdapter=m.getInstance(e);this.bLinkPersonalizationSupported=this.oPageOperationAdapter.isLinkPersonalizationSupported()}.bind(this));t.attachApplied(d.handleTilesVisibility);V=this;this.oModel=i.model;this.oRouter=i.router;this.oDashboardView=i.view;this.oSortableDeferred=new jQuery.Deferred;this.oSortableDeferred.resolve();this.registerEvents();this.tileViewUpdateQueue=[];this.tileViewUpdateTimeoutID=0;this.tileUuid=null;this.bIsGroupsModelLoading=false;this.bIsGroupsRequestPending=false;this.segmentsStore=[];this.bIsFirstSegment=true;this.bIsFirstSegmentViewLoaded=false;this.aGroupsFrame=null;this.iMinNumOfTilesForBlindLoading=this.oModel.getProperty("/optimizeTileLoadingThreshold")||100;this.bIsScrollModeAccordingKPI=false;this.oGroupNotLockedFilter=new r("isGroupLocked",P.EQ,false);this.oDashboardLoadingManager=new a("loadingManager",{oDashboardManager:this});if(this.oRouter){var o=this.oRouter.getTarget("home");o.attachDisplay(function(e){this.oDashboardView=e.getParameter("view")}.bind(this))}var s=u.last("/core/home/enableTransientMode");O.push(u.on("/core/home/enableTransientMode").do(function(e){if(s===e){return}s=e;this._changeMode(e)}.bind(this)));this.oModel.bindProperty("/tileActionModeActive").attachChange(this._changeLinksScope.bind(this));this._aRequestQueue=[];this._bRequestRunning=false;return undefined},_addRequest:function(e){this._aRequestQueue.push(e);if(!this._bRequestRunning){this._bRequestRunning=true;this._aRequestQueue.shift()()}},_checkRequestQueue:function(){if(this._aRequestQueue.length===0){this._bRequestRunning=false}else{this._aRequestQueue.shift()()}},_requestFailed:function(){this._aRequestQueue=[];this._bRequestRunning=false},isBlindLoading:function(){var e=u.last("/core/home/homePageGroupDisplay");if((e===undefined||e==="scroll")&&this.bIsScrollModeAccordingKPI){y.info("isBlindLoading reason IsScrollModeAccordingKPI and IsScrollMode: true");return true}if(this.oModel.getProperty("/tileActionModeActive")){y.info("isBlindLoading reason TileActionModeActive : true");return true}return false},createMoveActionDialog:function(e){var t=new v(e,{title:p.i18n.getText("moveTileDialog_title"),rememberSelections:false,contentWidth:"400px",contentHeight:"auto",confirm:function(t){var i=t.getParameter("selectedContexts");this.publishMoveActionEvents(i,e)}.bind(this),cancel:function(){var e=document.querySelector('.sapUshellTile[tabindex="0"]');if(e){e.focus()}},items:{path:"/groups",template:new b({title:"{title}"})}});return t},publishMoveActionEvents:function(t,i){var r=e.getEventBus();if(t.length){var s=this.tileType==="link"?"links":"tiles";var n=t[0].getObject().groupId;var a={sTileId:this.tileUuid,sToItems:s,sFromItems:s,sTileType:s,toGroupId:t[0].getObject().groupId,toIndex:t[0].getObject()[this.tileType==="link"?"links":"tiles"].length,source:i};if(o.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],function(e){e.getInstance().then(function(e){a.callBack=e.callbackSetFocus.bind(e);r.publish("launchpad","scrollToGroup",{groupId:n});r.publish("launchpad","movetile",a)})})}else{r.publish("launchpad","scrollToGroup",{groupId:n});r.publish("launchpad","movetile",a)}}},_changeLinksScope:function(e){var t=this;if(this.bLinkPersonalizationSupported){var i=e.getSource().getValue();this.oModel.getProperty("/groups").forEach(function(e,o){if(!e.isGroupLocked){t._changeGroupLinksScope(e,i?"Actions":"Display")}})}},_changeGroupLinksScope:function(e,t){var i=this;e.links.forEach(function(e,o){i._changeLinkScope(e.content[0],t)})},_changeLinkScope:function(e,t){var i;if(e.getScope){i=e}else if(e.getContent){i=e.getContent()[0]}if(this.bLinkPersonalizationSupported&&i&&i.setScope){i.setScope(t)}},registerEvents:function(){var t=e.getEventBus();t.subscribe("launchpad","addBookmarkTile",this._createBookmark,this);t.subscribe("launchpad","tabSelected",this.getSegmentTabContentViews,this);t.subscribe("sap.ushell.services.Bookmark","bookmarkTileAdded",this._addBookmarkToModel,this);t.subscribe("sap.ushell.services.Bookmark","catalogTileAdded",this._refreshGroupInModel,this);t.subscribe("sap.ushell.services.Bookmark","bookmarkTileDeleted",this.loadPersonalizedGroups,this);t.subscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);t.subscribe("launchpad","createGroupAt",this._createGroupAt,this);t.subscribe("launchpad","deleteGroup",this._deleteGroup,this);t.subscribe("launchpad","resetGroup",this._resetGroup,this);t.subscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);t.subscribe("launchpad","moveGroup",this._moveGroup,this);t.subscribe("launchpad","deleteTile",this._deleteTile,this);t.subscribe("launchpad","movetile",this._moveTile,this);t.subscribe("launchpad","sortableStart",this._sortableStart,this);t.subscribe("launchpad","sortableStop",this._sortableStop,this);t.subscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);t.subscribe("launchpad","convertTile",this._convertTile,this)},_changeMode:function(e){var t=this.getModel().getProperty("/groups");if(e){this.oPageOperationAdapter=M.getInstance();var i=this.oPageOperationAdapter.transformGroupModel(t);this.getModel().setProperty("/groups",i)}else{this.oPageOperationAdapter=m.getInstance();h.destroyFLPAggregationModels(t);this.getModel().setProperty("/groups",[]);this.loadPersonalizedGroups()}},_addFLPActionsToTile:function(e){var t=[];if(u.last("/core/shell/enablePersonalization")){var i=this.bLinkPersonalizationSupported&&this.oPageOperationAdapter.isLinkPersonalizationSupported(e);t.push(this._getMoveTileAction(e));if(i){t.push(this._getConvertTileAction(e))}}return t},getPersonalizableGroups:function(){var e=this.getModel().getProperty("/groups");return e.filter(function(e){return!e.isGroupLocked})},_getConvertTileAction:function(t){var i=e.getEventBus();var r=this.oPageOperationAdapter.getTileType(t);var s=r==="tile"?"ConvertToLink":"ConvertToTile";return{id:s,text:p.i18n.getText(s),press:function(e){var t={tile:e};if(o.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],function(e){e.getInstance().then(function(e){t.callBack=e.callbackSetFocus.bind(e);i.publish("launchpad","convertTile",t)})})}else{i.publish("launchpad","convertTile",t)}}}},_getMoveTileAction:function(e){var t="moveTile_action";return{id:t,text:p.i18n.getText(t),press:function(t){this.tileType=this.oPageOperationAdapter.getTileType(e);var i=this.tileType==="tile";this.tileUuid=this.getModelTileById(this.oPageOperationAdapter.getTileId(e),i?"tiles":"links").uuid;var o=t.getParent().getProperty("groupId");var s=new r("groupId",P.NE,o);var n=function(e){var t=e.getParameter("value");var i=new r("title",P.Contains,t);var o=e.getSource().getBinding("items");o.filter([i,this.oGroupNotLockedFilter,s])}.bind(this);var a=i?this.moveTileDialog:this.moveLinkDialog;if(!a){a=this.createMoveActionDialog("move"+this.tileType+"Dialog");a.setModel(this.oModel);if(i){this.moveTileDialog=a}else{this.moveLinkDialog=a}}else{a.detachSearch(a._searchHandler)}a.getBinding("items").filter([this.oGroupNotLockedFilter,s]);a.attachSearch(n);a._searchHandler=n;a.open()}.bind(this)}},_handleTileAppearanceAnimation:function(e){if(!e){return}var t=["webkit",""];function i(i,o){for(var r=0;r<t.length;r++){o=o.toLowerCase();e.attachBrowserEvent(t[r]+o,function(t){if(t.originalEvent&&t.originalEvent.animationName==="sapUshellTileEntranceAnimation"){e.removeStyleClass("sapUshellTileEntrance")}},false)}}i(e,"AnimationEnd");e.addStyleClass("sapUshellTileEntrance")},destroy:function(){var o=e.getEventBus();o.unsubscribe("launchpad","addBookmarkTile",this._createBookmark,this);o.unsubscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);o.unsubscribe("launchpad","createGroupAt",this._createGroupAt,this);o.unsubscribe("launchpad","deleteGroup",this._deleteGroup,this);o.unsubscribe("launchpad","resetGroup",this._resetGroup,this);o.unsubscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);o.unsubscribe("launchpad","moveGroup",this._moveGroup,this);o.unsubscribe("launchpad","deleteTile",this._deleteTile,this);o.unsubscribe("launchpad","movetile",this._moveTile,this);o.unsubscribe("launchpad","sortableStart",this._sortableStart,this);o.unsubscribe("launchpad","sortableStop",this._sortableStop,this);o.unsubscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);t.detachApplied(d.handleTilesVisibility);O.forEach(function(e){e.off()});m.destroy();M.destroy();V=undefined;i.prototype.destroy.apply(this,arguments)},_sortableStart:function(){this.oSortableDeferred=new jQuery.Deferred},_createBookmark:function(e,t,i){var o=i.group?i.group.object:"";delete i.group;function r(){L.getServiceAsync("BookmarkV2").then(function(e){e.addBookmark(i,o).then(function(){c.showLocalizedMessage("tile_created_msg")}).catch(function(e){y.error("Failed to add bookmark",e,"sap.ushell.ui.footerbar.AddBookmarkButton");c.showLocalizedError("fail_to_add_tile_msg")}).finally(this._checkRequestQueue.bind(this))}.bind(this))}this._addRequest(r.bind(this))},_addBookmarkToModel:function(e,t,i){var o=i.tile;var r=i.group;if(!i||!o){this.bIsGroupsModelDirty=true;if(!this.bGroupsModelLoadingInProcess){this._handleBookmarkModelUpdate()}return}if(!r){var s=this.getModel().getProperty("/groups");for(var n=0;n<s.length;n++){if(s[n].isDefaultGroup===true){r=s[n].object;break}}}var a=this._getIndexOfGroupByObject(r);var l=this.oModel.getProperty("/groups/"+a);var u=this.oPageOperationAdapter.getPreparedTileModel(o,l.isGroupLocked);this.getTileView(u);l.tiles.push(u);l.visibilityModes=d.calcVisibilityModes(l,true);var p=l.tiles.length;this._updateModelWithTileView(a,p);this.oModel.setProperty("/groups/"+a,l)},_refreshGroupInModel:function(e,t,i){var o=this;this.oPageOperationAdapter.refreshGroup(i).then(function(e){if(!e){return}var t=o._getIndexOfGroupByObject(e.object);e.visibilityModes=d.calcVisibilityModes(e.object,true);o.oModel.setProperty("/groups/"+t,e);if(e.tiles){e.tiles.forEach(function(e){o.getTileView(e)})}})},_sortableStop:function(){this.oSortableDeferred.resolve()},_handleAfterSortable:function(e){return function(){var t=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(function(){e.apply(null,t)})}.bind(this)},_createGroupAt:function(e,t,i){var o=parseInt(i.location,10);var r=this.oModel.getProperty("/groups");var s=this.oPageOperationAdapter.getPreparedGroupModel(null,false,o===r.length,i);var n=this.oModel;var a;s.index=o;r.splice(o,0,s);for(a=0;a<r.length-1;a++){r[a].isLastGroup=false}for(a=o+1;a<r.length;a++){r[a].index++}n.setProperty("/groups",r)},_getIndexOfGroupByObject:function(e){var t=this.oModel.getProperty("/groups");return this.oPageOperationAdapter.getIndexOfGroup(t,e)},getTileActions:function(e){return this.oPageOperationAdapter.getTileActions(e)},addTileToGroup:function(e,t){var i=e+"/tiles";var o=this.oModel.getProperty(e);var r=this.oModel.getProperty(i).length;var s=this.oModel.getProperty(e+"/isGroupLocked");var n=this.oModel.getProperty("/personalization");o.tiles[r]=this.oPageOperationAdapter.getPreparedTileModel(t,s);this.getTileView(o.tiles[r]);o.visibilityModes=d.calcVisibilityModes(o,n);this._updateModelWithTileView(o.index,r);this.oModel.setProperty(e,o)},addTilesToGroupByCatalogTileId:function(e,t){var i=e.getBindingContext();for(var o=0;o<t.length;o++){this.addTileToGroupByCatalogTileId(i.sPath,t[o])}},addTileToGroupByCatalogTileId:function(e,t){if(!u.last("/core/home/enableTransientMode")){return}var i=this.oPageOperationAdapter.getTileModelByCatalogTileId(t);if(!i){return}this.oDashboardLoadingManager.setTileResolved(i);var o=this.oModel.getProperty(e+"/tiles").length;var r=this.oModel.getProperty(e);r.tiles[o]=i;this.oModel.setProperty(e,r)},_getPathOfTile:function(e){var t=this.oModel.getProperty("/groups");for(var i=0;i<t.length;++i){var o=t[i];var r=o.tiles;var s=o.links;for(var n=0;n<r.length;++n){if(r[n].uuid===e){return"/groups/"+i+"/tiles/"+n}}for(var a=0;a<s.length;++a){if(s[a].uuid===e){return"/groups/"+i+"/links/"+a}}}return null},_moveInArray:function(e,t,i){if(i>=e.length){var o=i-e.length;while(o--+1){e.push(undefined)}}e.splice(i,0,e.splice(t,1)[0])},_updateGroupIndices:function(e){for(var t=0;t<e.length;t++){e[t].index=t}},_deleteGroup:function(t,i,o){var r=this.oModel;var s=o.groupId;var n=r.getProperty("/groups");var a=g.getIndexOfGroup(n,s);var l=n.length-1===a;var u=l?a-1:a;h.destroyFLPAggregationModel(r.getProperty("/groups/"+a));var d=n.splice(a,1)[0];if(l){r.setProperty("/groups/"+u+"/isLastGroup",l)}r.setProperty("/groups",n);this._updateGroupIndices(n);if(u>=0){window.setTimeout(function(){e.getEventBus().publish("launchpad","scrollToGroup",{groupId:r.getProperty("/groups")[u].groupId})},200)}function p(){this.oPageOperationAdapter.deleteGroup(d).then(function(){c.showLocalizedMessage("group_deleted_msg",[d.title]);this._checkRequestQueue()}.bind(this),function(){this._resetGroupsOnFailure("fail_to_delete_group_msg")}.bind(this))}this._addRequest(p.bind(this))},_resetGroup:function(t,i,o){var r=this;var s=o.groupId;var n=this.oModel;var a=n.getProperty("/groups");var u=g.getIndexOfGroup(a,s);var p=r.oModel.getProperty("/groups/indexOfDefaultGroup")===u;var h=n.getProperty("/groups/"+u);n.setProperty("/groups/"+u+"/sortable",false);function f(){r.oPageOperationAdapter.resetGroup(h,p).then(function(t){r._handleAfterSortable(function(t,i,o){var s=r.oModel.getProperty("/groups");var n=g.getIndexOfGroup(s,t);r._loadGroup(n,o||i);c.showLocalizedMessage("group_reset_msg",[i.title]);r.oModel.setProperty("/groups/"+n+"/sortable",true);var a=e.byId("dashboardGroups").getGroupControlByGroupId(t);var u=a.getBindingContext().getObject().links;if(u&&u.length&&!a.getIsGroupLocked()){r._changeGroupLinksScope(a.getBindingContext().getObject(),r.oModel.getProperty("/tileActionModeActive")?S.Actions:S.Display)}if(a){a.invalidate();l.emit("updateGroups",Date.now());d.handleTilesVisibility()}})(s,h,t);r._checkRequestQueue()},function(){r._resetGroupsOnFailure("fail_to_reset_group_msg")})}this._addRequest(f)},_moveGroup:function(e,t,i){if(isNaN(i.fromIndex)){return}var o=i.fromIndex;var r=i.toIndex;var s=this.oModel;var n=s.getProperty("/groups");var a=s.getProperty("/tileActionModeActive");var l=this;if(!a){o=this._adjustFromGroupIndex(o,n)}var u=n[o];var d=u.groupId;if(!a){r=this._adjustToGroupIndex(r,n,d)}var p=n[r];this._moveInArray(n,o,r);this._updateGroupIndices(n);for(var h=0;h<n.length-1;h++){n[h].isLastGroup=false}n[n.length-1].isLastGroup=true;s.setProperty("/groups",n);function c(){n=s.getProperty("/groups");var e=s.getProperty(g.getModelPathOfGroup(n,d));if(!e.object){return}l.oPageOperationAdapter.getOriginalGroupIndex(p,n).then(function(t){var i={iFromIndex:o,iToIndex:r};return l.oPageOperationAdapter.moveGroup(e,t,i)}).then(l._checkRequestQueue.bind(l),function(){l._resetGroupsOnFailure("fail_to_move_group_msg")})}this._addRequest(c)},_adjustToGroupIndex:function(e,t,i){var o=0;var r=false;var s=0;for(s=0;s<t.length&&o<e;s++){if(t[s].isGroupVisible){if(t[s].groupId===i){r=true}else{o++}}}if(r){return s-1}return s},_adjustFromGroupIndex:function(e,t){var i=0;for(var o=0;o<t.length;o++){if(t[o].isGroupVisible){i++}if(i===e+1){return o}}return e},_changeGroupTitle:function(e,t,i){var o=this;var r=i.newTitle;var s=this.oModel.getProperty("/groups");var n=i.groupId;var a=g.getIndexOfGroup(s,n);var l=o.oModel.getProperty("/groups/indexOfDefaultGroup")===a;var u=this.oModel.getProperty("/groups/"+a);var d=u.title;this.oModel.setProperty("/groups/"+a+"/title",r);function p(){var e;if(u.isLastGroup){e=o.oPageOperationAdapter.addGroupAt(u,undefined,l)}else{var t=o.oModel.getProperty("/groups")[a+1];e=o.oPageOperationAdapter.getOriginalGroupIndex(t,s).then(function(e){return o.oPageOperationAdapter.addGroupAt(u,e,l)})}e.then(function(e){o._handleAfterSortable(function(e,t){var i=o.oModel.getProperty("/groups");var r=g.getIndexOfGroup(i,e);var s=i[r];Object.keys(t).forEach(function(e){if(e==="tiles"||e==="links"){return}s[e]=t[e]});o.oModel.refresh();o._checkRequestQueue()})(n,e)},function(){o._resetGroupsOnFailure("fail_to_create_group_msg")})}function h(){this.oPageOperationAdapter.renameGroup(u,r,d).then(function(){o._checkRequestQueue()},function(){o._resetGroupsOnFailure("fail_to_rename_group_msg")})}if(!u.object){this._checkRequestQueue();this._addRequest(p.bind(this))}else{this._addRequest(h.bind(this))}},addGroupToModel:function(e){var t=this.oPageOperationAdapter.getPreparedGroupModel(e,false,true,{isRendered:true});var i=this.oModel.getProperty("/groups");var o=i.length;if(o>0){i[o-1].isLastGroup=false}t.index=o;i.push(t);this.oModel.setProperty("/groups/",i);var r=new G(this.oModel,"/groups/"+o);return r},_deleteTile:function(t,i,r){var s=r.tileId;var n=this.oModel.getProperty("/groups");var a=r.items||"tiles";function l(e,t){this.oPageOperationAdapter.removeTile(e,t).then(this._checkRequestQueue.bind(this),this._resetGroupsOnFailure.bind(this,"fail_to_remove_tile_msg"))}function u(t,i,o){var r=e.byId("dashboardGroups");var s=r.getGroupControlByGroupId(i.groupId);var n;if(o==="tiles"){if(t+1===i[o].length){n=s.oPlusTile}}else{var a=s.getLinks();if(t+1===a.length){if(a.length===1){n=s.oPlusTile}else{n=a[t-1]}}else{n=a[t+1]}}if(n){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],function(e){e.getInstance().then(function(e){e.moveScrollDashboard(n.$())})})}}for(var p=0;p<n.length;++p){var g=n[p];for(var c=0;c<g[a].length;++c){var f=g[a][c];if(f.uuid===s){if(o.system.desktop){u(c,g,a)}h.destroyTileModel(this.oModel.getProperty("/groups/"+p+"/"+a+"/"+c));var v=g[a].splice(c,1)[0];var b=this.oModel.getProperty("/personalization");g.visibilityModes=d.calcVisibilityModes(g,b);this.oModel.setProperty("/groups/"+p,g);this._addRequest(l.bind(this,g,v));d.handleTilesVisibility();return}}}},deleteTilesFromGroup:function(e,t){var i=this.oModel.getProperty("/groups");var o=g.getIndexOfGroup(i,e);var r=this.oModel.getProperty("/groups/"+o);var s=[];["tiles","links"].forEach(function(e){s=r[e].filter(function(e){return t.indexOf(e.uuid)<0});r[e]=s});r.visibilityModes=d.calcVisibilityModes(r,true);this.oModel.setProperty("/groups/"+o,r)},_getGroupIndex:function(e){var t=this.oModel.getProperty("/groups");var i=this._getNewGroupInfo(t,e);if(i){return i.newGroupIndex}return undefined},_convertTile:function(e,t,i){var o=i.tile?i.tile:i;var r=i.srcGroupId?this._getGroupIndex(i.srcGroupId):undefined;var s=i.srcGroupId?this.oModel.getProperty("/groups/"+r):o.getParent().getBindingContext().getObject();var n=o.getBindingContext().sPath.split("/");var a=o.getBindingContext().getObject();var u=n[n.length-2];var h=a.uuid;var g=parseInt(n[n.length-1],10);var c=i.toIndex!==undefined?i.toIndex:undefined;var f=this.oModel.getProperty("/tileActionModeActive");var v=i.toGroupId?this._getGroupIndex(i.toGroupId):s.index;var b=i.toGroupId?this.oModel.getProperty("/groups/"+v):s;var m=this;var M=this._getIndexForConvert(u,g,c,s,b);var P={tileIndex:g,groupIndex:r,group:s};function T(){a.tileIsBeingMoved=true;var e=this.oPageOperationAdapter.moveTile(a,M,s,b,u==="links"?"tile":"link");e.then(function(e){m._handleAfterSortable(function(e,t){var o=m._getPathOfTile(e);var r=t.content;if(o){if(u==="tiles"){m._attachLinkPressHandlers(r);m._changeLinkScope(r,f?"Actions":"Display")}if(s===b){_.show(p.i18n.getText("PageRuntime.Message.VisualizationConverted"))}else{_.show(p.i18n.getText("PageRuntime.Message.VisualizationMovedAndConverted"))}var n={tileIndex:c,groupIndex:v,group:b};var h={tile:a,view:r,type:u,tileObj:t.object};a.tileIsBeingMoved=true;m.replaceTileViewAfterConvert(P,n,h);l.emit("updateGroups",Date.now());d.handleTilesVisibility();if(i.callBack){i.callBack(r)}}})(h,e);m._checkRequestQueue()},function(){m._handleAfterSortable(m._resetGroupsOnFailure.bind(m))("fail_to_move_tile_msg")})}this._addRequest(T.bind(this))},replaceTileViewAfterConvert:function(e,t,i){var o=i.tile;var r=o.content;o.tileIsBeingMoved=false;o.content=[i.view];o.object=i.tileObj;o.originalTileId=this.oPageOperationAdapter.getTileId(i.tileObj);e.group[i.type].splice(e.tileIndex,1);if(t.tileIndex!==undefined){t.group[i.type==="tiles"?"links":"tiles"].splice(t.tileIndex,0,o)}else{t.group[i.type==="tiles"?"links":"tiles"].push(o)}this.oModel.setProperty("/groups/"+t.groupIndex,t.group);this.oModel.setProperty("/groups/"+e.groupIndex,e.group);if(i.type==="links"){this._handleTileAppearanceAnimation(o.content[0].getParent())}else{this._handleTileAppearanceAnimation(o.content[0])}if(r&&r[0]){r[0].destroy()}},_getIndexForConvert:function(e,t,i,o,r){var s;if(e==="tiles"){if(i!==undefined){s=r[e].length+i}else{s=r[e].length+r.links.length}if(o.groupId===r.groupId){s--}}else{s=i||o.tiles.length;t+=o.tiles.length}return{tileIndex:t,newTileIndex:s}},_getIndexForMove:function(e,t,i,o,r){var s;if(e==="tiles"){s=i!==undefined?i:o[e].length}else{if(i!==undefined){s=o.tiles.length+i}else{s=o.tiles.length+o.links.length}t+=r.tiles.length}return{tileIndex:t,newTileIndex:s}},_getTileInfo:function(e,t,i){for(var o=0;o<e.length;++o){var r=e[o];for(var s=0;s<r[i].length;++s){var n=r[i][s];if(n.uuid===t){return{oTile:n,tileIndex:s,oGroup:r,groupIndex:o}}}}return},_getNewGroupInfo:function(e,t){for(var i=0;i<e.length;++i){var o=e[i];if(o.groupId===t){return{oNewGroup:o,newGroupIndex:i}}}return},_moveTile:function(e,t,i){var o=i.toIndex;var r=i.toGroupId;var s=i.sTileId;var n=i.source;var a=i.sTileType==="tiles"||i.sTileType==="tile"?"tile":"link";var u=i.sToItems;var h=i.sFromItems;var g=this.oModel.getProperty("/tileActionModeActive");var c=this.oModel.getProperty("/groups");var f=this._getTileInfo(c,s,h);var v=this._getNewGroupInfo(c,r);var b=this;var m=f.tileIndex===v.oNewGroup.tiles.length-1&&o>=v.oNewGroup.tiles.length;if((f.tileIndex===o||m)&&f.oGroup.groupId===v.oNewGroup.groupId){return}if(f.oGroup.groupId===v.oNewGroup.groupId&&(n==="movetileDialog"||o===null||n==="movelinkDialog")){if(i.callBack&&f.oTile&&f.oTile.content&&f.oTile.content.length){i.callBack(f.oTile.content[0])}return}if(a==="link"){f.oTile.content[0].addStyleClass("sapUshellZeroOpacity")}if(a==="tile"&&u==="tiles"){if(o&&o>v.oNewGroup[u].length){o=v.oNewGroup[u].length}}if(f.oGroup.groupId===r&&u===h){if(o===null||o===undefined){f.oGroup[u].splice(f.tileIndex,1);o=f.oGroup[u].length;f.oGroup[u].push(f.oTile)}else{o=this._adjustTileIndex(o,f.oTile,f.oGroup,u);this._moveInArray(f.oGroup[u],f.tileIndex,o)}this.oModel.setProperty("/groups/"+f.groupIndex+"/"+u,f.oGroup[u])}else{var M=this.oModel.getProperty("/personalization");f.oGroup[h].splice(f.tileIndex,1);f.oGroup.visibilityModes=d.calcVisibilityModes(f.oGroup,M);this.oModel.setProperty("/groups/"+f.groupIndex+"/"+h,f.oGroup[h]);if(o===null||o===undefined){o=v.oNewGroup[u].length;v.oNewGroup[u].push(f.oTile)}else{o=this._adjustTileIndex(o,f.oTile,v.oNewGroup,u);v.oNewGroup[u].splice(o,0,f.oTile)}v.oNewGroup.visibilityModes=d.calcVisibilityModes(v.oNewGroup,M);this.oModel.setProperty("/groups/"+v.newGroupIndex+"/"+u,v.oNewGroup[u])}l.emit("updateGroups",Date.now());d.handleTilesVisibility();function P(){var e=this.oModel.getProperty("/groups/"+f.groupIndex);var t=this.oModel.getProperty("/groups/"+v.newGroupIndex);var r=this._getIndexForMove(h,f.tileIndex,o,v.oNewGroup,e);f.oTile.tileIsBeingMoved=true;this.oPageOperationAdapter.moveTile(f.oTile,r,e,t,a).then(function(e){var t=b._getPathOfTile(s);if(t){b.oModel.setProperty(t+"/object",e.object);b.oModel.setProperty(t+"/originalTileId",e.originalTileId);var o=b.oModel.getProperty(t+"/content");var r=e.content;if(u==="links"){b._changeLinkScope(r,g?"Actions":"Display");b._attachLinkPressHandlers(r);b._handleTileAppearanceAnimation(r);f.oTile.content=[r];b.oModel.setProperty(t,I({},f.oTile));b.oModel.setProperty("/groups/"+v.newGroupIndex+"/"+u,b.oModel.getProperty("/groups/"+v.newGroupIndex+"/"+u))}else{b.oModel.setProperty(t+"/content",[r])}if(o&&o[0]){var n=r.onAfterRendering;r.onAfterRendering=function(){n.apply(this);o[0].destroy();r.onAfterRendering=n}}b.oModel.setProperty(t+"/tileIsBeingMoved",false);if(i.callBack){i.callBack(r)}_.show(p.i18n.getText("PageRuntime.Message.VisualizationMoved"))}b._checkRequestQueue()},function(){b._resetGroupsOnFailure("fail_to_move_tile_msg")})}this._addRequest(P.bind(this))},_adjustTileIndex:function(e,t,i,o){var r=0;var s=false;var n=0;for(n=0;n<i[o].length&&r<e;n++){if(i[o][n].isTileIntentSupported){if(i[o][n]===t){s=true}else{r++}}}if(s){return n-1}return n},getModel:function(){return this.oModel},getDashboardView:function(){return this.oDashboardView},setDashboardView:function(e){this.oDashboardView=e;return this},setTileVisible:function(e,t){this.oPageOperationAdapter.setTileVisible(e.object,t)},refreshTile:function(e){this.oPageOperationAdapter.refreshTile(e.object)},updateSettings:function(e){this.oModel=e.model||this.oModel;this.oConfig=e.config||this.oConfig;this.oRouter=e.router||this.oRouter;this.oDashboardView=e.view||this.oDashboardView},_resetGroupsOnFailure:function(e,t){this._requestFailed();c.showLocalizedError(e,t);this.bStartLoadRemainSegment=false;this.loadPersonalizedGroups();this.oModel.updateBindings(true)},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments)},_bindSegment:function(e,t){for(var i=0;i<t.length;i++){var o=t[i];var r=o.index;var s=e[r];if(s){s.isRendered=true;s.tiles=s.tiles.concat(o.tiles);s.links=s.links.concat(o.links)}}return e},createGroupsModelFrame:function(e,t){var i=[];var o=function(e){var t=I({},e);t.tiles=[];t.pendingLinks=[];t.links=[];return t};for(var r=0;r<e.length;r++){var s=e[r];i[r]=o(s);i[r].isRendered=false;i[r].visibilityModes=d.calcVisibilityModes(s,t)}return i},_splitGroups:function(e,t){var i=[];var o=0;var r=this.oModel.getProperty("/homePageGroupDisplay")==="tabs";var s=this.oModel.getProperty("/personalization");var n=0;var a=500;for(var l=0;l<e.length;l++){var u=e[l];i.push(u);if(!this.segmentsStore.length){o+=this.PagingManager.getGroupHeight(u,t===l,s)}else{n+=u.tiles.length+u.links.length}if(r&&!this.segmentsStore.length&&o>0){i.loadTilesView=true;this.segmentsStore.push(i);i=[];o=0}if(o>=1||n>=a){this.segmentsStore.push(i);i=[];o=0;n=0}}if(i.length){this.segmentsStore.push(i)}},_processSegment:function(e){var t=this.segmentsStore.shift();if(!t){return e}if(this.isBlindLoading()===false){if(this.oModel.getProperty("/homePageGroupDisplay")!=="tabs"||t.loadTilesView){this.getSegmentContentViews(t)}}e=this._bindSegment(e,t);return e},getSegmentContentViews:function(e){var t;var i;for(var o=0;o<e.length;o++){var r=e[o];for(t=0;t<r.tiles.length;t++){i=r.tiles[t];if(i.isTileIntentSupported){this.getTileView(i)}}for(t=0;t<r.links.length;t++){i=r.links[t];if(i.isTileIntentSupported){this.getTileView(i,r.index)}}}this.bIsFirstSegmentViewLoaded=true},getSegmentTabContentViews:function(e,t,i){var o;var r;var s=i.iSelectedGroup;var n=this.oModel.getProperty("/groups/"+s);for(o=0;o<n.tiles.length;o++){r=n.tiles[o];if(r.isTileIntentSupported){this.getTileView(r)}}for(o=0;o<n.links.length;o++){r=n.links[o];if(r.isTileIntentSupported){this.getTileView(r,s)}}},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=false;this.bGroupsModelLoadingInProcess=true;this.loadPersonalizedGroups()},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=false;if(this.bIsGroupsModelDirty){this._handleBookmarkModelUpdate()}},handleFirstSegmentLoaded:function(){var e=this.oModel.getProperty("/groups");if(this.aGroupsFrame){Array.prototype.push.apply(e,this.aGroupsFrame);this.aGroupsFrame=null}this._initializeAnchorNavigationBar();if(!this.bStartLoadRemainSegment){this._processRemainingSegments()}},_initializeAnchorNavigationBar:function(){var e=V.getDashboardView();var t=e.getAnchorItemTemplate();this.oDashboardView.oAnchorNavigationBar.bindAggregation("groups",{path:"/groups",template:t})},_processRemainingSegments:function(){var t;if(this.segmentsStore.length>0){window.setTimeout(function(){t=this._processSegment(this.oModel.getProperty("/groups"));this.oModel.setProperty("/groups",t);this.bIsFirstSegment=false;this._processRemainingSegments()}.bind(this),0)}else{this.bIsGroupsModelLoading=false;this._updateModelWithTileView(0,0);d.handleTilesVisibility();e.getEventBus().publish("launchpad","dashboardModelContentLoaded");l.emit("updateGroups",Date.now())}},tabsModeVisibilityChanged:function(){if(this.bIsFirstSegmentViewLoaded===false&&this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){this.oDashboardLoadingManager.manageTilesView();this.bIsFirstSegmentViewLoaded=true;l.emit("firstSegmentCompleteLoaded",true)}},_setGroupModel:function(e){if(this.bIsGroupsModelLoading){y.info("Skip set the group model, because the group model is still loading");return}var t=0;var i;var o=0;var r=0;var s=0;var a=null;var u=[];this.bIsGroupsModelLoading=true;try{o=this.oModel.getProperty("/groups").length}catch(e){}for(t=e.length;t<o;++t){h.destroyFLPAggregationModel(this.oModel.getProperty("/groups/"+t))}if(!this.PagingManager){var p=jQuery("#dashboardGroups").width();if(!p){p=window.innerWidth}var g=jQuery("#sapUshellDashboardPage-cont").height();if(g<100){g=window.innerHeight}this.PagingManager=new n("dashboardPaging",{supportedElements:{tile:{className:"sapUshellTile"},link:{className:"sapUshellLinkTile"}},containerHeight:g,containerWidth:p})}e.forEach(function(e){if(e.isGroupVisible){r+=e.tiles.length}});this.bIsScrollModeAccordingKPI=r>this.iMinNumOfTilesForBlindLoading;this.aGroupsFrame=this.createGroupsModelFrame(e,this.oModel.getProperty("/personalization"));for(t=0;t<this.aGroupsFrame.length;t++){if(this.aGroupsFrame[t].isGroupVisible&&this.aGroupsFrame[t].visibilityModes[0]){if(a===null){a=t;this.aGroupsFrame[t].isGroupSelected=true;this.oModel.setProperty("/iSelectedGroup",t)}s++;if(s>1){this.aGroupsFrame[a].showGroupHeader=false;break}}}this._splitGroups(e,a);var c=this.segmentsStore[0]?this.segmentsStore[0].length:0;var f=this.aGroupsFrame.splice(0,c);k.start("FLP:DashboardManager._processSegment","_processSegment","FLP");u=this._processSegment(f);e.every(function(e,t){if(e.isDefaultGroup){i=t;return false}return true});u.indexOfDefaultGroup=i;if(this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){var v=this.getDashboardView();if(v){var b=v.oDashboardGroupsBox;var m=b.getBinding("groups");if(m){m.filter([v.oFilterSelectedGroup])}}}k.end("FLP:DashboardManager._processSegment");this.oModel.setProperty("/groups",u);this.aGroupModel=u;if(this.oDashboardView){l.once("firstSegmentCompleteLoaded").do(function(){d.setPerformanceMark("FLP-TTI-Homepage",{bUseUniqueMark:true})}).do(this.handleFirstSegmentLoaded.bind(this))}else{setTimeout(function(){Array.prototype.push.apply(this.aGroupModel,this.aGroupsFrame);this.aGroupsFrame=null;this.bStartLoadRemainSegment=true;this._processRemainingSegments()}.bind(this),0)}if(!this.bIsFirstSegmentViewLoaded&&this.isBlindLoading()){this.bIsFirstSegmentViewLoaded=!this._isAtLeastOneTileVisibleInASegment(f)}if(this.bIsFirstSegmentViewLoaded){l.emit("firstSegmentCompleteLoaded",true)}k.end("FLP:DashboardManager.loadGroupsFromArray")},_isAtLeastOneTileVisibleInASegment:function(e){var t;var i;for(var o=0;o<e.length;++o){t=e[o];for(var r=0;r<t.tiles.length;++r){i=t.tiles[r];if(i.isTileIntentSupported){return true}}}return false},getPreparedGroupModel:function(){return this.aGroupModel},_loadGroup:function(e,t){var i=this;var o="/groups/"+e;var r=i.oModel.getProperty(o);var s=r.isLastGroup;var n=r.groupId;h.destroyFLPAggregationModel(r);if(n){t.groupId=n}t.isLastGroup=s;t.index=e;t.isRendered=true;this.oModel.setProperty(o,t)},_hasPendingLinks:function(e){for(var t=0;t<e.length;t++){if(e[t].content[0]===undefined){return true}}return false},_addModelToTileViewUpdateQueue:function(e,t){this.tileViewUpdateQueue.push({uuid:e,view:t})},_updateModelWithTileView:function(e,t){var i=this;if(this.tileViewUpdateTimeoutID){clearTimeout(this.tileViewUpdateTimeoutID)}this.tileViewUpdateTimeoutID=window.setTimeout(function(){i.tileViewUpdateTimeoutID=undefined;i.oSortableDeferred.done(function(){i._updateModelWithTilesViews(e,t)})},50)},_updateGroupModelWithTilesViews:function(e,t,i,o){var r=t||0;for(var s=r;s<e.length;s=s+1){var n=e[s];for(var a=0;a<this.tileViewUpdateQueue.length;a++){var l=this.tileViewUpdateQueue[a];if(n.uuid===l.uuid){i.push(a);if(l.view){if(o){n.content=[l.view]}else{n.content[0].destroy();n.content=[l.view]}this.oDashboardLoadingManager.setTileResolved(n);var u=this.oPageOperationAdapter.getTileSize(n.object);var d=u!==null&&u==="1x2"||false;if(n.long!==d){n.long=d}}else{n.content[0].setState("Failed")}break}}}},_updateModelWithTilesViews:function(e,t){var i=this.oModel.getProperty("/groups");var o=e||0;var r=[];if(!i||this.tileViewUpdateQueue.length===0){return}for(var s=o;s<i.length;s=s+1){this._updateGroupModelWithTilesViews(i[s].tiles,t,r);if(i[s].links){this._updateGroupModelWithTilesViews(i[s].links,t,r,true);if(i[s].pendingLinks.length>0){if(!i[s].links){i[s].links=[]}i[s].links=i[s].links.concat(i[s].pendingLinks);i[s].pendingLinks=[]}}}var n=[];var a;for(a=0;a<this.tileViewUpdateQueue.length;a++){if(r.indexOf(a)===-1){n.push(this.tileViewUpdateQueue[a])}}this.tileViewUpdateQueue=n;this.oModel.setProperty("/groups",i)},getModelTileById:function(e,t){var i=this.oModel.getProperty("/groups");var o;var r=false;i.every(function(i){i[t].every(function(t){if(t.uuid===e||t.originalTileId===e){o=t;r=true}return!r});return!r});return o},_attachLinkPressHandlers:function(t){var i=e.getEventBus();var o=t.attachPress?t:t.getContent()[0];o.attachPress(function(e){var o=t.getBindingContext().getObject().tileIsBeingMoved;if(!o&&this.getScope&&this.getScope()==="Actions"){switch(e.getParameters().action){case"Press":var r=t.getState?t.getState():"";if(r!=="Failed"){var s=sap.ui.require("sap/ushell/components/homepage/ActionMode");if(s){s._openActionsMenu(e)}else{y.error("Race condition occurred! - sap/ushell/components/homepage/ActionMode was not required in time.")}}break;case"Remove":var n=t.getBindingContext().getObject().uuid;i.publish("launchpad","deleteTile",{tileId:n,items:"links"});break;default:break}}else{i.publish("launchpad","dashboardTileLinkClick")}})},handleDisplayModeChange:function(e){this.oModel.setProperty("/homePageGroupDisplay",e);switch(e){case"scroll":this._handleDisplayModeChangeToScroll();break;case"tabs":this._handleDisplayModeChangeToTabs();break}},_handleDisplayModeChangeToTabs:function(){var e=this.oModel.getProperty("/iSelectedGroup");var t=this.oModel.getProperty("/groups");this.oDashboardLoadingManager.manageTilesView();if(t.length>0){for(var i=0;i<t.length;i++){this.oModel.setProperty("/groups/"+i+"/isGroupSelected",false)}this.oModel.setProperty("/groups/"+e+"/isGroupSelected",true)}},_handleDisplayModeChangeToScroll:function(){if(this.isBlindLoading()){return}var t=this.oModel.getProperty("/groups");var i=[];var o;for(var r=0;r<t.length;r++){var s=t[r];var n=s.tiles||[];for(o=0;o<n.length;o++){var a=n[o];if(a.content.length===0){this.getTileView(a,r)}}i=s.links||[];for(o=0;o<i.length;o++){this.getTileView(i[o],r)}}this.oModel.refresh(false);var l=this.oModel.getProperty("/iSelectedGroup");if(l){setTimeout(function(){e.getEventBus().publish("launchpad","scrollToGroup",{groupId:t[l].groupId})},100)}},getTileViewsFromArray:function(e){var t=this;if(e.length===0){return}e.forEach(function(e){t.getTileView(e.oTile,e.iGroup)});this.oModel.refresh(false);if(this.bIsFirstSegmentViewLoaded===false){this.bIsFirstSegmentViewLoaded=true;l.emit("firstSegmentCompleteLoaded",true)}},getTileView:function(e,t){var i=this.oPageOperationAdapter.getTileType(e.object);if(this.oDashboardLoadingManager.isTileViewRequestIssued(e)){return}this.oDashboardLoadingManager.setTileInProgress(e);this.oPageOperationAdapter.setTileVisible(e.object,false);if(i==="card"){this._loadCardData(e)}else{this._loadTileData(e,t,i)}},_loadCardData:function(t){var i=e.byId(t.controlId);if(i&&i.setManifest&&this.isBlindLoading()){i.setManifest(t.manifest)}t.content=[t.manifest];this.oDashboardLoadingManager.setTileResolved(t)},getCurrentHiddenGroupIds:function(e){return this.oPageOperationAdapter.getCurrentHiddenGroupIds(e)},_loadTileData:function(e,t,i){var o=this;var r=this.oPageOperationAdapter.getTileView(e);var n;var a=this._addModelToTileViewUpdateQueue;var l;var u=false;var d=e.uuid;var p=false;if(r.state()==="resolved"){p=true}r.done(function(i){if(i.oController&&i.oController.navigationTargetUrl&&!e.isCustomTile){e.target=i.oController.navigationTargetUrl}l=i;if(l.getComponentInstance){k.average("FLP:getComponentInstance","get info for navMode","FLP1");var r=l.getComponentInstance().getComponentData();if(r&&r.properties){e.navigationMode=r.properties.navigationMode}k.end("FLP:getComponentInstance")}o.oDashboardLoadingManager.setTileResolved(e);var s=i.getMode?i.getMode():"ContentMode";if(o.bLinkPersonalizationSupported&&s==="LineMode"){l.setScope(o.oModel.getProperty("/tileActionModeActive")?"Actions":"Display");o._attachLinkPressHandlers(l);if(t>=0){var h=o.oModel.getProperty("/groups");if(h[t]){e.content=[l];n=o.oModel.getProperty("/groups/"+t+"/links");o.oModel.setProperty("/groups/"+t+"/links",[]);o.oModel.setProperty("/groups/"+t+"/links",n)}}}else if(o.isBlindLoading()){if(e.content&&e.content.length>0){e.content[0].destroy()}e.content=[l];if(t>=0&&!p){o.oModel.refresh(false)}}if(o.isBlindLoading()){var g=o.oPageOperationAdapter.getTileSize(e.object);var c=g==="1x2";if(e.long!==c){e.long=c;o.oModel.refresh(false)}}else if(s==="LineMode"){e.content=[l];if(u){n=o.oModel.getProperty("/groups/"+t+"/links");o.oModel.setProperty("/groups/"+t+"/links",[]);o.oModel.setProperty("/groups/"+t+"/links",n)}}else if(e.content.length===0){e.content=[l]}else{a.apply(o,[d,l]);o._updateModelWithTileView(0,0)}});r.fail(function(){if(o.oPageOperationAdapter.getTileType(e.object)==="link"&&o.bLinkPersonalizationSupported){l=o.oPageOperationAdapter.getFailedLinkView(e);o._attachLinkPressHandlers(l)}else{l=new s({state:"Failed"})}e.content=[l]});if(!l){if(o.oPageOperationAdapter.getTileType(e.object)==="link"){u=true;l=new f({mode:"LineMode"})}else{l=new s}e.content=[l]}},loadLibraryForCardModuleIfNeeded:function(){if(w.last("/core/home/featuredGroup/enable")){return e.loadLibrary("sap.ui.integration",{async:true})}return Promise.resolve()},loadPersonalizedGroups:function(){var e=this;var t=new jQuery.Deferred;if(this.bIsGroupsRequestPending){y.info("loadPersonalizedGroups was skipped because there is already a pending request.");t.reject();return t.promise()}this.bIsGroupsRequestPending=true;this.oServiceLoadingPromise.then(e.loadLibraryForCardModuleIfNeeded).then(function(){return e.oPageOperationAdapter.getPage()}).then(function(i){e._setGroupModel(i);e.bIsGroupsRequestPending=false;t.resolve()}).catch(function(t){y.error("Loading of personalized groups failed.",t,"sap.ushell.components.HomepageManager");c.showLocalizedError("fail_to_load_groups_msg");e.bIsGroupsRequestPending=false});k.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return t.promise()}});x.prototype.getInstance=function(){return V};return x});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/MessagingHelper", ["sap/ushell/resources","sap/ushell/Container"],function(e,n){"use strict";return{getLocalizedText:r,showLocalizedError:s,showLocalizedErrorHelper:o,showLocalizedMessage:t};function r(n,r){const t=Array.isArray(r)?r:[r];return e.i18n.getText(n,t)}function t(e,t,s){n.getServiceAsync("MessageInternal").then(function(n){n.show(s||n.Type.INFO,r(e,t),t)})}function s(e,t){n.getServiceAsync("MessageInternal").then(function(n){n.show(n.Type.ERROR,r(e,t),t)})}function o(e,n){return function(){s(e,n)}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/DashboardLoadingManager", ["sap/base/util/deepExtend","sap/ui/base/Object","sap/ui/core/EventBus","sap/ui/performance/Measurement"],function(e,i,s,t){"use strict";var a=i.extend("sap.ushell.components._HomepageManager.DashboardLoadingManager",{metadata:{},constructor:function(e,i){var t=s.getInstance();this.currentVisibleTiles=[];this.aRefreshTiles=[];this.oBusyIndicatorTiles={};this.oActiveDynamicTiles={};this.oResolvedTiles={};this.oInProgressTiles={};this.oDashboardManager=i.oDashboardManager;t.subscribe("launchpad","visibleTilesChanged",this._onVisibilityChanged,this);t.subscribe("launchpad","dashboardTileClick",this._addTileToRefreshArray,this);t.subscribe("launchpad","refreshTiles",this._refreshTiles,this);t.subscribe("launchpad","setTilesNoVisibility",this._setTilesNoVisibility,this);t.subscribe("launchpad","onHiddenTab",this._setTilesNoVisibility,this)},_onVisibilityChanged:function(e,i,s){this.currentVisibleTiles=s;if(this.oDashboardManager.isBlindLoading()){this.manageTilesView()}this.oDashboardManager.tabsModeVisibilityChanged();this.manageBusyIndicatorTiles();this.manageDynamicTiles()},manageDynamicTiles:function(){t.average("DashboardLoadingManagerActiveDynamicTile","Manage Active Dynamic Tiles","FLP_SHELL");var i;var s;var a={};var n=e({},this.oActiveDynamicTiles);for(var r=0;r<this.currentVisibleTiles.length;r++){var l=this.currentVisibleTiles[r];if(!l.bIsExtanded){delete n[l.oTile.uuid]}}for(var o in n){i=this.oActiveDynamicTiles[o];s=i.object;this.oDashboardManager.setTileVisible(i,false)}for(var u=0;u<this.currentVisibleTiles.length;u++){var h=this.currentVisibleTiles[u];if(!h.bIsExtanded){i=h.oTile;s=i.object;if(this.oActiveDynamicTiles[i.uuid]===undefined&&s){this.oDashboardManager.setTileVisible(i,true)}a[i.uuid]=i}}this.oActiveDynamicTiles=a;t.end("DashboardLoadingManagerActiveDynamicTile")},isTileViewRequestIssued:function(e){if(this.oInProgressTiles[e.uuid]===undefined&&this.oResolvedTiles[e.uuid]===undefined){return false}return true},manageBusyIndicatorTiles:function(){t.average("DashboardLoadingManagerBusyIndicators","Manage Busy Indicators on Tiles","FLP_SHELL");var e,i,s,a,n=[],r,l=[];for(i in this.oBusyIndicatorTiles){r=true;a=this.oBusyIndicatorTiles[i];if(this.oResolvedTiles[i]===undefined){for(var o=0;o<this.currentVisibleTiles.length;o++){if(this.currentVisibleTiles[o].oTile.uuid===a.oTile.uuid){r=false;break}}if(r){n.push(a)}}}for(e=0;e<this.currentVisibleTiles.length;e++){s=this.currentVisibleTiles[e];if(this.oBusyIndicatorTiles[s.oTile.uuid]===undefined&&this.oResolvedTiles[s.oTile.uuid]===undefined){l.push(s)}}for(e=0;e<n.length;e++){s=n[e];if(s.oTile.content[0]&&s.oTile.content[0].setState){if(s.oTile.content[0].getState){if(s.oTile.content[0].getState()!=="Failed"){s.oTile.content[0].setState()}}else{s.oTile.content[0].setState()}}delete this.oBusyIndicatorTiles[s.oTile.uuid]}for(e=0;e<l.length;e++){s=l[e];if(s.oTile.content[0]&&s.oTile.content[0].setState){if(s.oTile.content[0].getState){if(s.oTile.content[0].getState()!=="Failed"){s.oTile.content[0].setState("Loading")}}else{s.oTile.content[0].setState("Loading")}}this.oBusyIndicatorTiles[s.oTile.uuid]=s}t.end("DashboardLoadingManagerBusyIndicators")},setTileInProgress:function(e){this.oInProgressTiles[e.uuid]=e},setTileResolved:function(e){delete this.oInProgressTiles[e.uuid];this.oResolvedTiles[e.uuid]=e},_addTileToRefreshArray:function(e,i,s){this.aRefreshTiles.push(s.uuid)},_refreshTiles:function(){for(var e=0;e<this.currentVisibleTiles.length;e++){var i=this.currentVisibleTiles[e].oTile;var s=i.object;if(s){for(var t=0;t<this.aRefreshTiles.length;t++){if(i.uuid===this.aRefreshTiles[t]){this.aRefreshTiles.splice(t,1);this.oDashboardManager.setTileVisible(i,true);this.oDashboardManager.refreshTile(i);break}}}}},_setTilesNoVisibility:function(){for(var e=0;e<this.currentVisibleTiles.length;e++){var i=this.currentVisibleTiles[e].oTile;var s=i.object;if(s){this.oDashboardManager.setTileVisible(i,false)}delete this.oActiveDynamicTiles[i.uuid]}},manageTilesView:function(){var e,i,s=[];for(e=0;e<this.currentVisibleTiles.length;e++){i=this.currentVisibleTiles[e];if(this.oInProgressTiles[i.oTile.uuid]===undefined&&this.oResolvedTiles[i.oTile.uuid]===undefined){s.push(i)}}this.oDashboardManager.getTileViewsFromArray(s)}});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/PagingManager", ["sap/ui/base/Object","sap/ui/Device","sap/ushell/Config"],function(e,t,i){"use strict";var n=7;var h=e.extend("sap.ushell.components._HomepageManager.PagingManager",{metadata:{publicMethods:["setElementClass","GetGroupHeight","setContainerSize","getNumberOfAllocatedElements","moveToNextPage","getTileHeight"]},constructor:function(e,t){this.currentPageIndex=0;this.containerHeight=t.containerHeight||0;this.containerWidth=t.containerWidth||0;this.supportedElements=t.supportedElements||"";this.tileHeight=0;this.tileSize={sapUshellTile:{width:100,height:100},sapUshellLinkTile:{width:40,height:20},default:{width:40,height:20}}},getTileHeight:function(){return this.tileHeight},setElementClass:function(e){this.supportedElements=e},_getTileHeight:function(e){return e?148:176},_getTileWidth:function(e,t){if(e){return t?304:360}return t?148:176},getGroupHeight:function(e,h,s){if(!e||e.isGroupVisible===false){return 0}var r=e.tiles,a=e.links,l=t.system.phone||i.last("/core/home/sizeBehavior")==="Small",o=this._getTileWidth(false,l),u=this._getTileWidth(true,l),g=48,c=8,d=this.containerWidth-c;var f=0,p=1,m,E,v;var H=r.some(function(e){return!!e&&e.isTileIntentSupported!==false});if(!H){if(e.isGroupLocked||e.isDefaultGroup||!s||t.system.phone){return 0}return(g+c)/this.containerHeight}var P=c;if(!h){P+=g}if(a&&a.length){P+=44}for(v=0;v<r.length;v++){if(P>this.containerHeight){break}m=r[v];if(!m||m.isTileIntentSupported===false){continue}E=m.long?u:o;if(f>0){f+=n}f+=E;if(f>d){p+=1;f=E}}P+=(this._getTileHeight(l)+n)*p;return P/this.containerHeight},setContainerSize:function(e,t){var i=this.getNumberOfAllocatedElements();this.containerHeight=e;this.containerWidth=t;this._changePageSize(i)},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex},_changePageSize:function(e){this.currentPageIndex=Math.ceil(e/this._calcElementsPerPage())},moveToNextPage:function(){this.currentPageIndex++},resetCurrentPageIndex:function(){this.currentPageIndex=0},getSizeofSupportedElementInUnits:function(e){return this.supportedElements[e].sizeInBaseUnits},_calcElementMatrix:function(e){var t=document.createElement("div");t.classList.add(e);document.body.appendChild(t);var i=t.clientHeight;var n=t.clientWidth;var h;if(i<20||n<40){h=this.tileSize[e]||this.tileSize.default}else{h={width:n,height:i}}this.tileHeight=i;t.remove();return h},_calcElementsPerPage:function(){var e,t,i,n,h,s,r;for(e in this.supportedElements){i=this.supportedElements[e];n=this._calcElementMatrix(i.className);i.matrix=n;if(t){t.width=t.width>n.width?n.width:t.width;t.height=t.height>n.height?n.height:t.height}else{t={width:n.width,height:n.height}}}for(e in this.supportedElements){i=this.supportedElements[e];h=i.matrix;i.sizeInBaseUnits=Math.round(h.width/t.width*h.height/t.height)}s=Math.round(this.containerWidth/t.width);r=Math.round(this.containerHeight/t.height);if(!r||!s||s===Infinity||r===Infinity||s===0||r===0){return 10}return r*s}});return h});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/PersistentPageOperationAdapter", ["sap/ui/base/Object","sap/ushell/Config","sap/ushell/resources","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/base/util/uid","sap/base/Log","sap/ui/performance/Measurement","sap/m/library","sap/base/util/deepEqual","sap/ushell/Container"],function(e,r,i,t,o,n,a,u,l,s,d){"use strict";var c=l.GenericTileMode;var g=l.LoadState;var p=e.extend("sap.ushell.components._HomepageManager.PersistentPageOperationAdapter",{constructor:function(r){e.call(this);this.oPageBuilderService=r},_getIsAppBox:function(e){var r=this.oPageBuilderService,i=!!(r.getCatalogTileTargetURL(e)&&(r.getCatalogTilePreviewTitle(e)||r.getCatalogTilePreviewSubtitle(e)));return i},getCurrentHiddenGroupIds:function(e){var r=e.getProperty("/groups"),i=[],t,o,n;for(o=0;o<r.length;o++){n=r[o]?r[o].isGroupVisible:true;if(r[o].object){t=this.oPageBuilderService.getGroupId(r[o].object)}if(!n&&t!==undefined){i.push(t)}}return i},getPreparedTileModel:function(e,i,t){var a=this.oPageBuilderService,u=n(),l,s=a.getTileSize(e),d=[],g;t=t||a.getTileType(e);if(t==="link"){d=[new o({mode:c.LineMode})]}l={isCustomTile:!this._getIsAppBox(e),object:e,originalTileId:a.getTileId(e),uuid:u,tileCatalogId:encodeURIComponent(a.getCatalogTileId(e)),tileCatalogIdStable:a.getStableCatalogTileId(e)||"",content:d,long:s==="1x2",target:a.getTileTarget(e)||"",debugInfo:a.getTileDebugInfo(e),isTileIntentSupported:a.isTileIntentSupported(e),rgba:"",isLocked:i,showActionsIcon:r.last("/core/home/enableTileActionsIcon"),isLinkPersonalizationSupported:a.isLinkPersonalizationSupported(e),navigationMode:undefined};if(t==="card"){g=a.getCardManifest(e);l.isCard=true;if(g){l.manifest=g}}return l},getPreparedGroupModel:function(e,i,o,u){var l=this.oPageBuilderService,s=e&&l.getGroupTiles(e)||[],d=[],c=[],g,p=r.last("/core/shell/model/personalization"),f=r.last("/core/extension/enableHelp");var h=!!(e&&l.isGroupLocked(e)),v=!!(e&&l.isGroupFeatured(e));for(g=0;g<s.length;++g){var P=s[g],G=l.getTileType(P).toLowerCase();if(G==="tile"||G==="card"){d.push(this.getPreparedTileModel(s[g],h,G))}else if(G==="link"){c.push(this.getPreparedTileModel(s[g],h,G))}else{a.error("Unknown tile type: '"+G+"'",undefined,"sap.ushell.components.HomepageManager")}}return{title:i&&t.getLocalizedText("my_group")||e&&l.getGroupTitle(e)||u&&u.title||"",object:e,groupId:n(),helpId:f&&e?l.getGroupId(e):null,links:c,pendingLinks:[],tiles:d,isDefaultGroup:!!i,editMode:!e,isGroupLocked:h,isFeatured:v,visibilityModes:[true,true],removable:!e||l.isGroupRemovable(e),sortable:p,isGroupVisible:!e||l.isGroupVisible(e),isEnabled:!i,isLastGroup:o||false,isRendered:!!(u&&u.isRendered),isGroupSelected:false}},getPage:function(){u.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return this._getGroupsFromServer().then(this.loadGroupsFromArray.bind(this))},_getGroupsFromServer:function(){var e=this;return new Promise(function(r,i){e.oPageBuilderService.getGroups().done(function(e){u.end("FLP:DashboardManager.loadPersonalizedGroups");r(e)}).fail(i)})},loadGroupsFromArray:function(e){var r=this;u.start("FLP:DashboardManager.loadGroupsFromArray","loadGroupsFromArray","FLP");u.start("FLP:DashboardManager.getDefaultGroup","getDefaultGroup","FLP");return new Promise(function(i,t){r.oPageBuilderService.getDefaultGroup().done(function(t){u.end("FLP:DashboardManager.getDefaultGroup");if(e.length===0&&t===undefined){i([]);return}var o=0,n,a=[],l,d;e=r._sortGroups(t,e);d=e.findIndex(function(e){return s(e,t)});l=e.length;u.start("FLP:DashboardManager._getGroupModel","_getGroupModel","FLP");for(o=0;o<l;++o){n=r.getPreparedGroupModel(e[o],o===d,o===l-1);n.index=o;a.push(n)}u.end("FLP:DashboardManager._getGroupModel");u.end("FLP:DashboardManager.loadGroupsFromArray");i(a)}).fail(t)})},_sortGroups:function(e,i){var t=0,o=this,n=i.findIndex(function(r){return s(r,e)}),a=[],u,l,d;if(n>-1){i.splice(n,1)}while(t<i.length){l=i[t];d=this.oPageBuilderService.isGroupLocked(l);if(d){a.push(l);i.splice(t,1)}else{t++}}if(!r.last("/core/home/disableSortedLockedGroups")){a.sort(function(e,r){var i=o.oPageBuilderService.getGroupTitle(e).toLowerCase(),t=o.oPageBuilderService.getGroupTitle(r).toLowerCase();return i<t?-1:1})}a.sort(function(e,r){var i=o.oPageBuilderService.isGroupFeatured(e),t=o.oPageBuilderService.isGroupFeatured(r);if(i===t){return 0}else if(i>t){return-1}return 1});u=a;u.push(e);u.push.apply(u,i);return u},addGroupAt:function(e,r,i){var t=this;return new Promise(function(o,n){try{if(r===undefined){t.oPageBuilderService.addGroup(e.title).done(function(r){o(t.getPreparedGroupModel(r,i,e.isLastGroup,undefined))}).fail(n)}else{t.oPageBuilderService.addGroupAt(e.title,r).done(function(r){o(t.getPreparedGroupModel(r,i,e.isLastGroup,undefined))}).fail(n)}}catch(e){n()}})},renameGroup:function(e,r,i){var t=this;return new Promise(function(i,o){try{t.oPageBuilderService.setGroupTitle(e.object,r).done(function(){i()}).fail(o)}catch(e){o()}})},deleteGroup:function(e){var r=this,i=e.object;return new Promise(function(e,t){try{r.oPageBuilderService.removeGroup(i).done(function(){e()}).fail(t)}catch(e){t()}})},moveGroup:function(e,r,i){var t=this;return new Promise(function(i,o){try{t.oPageBuilderService.moveGroup(e.object,r).done(function(){i()}).fail(o)}catch(e){o()}})},resetGroup:function(e,r){var i=this,t=e.object;return new Promise(function(o,n){try{i.oPageBuilderService.resetGroup(t).done(function(n){o(i.getPreparedGroupModel(n||t,r,e.isLastGroup,undefined))}).fail(n)}catch(e){n()}})},refreshGroup:function(e){var r=this,i="Failed to refresh group with id:"+e+" in the model";return new Promise(function(t){r.oPageBuilderService.getGroups().fail(function(){a.error(i,null,"sap.ushell.components.HomepageManager");t(null)}).done(function(i){var o=null;for(var n=0;n<i.length;n++){if(r.oPageBuilderService.getGroupId(i[n])===e){o=i[n];break}}if(o){r.oPageBuilderService.getDefaultGroup().done(function(i){var n=e===i.getId(),a=r.getPreparedGroupModel(o,n,false,{isRendered:true});t(a)})}else{t(null)}})})},getIndexOfGroup:function(e,r){var i=-1,t=this,o=this.oPageBuilderService.getGroupId(r);e.every(function(e,r){var n=t.oPageBuilderService.getGroupId(e.object);if(n===o){i=r;return false}return true});return i},getOriginalGroupIndex:function(e){var r=this.oPageBuilderService,i=e.object,t=this.oPageBuilderService.getGroups();return new Promise(function(e,o){t.done(function(t){var o;for(var n=0;n<t.length;n++){if(r.getGroupId(t[n])===r.getGroupId(i)){o=n;break}}e(o)}).fail(o)})},moveTile:function(e,r,i,t,o){var n=this,a,u=new Promise(function(u,l){try{var s=n.oPageBuilderService.moveTile(e.object,r.tileIndex,r.newTileIndex,i.object,t.object,o);s.done(function(e){a=e;u(e)});s.fail(l)}catch(e){l()}});return u.then(this._getTileViewAsPromise.bind(this)).then(function(e){return Promise.resolve({content:e,originalTileId:n.oPageBuilderService.getTileId(a),object:a})})},removeTile:function(e,r){var i=this,o=r.object,n=i.oPageBuilderService.getTileTitle(o),a;a=new Promise(function(r,a){try{i.oPageBuilderService.removeTile(e.object,o).done(function(){t.showLocalizedMessage("tile_deleted_msg",[n,e.title]);r()}).fail(a)}catch(e){a()}});return a},_getTileViewAsPromise:function(e){var r=this,i=new Promise(function(i,t){var o=r.oPageBuilderService.getTileView(e);o.done(i);o.fail(t)});return i},refreshTile:function(e){this.oPageBuilderService.refreshTile(e)},setTileVisible:function(e,r){this.oPageBuilderService.setTileVisible(e,r)},getTileType:function(e){return this.oPageBuilderService.getTileType(e)},getTileSize:function(e){return this.oPageBuilderService.getTileSize(e)},getTileTitle:function(e){return this.oPageBuilderService.getTileTitle(e.object)},getTileId:function(e){return this.oPageBuilderService.getTileId(e)},isLinkPersonalizationSupported:function(e){return this.oPageBuilderService.isLinkPersonalizationSupported(e)},getTileTarget:function(e){return this.oPageBuilderService.getTileTarget(e.object)},getTileView:function(e){return this.oPageBuilderService.getTileView(e.object)},getTileActions:function(e){return this.oPageBuilderService.getTileActions(e)},getFailedLinkView:function(e){var r=this.oPageBuilderService.getCatalogTilePreviewSubtitle(e.object);var t=this.oPageBuilderService.getCatalogTilePreviewTitle(e.object);if(!t&&!r){t=i.i18n.getText("cannotLoadLinkInformation")}return new o({mode:c.LineMode,state:g.Failed,header:t,subheader:r})},getTileModelByCatalogTileId:function(e){a.error("Cannot get tile with id "+e+": Method is not supported")},transformGroupModel:function(){return}});var f=null;return{getInstance:function(e){if(!f){f=new p(e)}return f},destroy:function(){f=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/TransientPageOperationAdapter", ["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ushell/Config","sap/ushell/resources","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent","sap/base/util/uid","sap/base/Log","sap/m/library"],function(jQuery,e,t,i,r,o,n,l,a,u,s){"use strict";var g=s.GenericTileMode;var d=s.LoadState;var c=e.extend("sap.ushell.components._HomepageManager.TransientPageOperationAdapter.js",{constructor:function(t){e.call(this);this.oPageBuilderService=t;this._createCatalogMap()},_createCatalogMap:function(){if(this.mCatalogTiles){return}var e=this.oPageBuilderService;var t=this;this.mCatalogTiles={};this._getAllCatalogTiles().then(function(i){for(var r=0;r<i.length;r++){for(var o=0;o<i[r].length;o++){t.mCatalogTiles[e.getCatalogTileId(i[r][o])]=i[r][o]}}})},getCurrentHiddenGroupIds:function(){return[]},getTileActions:function(e){e.isStub=function(){return true};var t=this.oPageBuilderService.getTileActions(e);delete e.isStub;return t},getPreparedTileModel:function(e,i,r){var n=a();var l=[];r=r||e.type;if(r==="link"){l=[new o({mode:g.LineMode})]}var u={isCustomTile:false,object:e,originalTileId:n,uuid:n,tileCatalogId:"",content:l,long:false,target:"",debugInfo:null,isTileIntentSupported:true,rgba:"",isLocked:i,showActionsIcon:t.last("/core/home/enableTileActionsIcon"),isLinkPersonalizationSupported:true,navigationMode:undefined};if(r==="card"){u.isCard=true;u.manifest={}}return u},getPreparedGroupModel:function(e,t,i,o){var n=a();var l=e&&e.tiles||[];var s=[];var g=[];for(var d=0;d<l.length;++d){var c=l[d];var f=c.type.toLowerCase();if(f==="tile"||f==="card"){s.push(this.getPreparedTileModel(l[d],false,f))}else if(f==="link"){g.push(this.getPreparedTileModel(l[d],false,f))}else{u.error("Unknown tile type: '"+f+"'",undefined,"sap.ushell.components.HomepageManager")}}return{title:t&&r.getLocalizedText("my_group")||e&&e.title||o&&o.title||"",object:e,groupId:n,links:g,pendingLinks:[],tiles:s,isDefaultGroup:!!t,editMode:!e,isGroupLocked:false,isFeatured:false,visibilityModes:[true,true],removable:true,sortable:true,isGroupVisible:true,isEnabled:!t,isLastGroup:i||false,isRendered:!!(o&&o.isRendered),isGroupSelected:false}},getPage:function(){return Promise.resolve([this.getPreparedGroupModel(null,false,true)])},addGroupAt:function(e,t,i){var r={title:e.title};return Promise.resolve(this.getPreparedGroupModel({},i,e.isLastGroup,r))},renameGroup:function(){return Promise.resolve()},deleteGroup:function(){return Promise.resolve()},moveGroup:function(){return Promise.resolve()},resetGroup:function(){return Promise.reject("Reset group not supported in transient mode")},refreshGroup:function(){return Promise.reject("Refresh group not supported in transient mode")},getIndexOfGroup:function(){return Promise.resolve(-1)},getOriginalGroupIndex:function(e,t){var i;for(var r=0;r<t.length;r++){if(t[r].groupId===e.groupId){i=r;break}}return Promise.resolve(i)},moveTile:function(e,t,i,r,o){var n=this._findCatalogTile(e.tileCatalogId);return Promise.resolve({content:this._getTileView(n,o),originalTileId:e.uuid,object:{id:e.uuid,type:o,title:this.oPageBuilderService.getCatalogTileTitle(n)}})},removeTile:function(){return Promise.resolve()},_getTileView:function(e,t){if(t==="link"){return new o({mode:g.LineMode,header:this.oPageBuilderService.getCatalogTileTitle(e),subheader:this.oPageBuilderService.getCatalogTilePreviewSubtitle(e)})}return new o({header:this.oPageBuilderService.getCatalogTileTitle(e),subheader:this.oPageBuilderService.getCatalogTilePreviewSubtitle(e),tileContent:new l({content:new n({src:this.oPageBuilderService.getCatalogTilePreviewIcon(e)})})})},refreshTile:function(){return},setTileVisible:function(){return},getTileType:function(e){return e.type},getTileSize:function(){return"1x1"},getTileId:function(e){return e.id},isLinkPersonalizationSupported:function(){return true},getTileTarget:function(e){var t=this._findCatalogTile(e.tileCatalogId);return this.oPageBuilderService.getCatalogTileTargetURL(t)},getTileTitle:function(e){return e.object.title},_getAllCatalogTiles:function(){var e=this.oPageBuilderService;function t(t){t.map(function(t){var i=e.getCatalogId(t)||"";return e.getCatalogTitle(t)||i.split(":").slice(1).join(":")});return Promise.all(t.map(function(t){return e.getCatalogTiles(t)}))}return Promise.resolve(e.getCatalogs()).then(t)},_findCatalogTile:function(e){return this.mCatalogTiles[e]},getTileView:function(e){var t=this._findCatalogTile(e.tileCatalogId);var i=this._getTileView(t,e.object.type);var r=new jQuery.Deferred;r.resolve(i);return r.promise()},getFailedLinkView:function(e){var t=e.object.title||i.i18n.getText("cannotLoadLinkInformation");var r="";return new o({mode:g.LineMode,state:d.Failed,header:t,subheader:r})},getTileModelByCatalogTileId:function(e,t){t=t||"tile";var i=this._findCatalogTile(e);var r=this.getPreparedTileModel({},false,t);r.tileCatalogId=e;r.object={id:r.uuid,type:t,title:this.oPageBuilderService.getCatalogTileTitle(i)};var o=this._getTileView(i,t);r.content=[o];return r},transformGroupModel:function(e){var t=this;for(var i=0;i<e.length;i++){var r=e[i];r.object={};r.tiles.forEach(function(e){var i=e.object;e.tileCatalogId=t.oPageBuilderService.getCatalogTileId(i);e.object={id:e.uuid,type:"tile",title:t.oPageBuilderService.getTileTitle(i)}});r.links.forEach(function(e){var i=e.object;e.tileCatalogId=t.oPageBuilderService.getCatalogTileId(i);e.object={id:e.uuid,type:"link",title:t.oPageBuilderService.getTileTitle(i)}})}return e}});var f;return{getInstance:function(e){if(!f){f=new c(e)}return f},destroy:function(){f=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/visualizationOrganizer/Component", ["sap/base/Log","sap/m/library","sap/m/MessageBox","sap/m/GroupHeaderListItem","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/resources"],function(e,t,i,n,a,s,r,o,l,u,g,d,c){"use strict";var h=t.ButtonType;var f=d.ContentNodeType;return s.extend("sap.ushell.components.visualizationOrganizer.Component",{metadata:{version:"1.136.1",library:"sap.ushell",dependencies:{libs:["sap.m"]},properties:{pressed:{type:"boolean",group:"Misc",defaultValue:false}}},init:function(){s.prototype.init.apply(this,arguments);this.aPersonalizablePages=[];this.mVizIdInPages=new Map;this.stVizIdInSection=new Set},requestData:function(){var e=!u.last("/core/shell/enablePersonalization")&&u.last("/core/spaces/myHome/enabled");var t=u.last("/core/spaces/myHome/myHomePageId");return g.getServiceAsync("CommonDataModel").then(function(e){return e.getAllPages()}).then(function(i){if(e){i=i.filter(function(e){return e.identification.id===t})}this.aPersonalizablePages=i.map(function(e){return{id:e.identification.id,title:e.identification.title}});this._fillVizIdMaps(i);return this.aPersonalizablePages}.bind(this))},_fillVizIdMaps:function(e){this.mVizIdInPages=new Map;e.forEach(function(e){Object.keys(e.payload.sections).forEach(function(t){Object.keys(e.payload.sections[t].viz).forEach(function(i){var n=e.payload.sections[t].viz[i].vizId;if(this.mVizIdInPages.has(n)){this.mVizIdInPages.get(n).add(e.identification.id)}else{this.mVizIdInPages.set(n,new Set([e.identification.id]))}}.bind(this))}.bind(this))}.bind(this))},isVizIdPresent:function(e,t){if(t){return this.stVizIdInSection.has(e)}var i=this.mVizIdInPages.get(e);return!!(i&&i.size)},formatPinButtonIcon:function(e,t){return this.isVizIdPresent(decodeURIComponent(e),t)?"sap-icon://accept":"sap-icon://add"},formatPinButtonType:function(e,t){return this.isVizIdPresent(decodeURIComponent(e),t)?h.Emphasized:h.Default},formatPinButtonTooltip:function(e,t){var i=this.isVizIdPresent(decodeURIComponent(e),!!t);if(!t&&i){return c.i18n.getText("EasyAccessMenu_PinButton_Toggled_Tooltip")}if(!t&&!i){return c.i18n.getText("EasyAccessMenu_PinButton_UnToggled_Tooltip")}if(t.sectionID&&i){return c.i18n.getText("VisualizationOrganizer.Button.Tooltip.RemoveFromSection")}if(t.sectionID&&!i){return c.i18n.getText("VisualizationOrganizer.Button.Tooltip.AddToSection")}if(!t.sectionID&&i){return c.i18n.getText("VisualizationOrganizer.Button.Tooltip.RemoveFromPage",[t.pageTitle])}return c.i18n.getText("VisualizationOrganizer.Button.Tooltip.AddToPage",[t.pageTitle])},onTilePinButtonClick:function(e,t){var i=e.getSource();var n=i.getBindingContext().getProperty();if(i.getBusy()){return Promise.resolve()}if(t){i.setBusy(true);return this._applyOrganizationChangeToSection(i,n,t).then(function(){i.setBusy(false)})}if(this.aPersonalizablePages.length===1){i.setBusy(true);return this._applyChangeToPage(i,n,this.aPersonalizablePages[0]).then(function(){i.setBusy(false)})}return this.toggle(i,n)},open:function(e,t){var i=a.getElementById("sapUshellVisualizationOrganizerPopover");var n=Promise.resolve();if(!i){n=new Promise(function(e,t){sap.ui.require(["sap/ui/core/Fragment"],function(i){i.load({name:"sap.ushell.components.visualizationOrganizer.VisualizationOrganizerPopover",type:"XML",controller:this}).then(e).catch(t)}.bind(this))}.bind(this)).then(function(e){i=e;i.setModel(new l({pages:[],searchTerm:""}));i.setModel(c.i18nModel,"i18n")})}return n.then(function(){this.oOpenBy=e;this.sVisualizationId=decodeURIComponent(t.id);this.sVisualizationTitle=t.title;this.oVizInfo=t;this.fnResetPopup=this._resetPopup.bind(this);i.attachAfterClose(this.fnResetPopup);return Promise.all([g.getServiceAsync("Menu"),g.getServiceAsync("Pages")]).then(function(e){var i;var n=e[0];var a=e[1];if(t.isBookmark){i=a._findBookmarks({url:t.url}).then(function(e){var t=e.map(function(e){return e.pageId});return Promise.resolve(new Set(t))})}else{i=this.mVizIdInPages.get(this.sVisualizationId)}return Promise.all([n.getContentNodes([f.Space,f.Page]),i])}.bind(this)).then(function(t){var n=t[0];var a=t[1];var s=!u.last("/core/shell/enablePersonalization")&&u.last("/core/spaces/myHome/enabled");var r=u.last("/core/spaces/myHome/myHomeSpaceId");var o=[];n=this._filterPersonalizableContentNodes(n);n.forEach(function(e){if(s&&e.id!==r){return}e.children.forEach(function(t){if(!this._isPersonalizablePage(t.id)){return}o.push({id:t.id,title:t.label,space:e.label,spaceId:e.id,selected:a&&a.has(t.id)})}.bind(this))}.bind(this));var l=i.getModel();l.setProperty("/pages",o);l.setProperty("/pinnedPages",a);this._updatePagesList();i.openBy(e)}.bind(this))}.bind(this))},_filterPersonalizableContentNodes:function(e){if(!Array.isArray(e)){return[]}return e.reduce(function(e,t){t.children=this._filterPersonalizableContentNodes(t.children);if(t.type===f.HomepageGroup||t.type===f.Space||t.type===f.Page&&t.isContainer){e.push(t)}return e}.bind(this),[])},cancel:function(){var e=a.getElementById("sapUshellVisualizationOrganizerPopover");var t=this._retrieveChangedPageIds();if(e&&t.deleteFromPageIds.length===0&&t.addToPageIds.length===0){e.close()}else{i.show(c.i18n.getText("VisualizationOrganizer.MessageBox.Description"),{id:"sapUshellVisualizationOrganizerDiscardDialog",title:c.i18n.getText("VisualizationOrganizer.MessageBox.Title"),actions:[c.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard"),i.Action.CANCEL],emphasizedAction:c.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard"),onClose:function(t){if(t===c.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard")){e.close()}}})}},toggle:function(e,t){var i=a.getElementById("sapUshellVisualizationOrganizerPopover");if(i&&i.isOpen()&&i._oOpenBy&&i._oOpenBy.getId()===e.getId()){this.cancel();return Promise.resolve()}return this.open(e,t)},_applyOrganizationChangeToSection:function(e,t,i){return g.getServiceAsync("Pages").then(function(n){var a;var s=decodeURIComponent(t.id);var r=t.title;var o=i.pageID;var l=i.sectionID;var u=this._getTextMsgSectionContext(i,s,r);if(this.stVizIdInSection.has(s)){a=n.findVisualization(o,l,s).then(function(e){if(e.length===0){return Promise.resolve()}var t;var i=n.getPageIndex(o);var a=e.sort(function(e,t){return t.sectionIndex-e.sectionIndex});a.forEach(function(e){e.vizIndexes.sort(function(e,t){return t-e})});a.forEach(function(e){var a=e.sectionIndex;e.vizIndexes.forEach(function(e){if(!t){t=n.deleteVisualization(i,a,e)}else{t=t.then(function(){return n.deleteVisualization(i,a,e)})}})});return t}).then(function(){this.stVizIdInSection.delete(s)}.bind(this))}else{a=n.addVisualization(o,l,s).then(function(){this.stVizIdInSection.add(s)}.bind(this))}return a.then(function(){e.getBinding("icon")?.refresh(true);e.getBinding("type")?.refresh(true);e.getBinding("tooltip")?.refresh(true);sap.ui.require(["sap/m/MessageToast"],function(e){e.show(u,{offset:"0 -50"})})})}.bind(this))},_getTextMsgSectionContext:function(e,t,i){var n=e.sectionID;var a=e.sectionTitle;var s=e.pageTitle;if(n&&this.stVizIdInSection.has(t)){return c.i18n.getText("VisualizationOrganizer.MessageToastSectionContextRemove",[i||t,a,s])}if(n&&!this.stVizIdInSection.has(t)){return c.i18n.getText("VisualizationOrganizer.MessageToastSectionContextAdd",[i||t,a,s])}if(!n&&this.stVizIdInSection.has(t)){return c.i18n.getText("VisualizationOrganizer.MessageToastPageRemove",[i||t,s])}if(!n&&!this.stVizIdInSection.has(t)){return c.i18n.getText("VisualizationOrganizer.MessageToastPageAdd",[i||t,s])}},_organizeVisualizations:function(){var e=this._retrieveChangedPageIds();if(this.oVizInfo.isBookmark){return this._applyBookmarkOrganizationChange(e,true)}return this._applyOrganizationChange(e,true)},_applyOrganizationChange:function(e,t){var i=e.addToPageIds.length+e.deleteFromPageIds.length;if(!i){return Promise.resolve()}var n=this.sVisualizationId;var a=this.oOpenBy;var s=new Set;var r;var o=g.getServiceAsync("Pages").then(function(e){r=e});e.deleteFromPageIds.forEach(function(e){if(!s.has(e)){s.add(e);o=o.then(function(){return r.findVisualization(e,null,n).then(function(e){var t=[];for(var i=e.length-1;i>=0;i--){var n=e[i];var a=r.getPageIndex(n.pageId);for(var s=n.vizIndexes.length-1;s>=0;s--){var o=n.vizIndexes[s];t.push(r.deleteVisualization(a,n.sectionIndex,o))}}return Promise.all(t)})})}this.mVizIdInPages.get(n).delete(e)}.bind(this));e.addToPageIds.forEach(function(e){o=o.then(function(){return r.addVisualization(e,null,n)});if(this.mVizIdInPages.has(n)){this.mVizIdInPages.get(n).add(e)}else{this.mVizIdInPages.set(n,new Set([e]))}}.bind(this));return o.then(function(){if(a){a.getBinding("icon")?.refresh(true);a.getBinding("type")?.refresh(true);a.getBinding("tooltip")?.refresh(true)}if(t){sap.ui.require(["sap/m/MessageToast"],function(e){e.show(c.i18n.getText("VisualizationOrganizer.MessageToast"))})}})},_resetPopup:function(e){var t=a.getElementById("sapUshellVisualizationOrganizerPopover");var i=a.getElementById("sapUshellVisualizationOrganizerSpacesList");var n=a.getElementById("sapUshellVisualizationOrganizerSearch");var s=a.getElementById("sapUshellVisualizationOrganizerSelectedPages");t.detachAfterClose(this.fnResetPopup);n.setValue("");s.setType(h.Default);i.getBinding("items").filter(null);i.removeSelections();delete this.fnResetPopup;delete this.sVisualizationId;delete this.sVisualizationTitle},onSelectionChange:function(e){var t=e.getParameter("listItem");var i=e.getParameter("selected");this._changeSelectionForAllPagesWithTheSamePageId(t,i)},_changeSelectionForAllPagesWithTheSamePageId:function(e,t){var i=e.getModel();var n=e.getBindingContext();var a=n.getProperty("id");var s=t!==undefined?t:!n.getProperty("selected");var r=i.getProperty("/pages");for(var o=0;o<r.length;o++){var l=r[o];if(l.id===a){l.selected=s}}i.setProperty("/pages",r)},_onSearch:function(e){var t=a.getElementById("sapUshellVisualizationOrganizerSelectedPages");var i=this.getPressed();if(e.sId==="press"){i=!i;this.setPressed(i);t.setPressed(i)}this._updatePagesList()},_updatePagesList:function(){var e=a.getElementById("sapUshellVisualizationOrganizerSpacesList");var t=a.getElementById("sapUshellVisualizationOrganizerSearch");var i=e.getBinding("items");var n=t.getValue();var s=this.getPressed();if(s){i.filter(new r({filters:[new r({filters:[new r({path:"title",operator:o.Contains,value1:n}),new r({path:"selected",operator:o.EQ,value1:s})],and:true}),new r({filters:[new r({path:"space",operator:o.Contains,value1:n}),new r({path:"selected",operator:o.EQ,value1:s})],and:true})],and:false}))}else{i.filter(new r({filters:[new r({path:"title",operator:o.Contains,value1:n}),new r({path:"space",operator:o.Contains,value1:n})],and:false}))}if(i.getLength()===0){e.setNoDataText(c.i18n.getText(n?"VisualizationOrganizer.PagesList.NoResultsText":"VisualizationOrganizer.PagesList.NoDataText"))}},loadSectionContext:function(t){this.stVizIdInSection.clear();if(!t||!t.pageID){return Promise.resolve(null)}return g.getServiceAsync("Pages").then(function(i){var n=decodeURIComponent(t.pageID);var a=t.sectionID?decodeURIComponent(t.sectionID):"";return i.loadPage(n).then(function(e){var t=i.getModel().getProperty(e);var n=this._createSectionContext(t,a);return n}.bind(this)).catch(function(){e.warning(n+" cannot be loaded. Please, check the id of the page.");return Promise.resolve(null)})}.bind(this))},_createSectionContext:function(e,t){var i=e.sections;var n;if(t){n=i.find(function(e){return e.id===t});this._initVizIdsInSection(n);return{pageID:e.id,sectionID:t,pageTitle:e.title,sectionTitle:n.title}}i.forEach(function(e){this._initVizIdsInSection(e)}.bind(this));return{pageID:e.id,sectionID:t,pageTitle:e.title}},_initVizIdsInSection:function(e){e.visualizations.forEach(function(e){this.stVizIdInSection.add(e.vizId)}.bind(this))},getPersonalizablePages:function(){return this.aPersonalizablePages},_isPersonalizablePage:function(e){var t=this.aPersonalizablePages.findIndex(function(t){return t.id===e});return t>-1},_retrieveChangedPageIds:function(){var e=a.getElementById("sapUshellVisualizationOrganizerSpacesList");var t=a.getElementById("sapUshellVisualizationOrganizerSearch");var i=e.getModel();var n=i.getProperty("/pinnedPages")||new Set;e.getBinding("items").filter(null);var s=e.getItems().filter(function(e){return e.isA("sap.m.StandardListItem")});t.fireSearch();var r={};var o=[];var l=[];s.forEach(function(e){var t=e.getBindingContext().getProperty("id");if(!r[t]){r[t]=true;if(e.getSelected()&&!n.has(t)){o.push(t)}else if(!e.getSelected()&&n.has(t)){l.push(t)}}});return{addToPageIds:o,deleteFromPageIds:l}},okay:function(){var t=a.getElementById("sapUshellVisualizationOrganizerPopover");if(t.getBusy()){return}t.setBusy(true);this._organizeVisualizations().then(function(){t.setBusy(false);t.close()}).catch(function(t){e.error("Could not save the selected pages on the VisualizationOrganizerPopover",t)})},onHierarchyAppsPinButtonClick:function(e,t){var i=e.getSource();var n=i.getParent().getBinding("title").getContext().getObject();if(i.getBusy()){return Promise.resolve(false)}n.isBookmark=true;n.title=n.text;if(t){i.setBusy(true);return this._applyBookmarkTileChangeToSection(n,t).then(function(){i.setBusy(false);return Promise.resolve(true)})}if(this.aPersonalizablePages.length===1){i.setBusy(true);return this._applyChangeToPage(i,n,this.aPersonalizablePages[0]).then(function(){i.setBusy(false);return Promise.resolve(true)})}return new Promise(function(e){this.toggle(i,n).then(function(){var t=a.getElementById("sapUshellVisualizationOrganizerPopover");if(t&&t.isOpen()){t.attachEventOnce("afterClose",function(){e(true)})}else{e(false)}})}.bind(this))},_applyBookmarkOrganizationChange:function(e,t){var i=e.addToPageIds.length+e.deleteFromPageIds.length;if(!i){return Promise.resolve()}var n=this.oVizInfo;var a=new Set;var s;var r;var o=Promise.all([g.getServiceAsync("BookmarkV2"),g.getServiceAsync("Pages")]).then(function(e){s=e[0];r=e[1];return Promise.resolve()});e.deleteFromPageIds.forEach(function(e){if(!a.has(e)){a.add(e);o=o.then(function(){return r.deleteBookmarks({url:n.url},e)})}});e.addToPageIds.forEach(function(e){o=o.then(function(){var t={url:n.url,title:n.text,subtitle:n.subtitle,icon:n.icon};var i={type:d.ContentNodeType.Page,id:e,isContainer:true};return s.addBookmark(t,i)})});return o.then(function(){if(t){sap.ui.require(["sap/m/MessageToast"],function(e){e.show(c.i18n.getText("VisualizationOrganizer.MessageToast"))})}})},_applyBookmarkTileChangeToSection:function(e,t){return g.getServiceAsync("Pages").then(function(i){var n;var a;var s=e.url;var r=e.title;var o=t.pageID;var l=t.sectionID;if(e.bookmarkCount>0){a=c.i18n.getText("VisualizationOrganizer.MessageToastSectionContextRemove",[r,t.sectionTitle,t.pageTitle]);n=i.deleteBookmarks({url:s},o,l)}else{var u={url:s,title:e.text,subtitle:e.subtitle,icon:e.icon};a=c.i18n.getText("VisualizationOrganizer.MessageToastSectionContextAdd",[r,t.sectionTitle,t.pageTitle]);n=i.addBookmarkToPage(o,u,l)}return n.then(function(){sap.ui.require(["sap/m/MessageToast"],function(e){e.show(a,{offset:"0 -50"})})})})},updateBookmarkCount:function(e,t){return g.getServiceAsync("Pages").then(function(i){var n=e.map(function(e){return i._findBookmarks({url:e.url}).then(function(i){if(t){i=i.filter(function(e){return t.pageID===e.pageId&&t.sectionID===e.sectionId})}e.bookmarkCount=i.length;return e})});return Promise.all(n)})},formatBookmarkPinButtonTooltip:function(e,t){var i;if(t){if(e>0){i="VisualizationOrganizer.Button.Tooltip.RemoveFromSection"}else{i="VisualizationOrganizer.Button.Tooltip.AddToSection"}}else if(e>0){i="EasyAccessMenu_PinButton_Toggled_Tooltip"}else{i="EasyAccessMenu_PinButton_UnToggled_Tooltip"}return c.i18n.getText(i)},_applyChangeToPage:function(e,t,i){var n=decodeURIComponent(t.id);var a=t.title;var s=i.id;var r=t.isBookmark?t.bookmarkCount>0:this.isVizIdPresent(n);var o={addToPageIds:r?[]:[s],deleteFromPageIds:r?[s]:[]};var l=c.i18n.getText(r?"VisualizationOrganizer.MessageToastPageRemove":"VisualizationOrganizer.MessageToastPageAdd",[a||n,i.title]);this.oVizInfo=t;this.sVisualizationId=n;var u;if(t.isBookmark){u=this._applyBookmarkOrganizationChange(o,false)}else{u=this._applyOrganizationChange(o,false)}return u.then(function(){e.getBinding("icon")?.refresh(true);e.getBinding("type")?.refresh(true);e.getBinding("tooltip")?.refresh(true);sap.ui.require(["sap/m/MessageToast"],function(e){e.show(l,{offset:"0 -50"})})})},groupBySpace:function(e){return{key:e.getProperty("spaceId"),title:e.getProperty("space")}},getGroupHeader:function(e){return new n({title:e.title})},exit:function(){var e=a.getElementById("sapUshellVisualizationOrganizerPopover");if(e){e.destroy()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBox", ["sap/ushell/ui/appfinder/AppBoxInternal"],function(e){"use strict";const p=e.extend("sap.ushell.ui.appfinder.AppBox");return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxInternal", ["sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/appfinder/AppBoxInternalRenderer","sap/ushell/Config"],function(e,t,o,s,n,i,r){"use strict";const l=e.extend("sap.ushell.ui.appfinder.AppBoxInternal",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Misc",defaultValue:null},url:{type:"string",group:"Misc",defaultValue:null},navigationMode:{type:"string",group:"Misc",defaultValue:null},contentProviderLabel:{type:"string",group:"Misc",defaultValue:""},showContentProviderLabel:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{pinButton:{type:"sap.m.Button",multiple:false}},events:{press:{},afterRendering:{}}},renderer:i});l.prototype.init=function(){this._oIcon=(new t).addStyleClass("sapUshellAppBoxIcon");this._oDoable=r.on("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations").do(e=>{this.setProperty("showContentProviderLabel",e)})};l.prototype.destroy=function(){e.prototype.destroy.apply(this,arguments);this._oIcon.destroy();this._oDoable.off()};l.prototype.onAfterRendering=function(){const e=this.$("title");const t=this.$("subTitle");const o=parseInt(e.css("lineHeight"),10);const s=e.height();if(s/o>1){e.addClass("sapUshellAppBoxHeaderElementTwoLines");t.addClass("sapUshellAppBoxHeaderElementOneLine")}else{e.addClass("sapUshellAppBoxHeaderElementOneLine");t.addClass("sapUshellAppBoxHeaderElementTwoLines")}this.fireAfterRendering()};l.prototype.setIcon=function(e){this.setProperty("icon",e);this._oIcon.setSrc(o.isIconURI(e)?e:null)};l.prototype._getAriaLabel=function(){let e=this.getTitle();const t=this.getSubtitle();const o=this.getNavigationMode();const s=this.getShowContentProviderLabel()&&this.getContentProviderLabel();if(t){e+=" "+t}if(o){e+=" "+n.i18n.getText(o+"NavigationMode")}if(s){e+=" "+s}return e};l.prototype.onclick=l.prototype.firePress;l.prototype.onsapspace=function(e){e.preventDefault();this.firePress(e)};l.prototype.onsapenter=l.prototype.onsapspace;return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxInternalRenderer", ["sap/ushell/resources"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,o){t.openStart("li",o);t.class("sapUshellAppBox");t.attr("aria-label",o._getAriaLabel());t.attr("aria-roledescription",e.i18n.getText("tile"));t.attr("aria-describedby",o.getId());t.openEnd();t.openStart("div");t.class("sapUshellAppBoxInner");t.openEnd();var l=o.getIcon();if(l){t.renderControl(o._oIcon)}t.openStart("div");if(l){t.class("sapUshellAppBoxHeader")}else{t.class("sapUshellAppBoxHeaderNoIcon")}t.openEnd();t.openStart("div",o.getId()+"-title");t.class("sapUshellAppBoxTitle");t.openEnd();t.text(o.getTitle());t.close("div");if(o.getSubtitle()){t.openStart("div",o.getId()+"-subTitle");t.class("sapUshellAppBoxSubtitle");t.openEnd();t.text(o.getSubtitle());t.close("div")}t.close("div");t.close("div");t.openStart("div");t.class("sapUshellAppBoxActionsArea");if(o.getTitle){t.attr("role","toolbar");t.attr("aria-label",o.getTitle())}t.openEnd();if(o.getShowContentProviderLabel()&&o.getContentProviderLabel()!==""){t.openStart("div",o.getId()+"-contentProviderLabel");t.class("sapUshellAppBoxContentProviderLabel");t.openEnd();t.openStart("span",o.getId()+"-contentProviderLabelInner");t.class("sapUshellAppBoxContentProviderLabelInner");t.attr("title",o.getContentProviderLabel().toUpperCase());t.openEnd();t.text(o.getContentProviderLabel());t.close("span");t.close("div")}t.renderControl(o.getPinButton());t.close("div");t.close("li")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxRenderer", ["sap/ushell/ui/appfinder/AppBoxInternalRenderer"],function(e){"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/PinButton", ["sap/m/Button","sap/ushell/library","sap/ushell/ui/appfinder/PinButtonRenderer"],function(e,t,n){"use strict";var r=e.extend("sap.ushell.ui.appfinder.PinButton",{metadata:{library:"sap.ushell",properties:{selected:{type:"boolean",group:"Appearance",defaultValue:false}}},renderer:n});r.prototype.onAfterRendering=function(){this.$("inner").toggleClass("sapUshellPinSelected",this.getSelected())};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/PinButtonRenderer", ["sap/m/ButtonRenderer","sap/ui/core/Renderer"],function(e,t){"use strict";var r=t.extend(e);r.apiVersion=2;r.renderAccessibilityAttributes=function(e,t,r){r.pressed=t.getSelected();r.selected=null};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItem", ["sap/ui/core/Control","sap/ushell/ui/launchpad/AnchorItemRenderer","sap/ushell/library"],function(e,t){"use strict";var i=e.extend("sap.ushell.ui.launchpad.AnchorItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Misc",defaultValue:false},groupId:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},helpId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true},isGroupRendered:{type:"boolean",group:"Misc",defaultValue:false},isGroupDisabled:{type:"boolean",group:"Misc",defaultValue:false},locked:{type:"boolean",group:"Misc",defaultValue:false},posinset:{type:"int",group:"Misc",defaultValue:0},setsize:{type:"int",group:"Misc",defaultValue:0}},events:{press:{},afterRendering:{},visibilityChanged:{}}},renderer:t});i.prototype.init=function(){this.addDelegate({onAfterRendering:this.fireAfterRendering.bind(this),onclick:this.firePress.bind(this),onsapenter:this.firePress.bind(this),onsapspace:function(e){e.preventDefault();this.firePress()}.bind(this)})};i.prototype.setVisible=function(e,t){this.setProperty("visible",e,t);this.fireVisibilityChanged();return this};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItemRenderer", function(){"use strict";var e={apiVersion:2,render:function(e,t){var s=t.getGroupId(),a=t.getSelected();e.openStart("li",t);e.attr("modelGroupId",s);e.attr("role","tab");e.attr("aria-selected",a);e.class("sapUshellAnchorItem");if(t.getSetsize()){e.attr("aria-posinset",t.getPosinset());e.attr("aria-setsize",t.getSetsize())}if(t.getHelpId()){if(t.getDefaultGroup()){e.class("help-id-homeAnchorNavigationBarItem")}else{e.class("help-id-anchorNavigationBarItem")}e.attr("data-help-id",t.getHelpId())}if(a){e.attr("tabindex","0");e.class("sapUshellAnchorItemSelected")}if(!t.getVisible()||!t.getIsGroupVisible()){e.class("sapUshellShellHidden")}e.openEnd();e.openStart("div",t.getId()+"-inner");e.class("sapUshellAnchorItemInner");if(t.getIsGroupDisabled()){e.class("sapUshellAnchorItemDisabled")}e.openEnd();e.text(t.getTitle());e.close("div");e.close("li")}};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBar", ["./AnchorNavigationBarRenderer","sap/base/i18n/Localization","sap/base/util/isEmptyObject","sap/m/Bar","sap/m/Button","sap/ui/core/Element","sap/ui/core/ResizeHandler","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources"],function(e,t,s,i,o,r,l,n,jQuery,h,a){"use strict";var f=i.extend("sap.ushell.ui.launchpad.AnchorNavigationBar",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},selectedItemIndex:{type:"int",group:"Misc",defaultValue:0},overflowEnabled:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{groups:{type:"sap.ushell.ui.launchpad.AnchorItem",multiple:true,singularName:"group"}},events:{afterRendering:{},itemPress:{}}},renderer:e});f.prototype.init=function(){this.bGroupWasPressed=false;this.bIsRtl=t.getRTL();this._bIsRenderedCompletely=false;this.fnNavigationBarItemsVisibility=this.setNavigationBarItemsVisibility.bind(this);this.fnAdjustVisibleAnchorItemsAccessibility=this.adjustVisibleAnchorItemsAccessibility.bind(this)};f.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){l.deregister(this._sResizeListenerId);this._sResizeListenerId=null}var e=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(e){e.removeEventListener("scroll",this.fnNavigationBarItemsVisibility)}};f.prototype.onAfterRendering=function(){var e=this.getDomRef();if(this._bIsRenderedCompletely){this.reArrangeNavigationBarElements();this.adjustVisibleAnchorItemsAccessibility();var t=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(t){t.addEventListener("scroll",this.fnNavigationBarItemsVisibility)}if(e){this._sResizeListenerId=l.register(e,this.reArrangeNavigationBarElements.bind(this))}}};f.prototype.openOverflowPopup=function(){var e=jQuery(".sapUshellAnchorItemOverFlow").hasClass("sapUshellAnchorItemOverFlowOpen");if(this.oOverflowButton&&!e){this.oOverflowButton.firePress()}};f.prototype.closeOverflowPopup=function(){if(this.oPopover){this.oPopover.close()}};f.prototype.reArrangeNavigationBarElements=function(){this.anchorItems=this.getVisibleGroups();var e=this.getSelectedItemIndex()||0;if(this.anchorItems.length){this.adjustItemSelection(e)}if(n.system.phone&&this.anchorItems.length){this.anchorItems.forEach(function(e){e.setIsGroupVisible(false)});this.anchorItems[this.getSelectedItemIndex()].setIsGroupVisible(true)}else{setTimeout(function(){if(this.isDestroyed()){return}this.setNavigationBarItemsVisibility()}.bind(this),200)}};f.prototype._scrollToGroupByGroupIndex=function(e,t){var s=n.system.tablet?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems";var i=document.documentElement.querySelector(s);var o=this.anchorItems[e].getDomRef();if(i&&o){var r=i.getBoundingClientRect();var l=o.getBoundingClientRect();var h=jQuery(i);var a=this.bIsRtl?h.scrollLeftRTL():i.scrollLeft;var f;if(l.left<r.left){f=l.left-r.left-16}else if(l.right>r.right){f=l.right-r.right+16}if(f){if(this.bIsRtl){h.scrollLeftRTL(a+f)}else{i.scrollLeft=a+f}}this.setNavigationBarItemsVisibility()}};f.prototype.setNavigationBarItemsVisibility=function(){if(!n.system.phone){this.setNavigationBarItemsVisibilityOnDesktop()}else if(this.anchorItems&&this.anchorItems.length>0){this.oOverflowButton.removeStyleClass("sapUshellShellHidden");var e=this.getSelectedItemIndex()||0;if(this.oPopover){this.oPopover.setTitle(this.anchorItems[e].getTitle())}}};f.prototype.setNavigationBarItemsVisibilityOnDesktop=function(){if(this.anchorItems.length&&(!this.isMostRightAnchorItemVisible()||!this.isMostLeftAnchorItemVisible())){this.oOverflowButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowButton){this.oOverflowButton.addStyleClass("sapUshellShellHidden")}if(this.bIsRtl){if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}}else{if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}}};f.prototype.adjustItemSelection=function(e){setTimeout(function(){if(this.anchorItems&&this.anchorItems.length){this.anchorItems.forEach(function(e){e.setSelected(false)});if(e>=0&&e<this.anchorItems.length){this.anchorItems[e].setSelected(true);this._scrollToGroupByGroupIndex(e)}}}.bind(this),50)};f.prototype.isMostRightAnchorItemVisible=function(){var e=jQuery(".sapUshellAnchorNavigationBarInner"),t=!s(e)?e.width():0,i=!s(e)&&e.offset()?e.offset().left:0,o=this.bIsRtl?this.anchorItems[0].getDomRef():this.anchorItems[this.anchorItems.length-1].getDomRef(),r=!s(o)?jQuery(o).width():0,l;if(r<0){r=80}l=o&&jQuery(o).offset()?jQuery(o).offset().left:0;return Math.ceil(l)+r<=i+t};f.prototype.isMostLeftAnchorItemVisible=function(){var e=jQuery(".sapUshellAnchorNavigationBarInner"),t=!s(e)&&e.offset()&&e.offset().left||0,i=this.bIsRtl?this.anchorItems[this.anchorItems.length-1].getDomRef():this.anchorItems[0].getDomRef(),o=!s(i)&&jQuery(i).offset()?jQuery(i).offset().left:0;return Math.ceil(o)>=t};f.prototype.setSelectedItemIndex=function(e){if(e!==undefined){this.setProperty("selectedItemIndex",e,true)}};f.prototype.setOverflowEnabled=function(e){this.setProperty("overflowEnabled",e);if(this.oOverflowButton){this.oOverflowButton.setEnabled(e)}};f.prototype._getOverflowLeftArrowButton=function(){if(!this.oOverflowLeftButton){this.oOverflowLeftButton=new o({icon:"sap-icon://slim-arrow-left",tooltip:a.i18n.getText("scrollToTop"),press:function(){this._scrollToGroupByGroupIndex(0)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowLeftButton._bExcludeFromTabChain=true}return this.oOverflowLeftButton};f.prototype._getOverflowRightArrowButton=function(){if(!this.oOverflowRightButton){this.oOverflowRightButton=new o({icon:"sap-icon://slim-arrow-right",tooltip:a.i18n.getText("scrollToEnd"),press:function(){this._scrollToGroupByGroupIndex(this.anchorItems.length-1)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowRightButton._bExcludeFromTabChain=true}return this.oOverflowRightButton};f.prototype._getOverflowButton=function(){if(!this.oOverflowButton){this.oOverflowButton=new o("sapUshellAnchorBarOverflowButton",{icon:"sap-icon://slim-arrow-down",tooltip:a.i18n.getText("more_groups"),enabled:this.getOverflowEnabled(),press:function(){this._togglePopover()}.bind(this)}).addStyleClass("sapUshellShellHidden")}return this.oOverflowButton};f.prototype._togglePopover=function(){sap.ui.require(["sap/m/Popover","sap/ui/model/Filter","sap/ushell/ui/launchpad/GroupListItem","sap/m/List","sap/m/library"],function(e,s,i,o,l){var n=l.ListMode;if(!this.oPopover){this.oList=new o({mode:n.SingleSelectMaster,rememberSelections:false,selectionChange:function(e){this.fireItemPress({group:e.getParameter("listItem")});this.oPopover.close()}.bind(this)});this.oPopover=new e("sapUshellAnchorBarOverflowPopover",{showArrow:false,showHeader:false,placement:"Left",content:[this.oList],horizontalScrolling:false,beforeOpen:function(){var e=jQuery(".sapUshellAnchorItemOverFlow"),s=t.getRTL(),i=s?-1*e.outerWidth():e.outerWidth();this.setOffsetX(i)},afterClose:function(){jQuery(".sapUshellAnchorItemOverFlow").removeClass("sapUshellAnchorItemOverFlowOpen");jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",false)}}).addStyleClass("sapUshellAnchorItemsPopover").addStyleClass("sapContrastPlus")}if(this.oPopover.isOpen()){this.oPopover.close()}else{this.anchorItems=this.getVisibleGroups();this.oList.setModel(this.getModel());var h=this.getModel().getProperty("/tileActionModeActive");var a=new s("","EQ","a");a.fnTest=function(e){if(!e.visibilityModes[h?1:0]){return false}return e.isGroupVisible||h};this.oList.bindItems({path:"/groups",template:new i({title:"{title}",groupId:"{groupId}",index:"{index}"}),filters:[a]});var f=jQuery(".sapUshellAnchorItemSelected").attr("id");var p=r.getElementById(f);this.oList.getItems().forEach(function(e){if(p.mProperties.groupId===e.mProperties.groupId){e.addStyleClass("sapUshellAnchorPopoverItemSelected")}else{e.addStyleClass("sapUshellAnchorPopoverItemNonSelected")}});jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",true);this.oPopover.openBy(this.oOverflowButton)}}.bind(this))};f.prototype.getVisibleGroups=function(){return this.getGroups().filter(function(e){return e.getVisible()})};f.prototype._setRenderedCompletely=function(e){this._bIsRenderedCompletely=e};f.prototype.handleAnchorItemPress=function(e){this.bGroupWasPressed=true;this.fireItemPress({group:e.getSource(),manualPress:true})};f.prototype.adjustVisibleAnchorItemsAccessibility=function(){var e=this.getVisibleGroups(),t=e.length;e.forEach(function(e,s){e.setPosinset(s+1);e.setSetsize(t)})};f.prototype.addGroup=function(e,t){e.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.addAggregation("groups",e,t)};f.prototype.insertGroup=function(e,t,s){e.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.insertAggregation("groups",e,t,s)};f.prototype.removeGroup=function(e,t){e.detachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.removeAggregation("groups",e,t)};f.prototype.exit=function(){if(this.oOverflowLeftButton){this.oOverflowLeftButton.destroy()}if(this.oOverflowRightButton){this.oOverflowRightButton.destroy()}if(this.oOverflowButton){this.oOverflowButton.destroy()}if(this.oPopover){this.oPopover.destroy()}if(i.prototype.exit){i.prototype.exit.apply(this,arguments)}if(this._sResizeListenerId){l.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};return f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBarRenderer", ["sap/ushell/resources","sap/ui/core/library"],function(e,t){"use strict";var r=t.AccessibleLandmarkRole;var a={apiVersion:2};a.render=function(t,a){t.openStart("div",a);t.attr("role",r.Navigation);t.attr("aria-label",e.i18n.getText("Dashboard.Page.Header.AriaLabel"));t.attr("data-sap-ui-customfastnavgroup","true");t.class("sapUshellAnchorNavigationBar");t.class("sapMPageHeader");t.class("sapMIBar-CTX");t.class("sapMHeader-CTX");t.openEnd();t.openStart("div");t.class("sapUshellAnchorNavigationBarInner");t.openEnd();if(a.getGroups().length>0){a._setRenderedCompletely(true);t.openStart("div");t.class("sapUshellAnchorLeftOverFlowButton");t.accessibilityState(a._getOverflowLeftArrowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowLeftArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorNavigationBarItems");t.openEnd();t.openStart("ul");t.class("sapUshellAnchorNavigationBarItemsScroll");t.accessibilityState(a,{role:"tablist",label:e.i18n.getText("AnchorNavigationBar_AriaLabel")});t.openEnd();this.renderAnchorNavigationItems(t,a);t.close("ul");t.close("div");t.openStart("div");t.class("sapUshellAnchorRightOverFlowButton");t.accessibilityState(a._getOverflowRightArrowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowRightArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorItemOverFlow");t.accessibilityState(a._getOverflowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowButton());t.close("div")}t.close("div");t.close("div")};a.renderAnchorNavigationItems=function(e,t){t.getGroups().forEach(function(t){e.renderControl(t)})};a.shouldAddIBarContext=function(){return false};return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/CatalogEntryContainer", ["sap/base/Log","sap/ui/core/Control","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/TileContainerUtils","sap/ushell/Container"],function(e,t,i,n,a,s){"use strict";var l=t.extend("sap.ushell.ui.launchpad.CatalogEntryContainer",{metadata:{library:"sap.ushell",properties:{header:{type:"string",group:"Appearance",defaultValue:null},catalogSearchTerm:{type:"string",group:"Appearance",defaultValue:null},catalogTagSelector:{type:"object",group:"Appearance",defaultValue:null}},aggregations:{appBoxesContainer:{type:"sap.ushell.ui.appfinder.AppBoxInternal",multiple:true},customTilesContainer:{type:"sap.ushell.ui.launchpad.Tile",multiple:true}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.attr("aria-labeledby",t.getId()+"-title");e.attr("role","group");e.class("sapUshellTileContainer");e.class("sapUshellCatalogTileContainer");e.openEnd();e.openStart("div");e.class("sapUshellTileContainerContent");e.attr("tabindex","-1");e.openEnd();var i=t.getHeader();if(i){if(n.i18n.hasText(i)){i=n.i18n.getText(i)}e.openStart("div");e.class("sapUshellTileContainerHeader");e.class("sapUshellCatalogTileContainerHeader");e.attr("id",t.getId()+"-groupheader");e.openEnd();e.openStart("div");e.class("sapUshellCatalogTileContainerHeaderInner");e.attr("id",t.getId()+"-title");e.openEnd();e.openStart("h2");e.class("sapUshellContainerTitle");e.class("sapUshellCatalogContainerTitle");e.attr("title",i);e.attr("aria-level","2");e.openEnd();e.text(i);e.close("h2");e.close("div");e.close("div")}var a=t.getAppBoxesContainer();var s;var l=t.getCustomTilesContainer();if(a.length>0||l.length>0){e.openStart("ul");e.class("sapUshellInner");e.openEnd();for(s=0;s<a.length;s++){e.renderControl(a[s])}if(a.length&&l.length){e.voidStart("br");e.voidEnd()}for(s=0;s<l.length;s++){e.renderControl(l[s])}e.close("ul")}e.close("div");e.close("div")}}});l.prototype.setAfterHandleElements=function(e){this.onAfterHandleElements=e};l.prototype.onAfterUpdate=function(e){this.fnCallback=e};l.prototype.updateAggregation=function(t){e.debug("Updating CatalogEntryContainer. Reason: ",t)};l.prototype.addNewItem=function(e,t){if(this.catalogState[t]!=="full"&&this.getAllocatedUnits&&!this.getAllocatedUnits()){this.catalogState[t]="partial";return false}if(t==="customTilesContainer"){var i=e.getObject&&e.getObject().src;if(i!==undefined){var n;if(i.Chip!==undefined&&i.Chip.getContract!==undefined){n=i.Chip.getContract("preview")}else if(i.getContract!==undefined){n=i.getContract("preview")}if(n!==undefined){n.setEnabled(true)}}s.getServiceAsync("FlpLaunchPage").then(function(t){t.getCatalogTileViewControl(e.getProperty("src")).done(function(t){e.getModel().setProperty(e.getPath()+"/content",[t])})})}var l=a.createNewItem.bind(this)(e,t);a.addNewItem.bind(this)(l,t);var r=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer(),o=e.getPath();this.indexingMaps[t].onScreenPathIndexMap[o]={aItemsRefrenceIndex:r.length-1,isVisible:true};return true};l.prototype.getNumberResults=function(){return{nAppboxes:this.nNumberOfVisibileElements.appBoxesContainer,nCustom:this.nNumberOfVisibileElements.customTilesContainer}};l.prototype.handleElements=function(e){var t=e,i=this.mBindingInfos[t].binding,n=i.getContexts(),s,l,r;if(!this.catalogState){this.catalogState={}}if(!this.catalogState[e]){this.catalogState[e]="start"}if(!this.indexingMaps){this.indexingMaps={}}if(!this.nNumberOfVisibileElements){this.nNumberOfVisibileElements=[]}if(!this.nNumberOfVisibileElements.customTilesContainer){this.nNumberOfVisibileElements.customTilesContainer=0}if(!this.nNumberOfVisibileElements.appBoxesContainer){this.nNumberOfVisibileElements.appBoxesContainer=0}if(!this.filters){this.filters={}}s=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer();this.indexingMaps[t]=a.indexOnScreenElements(s,false);r=a.markVisibleOnScreenElementsSearchCatalog(n,this.indexingMaps[t],true);if(a.createMissingElementsInOnScreenElementsSearchCatalog(this.indexingMaps[t],n,r,this.addNewItem.bind(this),s,this.filters[t],t,this.processFiltering.bind(this))){if(this.getAllocatedUnits&&this.getAllocatedUnits()){this.catalogState[e]="full"}}s=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer();l=a.showHideTilesAndHeaders(this.indexingMaps[t],s);this.nNumberOfVisibileElements[t]=l.nCountVisibElelemnts;if(this.fnCallback){this.fnCallback(this)}if(this.onAfterHandleElements){this.onAfterHandleElements(this)}};l.prototype.processFiltering=function(e,t){var i=e.getPath();if(t){var n=this.indexingMaps[t].onScreenPathIndexMap[i];if(n.isVisible&&this.currElementVisible){this.currElementVisible()}}};return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/CatalogsContainer", ["sap/base/Log","sap/ui/core/Control","sap/ui/performance/Measurement","sap/ushell/library","sap/ushell/ui/launchpad/TileContainerUtils","sap/ushell/resources"],function(t,e,i,n,a,s){"use strict";var l=e.extend("sap.ushell.ui.launchpad.CatalogsContainer",{metadata:{library:"sap.ushell",properties:{categoryFilter:{type:"string",defaultValue:"ALL"},categoryAllocateTiles:{type:"int",defaultValue:"0"}},aggregations:{catalogs:{type:"sap.ushell.ui.launchpad.CatalogEntryContainer",multiple:true}}},renderer:{apiVersion:2,render:function(t,e){var i=e.getCatalogs();t.openStart("div",e);t.class("sapUshellCatalogsContainer");t.openEnd();for(var n=0,a=i.length;n<a;++n){t.renderControl(i[n])}t.close("div")}}});l.prototype.onBeforeRendering=function(){if(this.getCatalogs().length){this.setBusy(false)}};l.prototype.setPagingManager=function(t){i.start("FLP:DashboardManager.CatalogsRendering","CatalogsRendering","FLP");i.pause("FLP:DashboardManager.CatalogsRendering");this.oPagingManager=t};l.prototype.updateAllocatedUnits=function(t){this.nAllocatedUnits=t};l.prototype.applyPagingCategoryFilters=function(t,e){var i=this.getCatalogs();this.nAllocatedUnits=t;if(e&&e!==s.i18n.getText("all")){this.sCatalogTerm=e}else{this.sCatalogTerm=""}if(!this.filters){this.filters={}}if(!this.filters.catalogEntry){this.filters.catalogEntry=function(t){var e=t.getPath(),i=t.getProperty("title")===this.sCatalogTerm,n;if(!this.sCatalogTerm){return}n=this.indexingMaps.onScreenPathIndexMap[e];if(n){n.isVisible=i}}.bind(this)}if(!this.filters.pagination){this.filters.pagination=function(t){var e=t.getPath(),i;i=this.indexingMaps.onScreenPathIndexMap[e];if(!this.nAllocatedUnits){i.isVisible=false}}.bind(this)}if(!this.indexingMaps){return}this.indexingMaps=a.indexOnScreenElements(i);a.applyFilterOnAllItems(this.mBindingInfos.catalogs,this.filters,this.processFiltering.bind(this));if(this.indexingMaps){a.showHideTilesAndHeaders(this.indexingMaps,this.getCatalogs())}};l.prototype.processFiltering=function(t){var e=this.getCatalogs(),i=t.getPath(),n=this.indexingMaps.onScreenPathIndexMap[i],a=e[n.aItemsRefrenceIndex],s;if(n.isVisible&&(!this.catalogPagination[i]||this.catalogPagination[i]==="start")){if(this.catalogPagination[i]===undefined){this.catalogPagination[i]="start";a.catalogState={}}else if(this.catalogPagination[i]==="start"){var l=a.nNumberOfVisibileElements;this.nAllocatedUnits+=l.appBoxesContainer+l.customTilesContainer}s=this.nAllocatedUnits;a.handleElements("appBoxesContainer");a.handleElements("customTilesContainer");if(a.catalogState.appBoxesContainer==="full"&&a.catalogState.customTilesContainer==="full"){this.catalogPagination[i]="full"}if(s-this.nAllocatedUnits>0){this.bSearchResults=true}else{n.isVisible=false}}else if(n.isVisible&&this.catalogPagination[i]==="full"){var o=a.nNumberOfVisibileElements;var r=o.appBoxesContainer+o.customTilesContainer;if(r===0){n.isVisible=false}}};l.prototype.resetCatalogPagination=function(){this.catalogPagination={}};l.prototype.updateAggregation=function(n){t.debug("Updating TileContainer. Reason: ",n);try{i.resume("FLP:DashboardManager.CatalogsRendering");this.filterElements();i.pause("FLP:DashboardManager.CatalogsRendering")}catch(t){e.prototype.updateAggregation.apply(this,arguments)}};l.prototype.addNewItem=function(t,e){var i,n,s,l=t.getPath();i=a.createNewItem.bind(this)(t,e);if(!i.filters){i.filters={};i.filters.appBoxesContainer={};i.filters.customTilesContainer={};i.filters.appBoxesContainer.pagination=function(t){var e=this.indexingMaps.appBoxesContainer.onScreenPathIndexMap[t.getPath()];if(this.getAllocatedUnits){e.isVisible=!!this.getAllocatedUnits()}}.bind(i);i.filters.customTilesContainer.pagination=function(t){var e=this.indexingMaps.customTilesContainer.onScreenPathIndexMap[t.getPath()];if(this.getAllocatedUnits){e.isVisible=!!this.getAllocatedUnits()}}.bind(i)}i.nAllocatedUnits=this.nAllocatedUnits;i.getAllocatedUnits=function(){return this.nAllocatedUnits}.bind(this);i.elementFiltered=function(t){n=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits+=t*n;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);i.elementsVisible=function(t){n=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits-=t*n;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);i.newElementCreated=function(t,e){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);i.currElementVisible=function(){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);a.addNewItem.bind(this)(i,e);s=this.getCatalogs();this.indexingMaps.onScreenPathIndexMap[l]={aItemsRefrenceIndex:s.length-1,isVisible:true};return true};l.prototype.handleFilters=function(){if(!this.catalogPagination){this.catalogPagination={}}if(!this.catalogsElementsMap){this.catalogsElementsMap={}}if(!this.filters){this.filters={}}};l.prototype.setHandleSearchCallback=function(t){this.handleSearchCallback=t};l.prototype.filterElements=function(){var t="catalogs",e=this.mBindingInfos[t].binding,i=e.getContexts(),n=this.getCatalogs(),s;if(!this.indexingMaps){this.indexingMaps=a.indexOnScreenElements(n)}this.handleFilters();s=a.markVisibleOnScreenElements(i,this.indexingMaps,false);if(!a.validateOrder(i,n,s)){throw true}a.createMissingElementsInOnScreenElements(this.indexingMaps,i,s,this.addNewItem.bind(this),n,this.filters,t);n=this.getCatalogs();a.showHideTilesAndHeaders(this.indexingMaps,n);if(this.handleSearchCallback){this.handleSearchCallback()}};return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainer", ["sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/InvisibleText","sap/ushell/Config","sap/ushell/library","sap/ushell/override","sap/ushell/resources","sap/ushell/utils","./DashboardGroupsContainerRenderer"],function(e,t,r,i,o,s,a,n,l,p){"use strict";var u=t.extend("sap.ushell.ui.launchpad.DashboardGroupsContainer",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},displayMode:{type:"string",defaultValue:null}},aggregations:{groups:{type:"sap.ui.core.Control",multiple:true,singularName:"group"}},events:{afterRendering:{}}},renderer:p});u.prototype.init=function(){this.addInvisibleAccessabilityTexts()};u.prototype.exit=function(){if(this.oTileText){this.oTileText.destroy()}if(this.oTileEditModeText){this.oTileEditModeText.destroy()}t.prototype.exit.apply(this,arguments)};u.prototype.updateGroups=a.updateAggregatesFactory("groups");u.prototype.onAfterRendering=function(){var e=this,t={bUseUniqueMark:true};l.setPerformanceMark("FLP-TimeToInteractive_tilesLoaded",t);e.fireAfterRendering()};u.prototype.getGroupControlByGroupId=function(e){try{var t=this.getGroups();for(var r=0,i=t.length;r<i;++r){if(t[r].getGroupId()===e){return t[r]}}}catch(e){}return null};u.prototype.addLinksToUnselectedGroups=function(){var t=this.getGroups();t.forEach(function(t,r){if(!t.getIsGroupSelected()){e.prototype.updateAggregation.call(t,"links")}})};u.prototype.removeLinksFromAllGroups=function(){var e=this.getGroups();e.forEach(function(e,t){var r=e.getLinks();if(r.length){if(r[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(var i=0;i<r.length;i++){r[i].destroy()}}}})};u.prototype.removeLinksFromUnselectedGroups=function(){var e=this.getGroups();e.forEach(function(e,t){var r=e.getLinks();if(r.length&&!e.getIsGroupSelected()){if(r[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(var i=0;i<r.length;i++){r[i].destroy()}}}})};u.prototype.addInvisibleAccessabilityTexts=function(){this.oTileText=new i("sapUshellDashboardAccessibilityTileText",{text:n.i18n.getText("tile")}).toStatic();var e=r.getLibraryResourceBundle("sap.m");if(e){this.oTileEditModeText=new i("sapUshellDashboardAccessibilityTileEditModeText",{text:e.getText("LIST_ITEM_NAVIGATION")}).toStatic()}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainerRenderer", ["sap/ushell/utils"],function(e){"use strict";var a={apiVersion:2};a.render=function(a,r){a.openStart("div",r);a.attr("data-sap-ui-customfastnavgroup","true");a.class("sapUshellDashboardGroupsContainer");if(r.getAccessibilityLabel()){a.accessibilityState(r,{role:"navigation",label:r.getAccessibilityLabel()})}a.openEnd();var s=r.getGroups();var t;for(var o=0;o<s.length;o++){t=s[o];a.openStart("div");a.class("sapUshellDashboardGroupsContainerItem");if(t.getIsGroupLocked()||t.getDefaultGroup()){a.class("sapUshellDisableDragAndDrop")}a.openEnd();a.renderControl(t);a.close("div")}a.close("div");e.setPerformanceMark("FLP -- dashboardgroupscontainer renderer")};return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ExtendedChangeDetection", ["sap/ui/base/ManagedObject","sap/ushell/Config"],function(e,t){"use strict";var i=e.extend("sap.ushell.ui.launchpad.ExtendedChangeDetection",{metadata:{library:"sap.ushell",events:{itemDeleted:{},itemAdded:{},itemsReordered:{}}},constructor:function(i,n,r){e.call(this);this._oAggregation=n.getMetadata().getAggregation(i);this._oControl=n;this._sAggregationName=i;this._aSiblingAggregationNames=r;var a=t.last("/core/spaces/extendedChangeDetection/enabled");if(a){this._oControl[this._oAggregation._sUpdater]=this._updateAggregation.bind(this);this._oControl.bUseExtendedChangeDetection=true}}});i.oUpdateFromSiblingCache={};i.prototype._updateAggregation=function(){var e=this._oControl.getBindingInfo(this._sAggregationName);var t=e.binding;var i=this._isUpdateFromSibling();var n=t.aLastContextData||[];var r=n.map(function(t){try{var i=JSON.parse(t);return i[e.key]}catch(e){return t}});var a=t.getContexts();var o=a.map(function(t){return t.getProperty(e.key)});var g=a.diff;var s;var d=[];var h=[];var l={};var f=false;var u=false;if(g){for(s=0;s<g.length;s++){var _=g[s];if(_.type==="insert"){d.push({item:o[_.index],index:_.index})}if(_.type==="delete"){h.push({item:r[_.index-d.length],index:_.index-d.length});r.splice(_.index-d.length,1)}}for(s=0;s<h.length;s++){l[h[s].item]=this._oControl.removeAggregation(this._sAggregationName,h[s].index,true)}for(s=0;s<d.length;s++){var p=d[s];var m=l[p.item];if(m&&!(g.length>=2&&g[0].index===g[1].index)){this._oControl.insertAggregation(this._sAggregationName,m,p.index,true);delete l[p.item]}else{this._createAndInsertItem(a[p.index],e,p.index);u=true}}f=!!Object.keys(l).length;for(var c in l){l[c].destroy();delete l[c]}}else if(!(i&&o.length===0&&r.length===0)){this._createAndInsertItems(a,e);u=true}else{return}this._updateBindingContexts(a);if(a.length===0){this._oControl.invalidate()}if(f){this.fireItemDeleted()}if(u){this.fireItemAdded()}if(!f&&!u&&g){this.fireItemsReordered()}if(g&&g.length&&!i){this._refreshSiblingBindings()}};i.prototype._isUpdateFromSibling=function(){var e=this._oControl.getId()+":"+this._sAggregationName;if(i.oUpdateFromSiblingCache[e]){delete i.oUpdateFromSiblingCache[e];return true}return false};i.prototype._refreshSiblingBindings=function(){if(this._aSiblingAggregationNames){for(var e=0;e<this._aSiblingAggregationNames.length;++e){var t=this._aSiblingAggregationNames[e];var n=this._oControl.getId()+":"+t;var r=this._oControl.getBinding(t);i.oUpdateFromSiblingCache[n]=true;r.refresh(true)}}};i.prototype._createAndInsertItems=function(e,t){this._oAggregation.destroy(this._oControl);for(var i=0;i<e.length;i++){this._createAndInsertItem(e[i],t,i)}};i.prototype._createAndInsertItem=function(e,t,i){var n=t.factory(null,e);this._oControl.insertAggregation(this._sAggregationName,n,i,true)};i.prototype._updateBindingContexts=function(e){var t=this._oAggregation.get(this._oControl);for(var i=0;i<t.length;i++){t[i].setBindingContext(e[i])}};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/FailedTileDialog", ["sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,i){"use strict";return function(){function t(e){if(!e){throw new Error("Could not find the Tile of the given control")}if(e.isA(["sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.LinkTileWrapper"])){return e}return t(e.getParent())}function o(e){if(!e){throw new Error("Could not find the Group of the given control")}if(e.isA("sap.ushell.ui.launchpad.TileContainer")){return e}return o(e.getParent())}function n(e){var i={};var n=t(e);if(n.getDebugInfo){var r=n.getDebugInfo();if(r){i=JSON.parse(r);i.debugInfo=r}}if(n.getTileCatalogId){var l=n.getTileCatalogId();if(l){i.chipId=decodeURIComponent(l)}}var a=o(e);var u=a.getBindingContext();if(u){var d=u.getProperty("object");if(d){i.groupId=d.getId()}}return i}this.openFor=function(t){function o(e){if(!e){throw new Error("Could not find the View of the given control")}return e.isA("sap.ui.core.mvc.View")?e:o(e.getParent())}var r=o(t);if(!r.oFailedTileDialog){return e.load({id:r.createId("failedTileDialogFragment"),name:"sap.ushell.ui.launchpad.FailedTileDialog",controller:this}).then(function(e){e.setModel(new i({}));e.bindObject({path:"/"});r.oFailedTileDialog=e;r.addDependent(r.oFailedTileDialog);this.openFor(t)}.bind(this))}var l=r.oFailedTileDialog.getModel();l.setProperty("/",n(t));l.setProperty("/showDetails",false);r.oFailedTileDialog.open();return Promise.resolve()};this.onShowDetails=function(e){e.getSource().getModel().setProperty("/showDetails",true)};this.onClose=function(e){e.getSource().getParent().close()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupHeaderActions", ["sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ushell/library"],function(t,e,o){"use strict";var n=e.ButtonType;var i=e.PlacementType;var r=o.extend("sap.ushell.ui.launchpad.GroupHeaderActions",{metadata:{library:"sap.ushell",properties:{isOverflow:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.openEnd();var o=e.getContent();if(e.getTileActionModeActive()){if(e.getIsOverflow()){var n=o.some(function(t){return t.getVisible()});if(n){t.renderControl(e._getOverflowButton())}}else{o.forEach(function(e){t.renderControl(e)})}}t.close("div")}}});r.prototype.exit=function(){if(this._oOverflowButton){this._oOverflowButton.destroy()}if(this._oActionSheet){this._oActionSheet.destroy()}};r.prototype._getOverflowButton=function(){if(!this._oOverflowButton){this._oOverflowButton=new t({icon:"sap-icon://overflow",type:n.Transparent,enabled:"{= !${/editTitle}}",press:function(){sap.ui.require(["sap/m/ActionSheet"],function(t){if(!this._oActionSheet){this._oActionSheet=new t({placement:i.Auto})}this._oActionSheet.destroyButtons();this.getContent().forEach(function(t){var e=t.clone();e.setModel(t.getModel());e.setBindingContext(t.getBindingContext());this._oActionSheet.addButton(e)}.bind(this));this._oActionSheet.openBy(this._oOverflowButton)}.bind(this))}.bind(this)}).addStyleClass("sapUshellHeaderActionButton");this._oOverflowButton.setParent(this)}return this._oOverflowButton};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItem", ["sap/m/ListItemBase","sap/ushell/library","sap/ushell/utils","./GroupListItemRenderer"],function(e,t,r,i){"use strict";var s=e.extend("sap.ushell.ui.launchpad.GroupListItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},show:{type:"boolean",group:"Misc",defaultValue:true},groupId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},numberOfTiles:{type:"int",group:"Misc",defaultValue:0},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true}},events:{press:{},afterRendering:{}}},renderer:i});s.prototype.exit=function(){e.prototype.exit.apply(this,arguments)};s.prototype.onAfterRendering=function(){this.fireAfterRendering()};s.prototype.groupHasVisibleTiles=function(){var e=this.getModel().getProperty("/groups/"+this.getIndex()+"/tiles");var t=this.getModel().getProperty("/groups/"+this.getIndex()+"/links");return r.groupHasVisibleTiles(e,t)};s.prototype.onclick=function(){this.firePress({id:this.getId()})};s.prototype.setGroupId=function(e){this.setProperty("groupId",e,true);return this};s.prototype.setTitle=function(e){this.setProperty("title",e);this.$().find(".sapMSLITitleOnly").text(e);return this};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItemRenderer", ["sap/m/ListItemBaseRenderer","sap/ui/core/Renderer"],function(e,s){"use strict";var t=s.extend(e);t.apiVersion=2;t.renderLIAttributes=function(e){e.class("sapUshellGroupLI");e.class("sapUshellGroupListItem")};t.renderLIContent=function(e,s){e.openStart("div",s);e.class("sapMSLIDiv");e.class("sapMSLITitleDiv");if(!s.getVisible()){e.style("display","none")}e.openEnd();e.openStart("div",s);e.class("sapMSLITitleOnly");e.openEnd();e.text(s.getTitle());e.close("div");e.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapper", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/ui/launchpad/AccessibilityCustomData","./LinkTileWrapperRenderer"],function(e,t,i,s,jQuery,o,l,a){"use strict";var r=i.extend("sap.ushell.ui.launchpad.LinkTileWrapper",{metadata:{library:"sap.ushell",properties:{uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},target:{type:"string",group:"Misc",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},debugInfo:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},footItems:{type:"sap.ui.core.Control",multiple:true,singularName:"footItem"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{}}},renderer:a});r.prototype.destroy=function(e){this.destroyTileViews();i.prototype.destroy.call(this,e)};r.prototype.addTileView=function(e,i){e.setParent(null);e.addCustomData(new l({key:"tabindex",value:"-1",writeToDom:true}));t.prototype.addAggregation.call(this,"tileViews",e,i)};r.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};r.prototype.onAfterRendering=function(){this.fireAfterRendering()};r.prototype.onclick=r.prototype._onPress;r.prototype.onsapenter=r.prototype._launchTileViaKeyboard;r.prototype.onsapspace=r.prototype._launchTileViaKeyboard;r.prototype._launchTileViaKeyboard=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");s.getEventBus().publish("launchpad","dashboardTileLinkClick");if(this.getTileActionModeActive()){return}else if(this._getTileState()==="Failed"){this._onFailedStatePress()}else if(t.target.tagName!=="BUTTON"){var i=this.getTileViews()[0],o=false;if(i.firePress){i.firePress()}else{while(i.getContent&&!o){i=i.getContent()[0];if(i.firePress){i.firePress();o=true}}}}};r.prototype._onPress=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");s.getEventBus().publish("launchpad","dashboardTileLinkClick");if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){this._onFailedStatePress()}};r.prototype._onFailedStatePress=function(){if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],function(e){this.FailedTileDialog=new e;this._onFailedStatePress()}.bind(this))}else{this.FailedTileDialog.openFor(this)}return}};r.prototype._getTileState=function(){var e=this.getTileViews();var t;for(var i=0;i<e.length&&!t;++i){if(e[i].isA("sap.m.GenericTile")){t=e[i]}}if(!t){throw new Error("Could not find the wrapped Tile")}return t.getState()};r.prototype.setVisible=function(e){this.setProperty("visible",e,true);return this.toggleStyleClass("sapUshellHidden",!e)};r.prototype.setAnimationRendered=function(e){this.setProperty("animationRendered",e,true)};r.prototype._handleTileShadow=function(e,t){if(e.length){e.unbind("mouseenter mouseleave");var i,s=e.css("border").split("px")[0],o=this.getModel();if(s>0){i=e.css("border-color")}else{i=this.getRgba()}e.hover(function(){if(!o.getProperty("/tileActionModeActive")){var t=jQuery(e).css("box-shadow"),s=t?t.split(") ")[1]:null,l;if(s){l=s+" "+i;jQuery(this).css("box-shadow",l)}}},function(){jQuery(this).css("box-shadow","")})}};r.prototype.setUuid=function(e){this.setProperty("uuid",e,true);return this};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapperRenderer", ["sap/base/Log","sap/m/GenericTile","sap/m/library","sap/ushell/resources"],function(e,a,t,i){"use strict";var l=t.GenericTileMode;var n=t.LoadState;var s={apiVersion:2};s.render=function(t,s){var r=null;var o=s.getModel();function d(){r=new a({header:i.i18n.getText("cannotLoadTile"),mode:l.LineMode,state:n.Failed})}try{r=s.getTileViews()[0]}catch(a){e.warning("Failed to load tile view: ",a.message);d()}if(!r){e.warning("Failed to load tile view: the control has no tileViews");d()}t.openStart("div",s);if(o&&o.getProperty("/enableHelp")){t.attr("data-help-id",s.getTileCatalogId());if(s.getTileCatalogIdStable()){t.attr("data-help-id2",s.getTileCatalogIdStable())}}t.class("sapUshellLinkTile");if(!s.getVisible()){t.class("sapUshellHidden")}if(s.getIsLocked()){t.class("sapUshellLockedTile")}t.attr("tabindex","-1");t.openEnd();t.renderControl(r);t.close("div")};return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Page", ["sap/m/Button","sap/m/library","sap/m/Menu","sap/m/MenuItem","sap/m/Text","sap/ui/core/Control","sap/ui/core/dnd/DragDropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ushell/library","sap/ushell/resources","./PageRenderer"],function(e,t,i,n,o,s,a,r,u,d,l,c){"use strict";var p=t.ButtonType;var g=u.TextAlign;var f=u.InvisibleMessageMode;var h=d.DisplayFormat;var v=s.extend("sap.ushell.ui.launchpad.Page",{metadata:{library:"sap.ushell",properties:{edit:{type:"boolean",group:"Misc",defaultValue:false},enableSectionReordering:{type:"boolean",group:"Misc",defaultValue:false},dataHelpId:{type:"string",group:"Misc",defaultValue:""},noSectionsText:{type:"string",group:"Misc",defaultValue:""},showNoSectionsText:{type:"boolean",group:"Misc",defaultValue:true},showTitle:{type:"boolean",group:"Misc",defaultValue:false},title:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"sections",aggregations:{sections:{type:"sap.ushell.ui.launchpad.Section",multiple:true,dnd:true},messageStrip:{type:"sap.m.MessageStrip",multiple:false},_addSectionButtons:{type:"sap.m.Button",multiple:true,visibility:"hidden"},_noSectionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{addSectionButtonPressed:{parameters:{index:{type:"int"}}},sectionDrop:{parameters:{draggedControl:{type:"sap.ushell.ui.launchpad.Section"},droppedControl:{type:"sap.ushell.ui.launchpad.Section"},dropPosition:{type:"string"}}}}},renderer:c});v.prototype.enhanceAccessibilityState=function(e,t){delete t.readonly};v.prototype.init=function(){this.setAggregation("_noSectionText",new o({text:l.i18n.getText("Page.NoSectionText"),width:"100%",textAlign:g.Center}));this._oDragDropInfo=new a({sourceAggregation:"sections",targetAggregation:"sections",dropPosition:"Between",dragStart:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},dragEnter:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},drop:function(e){this.fireSectionDrop(e.getParameters())}.bind(this)});this.addDelegate({onsappageup:this._handleKeyboardPageNavigation.bind(this),onsappagedown:this._handleKeyboardPageNavigation.bind(this),onsapdown:this._handleKeyboardArrowNavigation.bind(this,false),onsapdownmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsapup:this._handleKeyboardArrowNavigation.bind(this,false),onsapupmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsaphome:this._handleKeyboardHomeEndNavigation.bind(this),onsaphomemodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onsapend:this._handleKeyboardHomeEndNavigation.bind(this),onsapendmodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onfocusin:this._saveFocus.bind(this),onsapskipback:this._handleSkipBack.bind(this),onsapskipforward:this._handleSkipForward.bind(this),onBeforeFastNavigationFocus:this._handleBeforeFastNavigationFocus.bind(this)});this._oInvisibleMessageInstance=r.getInstance()};v.prototype._onSectionContextMenu=function(e,t){if(!this.getEdit()){return}for(let t=e.srcControl;!t.isA("sap.ushell.ui.launchpad.Section");t=t.getParent()){if(t.isA("sap.m.Input")||t.isA("sap.ushell.ui.launchpad.VizInstance")||t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){return}}function o(e){const i=this.getSections();const n=i.indexOf(t);const o=i[e?n-1:n+1];this.fireSectionDrop({draggedControl:t,droppedControl:o,dropPosition:e?"Before":"After"})}const s=this.getEnableSectionReordering();const a=this.getSections().filter(e=>!e.getDefault());const r=a.indexOf(t);const u=new i("sapUshellSectionContextMenu",{items:[new n({text:"{i18n>Page.MoveSection.Up}",enabled:s&&r>0,press:o.bind(this,true)}),new n({text:"{i18n>Page.MoveSection.Down}",enabled:s&&r!==-1&&r<a.length-1,press:o.bind(this,false)})],closed:function(){setTimeout(this.destroy.bind(this))}}).setModel(l.i18nModel,"i18n");this.addDependent(u);e.preventDefault();u.openAsContextMenu(e,t)};v.prototype._saveFocus=function(e){var t=e.srcControl;if(t.isA("sap.ushell.ui.launchpad.Section")){if(t){if(t.indexOfVisualization(this._oLastFocusedViz)===-1){this._oLastFocusedViz=t.getVisualizations()[0];this._oLastFocusedSection=this._oLastFocusedViz?undefined:t}}else{this._oLastFocusedViz=undefined;this._oLastFocusedSection=undefined}}else if(t.isA("sap.f.GridContainer")){var i=t.getItems();this._oLastFocusedViz=i.find(function(t){var i=t.getDomRef();return i&&i.parentNode===e.target})}else if(t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){this._oLastFocusedViz=t}};v.prototype._handleSkipBack=function(e){if(this.getEdit()){var t;var i=e.srcControl;if(i.isA("sap.f.GridContainer")||i.isA("sap.ushell.ui.launchpad.VizInstanceLink")){t=this._getAncestorSection(i)}if(t){e.preventDefault();t.focus()}}};v.prototype._handleSkipForward=function(e){var t,i;var n=e.srcControl;if(n.isA("sap.ushell.ui.launchpad.Section")){i=n}if(i){if(i.indexOfVisualization(this._oLastFocusedViz)!==-1){t=this._oLastFocusedViz}else{t=i.getAllItems()[0]}}if(t){e.preventDefault();this._focusVisualization(t)}};v.prototype._handleBeforeFastNavigationFocus=function(e){var t=this.getSections();var i=this.getEdit();if(i&&this._oLastFocusedSection){this._oLastFocusedSection.focus()}else if(i&&e.forward&&this._oLastFocusedViz){this._getAncestorSection(this._oLastFocusedViz).focus()}else if(this._oLastFocusedViz&&this._oLastFocusedViz.getDomRef()){this._focusVisualization(this._oLastFocusedViz)}else if(i&&e.forward&&t.length>0){this._getFirstVisibleSection().focus()}else if(i&&!e.forward&&t.length>0){var n=t[0];if(n.getAllItems().length===0){n.focus()}else{this._focusVisualization(n.getAllItems()[0])}}else{var o=t.find(function(e){return e.getDomRef()&&e.getAllItems().length>0});this._focusVisualization(o.getAllItems()[0])}e.preventDefault()};v.prototype._getAncestorSection=function(e){if(!e){return null}if(e.isA("sap.ushell.ui.launchpad.Section")){return e}else if(e.getParent){return this._getAncestorSection(e.getParent())}return null};v.prototype.exit=function(){this._oDragDropInfo.destroy()};v.prototype.onBeforeRendering=function(){var t=this.getSections().length;var i=this.getAggregation("_addSectionButtons")||[];var n;for(var o=i.length;o<t+1;o++){n=new e({type:p.Transparent,icon:"sap-icon://add",text:l.i18n.getText("Page.Button.AddSection"),press:this.fireAddSectionButtonPressed.bind(this,{index:o})});n.addStyleClass("sapUshellPageAddSectionButton");this.addAggregation("_addSectionButtons",n)}};v.prototype.getFocusDomRef=function(){var e=this.getAggregation("_addSectionButtons")||[];if(!this.getSections().length&&e.length&&this.getEdit()){return e[0].getFocusDomRef()}return this.getDomRef()};v.prototype.setEnableSectionReordering=function(e){if(e===undefined||this.getEnableSectionReordering()===e){return this}this.setProperty("enableSectionReordering",!!e,true);if(e){this.addDragDropConfig(this._oDragDropInfo)}else{this.removeDragDropConfig(this._oDragDropInfo)}return this};v.prototype.setNoSectionsText=function(e){if(e===undefined||this.getNoSectionsText()===e){return this}this.setProperty("noSectionsText",e,true);var t=this.getAggregation("_noSectionText");t.setText(e||l.i18n.getText("Page.NoSectionText"));return this};v.prototype._focusVisualization=function(e){if(!e){return}else if(e.isA("sap.ushell.ui.launchpad.VizInstanceLink")){e.focus()}else{e.getDomRef().parentElement.focus()}};v.prototype._focusNextVisualization=function(e){var t=this.getSections();var i=this.indexOfSection(e.section);var n=e.event.getParameter?e.event.getParameter("event"):e.event;var o=n.target.firstElementChild;var s,a;while(true){if(e.direction==="up"){i--}else{i++}s=t[i];if(!s){return}a=s.focusVisualization({keycode:n.keyCode,ref:o});if(a){n.preventDefault();return}}};v.prototype._handleKeyboardPageNavigation=function(e){if(this._isFocusInInput()){return}var t=this.getSections();for(var i=0;i<t.length;i++){var n=t[i].getDomRef();if(n.contains(window.document.activeElement)){this._focusNextVisualization({event:e,section:t[i],direction:e.type==="sappagedown"?"down":"up",prefIndex:0});return}}};v.prototype._handleKeyboardArrowNavigation=function(e,t){if(e&&!this.getEnableSectionReordering()||e&&!t.ctrlKey){return}var i=this.getSections();var n,o,s;for(var a=0;a<i.length;a++){n=i[a-1];o=i[a];s=i[a+1];if(window.document.activeElement===o.getFocusDomRef()){if(t.type==="sapup"&&n){n.focus()}else if(t.type==="sapdown"&&s){s.focus()}else if(t.type==="sapupmodifiers"&&n){if(n.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:n,dropPosition:"Before"});t.preventDefault();t.stopPropagation()}else if(t.type==="sapdownmodifiers"&&s){if(o.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:s,dropPosition:"After"});t.preventDefault();t.stopPropagation()}return}}};v.prototype._isFocusInInput=function(){var e=(document.activeElement||{}).tagName;return e==="INPUT"||e==="TEXTAREA"};v.prototype._handleKeyboardHomeEndNavigation=function(e){if(this._isFocusInInput()){return}var t,i;var n=false;if(e.type==="saphome"){i=this._getSectionAreaItems(e.srcControl)}else if(e.type==="saphomemodifiers"){t=this._getFirstVisibleSection(true)}else if(e.type==="sapend"){i=this._getSectionAreaItems(e.srcControl);n=true}else if(e.type==="sapendmodifiers"){t=this._getLastVisibleSection(true);n=true}if(t){i=t.getAllItems()}if(n){this._focusVisualization(i[i.length-1])}else{this._focusVisualization(i[0])}e.preventDefault();e.stopPropagation()};v.prototype._getFirstVisibleSection=function(e){var t=this.getSections();return t.find(function(t){return this._isSectionVisible(t,e)}.bind(this))};v.prototype._getLastVisibleSection=function(e){var t=this.getSections().reverse();return t.find(function(t){return this._isSectionVisible(t,e)}.bind(this))};v.prototype._isSectionVisible=function(e,t){var i=t?false:this.getEdit();return i||e.getVisualizations().length>0&&e.getDomRef()&&e.getShowSection()};v.prototype._getSectionAreaItems=function(e){var t,i;var n=e.getBindingContext();if(n){i=n.getProperty("displayFormatHint")}var o=this.getSections();var s=o.find(function(t){var i=t.getDomRef();return i&&i.contains(e.getDomRef())});if(s){switch(i){case h.Compact:return s.getCompactItems();case h.Standard:case h.StandardWide:return s.getDefaultItems();case h.Flat:case h.FlatWide:return s.getFlatItems();default:t=s.getDefaultItems();if(t.length>0){return t}t=s.getFlatItems();if(t.length>0){return t}t=s.getCompactItems();return t}}return[]};v.prototype._handleSectionBorderReached=function(e){this._focusNextVisualization(e.getParameters())};v.prototype.addAggregation=function(e,t){s.prototype.addAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));t.addEventDelegate({oncontextmenu:e=>{this._onSectionContextMenu(e,t)}})}return this};v.prototype.insertAggregation=function(e,t){s.prototype.insertAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));t.addEventDelegate({oncontextmenu:e=>{this._onSectionContextMenu(e,t)}})}return this};v.prototype.announceMove=function(){var e=l.i18n.getText("PageRuntime.Message.SectionMoved");this._oInvisibleMessageInstance.announce(e,f.Polite)};return v});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PageRenderer", [],function(){"use strict";var t={apiVersion:2};t.render=function(t,e){const o=e.getSections().filter(t=>e.getEdit()||t.getShowSection()&&t.getVisible());const i=o.length;const n=e.getDataHelpId();const a=e.getTitle();t.openStart("div",e);t.class("sapUshellPage");t.class("sapContrastPlus");t.attr("role","region");t.attr("aria-label",a);t.attr("data-sap-ui-customfastnavgroup","true");if(n){t.attr("data-help-id",n)}t.openEnd();if(e.getEdit()&&e.getAggregation("messageStrip")){t.renderControl(e.getAggregation("messageStrip"))}t.openStart("h2",e.getId()+"-title");t.class("sapMTitle");t.class("sapUshellPageTitle");if(!e.getShowTitle()){t.class("sapUiPseudoInvisibleText")}t.attr("aria-level","2");t.openEnd();t.text(a);t.close("h2");if(e.getEdit()&&!i){t.renderControl(e.getAggregation("_addSectionButtons")[0])}if(!i&&e.getShowNoSectionsText()){t.renderControl(e.getAggregation("_noSectionText"))}let s;let r;for(s=0;s<i;s++){r=o[s];t.openStart("div");t.class("sapUshellPageSection");t.openEnd();t.renderControl(r);if(e.getEdit()){t.renderControl(e.getAggregation("_addSectionButtons")[s+1])}t.close("div")}t.close("div")};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTile", ["sap/ui/core/Icon","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTileRenderer","sap/ushell/ui/launchpad/Tile"],function(e,t,o,i,n){"use strict";var s=n.extend("sap.ushell.ui.launchpad.PlusTile",{metadata:{library:"sap.ushell",properties:{groupId:{type:"string",group:"Misc",defaultValue:""},enableHelp:{type:"boolean",group:"Misc",defaultValue:false}},events:{press:{}}},renderer:i});s.prototype.init=function(){this.oIcon=new e({src:"sap-icon://add",tooltip:o.i18n.getText("openAppFinder_tooltip")})};s.prototype.exit=function(){if(this.oIcon){this.oIcon.destroy()}};s.prototype.onclick=function(){var e=this.getParent().getBindingContext().getObject();if(!e.object){return}this.firePress()};s.prototype.onsapspace=s.onclick;s.prototype.onsapenter=s.onclick;return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTileRenderer", ["sap/ushell/resources","sap/ushell/Config"],function(l,s){"use strict";var e={apiVersion:2,render:function(e,a){e.openStart("li",a);e.attr("tabindex","-1");e.class("sapUshellTile");e.class("sapUshellPlusTile");e.class("sapContrastPlus");e.class("sapMGT");if(s.last("/core/home/sizeBehavior")==="Small"){e.class("sapUshellSmall")}if(a.getEnableHelp()){e.class("help-id-plusTile")}e.attr("aria-label",l.i18n.getText("TilePlus_label"));e.openEnd();e.renderControl(a.oIcon);e.close("li")}};return e},true);
//Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Section", ["sap/base/Log","sap/base/util/deepClone","sap/f/dnd/GridDropInfo","sap/f/GridContainer","sap/f/GridContainerItemLayoutData","sap/f/GridContainerSettings","sap/m/Button","sap/m/Input","sap/m/Label","sap/m/library","sap/m/Text","sap/m/Title","sap/m/ToolbarSpacer","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/dnd/DragInfo","sap/ui/core/dnd/DropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/events/KeyCodes","sap/ui/model/Filter","sap/ushell/resources","sap/ushell/ui/launchpad/ExtendedChangeDetection","sap/ushell/library","sap/ushell/ui/launchpad/section/CompactArea","sap/ui/core/Element","sap/ushell/ui/launchpad/SectionRenderer"],function(t,e,i,a,r,o,n,s,g,l,u,p,d,h,f,c,y,m,A,S,b,C,v,z,_,w,L,V,D,G){"use strict";var R=l.ButtonType;var I=l.OverflowToolbarPriority;var x=l.TileSizeBehavior;var E=C.dnd.DropLayout;var T=C.dnd.DropPosition;var B=C.InvisibleMessageMode;var P=C.TextAlign;var F=C.TitleLevel;var X=L.DisplayFormat;function M(t,e,i){if(!Array.isArray(e)||!e.length){return null}if(t&&t.getDomRef){t=t.getDomRef()}if(!t){return e[i?e.length-1:0]}function a(t,e){var i=t.left+t.right-e.left-e.right;var a=t.top+t.bottom-e.top-e.bottom;return i*i+a*a}function r(t){var e=t.querySelector(".sapMGTLineStyleHelper");return(e||t).getBoundingClientRect()}var o=r(t);var n=null;var s=0;var g;var l;var u;for(var p=e.length-1;p>=0;p--){l=e[p].getDomRef();if(l){g=r(l);if(!g.width&&!g.height){continue}if(i&&g.top>=o.top||!i&&g.bottom<=o.bottom){continue}u=a(g,o);if(!n||u<s){n=e[p];s=u}}}return n}var N=c.extend("sap.ushell.ui.launchpad.Section",{metadata:{library:"sap.ushell",properties:{dataHelpId:{type:"string",group:"Misc",defaultValue:""},ariaLabel:{type:"string",group:"Misc",defaultValue:""},default:{type:"boolean",group:"Misc",defaultValue:false},editable:{type:"boolean",group:"Misc",defaultValue:false},enableAddButton:{type:"boolean",group:"Behavior",defaultValue:true},enableDeleteButton:{type:"boolean",group:"Behavior",defaultValue:true},enableGridBreakpoints:{type:"boolean",group:"Appearance",defaultValue:false},enableGridContainerQuery:{type:"boolean",group:"Appearance",defaultValue:false},enableResetButton:{type:"boolean",group:"Behavior",defaultValue:true},enableShowHideButton:{type:"boolean",group:"Behavior",defaultValue:true},enableVisualizationReordering:{type:"boolean",group:"Behavior",defaultValue:false},gridContainerGap:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapM:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerRowSize:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXS:{type:"string",group:"Appearance",defaultValue:"4.375rem"},gridContainerRowSizeS:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeM:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},noVisualizationsText:{type:"string",group:"Appearance",defaultValue:_.i18n.getText("Section.NoVisualizationsText")},title:{type:"string",group:"Appearance",defaultValue:""},showNoVisualizationsText:{type:"boolean",group:"Behavior",defaultValue:false},showSection:{type:"boolean",group:"Misc",defaultValue:true},showLinks:{type:"boolean",group:"Behavior",defaultValue:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",group:"Misc",defaultValue:x.Responsive}},defaultAggregation:"visualizations",aggregations:{visualizations:{type:"sap.ui.core.Control",bindable:"bindable",multiple:true},defaultItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-defaultArea",aggregation:"items",forwardBinding:false},dnd:true},flatItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-flatArea",aggregation:"items",forwardBinding:false},dnd:true},compactItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-compactArea",aggregation:"items",forwardBinding:false},dnd:true},_title:{type:"sap.m.Title",multiple:false,hidden:true},_header:{type:"sap.m.OverflowToolbar",multiple:false,hidden:true},_noVisualizationsText:{type:"sap.m.Text",multiple:false,hidden:true},_defaultArea:{type:"sap.f.GridContainer",multiple:false,hidden:true},_flatArea:{type:"sap.f.GridContainer",multiple:false,hidden:true},_compactArea:{type:"sap.ushell.ui.launchpad.section.CompactArea",multiple:false,hidden:true}},events:{add:{},delete:{},reset:{},titleChange:{},visualizationDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}},areaDragEnter:{parameters:{originalEvent:{type:"sap.ui.base.Event"},dragControl:{type:"sap.ui.core.Control"},sourceArea:{type:"string"},targetArea:{type:"string"}}},sectionVisibilityChange:{parameters:{visible:{type:"boolean"}}},borderReached:{parameters:{event:{type:"jQuery.Event"}}}}},renderer:G,resourceModel:_.i18nModel});function k(e){for(var i in X){if(e.displayFormatHint===X[i]){return X[i]}}if(e.displayFormatHint&&e.displayFormatHint!=="tile"){t.error("DisplayFormat '"+e.displayFormatHint+"' not valid - 'standard' is used")}return X.Standard}function O(){return new z({path:"",caseSensitive:true,test:function(t){var e=k(t);return e===X.Standard||e===X.StandardWide}})}function H(){return new z({path:"",caseSensitive:true,test:function(t){var e=k(t);return e===X.Flat||e===X.FlatWide}})}function W(){return new z({path:"",caseSensitive:true,test:function(t){return k(t)===X.Compact}})}N.prototype.bindAggregation=function(i,a){if(i==="visualizations"){if(a.filters){t.error("bind visualizations with pre-existing filters is not implemented.")}var r=e(a);r.filters=O();c.prototype.bindAggregation.call(this,"defaultItems",r);var o=e(a);o.filters=H();c.prototype.bindAggregation.call(this,"flatItems",o);var n=e(a);n.filters=W();c.prototype.bindAggregation.call(this,"compactItems",n)}else{c.prototype.bindAggregation.call(this,i,a)}return this};N.prototype.getAllItems=function(){return this.getDefaultItems().concat(this.getFlatItems(),this.getCompactItems())};N.prototype.getVisualizations=function(){var t=this.getAllItems();t.sort(function(e,i){var a=e.getBindingContext().getPath();var r=parseInt(a.split("/").pop(),10);a=i.getBindingContext().getPath();var o=parseInt(a.split("/").pop(),10);if(r===o){r=t.indexOf(e);o=t.indexOf(i)}return r<o?-1:1});return t};N.prototype.filterVisualizations=function(t){var e=t?new z({filters:[O(),t],and:true}):O();var i=t?new z({filters:[H(),t],and:true}):H();var a=t?new z({filters:[W(),t],and:true}):W();this.getBinding("defaultItems").filter(e);this.getBinding("flatItems").filter(i);this.getBinding("compactItems").filter(a)};N.prototype.indexOfVisualization=function(t){return this.getVisualizations().indexOf(t)};N.prototype.addVisualization=function(e,i){t.error("Section.prototype.addVisualization should not be called");return this.addAggregation("visualizations",e,i)};N.prototype.insertVisualization=function(e,i,a){t.error("Section.prototype.insertVisualization should not be called");return this.insertAggregation("visualizations",e,i,a)};N.prototype.removeVisualization=function(e,i){t.error("Section.prototype.removeVisualization should not be called");return this.removeAggregation("visualizations",e,i)};N.prototype.onBorderReached=function(t){var e;var i=t.getParameter("event");var a=i.keyCode;var r=i.type;var o=D.closestTo(i.target.firstElementChild);switch(a){case v.ARROW_UP:e=this.getClosestVizualization(o,true);break;case v.ARROW_DOWN:e=this.getClosestVizualization(o,false);break;case v.ARROW_LEFT:e=this._getPreviousViz(o);break;case v.ARROW_RIGHT:e=this._getNextViz(o);break;default:return}if(e){this._focusItem(this.getItemPosition(e));i.preventDefault()}else{this.fireBorderReached({event:t,section:this,direction:r==="sapnext"?"down":"up"})}};N.prototype._getNextViz=function(t){var e=this.getAllItems();var i=e.indexOf(t);return i===-1?e[0]:e[i+1]};N.prototype._getPreviousViz=function(t){var e=this.getAllItems();var i=e.indexOf(t);return i===-1?e[e.length-1]:e[i-1]};N.prototype.handleEmptyContentAreas=function(){var t=!!this.getDefaultItems().length;var e=!!this.getFlatItems().length;var i=!!this.getCompactItems().length;var a=!t&&!i&&!e;this.toggleStyleClass("sapUshellSectionNoVisualizations",a);this.getAggregation("_defaultArea").toggleStyleClass("sapUshellSectionDefaultArea",t);this.getAggregation("_flatArea").toggleStyleClass("sapUshellSectionFlatArea",e);if(!t){this._removeTabIndexFromGridContainer(this.getAggregation("_defaultArea"))}if(!e){this._removeTabIndexFromGridContainer(this.getAggregation("_flatArea"))}var r=this.getDomRef();if(r){if(this.getEditable()&&this.getShowNoVisualizationsText()&&a){r.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{r.removeAttribute("aria-describedBy")}}};N.prototype._removeTabIndexFromGridContainer=function(t){var e=t.getFocusDomRef();if(e){e.setAttribute("tabindex","-1");for(var i=0;i<e.children.length;++i){e.children[i].setAttribute("tabindex","-1")}}};N.prototype.init=function(){this.setAggregation("_title",new p({text:this.getTitle(),level:F.H3,visible:!this.getEditable()&&this.getShowSection()}).addStyleClass("sapUshellSectionTitle sapContrastPlus"));this._initHeaderAggregation();this.setAggregation("_noVisualizationsText",new u({text:this.getNoVisualizationsText(),textAlign:P.Center,visible:this.getEditable()&&this.getShowNoVisualizationsText()}).addStyleClass("sapUshellSectionNoVisualizationsText"));this._initGridContainerAggregation();this._initGridContainerAggregation(true);this._initCompactAreaAggregation(true);this._oInvisibleMessageInstance=b.getInstance();this._oDefaultItemsChangeDetection=new w("defaultItems",this,["flatItems","compactItems"]);this._oFlatItemsChangeDetection=new w("flatItems",this,["defaultItems","compactItems"]);this._oCompactItemsChangeDetection=new w("compactItems",this,["defaultItems","flatItems"]);this._fnGlobalDragStart=function(){var t=this.getAggregation("_flatArea").getDragDropConfig();var e=this.getAggregation("_compactArea").getDragDropConfig();t[0].setGroupName("Section");t[1].setGroupName("Section");e[0].setGroupName("Section");e[1].setGroupName("Section");e[2].setGroupName("Section")}.bind(this);this._fnGlobalDragEnd=function(){var t=this.getAggregation("_flatArea").getDragDropConfig();var e=this.getAggregation("_compactArea").getDragDropConfig();t[0].setGroupName("FlatArea");t[1].setGroupName("FlatArea");e[0].setGroupName("CompactArea");e[1].setGroupName("CompactArea");e[2].setGroupName("CompactArea")}.bind(this);document.addEventListener("dragstart",this._fnGlobalDragStart,false);document.addEventListener("dragend",this._fnGlobalDragEnd,false)};N.prototype._initHeaderAggregation=function(){var t=this.getTitle();var e=this.getDefault();var i=new s({maxLength:100,placeholder:_.i18n.getText("Section.TitlePlaceholder"),value:t,valueLiveUpdate:true,visible:!e,change:function(t){this.setTitle(t.getParameter("value"));this.fireTitleChange()}.bind(this),layoutData:new f({priority:I.NeverOverflow,shrinkable:true,minWidth:"9rem",maxWidth:"40rem"})});this.setAggregation("_header",new h({content:[new u({text:t,visible:e,layoutData:new f({priority:I.NeverOverflow})}),new g({text:_.i18n.getText("Section.Label.Title"),labelFor:i.getId(),showColon:true,visible:!e,layoutData:new f({priority:I.NeverOverflow})}),i,new d,new n({text:_.i18n.getText("Section.Button.AddVisualization"),type:R.Transparent,press:this.fireAdd.bind(this,{section:this}),visible:this.getEnableAddButton()&&!e}),new n({text:this.getShowSection()?_.i18n.getText("Section.Button.Hide"):_.i18n.getText("Section.Button.Show"),type:R.Transparent,press:function(){var t=!this.getShowSection();var e=m.getResourceBundleFor("sap.m");this._oInvisibleMessageInstance.announce([_.i18n.getText(t?"Section.nowBeingShown":"Section.nowBeingHidden"),_.i18n.getText("Section.ButtonLabelChanged"),_.i18n.getText(t?"Section.Button.Hide":"Section.Button.Show"),e.getText("ACC_CTR_TYPE_BUTTON")].join(" "),B.Polite);this.setShowSection(t);this.fireSectionVisibilityChange({visible:t})}.bind(this),visible:this.getEnableShowHideButton()&&!e}),new n({text:_.i18n.getText("Section.Button.Reset"),type:R.Transparent,press:this.fireReset.bind(this),visible:this.getEnableResetButton()&&!e}),new n({text:_.i18n.getText("Section.Button.Delete"),type:R.Transparent,press:this.fireDelete.bind(this),visible:this.getEnableDeleteButton()&&!e})],visible:this.getEditable()}).addStyleClass("sapUshellSectionHeader"))};N.prototype._initGridContainerAggregation=function(t){var e=new a({id:this.getId()+(t?"-flatArea":"-defaultArea"),containerQuery:this.getEnableGridContainerQuery(),minHeight:"0",visible:this.getEditable()||this.getShowSection(),customData:[new y({key:"default",value:this.getDefault()}),new y({key:"area",value:t?X.Flat:X.Standard})],layout:new o({rowSize:this.getGridContainerRowSize(),columnSize:this.getGridContainerRowSize(),gap:this.getGridContainerGap()}),layoutXS:new o({columns:0,rowSize:this.getGridContainerRowSizeXS(),columnSize:this.getGridContainerRowSizeXS(),gap:this.getGridContainerGapXS()}),layoutS:new o({columns:0,rowSize:this.getGridContainerRowSizeS(),columnSize:this.getGridContainerRowSizeS(),gap:this.getGridContainerGapS()}),layoutM:new o({columns:0,rowSize:this.getGridContainerRowSizeM(),columnSize:this.getGridContainerRowSizeM(),gap:this.getGridContainerGapM()}),layoutL:new o({columns:0,rowSize:this.getGridContainerRowSizeL(),columnSize:this.getGridContainerRowSizeL(),gap:this.getGridContainerGapL()}),layoutXL:new o({columns:0,rowSize:this.getGridContainerRowSizeXL(),columnSize:this.getGridContainerRowSizeXL(),gap:this.getGridContainerGapXL()}),dragDropConfig:[new A({enabled:this.getEnableVisualizationReordering(),groupName:t?"flatArea":"Section",sourceAggregation:"items"}),new i({enabled:this.getEnableVisualizationReordering(),groupName:t?"flatArea":"Section",dropLayout:E.Horizontal,dropPosition:T.Between,targetAggregation:"items",dropIndicatorSize:t?this._getFlatDropIndicatorSize.bind(this):this._getDefaultDropIndicatorSize.bind(this),dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)})]}).addStyleClass("sapUshellSectionGridContainer");if(this.getEnableGridBreakpoints()){var r=this.getSizeBehavior()==="Small";e.getLayoutXS().setColumns(4);e.getLayoutS().setColumns(4);e.getLayoutM().setColumns(6);e.getLayoutL().setColumns(r?12:10);e.getLayoutXL().setColumns(r?16:14)}e.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});e.attachBorderReached(this.onBorderReached.bind(this));this.setAggregation(t?"_flatArea":"_defaultArea",e)};N.prototype._initCompactAreaAggregation=function(){var t=new V({id:this.getId()+"-compactArea",enableLinkReordering:this.getEnableVisualizationReordering(),itemDrop:this._reorderVisualizations.bind(this),customData:[new y({key:"default",value:this.getDefault()}),new y({key:"area",value:X.Compact})],dragDropConfig:[new A({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",sourceAggregation:"items"}),new S({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",dropLayout:E.Horizontal,dropPosition:T.Between,targetAggregation:"items",dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)}),new S({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)})]}).addStyleClass("sapUshellSectionGridContainer");t.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});t.attachBorderReached(this.onBorderReached.bind(this));this.setAggregation("_compactArea",t)};N.prototype.setDefault=function(t){this.setProperty("default",t,true);var e=this.getAggregation("_header").getContent();e[0].setVisible(t);e[1].setVisible(!t);e[2].setVisible(!t);e[4].setVisible(this.getEnableAddButton()&&!t);e[5].setVisible(this.getEnableShowHideButton()&&!t);e[6].setVisible(this.getEnableResetButton()&&!t);e[7].setVisible(this.getEnableDeleteButton()&&!t);this.getAggregation("_defaultArea").getCustomData()[0].setValue(t);this.getAggregation("_flatArea").getCustomData()[0].setValue(t);this.getAggregation("_compactArea").getCustomData()[0].setValue(t);return this};N.prototype.setEditable=function(t){if(t===undefined||this.getEditable()===t){return this}this.setProperty("editable",t,true);this.toggleStyleClass("sapUshellSectionEdit",t);this.getAggregation("_title").setVisible(!t&&this.getShowSection());this.getAggregation("_header").setVisible(t);this.getAggregation("_noVisualizationsText").setVisible(t&&this.getShowNoVisualizationsText());this.getAggregation("_defaultArea").setVisible(t||this.getShowSection());this.getAggregation("_flatArea").setVisible(t||this.getShowSection());this.getAggregation("_compactArea").setVisible(t||this.getShowSection());var e=this.getDomRef();if(e){if(t){e.setAttribute("tabindex","0");if(this.getShowNoVisualizationsText()){e.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{e.removeAttribute("aria-describedBy")}}else{e.removeAttribute("tabindex")}}return this};N.prototype.setEnableAddButton=function(t){this.setProperty("enableAddButton",t,true);this.getAggregation("_header").getContent()[4].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableDeleteButton=function(t){this.setProperty("enableDeleteButton",t,true);this.getAggregation("_header").getContent()[7].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableGridBreakpoints=function(t){this.setProperty("enableGridBreakpoints",t,true);var e=this.getAggregation("_defaultArea");var i=this.getAggregation("_flatArea");if(t){var a=this.getSizeBehavior()==="Small";e.getLayoutXS().setColumns(4);e.getLayoutS().setColumns(4);e.getLayoutM().setColumns(6);e.getLayoutL().setColumns(a?12:10);e.getLayoutXL().setColumns(a?16:14);i.getLayoutXS().setColumns(4);i.getLayoutS().setColumns(4);i.getLayoutM().setColumns(6);i.getLayoutL().setColumns(a?12:10);i.getLayoutXL().setColumns(a?16:14)}else{e.getLayoutXS().setColumns(0);e.getLayoutS().setColumns(0);e.getLayoutM().setColumns(0);e.getLayoutL().setColumns(0);e.getLayoutXL().setColumns(0);i.getLayoutXS().setColumns(0);i.getLayoutS().setColumns(0);i.getLayoutM().setColumns(0);i.getLayoutL().setColumns(0);i.getLayoutXL().setColumns(0)}return this};N.prototype.setEnableGridContainerQuery=function(t){this.setProperty("enableGridContainerQuery",t,true);this.getAggregation("_defaultArea").setContainerQuery(t);this.getAggregation("_flatArea").setContainerQuery(t);return this};N.prototype.setEnableResetButton=function(t){this.setProperty("enableResetButton",t,true);this.getAggregation("_header").getContent()[6].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableShowHideButton=function(t){this.setProperty("enableShowHideButton",t,true);this.getAggregation("_header").getContent()[5].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableVisualizationReordering=function(t){this.setProperty("enableVisualizationReordering",t,true);var e=this.getAggregation("_compactArea");var i=this.getAggregation("_defaultArea").getDragDropConfig();var a=this.getAggregation("_flatArea").getDragDropConfig();var r=e.getDragDropConfig();e.setEnableLinkReordering(t);i[0].setEnabled(t);i[1].setEnabled(t);a[0].setEnabled(t);a[1].setEnabled(t);r[0].setEnabled(t);r[1].setEnabled(t);r[2].setEnabled(t);return this};N.prototype.setGridContainerGap=function(t){this.setProperty("gridContainerGap",t,true);this.getAggregation("_defaultArea").getLayout().setGap(t);this.getAggregation("_flatArea").getLayout().setGap(t);return this};N.prototype.setGridContainerGapXS=function(t){this.setProperty("gridContainerGapXS",t,true);this.getAggregation("_defaultArea").getLayoutXS().setGap(t);this.getAggregation("_flatArea").getLayoutXS().setGap(t);return this};N.prototype.setGridContainerGapS=function(t){this.setProperty("gridContainerGapS",t,true);this.getAggregation("_defaultArea").getLayoutS().setGap(t);this.getAggregation("_flatArea").getLayoutS().setGap(t);return this};N.prototype.setGridContainerGapM=function(t){this.setProperty("gridContainerGapM",t,true);this.getAggregation("_defaultArea").getLayoutM().setGap(t);this.getAggregation("_flatArea").getLayoutM().setGap(t);return this};N.prototype.setGridContainerGapL=function(t){this.setProperty("gridContainerGapL",t,true);this.getAggregation("_defaultArea").getLayoutL().setGap(t);this.getAggregation("_flatArea").getLayoutL().setGap(t);return this};N.prototype.setGridContainerGapXL=function(t){this.setProperty("gridContainerGapXL",t,true);this.getAggregation("_defaultArea").getLayoutXL().setGap(t);this.getAggregation("_flatArea").getLayoutXL().setGap(t);return this};N.prototype.setGridContainerRowSize=function(t){this.setProperty("gridContainerRowSize",t,true);var e=this.getAggregation("_defaultArea");var i=this.getAggregation("_flatArea");e.getLayout().setRowSize(t);e.getLayout().setColumnSize(t);i.getLayout().setRowSize(t);i.getLayout().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeXS=function(t){this.setProperty("gridContainerRowSizeXS",t,true);var e=this.getAggregation("_defaultArea");var i=this.getAggregation("_flatArea");e.getLayoutXS().setRowSize(t);e.getLayoutXS().setColumnSize(t);i.getLayoutXS().setRowSize(t);i.getLayoutXS().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeS=function(t){this.setProperty("gridContainerRowSizeS",t,true);var e=this.getAggregation("_defaultArea");var i=this.getAggregation("_flatArea");e.getLayoutS().setRowSize(t);e.getLayoutS().setColumnSize(t);i.getLayoutS().setRowSize(t);i.getLayoutS().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeM=function(t){this.setProperty("gridContainerRowSizeM",t,true);var e=this.getAggregation("_defaultArea");var i=this.getAggregation("_flatArea");e.getLayoutM().setRowSize(t);e.getLayoutM().setColumnSize(t);i.getLayoutM().setRowSize(t);i.getLayoutM().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeL=function(t){this.setProperty("gridContainerRowSizeL",t,true);var e=this.getAggregation("_defaultArea");var i=this.getAggregation("_flatArea");e.getLayoutL().setRowSize(t);e.getLayoutL().setColumnSize(t);i.getLayoutL().setRowSize(t);i.getLayoutL().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeXL=function(t){this.setProperty("gridContainerRowSizeXL",t,true);var e=this.getAggregation("_defaultArea");var i=this.getAggregation("_flatArea");e.getLayoutXL().setRowSize(t);e.getLayoutXL().setColumnSize(t);i.getLayoutXL().setRowSize(t);i.getLayoutXL().setColumnSize(t);return this};N.prototype.setNoVisualizationsText=function(t){this.setProperty("noVisualizationsText",t,true);this.getAggregation("_noVisualizationsText").setText(t);return this};N.prototype.setTitle=function(t){this.setProperty("title",t,true);this.getAggregation("_title").setText(t);this.getAggregation("_header").getContent()[0].setText(t);this.getAggregation("_header").getContent()[2].setValue(t);var e=this.getDomRef();if(e){e.setAttribute("aria-label",this.getAriaLabel())}return this};N.prototype.setShowNoVisualizationsText=function(t){this.setProperty("showNoVisualizationsText",t,true);this.getAggregation("_noVisualizationsText").setVisible(this.getEditable()&&t);var e=this.getDomRef();if(e){if(this.getEditable()&&t){e.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{e.removeAttribute("aria-describedBy")}}return this};N.prototype.setShowSection=function(t){if(t===undefined||this.getShowSection()===t){return this}this.setProperty("showSection",t,true);this.toggleStyleClass("sapUshellSectionHidden",!t);this.getAggregation("_title").setVisible(!this.getEditable()&&t);this.getAggregation("_defaultArea").setVisible(this.getEditable()||t);this.getAggregation("_flatArea").setVisible(this.getEditable()||t);this.getAggregation("_compactArea").setVisible(this.getEditable()||t);this.getAggregation("_header").getContent()[5].setText(t?_.i18n.getText("Section.Button.Hide"):_.i18n.getText("Section.Button.Show"));return this};N.prototype.setSizeBehavior=function(t){this.setProperty("sizeBehavior",t,true);if(this.getEnableGridBreakpoints()){var e=this.getAggregation("_defaultArea");var i=this.getAggregation("_flatArea");e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14);i.getLayoutL().setColumns(t?12:10);i.getLayoutXL().setColumns(t?16:14)}return this};N.prototype.destroy=function(){c.prototype.destroy.apply(this,arguments);this._oDefaultItemsChangeDetection.destroy();this._oFlatItemsChangeDetection.destroy();this._oCompactItemsChangeDetection.destroy();document.removeEventListener("dragstart",this._fnGlobalDragStart,false);document.removeEventListener("dragend",this._fnGlobalDragEnd,false);if(this._oInvisibleMessageInstance){this._oInvisibleMessageInstance.destroy()}};N.prototype.getTitleInput=function(){return this.getAggregation("_header").getContent()[2]};N.prototype._reorderVisualizations=function(t){this.fireVisualizationDrop(t.getParameters())};N.prototype.getClosestVizualization=function(t,e){var i=this.getAllItems();return M(t,i,e)};N.prototype.getClosestVizIndex=function(t,e){var i=this.getClosestVizualization(t,e);return i?this.indexOfVisualization(i):-1};N.prototype.getClosestCompactItemIndex=function(t,e){var i=M(t,this.getCompactItems(),e);if(i){return this.indexOfVisualization(i)}return e?this.getVisualizations().length:0};N.prototype._onDragEnter=function(t){var e=t.getParameter("dragSession");var i=e.getDragControl();var a=i.getParent();var r=e.getDropControl&&e.getDropControl();if(!r){return}if(!r.data("area")){r=r.getParent()}if(r.data("default")&&!a.data("default")){t.preventDefault()}this.fireAreaDragEnter({originalEvent:t,dragControl:i,sourceArea:a.data("area"),targetArea:r.data("area")})};N.prototype.addAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e)}c.prototype.addAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};N.prototype.insertAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e,t)}c.prototype.insertAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};N.prototype.getFocusDomRef=function(){if(this.getEditable()){return this.getDomRef()}if(this.getDefaultItems().length){return this.getAggregation("_defaultArea").getFocusDomRef()}if(this.getFlatItems().length){return this.getAggregation("_flatArea").getFocusDomRef()}return this.getAggregation("_compactArea").getFocusDomRef()};N.prototype._getVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:2,columns:2}};N.prototype._getFlatVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:1,columns:2}};N.prototype._addVisualizationLayoutData=function(t,e){if(!t.getLayoutData()){var i=e==="defaultItems"?this._getVisualizationLayoutData(t):this._getFlatVisualizationLayoutData(t);t.setLayoutData(new r(i))}};N.prototype._getDefaultDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,X.Standard)};N.prototype._getFlatDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,X.Flat)};N.prototype._getDropIndicatorSize=function(t,e){var i=t.getParent();var a=i&&i.data("area");if(e===a&&t.getLayoutData){var r=t.getLayoutData();return{rows:r.getRows(),columns:r.getColumns()}}var o={};var n=[];if(t.getSupportedDisplayFormats){n=t.getSupportedDisplayFormats()}if(e===X.Flat){o.rows=1;o.columns=2;if(!n.includes(X.Flat)&&n.includes(X.FlatWide)){o.columns=4}}else{o.rows=2;o.columns=2;if(!n.includes(X.Standard)&&n.includes(X.StandardWide)){o.columns=4}}return o};N.prototype.getItemPosition=function(t){if(isFinite(t)){t=this.getVisualizations()[t]}var e=this.getAggregation("_defaultArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Standard}}e=this.getAggregation("_flatArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Flat}}e=this.getAggregation("_compactArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Compact}}return{index:-1,area:X.Standard}};N.prototype._focusItem=function(t){window.setTimeout(function(){var e=t&&t.area?t.area:X.Standard;var i=t&&t.index?t.index:t;var a=this.getAggregation("_defaultArea").getItems().length;var r=this.getAggregation("_flatArea").getItems().length;var o=this.getAggregation("_compactArea").getItems().length;if(isNaN(i)||i<0){i=0}if(e===X.Standard&&a===0){e=X.Flat}if(e===X.Flat&&r===0){e=X.Compact}if(e===X.Compact&&o===0){e=X.Standard}if(a+r+o===0){e="section"}switch(e){case"section":this.focus();break;case X.Flat:if(i>=r){i=r-1}this.getAggregation("_flatArea").focusItem(i);break;case X.Compact:this.getAggregation("_compactArea").focusItem(i);break;default:if(i>=a){i=a-1}this.getAggregation("_defaultArea").focusItem(i);break}}.bind(this),0)};N.prototype.focusVisualization=function(t){var e;if(!this.getShowSection()&&!this.getEditable()){return false}var i=this.getAllItems();if(!i.length){return false}if(t&&t.area){this._focusItem(t);return true}if(t&&t.getMetadata){e=t}if(!e&&t&&t.keycode){switch(t.keycode){case v.ARROW_UP:e=this.getClosestVizualization(t.ref,true);break;case v.ARROW_DOWN:e=this.getClosestVizualization(t.ref,false);break;case v.ARROW_LEFT:t=-1;break;default:break}}if(!e&&t===-1){e=i[i.length-1]}if(!e){e=i[0]}this._focusItem(this.getItemPosition(e));return true};return N});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/SectionRenderer", [],function(){"use strict";var e={apiVersion:2};function t(e){var t=!!e.getDefaultItems().length;var a=!!e.getFlatItems().length;var r=!!e.getCompactItems().length;return!t&&!r&&!a}e.render=function(e,a){var r=a.getDefault()?"recently-added-apps":a.getDataHelpId();var n=a.getEditable();var i=a.getAggregation("_noVisualizationsText");e.openStart("div",a);e.class("sapUshellSection");if(n){e.class("sapUshellSectionEdit");e.attr("tabindex","0")}if(!a.getShowSection()){e.class("sapUshellSectionHidden")}if(t(a)){e.class("sapUshellSectionNoVisualizations");if(n&&a.getShowNoVisualizationsText()){e.attr("aria-describedBy",i.getId())}}if(r){e.attr("data-help-id",r)}e.attr("role","region");e.attr("aria-label",a.getAriaLabel());e.openEnd();e.renderControl(a.getAggregation("_title"));e.renderControl(a.getAggregation("_header"));e.renderControl(i);e.renderControl(a.getAggregation("_defaultArea"));e.renderControl(a.getAggregation("_flatArea"));e.renderControl(a.getAggregation("_compactArea"));e.close("div")};return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainer", ["sap/base/Log","sap/m/Input","sap/m/library","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ushell/override","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTile","sap/ushell/utils","sap/ushell/ui/launchpad/TileContainerRenderer","sap/ushell/Container","sap/ui/dom/jquery/selectText"],function(e,t,i,o,s,r,a,l,n,u,p,d,f,h,c){"use strict";var g=i.HeaderLevel;var y=r.extend("sap.ushell.ui.launchpad.TileContainer",{metadata:{library:"sap.ushell",properties:{scrollType:{type:"string",group:"Misc",defaultValue:"item"},animationSpeed:{type:"int",group:"Misc",defaultValue:500},groupId:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Misc",defaultValue:true},showPlaceholder:{type:"boolean",group:"Misc",defaultValue:true},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},isLastGroup:{type:"boolean",group:"Misc",defaultValue:false},headerText:{type:"string",group:"Misc",defaultValue:null},headerLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:g.H2},groupHeaderLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:g.H4},showGroupHeader:{type:"boolean",group:"Misc",defaultValue:true},homePageGroupDisplay:{type:"string",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},sortable:{type:"boolean",group:"Misc",defaultValue:true},showNoData:{type:"boolean",group:"Misc",defaultValue:false},noDataText:{type:"string",group:"Misc",defaultValue:p.i18n.getText("noFilteredItems")},isGroupLocked:{type:"boolean",group:"Misc",defaultValue:null},isGroupSelected:{type:"boolean",group:"Misc",defaultValue:false},editMode:{type:"boolean",group:"Misc",defaultValue:false},showBackground:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"string",group:"Misc",defaultValue:"sap-icon://locked"},showIcon:{type:"boolean",group:"Misc",defaultValue:false},deluminate:{type:"boolean",group:"Misc",defaultValue:false},showMobileActions:{type:"boolean",group:"Misc",defaultValue:false},enableHelp:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},hidden:{type:"boolean",group:"Misc",defaultValue:false},transformationError:{type:"boolean",group:"Misc",defaultValue:false},supportLinkPersonalization:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tiles:{type:"sap.ui.core.Control",multiple:true,singularName:"tile"},links:{type:"sap.ui.core.Control",multiple:true,singularName:"link"},beforeContent:{type:"sap.ui.core.Control",multiple:true,singularName:"beforeContent"},afterContent:{type:"sap.ui.core.Control",multiple:true,singularName:"afterContent"},headerActions:{type:"sap.ui.core.Control",multiple:true,singularName:"headerAction"}},events:{afterRendering:{},add:{},titleChange:{}}},renderer:h});y.prototype.init=function(){this.bIsFirstTitleChange=true;this._sDefaultValue=p.i18n.getText("new_group_name");this.oNoLinksText=new o({text:p.i18n.getText("emptyLinkContainerInEditMode")}).addStyleClass("sapUshellNoLinksAreaPresentTextInner");this.oTransformationErrorText=new o({text:p.i18n.getText("transformationErrorText")}).addStyleClass("sapUshellTransformationErrorText");this.oTransformationErrorIcon=new l({src:"sap-icon://message-error"}).addStyleClass("sapUshellTransformationErrorIcon");this.oIcon=new l({src:this.getIcon()}).addStyleClass("sapUshellContainerIcon");this.oPlusTile=new d({groupId:this.getGroupId(),enableHelp:this.getEnableHelp(),press:[this.fireAdd,this]}).setParent(this);var e=function(){this.getDomRef("groupheader").focus();this._stopEdit();var t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this);this.oEditInputField=new t({placeholder:this._sDefaultValue,value:this.getHeaderText()}).addEventDelegate({onBeforeRendering:function(){var t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this),onAfterRendering:function(){setTimeout(()=>{var t=this.oEditInputField.$("inner");t.focus();t.selectText(0,t.val().length);var i=this.oEditInputField.getDomRef();if(i){i.addEventListener("focusout",e)}},0)}.bind(this)}).addStyleClass("sapUshellTileContainerTitleInput");c.getServiceAsync("FlpLaunchPage").then(function(e){if(e.isLinkPersonalizationSupported()){y.prototype.isLinkPersonalizationOveride()}});this.fnTitleTextClickHandler=this._titleTextClickHandler.bind(this)};y.prototype.onBeforeRendering=function(){var e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}var t=this.getTiles();var i=this.getLinks();var o=t.concat(i);o.forEach(function(e){var t=e.getDomRef();if(t){var i=t.getAttribute("data-oldTabindex");if(i){t.setAttribute("tabindex",i);t.removeAttribute("data-oldTabindex")}else{t.removeAttribute("tabindex")}}})};y.prototype.onAfterRendering=function(){var e=this.getDomRef("titleText");if(e){e.addEventListener("click",this.fnTitleTextClickHandler)}var t=this.getTiles();var i=this.getLinks();var o=t.concat(i);o.forEach(function(e){var t=e.getDomRef();if(t){var i=t.getAttribute("tabindex");if(i){t.setAttribute("data-oldTabindex",i)}t.setAttribute("tabindex","-1")}});var s=t.filter(function(e){return e.isA("sap.ui.integration.widgets.Card")});this._resizeCards(s);a.getInstance().publish("launchpad","GroupHeaderVisibility");this.fireAfterRendering()};y.prototype._titleTextClickHandler=function(){var e=this.getModel()&&this.getModel().getProperty("/enableRenameLockedGroup"),t=(e||!this.getIsGroupLocked())&&!this.getDefaultGroup()&&this.getTileActionModeActive();this.setEditMode(t)};y.prototype.updateAggregation=n.updateAggregation;y.prototype.setGroupId=function(e,t){this.setProperty("groupId",e,t);this.oPlusTile.setGroupId(e,t);return this};y.prototype.setShowIcon=function(e,t){this.setProperty("showIcon",e,t);this.oIcon.toggleStyleClass("sapUshellContainerIconHidden",!e);return this};y.prototype.groupHasTiles=function(){var e="",t=this.getTiles(),i=[];if(this.getBindingContext()){e=this.getBindingContext().sPath;t=this.getModel().getProperty(e).tiles}return f.groupHasVisibleTiles(t,i)};y.prototype.getInnerContainersDomRefs=function(){var e=this.getDomRef();if(!e){return null}return[e.querySelector(".sapUshellTilesContainer-sortable"),e.querySelector(".sapUshellLineModeContainer")]};y.prototype.isLinkPersonalizationOveride=function(){y.prototype.updateLinks=function(e){var t=this.getParent(),i=t&&t.getDisplayMode&&t.getDisplayMode()==="tabs";if(i&&!this.getTileActionModeActive()){t.removeLinksFromUnselectedGroups()}if(this.getLinks().length>0){this.removeAllLinks()}s.prototype.updateAggregation.call(this,"links")};y.prototype.destroyLinks=function(t){e.debug("link is destroyed because: "+t,null,"sap.ushell.ui.launchpad.TileContainer")}};y.prototype._resizeCards=function(e){var t,i,o=5.5,s=.4375,r,a,l,n;for(var u=0;u<e.length;u++){t=e[u];i=t.getManifest();r=i["sap.flp"].rows;a=i["sap.flp"].columns;l=a*o+(a-3)*s+"rem";n=r*o+(r-1)*s+"rem";t.setHeight(n);t.setWidth(l)}};y.prototype.setEditMode=function(e,t){this.setProperty("editMode",e,t);if(e){this.oEditInputField.setValue(this.getHeaderText())}var i=this.getModel();if(i){i.setProperty("/editTitle",e)}};y.prototype._stopEdit=function(){var e=this.getHeaderText();var t=this.oEditInputField.getValue(),i;t=t.substring(0,256).trim()||this._sDefaultValue;i=t!==e;if(this.bIsFirstTitleChange&&t===this.oEditInputField.getPlaceholder()){i=true}this.bIsFirstTitleChange=false;if(this.getModel()&&this.getModel().getProperty("/editTitle")){this.getModel().setProperty("/editTitle",false,false)}if(i){this.fireTitleChange({newTitle:t});this.setHeaderText(t)}this.setEditMode(false)};y.prototype.exit=function(){if(this.oNoLinksText){this.oNoLinksText.destroy()}if(this.oTransformationErrorText){this.oTransformationErrorText.destroy()}if(this.oTransformationErrorIcon){this.oTransformationErrorIcon.destroy()}if(this.oIcon){this.oIcon.destroy()}if(this.oPlusTile){this.oPlusTile.destroy()}if(this.oEditInputField){this.oEditInputField.destroy()}var e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}if(r.prototype.exit){r.prototype.exit.apply(this,arguments)}};return y});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainerRenderer", ["sap/ushell/resources","sap/ushell/utils","sap/ushell/bootstrap/common/common.load.model","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ui/core/CustomData"],function(e,t,o,a,s,i){"use strict";var r={apiVersion:2};r.oModel=o.getModel();r.render=function(o,a){var r=a.getHeaderActions(),n=a.getBeforeContent(),l=a.getAfterContent(),d=a.getLinks(),c=d.length,p=this;o.openStart("div",a);o.class("sapUshellTileContainer");if(!a.getVisible()){o.class("sapUshellHidden")}if(a.getDeluminate()){o.class("sapUshellDisableLockedGroupDuringDrag")}if(a.getEditMode()){o.class("sapUshellEditing")}if(a.getHidden()){o.class("sapUshellTileContainerEditModeHidden")}if(!a.getShowEmptyLinksArea()){o.class("sapUshellLinksAreaHidden")}if(a.getShowEmptyLinksAreaPlaceHolder()){o.class("sapUshellTileContainerEditMode");o.class("sapUshellTileContainerTabsModeEmptyLinksArea")}else{o.class("sapUshellEmptyLinksAreaPlaceHolder")}o.openEnd();if(n.length&&a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellTileContainerBeforeContent");o.class("sapContrastPlus");o.openEnd();n.forEach(function(e){o.renderControl(e)});o.close("div")}o.openStart("div");o.class("sapUshellTileContainerContent");if(a.getIsGroupLocked()){o.class("sapUshellTileContainerLocked")}if(a.getDefaultGroup()){o.class("sapUshellTileContainerDefault")}if(a.getShowBackground()){o.class("sapUshellTileContainerEditMode")}o.openEnd();if(a.getShowBackground()){o.openStart("div");o.class("sapUshellGroupBackgroundContainer");o.class("sapContrastPlus");o.openEnd();o.close("div")}if(a.getShowHeader()){o.openStart("div",a.getId()+"-groupheader");o.class("sapUshellTileContainerHeader");o.class("sapContrastPlus");if(!a.getShowGroupHeader()){o.class("sapUshellFirstGroupHeaderHidden");o.class("sapUiPseudoInvisibleText")}if(a.getTileActionModeActive()){o.attr("tabindex","0")}var g;if(a.getDefaultGroup()){g=e.i18n.getText("ariaLabelEditModeGroupDefault",[a.getHeaderText()])}else if(a.getIsGroupLocked()){g=e.i18n.getText("ariaLabelEditModeGroupLocked",[a.getHeaderText()])}else{g=e.i18n.getText("ariaLabelEditModeGroup",[a.getHeaderText()])}o.attr("aria-label",g);o.openEnd();o.openStart("div",a.getId()+"-title");o.class("sapUshellContainerTitleFlex");o.openEnd();if(a.getEditMode()){o.renderControl(a.oEditInputField)}else{var u=a.getHeaderLevel().toLowerCase();o.openStart(u,a.getId()+"-titleText");o.class("sapUshellContainerTitle");o.attr("title",a.getHeaderText());o.attr("role","region");if(a.getTileActionModeActive()&&!a.getIsGroupLocked()&&!a.getDefaultGroup()){o.attr("tabindex","0")}o.openEnd();o.text(a.getHeaderText());o.close(u)}if(a.getIsGroupLocked()){o.renderControl(a.oIcon)}else if(a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellContainerHeaderActions");o.openEnd();r.forEach(function(e){o.renderControl(e)});o.close("div")}o.close("div");o.close("div")}o.openStart("ul");o.class("sapUshellTilesContainer-sortable");o.class("sapUshellInner");o.openEnd();var f=false;a.getTiles().forEach(function(e){if(e.getVisible()){f=true}if(p._isUserActivityCard(e)){p._updateUserActivityCardVisibility(e)}o.renderControl(e)});if(a.getShowPlaceholder()){o.renderControl(a.oPlusTile)}if(a.getShowNoData()){this.renderNoData(o,a,!f)}o.close("ul");var h=a.getSupportLinkPersonalization();if(c>0||h){o.openStart("div");o.class("sapUshellLineModeContainer");if(!c&&h){o.class("sapUshellNoLinksAreaPresent");if(a.getTransformationError()){o.class("sapUshellNoLinksAreaPresentError")}o.openEnd();o.openStart("div");o.class("sapUshellNoLinksAreaPresentText");o.openEnd();o.renderControl(a.oNoLinksText);o.close("div")}else{o.openEnd()}if(h){if(a.getTransformationError()){o.openStart("div");o.class("sapUshellTransformationError");if(!a.transformationError){o.style("display","none")}o.openEnd();o.openStart("div");o.class("sapUshellTransformationErrorInnerWrapper");o.openEnd();o.renderControl(a.oTransformationErrorIcon);o.renderControl(a.oTransformationErrorText);o.close("div");o.close("div")}o.openStart("div");o.class("sapUshellLinksInnerContainer");o.openEnd();var C,T,v,E;d.forEach(function(e,t){C=e.getCustomData();T=false;v=false;E=false;C.forEach(function(o){if(o.getKey()==="aria-posinset"){o.setValue((t+1).toString());o.setWriteToDom(true);T=true}else if(o.getKey()==="aria-setsize"){o.setValue(c.toString());o.setWriteToDom(true);v=true}else if(o.getKey()==="help-id"){o.setValue(e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogId"));o.setWriteToDom(true);E=true}else if(o.getKey()==="help-id2"){o.setValue(e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogIdStable"));o.setWriteToDom(true);E=true}});if(!T){e.addCustomData(new s({key:"aria-posinset",value:(t+1).toString(),writeToDom:true}))}if(!v){e.addCustomData(new s({key:"aria-setsize",value:c.toString(),writeToDom:true}))}if(e.getModel()&&e.getModel().getProperty("/enableHelp")&&!E){e.addCustomData(new i({key:"help-id",value:e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogId"),writeToDom:true}));e.addCustomData(new i({key:"help-id2",value:e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogIdStable"),writeToDom:true}))}e.addStyleClass("sapUshellLinkTile");if(a.getIsGroupLocked()){e.addStyleClass("sapUshellLockedTile")}o.renderControl(e)});o.close("div")}else{d.forEach(function(e){o.renderControl(e)})}o.close("div")}o.close("div");if(l.length&&a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellTileContainerAfterContent");o.class("sapContrastPlus");o.openEnd();l.forEach(function(e){o.renderControl(e)});o.close("div")}o.close("div");t.setPerformanceMark("FLP -- tile container renderer")};r.renderNoData=function(e,t,o){e.openStart("div",t.getId()+"-listNoData");e.class("sapUshellNoFilteredItems");e.class("sapUiStrongBackgroundTextColor");e.openEnd();e.text(o?t.getNoDataText():"");e.close("div")};r._isUserActivityCard=function(t){if(typeof t.getManifest!=="function"){return false}var o=t.getManifest();var a=o&&o["sap.card"]&&o["sap.card"].header&&o["sap.card"].header.title;return a===e.i18n.getText("recentActivities")||a===e.i18n.getText("frequentActivities")};r._updateUserActivityCardVisibility=function(e){e.setVisible(a.last("/core/shell/model/enableTrackingActivity"));a.on("/core/shell/model/enableTrackingActivity").do(function(t){e.setVisible(t)})};return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainerUtils", ["sap/base/util/uid"],function(e){"use strict";var n={};n.showHideTilesAndHeaders=function(e,n){var t,r,i,a=0,s=0;for(t in e.onScreenPathIndexMap){if(e.onScreenPathIndexMap.hasOwnProperty(t)){i=e.onScreenPathIndexMap[t];r=n[i.aItemsRefrenceIndex];if(r.getVisible()&&!i.isVisible){s++}r.setVisible(i.isVisible);if(i.isVisible){a++}}}return{nCountVisibElelemnts:a,nCountFilteredElement:s}};n.applyFilterOnItem=function(e,n,t,r){var i;for(i in n){if(n.hasOwnProperty(i)){n[i](e)}}if(t){t(e,r)}};n.createNewItem=function(n,t){var r=this.mBindingInfos[t],i=r.factory,a=function(n){var t=this.getId()+"-"+e(),a=i(t,n);a.setBindingContext(n,r.model);return a}.bind(this);return a(n)};n.addNewItem=function(e,n){var t=this.getMetadata().getJSONKeys()[n];this[t._sMutator](e);return true};n.createMissingElementsInOnScreenElements=function(e,t,r,i,a,s,l){var f,o,u=t.length;for(o=r;o<u;o++){f=t[o].getPath();if(!e.onScreenPathIndexMap[f]){if(i(t[o],l)==false){return false}n.applyFilterOnItem(t[o],s)}else{throw true}}return true};n.createMissingElementsInOnScreenElementsSearchCatalog=function(e,t,r,i,a,s,l,f){var o,u,h=t.length;for(u=0;u<h;u++){o=t[u].getPath();if(!e.onScreenPathIndexMap[o]){if(i(t[u],l)==false){return false}}n.applyFilterOnItem(t[u],s,f,l)}return true};n.applyFilterOnAllItems=function(e,t,r){var i;var a=e.binding,s;if(!a){return}s=a.getContexts();for(i=0;i<s.length;i++){n.applyFilterOnItem(s[i],t,r)}};n.validateOrder=function(e,n,t){var r,i,a,s,l,f,o,u;if(e[t]&&n.length>0){r=n[n.length-1].getBindingContext().getPath();i=e[t].getPath();s=r.split("/");l=i.split("/");for(f=0;f<s.length&&f<l.length;f++){o=s[f];u=l[f];if(!!parseInt(o,10)&&!!parseInt(u,10)){if(parseInt(o,10)>parseInt(u,10)){return false}else if(parseInt(o,10)<parseInt(u,10)){return true}}else{for(a=0;a<u.length&&a<o.length;a++){if(o[a].charCodeAt()>u[a].charCodeAt()){return false}else if(o[a].charCodeAt()<u[a].charCodeAt()){return true}}}}}return true};n.markVisibleOnScreenElements=function(e,n,t){var r=0,i,a=e.length;for(r=0;r<a;r++){i=e[r].getPath();if(n.onScreenPathIndexMap[i]){if(t){n.onScreenPathIndexMap[i].isVisible=true}}else{return r}}return r};n.markVisibleOnScreenElementsSearchCatalog=function(e,n,t){var r=0,i,a=e.length;for(r=0;r<a;r++){i=e[r].getPath();if(n.onScreenPathIndexMap[i]){if(t){n.onScreenPathIndexMap[i].isVisible=true}}}return r};n.indexOnScreenElements=function(e,n){var t,r,i={onScreenPathIndexMap:{}},a=e.length,s,l=true;if(n===false){l=false}for(r=0;r<a;r++){s=e[r];if(s.getBindingContext()){t=s.getBindingContext().getPath();if(!i.onScreenPathIndexMap[t]){i.onScreenPathIndexMap[t]={aItemsRefrenceIndex:r,isVisible:l}}}}return i};return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileState", ["sap/ushell/ui/launchpad/TileStateInternal","./TileStateRenderer"],function(e,a){"use strict";var t=e.extend("sap.ushell.ui.launchpad.TileState",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:a});return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateInternal", ["sap/ui/core/Control","sap/ui/core/Icon","sap/ushell/resources","sap/ui/core/HTML","./TileStateInternalRenderer","sap/ushell/library"],function(t,e,i,s,n){"use strict";var o=t.extend("sap.ushell.ui.launchpad.TileStateInternal",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:n});o.prototype.init=function(){this._rb=i.i18n;this._sFailedToLoad=this._rb.getText("cannotLoadTile");this._oWarningIcon=new e(this.getId()+"-warn-icon",{src:"sap-icon://notification",size:"1.37rem"}).addStyleClass("sapSuiteGTFtrFldIcnMrk");this.attachPress(this._onPress)};o.prototype.onclick=function(){this.firePress()};o.prototype._onPress=function(t){if(this.getState()!=="Failed"){return}if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],function(e){this.FailedTileDialog=new e;this._onPress(t)}.bind(this))}else{this.FailedTileDialog.openFor(this)}};o.prototype._getBusyContainer=function(){if(!this._oBusyContainer){this._oBusyContainer=new s({content:"<div class='sapUshellTileStateLoading'><div>"});this._oBusyContainer.setBusy(true)}return this._oBusyContainer};o.prototype.exit=function(){this._oWarningIcon.destroy();if(this._oBusyContainer){this._oBusyContainer.destroy()}};o.prototype.setState=function(t,e){this.setProperty("state",t,e);return this};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateInternalRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){e.openStart("div",t);e.class("sapUshellGT");e.openEnd();var a=t.getState();e.openStart("div",t.getId()+"-overlay");e.class("sapUshellOverlay");if(a==="Failed"){e.attr("title",t._sFailedToLoad)}e.openEnd();switch(a){case"Loading":var l=t._getBusyContainer();e.renderControl(l);break;case"Failed":e.openStart("div",t.getId()+"-failed-ftr");e.class("sapUshellTileStateFtrFld");e.openEnd();e.openStart("div",t.getId()+"-failed-icon");e.class("sapUshellTileStateFtrFldIcn");e.openEnd();e.renderControl(t._oWarningIcon);e.close("div");e.openStart("div",t.getId()+"-failed-text");e.class("sapUshellTileStateFtrFldTxt");e.openEnd();e.text(t._sFailedToLoad);e.close("div");e.close("div");break;default:}e.close("div");e.close("div")};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateRenderer", ["sap/ushell/ui/launchpad/TileStateInternalRenderer"],function(e){"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ViewPortState", function(){"use strict"},false);
//Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactArea", ["sap/ui/core/Control","sap/ui/events/KeyCodes","sap/ushell/library","./CompactAreaRenderer"],function(e,t,o,r){"use strict";var n=e.extend("sap.ushell.ui.launchpad.section.CompactArea",{metadata:{library:"sap.ushell",properties:{showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},enableLinkReordering:{type:"boolean",group:"Behavior",defaultValue:false}},dnd:{draggable:false,droppable:true},aggregations:{items:{type:"sap.ui.core.Control",singularName:"item",multiple:true,dnd:true}},events:{borderReached:{parameters:{event:{type:"jQuery.Event"}}},itemDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}}}},renderer:r});n.prototype.onBorderReached=this.fireBorderReached;n.prototype.onsapnext=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT){var o=this.getFocusedItemIndex();if(o>=0&&o<this.getItems().length-1){this.focusItem(o+1);return}}this.fireBorderReached({event:e})};n.prototype.onsapprevious=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT){var o=this.getFocusedItemIndex();if(o>0){this.focusItem(o-1);return}}this.fireBorderReached({event:e})};n.prototype.onsapnextmodifiers=function(e){if(!this.getEnableLinkReordering()){return}var o=this.getFocusedItemIndex();var r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT&&o>-1&&o<r.length-1){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o+1],dropPosition:"After",browserEvent:e})}if(e.keyCode===t.ARROW_DOWN&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"After",browserEvent:e})}};n.prototype.onsappreviousmodifiers=function(e){if(!this.getEnableLinkReordering()){return}var o=this.getFocusedItemIndex();var r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT&&o>0){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o-1],dropPosition:"Before",browserEvent:e})}if(e.keyCode===t.ARROW_UP&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"Before",browserEvent:e})}};n.prototype.focusItem=function(e){e=e||0;var t=this.getItems();if(e===-1||e>=t.length){e=t.length-1}if(e>=0){var o=t[e].getFocusDomRef()||t[e].getDomRef();(o.querySelector("a")||o).focus()}else{this.focus()}};n.prototype.onmousedown=function(e){var t=this.getDOMItemIndex(e.srcControl.getDomRef());var o=this.getFocusedItemIndex();if(o<0){o=0}if(t<0){window.setTimeout(function(){this.focusItem(o)}.bind(this),0)}};n.prototype.getDOMItemIndex=function(e){var t=-1;this.getItems().forEach(function(o,r){var n=o.getDomRef();if(n&&n.contains(e)){t=r}});return t};n.prototype.getFocusDomRef=function(){if(this.getItems().length){return this.getItems()[0].getFocusDomRef()}return this.getDomRef()};n.prototype.onfocusin=function(e){if(document.activeElement===this.getDomRef()){this.focusItem(0)}};n.prototype.getFocusedItemIndex=function(){return this.getDOMItemIndex(document.activeElement)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactAreaRenderer", ["sap/ushell/resources"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,r){t.openStart("div",r);if(!r.getVisible()){t.style("display","none")}t.attr("role","group");t.attr("aria-label",e.i18n.getText("Section.CompactArea.Description"));t.style("width","100%");t.class("sapUshellSectionCompactArea");t.openEnd();r.getItems().forEach(t.renderControl);t.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTile", ["sap/ushell/library","./TileBase","./DynamicTileRenderer"],function(e,a,t){"use strict";var r=e.ui.tile.State;var u=e.ui.tile.StateArrow;var l=a.extend("sap.ushell.ui.tile.DynamicTile",{metadata:{library:"sap.ushell",properties:{numberValue:{type:"string",group:"Data",defaultValue:"0.0"},numberState:{type:"sap.ushell.ui.tile.State",group:"Appearance",defaultValue:r.Neutral},numberUnit:{type:"string",group:"Data",defaultValue:null},numberDigits:{type:"int",group:"Appearance",defaultValue:0},stateArrow:{type:"sap.ushell.ui.tile.StateArrow",group:"Appearance",defaultValue:u.None},numberFactor:{type:"string",group:"Data",defaultValue:null}}},renderer:t});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTileRenderer", ["sap/ui/core/Renderer","sap/ui/core/format/NumberFormat","../../library","./TileBaseRenderer","sap/ushell/resources"],function(e,t,a,i,r){"use strict";var s=a.ui.tile.State;var l=a.ui.tile.StateArrow;var n=r.i18n;var o=e.extend(i);o.apiVersion=2;o.renderPart=function(e,a){var i=a.getNumberValue(),r=a.getNumberFactor(),o=i.toString(),c=a.getIcon()?4:5,u=this._shouldProcessDigits(o,a);if(o.length>c||u){var m=this._normalizeNumber(i,c,r,a);r=m.numberFactor;o=m.displayNumber}else if(o!==""){var d=t.getFloatInstance({maxFractionDigits:c});o=d.format(i)}e.openStart("div");e.class("sapUshellDynamicTile");e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileData");e.class(s[a.getNumberState()]?"sapUshellDynamicTileData"+a.getNumberState():"sapUshellDynamicTileData"+s.Neutral);e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileIndication");e.openEnd();if(l[a.getStateArrow()]){e.openStart("div");e.class("sapUshellDynamicTileStateArrow");e.class("sapUshellDynamicTileData"+l[a.getStateArrow()]);e.openEnd();e.close("div")}e.voidStart("br");e.voidEnd();e.openStart("div");e.class("sapUshellDynamicTileNumberFactor");e.accessibilityState(a,{label:n.getText("TileUnits_lable")+r});e.openEnd();e.text(r);e.close("div");e.close("div");e.openStart("div");e.class("sapUshellDynamicTileNumber");if(o&&o!==""){e.accessibilityState(a,{label:n.getText("TileValue_lable")+o});e.openEnd();e.text(o)}else{e.openEnd();e.text(a.getNumberValue())}e.close("div");e.close("div");e.close("div")};o._normalizeNumber=function(e,a,i,r){var s;if(isNaN(e)){s=e}else{var l=t.getFloatInstance({maxFractionDigits:r.getNumberDigits()});if(!i){var n=Math.abs(e);if(n>=1e9){i="B";e/=1e9}else if(n>=1e6){i="M";e/=1e6}else if(n>=1e3){i="K";e/=1e3}}s=l.format(e)}var o=s;var c=o[a-1];a-=c==="."||c===","?1:0;o=o.substring(0,a);return{displayNumber:o,numberFactor:i}};o._shouldProcessDigits=function(e,t){var a=t.getNumberDigits(),i;if(e.indexOf(".")!==-1){i=e.split(".")[1].length;if(i>a){return true}}return false};o.getInfoPrefix=function(e){return e.getNumberUnit()};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/ImageTile", ["sap/ushell/library","./TileBase","./ImageTileRenderer"],function(e,r,a){"use strict";var l=r.extend("sap.ushell.ui.tile.ImageTile",{metadata:{library:"sap.ushell",properties:{imageSource:{type:"string",group:"Appearance",defaultValue:null}}},renderer:a});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/ImageTileRenderer", ["sap/ui/core/Renderer","./TileBaseRenderer"],function(e,r){"use strict";var t=e.extend(r);t.apiVersion=2;t.renderPart=function(e,r){e.voidStart("img");e.class("sapUshellImageTile");e.attr("src",r.getImageSource());e.attr("alt"," ");e.voidEnd()};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTile", ["sap/ushell/library","sap/ushell/ui/tile/TileBase","sap/ushell/ui/tile/StaticTileRenderer"],function(e,l,i){"use strict";var a=l.extend("sap.ushell.ui.tile.StaticTile",{metadata:{library:"sap.ushell"},renderer:i});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTileRenderer", ["sap/ui/core/Renderer","./TileBaseRenderer"],function(e,n){"use strict";var r=e.extend(n);r.apiVersion=2;r.renderPart=function(e,n){e.openStart("span");e.class("sapUshellStaticTile");e.openEnd();e.close("span")};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBase", ["sap/ushell/library","sap/ui/core/Control","sap/ushell/library","./TileBaseRenderer"],function(e,t,a,r){"use strict";var l=e.ui.tile.State;var u=t.extend("sap.ushell.ui.tile.TileBase",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Data",defaultValue:null},subtitle:{type:"string",group:"Data",defaultValue:null},icon:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},infoState:{type:"sap.ushell.ui.tile.State",defaultValue:l.Neutral},targetURL:{type:"string",group:"Behavior",defaultValue:null},highlightTerms:{type:"any",group:"Appearance",defaultValue:[]}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},events:{press:{}}},renderer:r});u.prototype.ontap=function(e){this.firePress({})};u.prototype.onsapenter=function(e){this.firePress({})};u.prototype.onsapspace=function(e){this.firePress({})};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBaseRenderer", ["sap/ushell/library","sap/ushell/resources","sap/base/security/encodeXML","sap/ui/core/Icon"],function(e,t,l,i){"use strict";var s=e.ui.tile.State;var a={apiVersion:2};var n=t.i18n;a.highlight=function(e,t){var i,s,a=l(t).replace(/&#xa;/g,"<br>");if(e&&e.length&&e.length>0){for(i=0;i<e.length;i=i+1){s=new RegExp("("+l(e[i]).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")+")","gi");a=a.replace(s,"<b>$1</b>")}}return a};a.render=function(e,t){var l,a;e.openStart("div",t);if(t.getTargetURL()){e.attr("data-targeturl",t.getTargetURL())}e.class("sapUshellTileBase");e.openEnd();e.openStart("div");e.class("sapUshellTileBaseHeader");e.openEnd();e.openStart("h3");e.class("sapUshellTileBaseTitle");e.accessibilityState(t,{label:n.getText("tileTypeListItem")+n.getText("TileDetails_lable")+n.getText("TileTitle_lable")+t.getTitle(),level:"3"});e.openEnd();e.unsafeHtml(this.highlight(t.getHighlightTerms(),t.getTitle()||""));e.close("h3");if(t.getSubtitle()){e.openStart("h4");e.class("sapUshellTileBaseSubtitle");e.accessibilityState(t,{label:n.getText("TileSubTitle_lable")+t.getSubtitle(),level:"4"});e.openEnd();e.unsafeHtml(this.highlight(t.getHighlightTerms(),t.getSubtitle()));e.close("h4")}e.close("div");if(typeof this.renderPart==="function"){this.renderPart(e,t)}if(t.getIcon()){a=new i({src:t.getIcon()});a.addStyleClass("sapUshellTileBaseIcon");e.renderControl(a)}if(t.getInfo()||typeof this.getInfoPrefix==="function"&&this.getInfoPrefix(t)){e.openStart("div");e.class("sapUshellTileBaseInfo");e.class(t.getInfoState()?"sapUshellTileBase"+t.getInfoState():"sapUshellTileBase"+s.Neutral);e.accessibilityState(t,{label:n.getText("TileInfo_lable")+t.getInfo()});e.openEnd();if(typeof this.getInfoPrefix==="function"){l=this.getInfoPrefix(t);e.text(l)}if(t.getInfo()){if(l){e.text(", ")}e.unsafeHtml(this.highlight(t.getHighlightTerms(),t.getInfo()))}e.close("div")}e.close("div")};return a});
sap.ui.require.preload({
	"sap/ui/unified/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.unified","type":"library","embeds":[],"applicationVersion":{"version":"1.136.0"},"title":"Unified controls intended for both, mobile and desktop scenarios","description":"Unified controls intended for both, mobile and desktop scenarios","ach":"CA-UI5-CTR","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.ui.core":{"minVersion":"1.136.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],"elements":["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuItemGroup","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.NonWorkingPeriod","sap.ui.unified.RecurringNonWorkingPeriod","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem","sap.ui.unified.TimeRange"],"types":["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],"interfaces":["sap.ui.unified.IMenuItem","sap.ui.unified.IProcessableBlobs"]}}}}',
	"sap/ushell/ui/launchpad/FailedTileDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:formLayout="sap.ui.layout.form"><Dialog\n        id="failedTileDialog"\n        title="{i18n>cannotLoadTile}"\n        type="Message"\n        state="Error"\n        contentWidth="480px"\n        class="sapUiNoContentPadding"><content><VBox id="vBox" class="sapUiSmallMargin"><Text id="failedMessageText" text="{i18n>FailedTileDialog.Message.Text}" /><Link id="showDetailsLink" text="{i18n>FailedTileDialog.ShowDetails.Text}" visible="{= !${showDetails}}" press=".onShowDetails" class="sapUiSmallMarginTop" /></VBox><formLayout:SimpleForm id="simpleForm" visible="{showDetails}" layout="ResponsiveGridLayout" editable="false"><formLayout:content><Label id="groupIdLabel" visible="{= !!${groupId}}" text="{i18n>FailedTileDialog.groupId.Label}" /><Text id="groupId" visible="{= !!${groupId}}" text="{groupId}" /><Label id="chipTitleLabel" visible="{= !!${chipTitle}}" text="{i18n>FailedTileDialog.chipTitle.Label}" /><Text id="chipTitle" visible="{= !!${chipTitle}}" text="{chipTitle}" /><Label id="chipDescriptionLabel" visible="{= !!${chipDescription}}" text="{i18n>FailedTileDialog.chipDescription.Label}" /><Text id="chipDescription" visible="{= !!${chipDescription}}" text="{chipDescription}" /><Label id="chipInstanceIdLabel" visible="{= !!${chipInstanceId}}" text="{i18n>FailedTileDialog.chipInstanceId.Label}" /><Text id="chipInstanceId" visible="{= !!${chipInstanceId}}" text="{chipInstanceId}" /><Label id="chipIdLabel" visible="{= !!${chipId}}" text="{i18n>FailedTileDialog.chipId.Label}" /><Text id="chipId" visible="{= !!${chipId}}" text="{chipId}" /><Label id="catalogIdLabel" visible="{= !!${catalogId}}" text="{i18n>FailedTileDialog.catalogId.Label}" /><Text id="catalogId" visible="{= !!${catalogId}}" text="{catalogId}" /><Label id="completelyLoadedLabel" visible="{= typeof ${completelyLoaded} === \'boolean\'}" text="{i18n>FailedTileDialog.completelyLoaded.Label}" /><Text id="completelyLoaded" visible="{= typeof ${completelyLoaded} === \'boolean\'}" text="{completelyLoaded}" /><Label id="debugInfoLabel" visible="{= !!${debugInfo}}" text="{i18n>FailedTileDialog.debugInfo.Label}" /><Text id="debugInfo" visible="{= !!${debugInfo}}" text="{debugInfo}" /></formLayout:content></formLayout:SimpleForm></content><endButton><Button id="closeButton" text="{i18n>closeBtn}" press=".onClose" /></endButton></Dialog></core:FragmentDefinition>\n'
});
//# sourceMappingURL=homepage-af-dep.js.map
