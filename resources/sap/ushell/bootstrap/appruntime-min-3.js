//@ui5-bundle sap/ushell/bootstrap/appruntime-min-3.js
window["sap-ui-optimized"] = true;
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/theming/Parameters", ["sap/ui/core/Lib","sap/ui/core/Theming","sap/ui/thirdparty/URI","../Element","sap/base/future","sap/base/Log","sap/base/util/extend","sap/base/util/syncFetch","sap/ui/core/theming/ThemeManager","./ThemeHelper"],function(e,r,t,a,n,i,s,o,u,c){"use strict";var f=sap.ui.loader._.getSyncCallBehavior();var l={};var m=null;var p=null;var h=[];var d=[];var g=new t(sap.ui.require.toUrl(""),document.baseURI).origin();var v={};var y=/url[\s]*\('?"?([^\'")]*)'?"?\)/;var b=new URLSearchParams(window.location.search).get("sap-ui-xx-no-inline-theming-parameters")!=="true";function w(e,r){var a=y.exec(e);if(a){var n=new t(a[1]);if(n.is("relative")){var i=n.absoluteTo(r).normalize().toString();e="url('"+i+"')"}}return e}function P(e,r,t){for(var a in r){if(typeof e[a]==="undefined"){e[a]=w(r[a],t)}}return e}function A(e,r){if(typeof e["default"]!=="object"){e={default:e,scopes:{}}}m=m||{};m["default"]=m["default"]||{};m["scopes"]=m["scopes"]||{};P(m["default"],e["default"],r);if(typeof e["scopes"]==="object"){for(var t in e["scopes"]){m["scopes"][t]=m["scopes"][t]||{};P(m["scopes"][t],e["scopes"][t],r)}}}function T(e){document.querySelectorAll("link[id^=sap-ui-theme-]").forEach(function(r){e(r.getAttribute("id"))})}function U(e,r){var t=S(e);var a=c.checkAndRemoveStyle({id:e});if(!a&&!r){i.warning("Parameters have been requested but theme is not applied, yet.","sap.ui.core.theming.Parameters")}if(a&&b){var s=document.getElementById(e);var o=window.getComputedStyle(s).getPropertyValue("background-image");var u=/\(["']?data:text\/plain;utf-8,(.*?)['"]?\)$/i.exec(o);if(u&&u.length>=2){var f=u[1];if(f.charAt(0)!=="{"&&f.charAt(f.length-1)!=="}"){try{f=decodeURIComponent(f)}catch(e){n.warningThrows("Could not decode theme parameters URI from "+t.styleSheetUrl,{cause:e})}}try{var l=JSON.parse(f);A(l,t.themeBaseUrl);return true}catch(e){n.warningThrows("Could not parse theme parameters from "+t.styleSheetUrl+".",{cause:e,suffix:"Loading library-parameters.json as fallback solution."})}}}return r?a:false}function L(e){var r=S(e);if(!U(e)){var a=r.styleSheetUrl.replace(/\/(?:css_variables|library)([^\/.]*)\.(?:css|less)($|[?#])/,function(e,r,t){return"/library-parameters.json"+(t?t:"")});if(f===2){i.error("[nosync] Loading library-parameters.json ignored",a,"sap.ui.core.theming.Parameters");return}else if(f===1){i.error("[nosync] Loading library-parameters.json with sync XHR",a,"sap.ui.core.theming.Parameters")}var n=new t(r.themeBaseUrl).origin();var s=v[n];var o=[];if(s===undefined){if(a.startsWith(g)){o=[false,true]}else{o=[true,false]}}else{o=[s]}j(a,r.themeBaseUrl,o)}}function S(e){var r=document.getElementById(e);if(!r){n.warningThrows(`sap.ui.core.theming.Parameters: Could not find stylesheet element with ID "${e}"`);return undefined}var a=r.href;return{themeBaseUrl:new t(a).filename("").query("").toString(),styleSheetUrl:a}}function j(e,r,a){var s={Accept:o.ContentTypes.JSON};var u=a.shift();if(u){s["X-Requested-With"]="XMLHttpRequest"}function c(t){n.errorThrows("Could not load theme parameters from: "+e,{cause:t});if(a.length>0){i.warning("Initial library-parameters.json request failed ('withCredentials="+u+"'; sUrl: '"+e+"').\n"+"Retrying with 'withCredentials="+!u+"'.","sap.ui.core.theming.Parameters");j(e,r,a)}}try{var f=o(e,{credentials:u?"include":"omit",headers:s});if(f.ok){var l=f.json();var m=new t(r).origin();v[m]=u;if(Array.isArray(l)){for(var p=0;p<l.length;p++){var h=l[p];A(h,r)}}else{A(l,r)}}else{throw new Error(f.statusText||f.status)}}catch(e){c(e)}}function x(e){if(!m){A({},"");T(function(r){if(e){if(!U(r,e)){h.push(r)}}else{L(r)}})}return m}function I(){var e=[];h.forEach(function(r){if(!U(r,true)){e.push(r)}});h=e}function N(){h.forEach(L);h=[]}l._addLibraryTheme=function(e){if(m){h.push("sap-ui-theme-"+e)}};function R(r){var t=r.async,a=x(t);if(r.scopeName){a=a["scopes"][r.scopeName]}else{a=a["default"]}var n=a[r.parameterName];if(!n){var i=r.parameterName.indexOf(":");if(i!=-1){var s=r.parameterName.substr(i+1);n=a[s]}}if(r.loadPendingParameters&&typeof n==="undefined"&&!t){var o=e.getAllInstancesRequiringCss();o.forEach(function(e){u._includeLibraryThemeAndEnsureThemeRoot(e)});N();n=R({parameterName:r.parameterName,scopeName:r.scopeName,loadPendingParameters:false})}return n}function E(e,r,t){var a=l.getActiveScopesFor(r,t);var n=a.flat().reduce(function(e,r){if(e.indexOf(r)===-1){e.push(r)}return e},[]);for(var i=0;i<n.length;i++){var s=n[i];var o=R({parameterName:e,scopeName:s,async:t});if(o){return o}}return R({parameterName:e,async:t})}l._getScopes=function(e,r){if(e&&!m){return}var t=x(r);var a=Object.keys(t["scopes"]);return a};l.getActiveScopesFor=function(e,r){var t=[];if(e instanceof a){var n=e.getDomRef();if(r){I()}else{N()}var i=this._getScopes(undefined,r);if(i.length){if(n){var s=function(e){var r=n.classList;return r&&r.contains(e)};while(n){var o=i.filter(s);if(o.length>0){t.push(o)}n=n.parentNode}}else{var u=function(r){return typeof e.hasStyleClass==="function"&&e.hasStyleClass(r)};while(e){var o=i.filter(u);if(o.length>0){t.push(o)}e=typeof e.getParent==="function"&&e.getParent()}}}}return t};l.get=function(e,t){let s,o,u,c,f;let l;var m=function(e){return e.callback===o};if(!p){p=r.getTheme()}if(arguments.length===0){i.warning("[FUTURE FATAL] Legacy variant usage of sap.ui.core.theming.Parameters.get API detected. Do not use the Parameters.get() API to retrieve ALL theming parameters, "+"as this will lead to unwanted synchronous requests. "+"Use the asynchronous API variant instead and retrieve a fixed set of parameters.","LegacyParametersGet","sap.ui.support",function(){return{type:"LegacyParametersGet"}});N();var h=x();return Object.assign({},h["default"])}if(!e){return undefined}if(e instanceof Object&&!Array.isArray(e)){if(!e.name){n.warningThrows("sap.ui.core.theming.Parameters: Get was called with an object argument without one or more parameter names.");return undefined}t=e.scopeElement;o=e.callback;l=e._restrictedParseUrls||false;c=typeof e.name==="string"?[e.name]:e.name;u=true}else{if(typeof e==="string"){c=[e]}else{c=e}i.warning("[FUTURE FATAL] Legacy variant usage of sap.ui.core.theming.Parameters.get API detected for parameter(s): '"+c.join(", ")+"'. This could lead to bad performance and additional synchronous XHRs, as parameters might not be available yet. Use asynchronous variant instead.","LegacyParametersGet","sap.ui.support",function(){return{type:"LegacyParametersGet"}})}var g;var v=function(e){if(t instanceof a){return E(e,t,u)}else{if(u){I()}return R({parameterName:e,loadPendingParameters:!u,async:u})}};const y={};for(var b=0;b<c.length;b++){s=c[b];var w=v(s);if(!u||w){y[s]=w}}if(u&&o&&Object.keys(y).length!==c.length){g=function(){r.detachApplied(g);var t=this.get({name:e.name,scopeElement:e.scopeElement});if(!t||typeof t==="object"&&Object.keys(t).length!==c.length){i.error(`sap.ui.core.theming.Parameters: The following parameters could not be found: "${c.length===1?c[0]:c.filter(e=>t&&!Object.hasOwn(t,e))}"`)}o(t);d.splice(d.findIndex(m),1)}.bind(this);f=d.findIndex(m);if(f>=0){r.detachApplied(d[f].eventHandler);d[f].eventHandler=g}else{d.push({callback:o,eventHandler:g})}r.attachApplied(g);return undefined}if(l){O(y)}return c.length===1?y[c[0]]:y};function O(e){for(const r in e){if(Object.hasOwn(e,r)){let t=e[r];const a=y.exec(t);if(a){t=a[1]}else if(t==="''"||t==="none"){t=null}e[r]=t}}}l._setOrLoadParameters=function(e){m={default:{},scopes:{}};p=r.getTheme();T(function(r){var t=r.substr(13);if(e[t]){s(m["default"],e[t])}else{L(r)}})};l.reset=function(){this._reset.apply(this,arguments)};l._reset=function(){var e=arguments[0]===true;if(!e||r.getTheme()!==p){p=r.getTheme();h=[];m=null}};l._getThemeImage=function(e,r){e=e||"sapUiGlobalLogo";var t=l.get(e);if(t){var a=y.exec(t);if(a){t=a[1]}else if(t==="''"||t==="none"){t=null}}if(r&&!t){return sap.ui.require.toUrl("sap/ui/core/themes/base/img/1x1.gif")}return t};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/theming/ThemeManager", ["sap/base/assert","sap/base/Eventing","sap/base/future","sap/base/Log","sap/base/i18n/Localization","sap/base/util/each","sap/base/util/LoaderExtensions","sap/ui/Device","sap/ui/VersionInfo","sap/ui/core/Lib","sap/ui/core/Theming","sap/ui/core/theming/ThemeHelper","sap/ui/dom/includeStylesheet"],function(e,t,r,a,i,s,n,o,u,c,l,d,f){"use strict";const h=new t;const m=150;const p={};const g=/\.sapUiThemeDesignerCustomCss/i;const v="sap-ui-core-customcss";const T="sap-ui-theme-";let b=true;document.querySelectorAll(`link[id^=${T}]`).forEach(function(e){let t=true;const r=e.getAttribute("id").replace(T,"");p[r]={};e.removeAttribute("data-sap-ui-ready");a.info(`ThemeManager: Preloaded CSS for library ${r} detected: ${e.href}`,undefined,"sap.ui.core.theming.ThemeManager");try{t=!!(e.sheet?.href===e.href&&e.sheet?.cssRules);if(!t){b=t;e.addEventListener("load",t=>{const r=t.type==="error";e.setAttribute("data-sap-ui-ready",!r)})}else{e.setAttribute("data-sap-ui-ready",e.sheet.cssRules.length>0)}}catch(t){a.info("Could not detect ready state of preloaded CSS. Request stylesheet again to verify the response status",undefined,"sap.ui.core.theming.ThemeManager");b=false;f({url:e.href,id:e.getAttribute("id")})}});let y=0;let L=false;let A=null;let C=null;let S={};let E;var R={themeLoaded:b,checkThemeApplied:function(){R.reset();w(true);if(!E){R.fireThemeApplied()}},reset:function(){R.themeLoaded=false;if(E){clearTimeout(E);E=null;y=0;C=null;S={}}},_includeLibraryThemeAndEnsureThemeRoot:function(e){var t=e.name;_(t,l.getTheme());_(t,"base");const r=`${t}${e.variant?"-["+e.variant+"]":""}`;e.preloadedCss=e.preloadedCss||!!p[r];p[r]=e;if(!e.preloadedCss){R.includeLibraryTheme(t,e.variant,e)}},includeLibraryTheme:function(t,r,s){e(typeof t==="string","sLibName must be a string");e(r===undefined||typeof r==="string","sVariant must be a string or undefined");var n=s;if(typeof n==="object"){n=M(s)}if(t==="sap.ui.legacy"||t==="sap.ui.classic"){return}if(!r){r=""}var o=i.getRTL()?"-RTL":"";var u,c=t+(r.length>0?"-["+r+"]":r);if(t&&t.indexOf(":")==-1){u="library"+r+o}else{u=t.substring(t.indexOf(":")+1)+r;t=t.substring(0,t.indexOf(":"))}const d=`${T}${c}`;if(!document.querySelector("LINK[id='"+d+"']")){var h=new URL(R._getThemePath(t,l.getTheme()),document.baseURI).toString();var m=document.createElement("link");m.href=h+u+".css"+(n?n:"");var p=m.href;$(d);a.info("Including "+p+" -  sap.ui.core.theming.ThemeManager.includeLibraryTheme()");f(p,d);var g=sap.ui.require("sap/ui/core/theming/Parameters");if(g){g._addLibraryTheme(c)}R.checkThemeApplied()}},_getThemePath:function(e,t){_(e,t);return sap.ui.require.toUrl((e+".themes."+t).replace(/\./g,"/")+"/")},_updateThemeUrls:function(e,t){var r=document.querySelectorAll(`link[id^=${T}]`);Array.prototype.forEach.call(r,function(r){I(r,e,t)})},_attachThemeApplied:function(e){h.attachEvent("applied",e)},_detachThemeApplied:function(e){h.detachEvent("applied",e)},fireThemeApplied:function(){d.reset();var e=sap.ui.require("sap/ui/core/theming/Parameters");if(e){e._reset(true)}h.fireEvent("applied",{theme:l.getTheme()})}};function U(){var e=l.getTheme();var t=R._getThemePath("sap.ui.core",e)+"custom.css";var r=d.isStandardTheme(l.getTheme());var i=true;var n=[];if(L&&A===e){p[v]={}}function o(s){var o=d.checkAndRemoveStyle({prefix:T,id:s});i=i&&o;if(i){if(!L||A!=e){if(!r&&k(s)){var u=t;var c=M(p["sap.ui.core"]);if(c){u+=c}f(u,v);L=true;a.debug("ThemeManager: delivered custom CSS needs to be loaded, Theme not yet applied");A=e;i=false;return false}else if(L){var l=document.querySelector("LINK[id='"+v+"']");if(l){l.remove();a.debug("ThemeManager: Custom CSS removed")}L=false}}}if(!r&&o&&!S[s]){var h=document.getElementById(`${T}${s}`);if(h&&h.getAttribute("data-sap-ui-ready")==="false"&&!(h.sheet&&d.hasSheetCssRules(h.sheet))){n.push(s)}}}s(p,o);if(n.length>0){if(!C){for(var u in p){var c=d.getMetadata(u);if(c&&c.Extends&&c.Extends[0]){C=c.Extends[0]}else{const t=l.getThemeRoot(e,u);if(t){const e=/~v=[^\/]+\(([a-zA-Z0-9_]+)\)/;C=e.exec(t)?.[1];if(C){C=d.validateAndFallbackTheme(C)}}}if(C){break}}}if(C){n.forEach(function(t){const r=document.getElementById(`${T}${t}`);a.warning("ThemeManager: Custom theme '"+e+"' could not be loaded for library '"+t+"'. "+"Falling back to its base theme '"+C+"'.");I(r,C);S[t]=true});i=false}}if(!i){a.debug("ThemeManager: Theme not yet applied.")}else{A=e}return i}function k(e){var t=window.document.getElementById(`${T}${e}`);if(!t){return false}var i=window.getComputedStyle(t,":after");var s=i?i.getPropertyValue("content"):null;if(!s&&o.browser.safari){var n=document.documentElement;n.classList.add("sapUiThemeDesignerCustomCss");s=window.getComputedStyle(n,":after").getPropertyValue("content");n.classList.remove("sapUiThemeDesignerCustomCss")}if(s&&s!=="none"){try{if(s[0]==="'"||s[0]==='"'){s=s.substring(1,s.length-1)}return s==="true"}catch(e){r.errorThrows("Custom check: Error parsing JSON string for custom.css indication.",{cause:e})}}var u=t.sheet?d.safeAccessSheetCssRules(t.sheet):null;if(!u||u.length===0){a.warning("Custom check: Failed retrieving a CSS rule from stylesheet "+e);return false}for(var c=0;c<2&&c<u.length;c++){if(g.test(u[c].selectorText)){return true}}return false}function w(e){y++;var t=y>m;if(!U()&&!t){var a;if(y<=100){a=2}else if(y<=110){a=500}else{a=1e3}E=setTimeout(w,a)}else if(!e){R.reset();R.themeLoaded=true;R.fireThemeApplied();if(t){r.errorThrows("ThemeManager: max. check cycles reached.")}}else{R.themeLoaded=true}}function $(e){var t=document.getElementById(e);if(t){t.dataset.sapUiFoucmarker=e}}function x(e){var t=document.documentElement;var r=e.new;R._updateThemeUrls(r,true);t.classList.remove("sapUiTheme-"+e.old);t.classList.add("sapUiTheme-"+r);R.checkThemeApplied()}function _(e,t){var r=l.getThemeRoot(t,e);if(r){r=r+(r.slice(-1)=="/"?"":"/")+e.replace(/\./g,"/")+"/themes/"+t+"/";n.registerResourcePath((e+".themes."+t).replace(/\./g,"/"),r)}}function I(e,t,r){var a,s=e.href.search(/[?#]/),n,o,u="library",c=i.getRTL()?"-RTL":"",l,d;var h=new RegExp(`^${T}(.*)$`,"i").exec(e.id);if(Array.isArray(h)){a=h[1]}else{a=e.id.slice(T.length)}p[a]=p[a]||{};if(s>-1){n=e.href.substring(0,s);o=e.href.substring(s)}else{n=e.href;o=""}n=n.substring(n.lastIndexOf("/")+1);if((d=a.indexOf("-["))>0){u+=a.slice(d+2,-1);a=a.slice(0,d)}if(n===u+".css"||n===u+"-RTL.css"){n=u+c+".css"}l=new URL(R._getThemePath(a,t)+n+o,document.baseURI).toString();if(l!=e.href){if(r){e.dataset.sapUiFoucmarker=e.id}f(l,e.id)}}function M(e){var t;if(e){t="?version="+e.version;if(u._content){t+="&sap-ui-dist-version="+u._content.version}}return t}document.documentElement.classList.add("sapUiTheme-"+l.getTheme());a.info("Declared theme "+l.getTheme(),null);l.attachChange(function(e){var t=e.themeRoots;var r=e.theme;if(t&&t.forceUpdate){R._updateThemeUrls(l.getTheme())}if(r){x(r)}});l.registerThemeManager(R);if(!R.themeLoaded){R.checkThemeApplied()}return R});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/AsyncHintsHelper", [],function(){"use strict";var r={};r.modifyUrls=function(r,u){function e(r,u){if(u===undefined){delete r.url}}[r.components,r.libs].forEach(function(r){if(Array.isArray(r)){r.forEach(function(r){if(typeof r!=="object"){return}if(typeof r.url==="string"){r.url=u(r.url);e(r,r.url)}else if(typeof r.url==="object"&&typeof r.url.url==="string"){r.url.url=u(r.url.url);e(r,r.url.url)}})}});return r};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/File", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var e={save:function(e,o,n,r,a,t){var i=o+"."+n;if(typeof t==="undefined"&&a==="utf-8"&&n==="csv"){t=true}if(t===true&&a==="utf-8"){e="\ufeff"+e}if(window.Blob){var d="data:"+r;if(a){d+=";charset="+a}var w=new window.Blob([e],{type:d});if(window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(w,i)}else{var u=window.URL||window.webkitURL;var f=u.createObjectURL(w);var l=window.document.createElement("a");if("download"in l){var v=jQuery(document.body);var p=jQuery(l).attr({download:i,href:f,style:"display:none"});v.append(p);p.get(0).click();p.remove()}else{e=encodeURI(e);var c=window.open(d+","+e);c.opener=null;if(!c){throw new Error("Could not download the file, please deactivate your pop-up blocker.")}}}}}};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/PasteHelper", ["sap/ui/core/Lib","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/base/Log"],function(e,r,n,t){"use strict";var a={};a.getClipboardText=function(e){return typeof e=="string"?e:e.clipboardData.getData("text")};a.getPastedDataAs2DArray=function(e){var r,n,t=[];var a=/sapui5Placeholder4MultiLine/g;var i=a.source;var o=/""/g;var s=this.getClipboardText(e);var l=[];var p=false;var u=s.indexOf('"'),f=-1;var c,h;while(u>-1){h=s.charAt(u-1);if(u===0||h==="\n"||h==="\t"||h==="\r"){f=s.indexOf('"',u+1);if(f>-1){c=s.charAt(f+1);while(f>-1&&c==='"'){f=s.indexOf('"',f+2);c=s.charAt(f+1)}if(c==="\n"||c==="\t"||c===""||c==="\r"){var g=s.substring(u+1,f);s=s.replace('"'+g+'"',i);g=g.replace(o,'"');l.push(g);u=s.indexOf('"',u+i.length+1);p=true}}}if(!p){u=s.indexOf('"',u+1)}p=false}r=s.split(/\r\n|\r|\n/);var v=0;var m=function(){return l[v++]};for(var d=0;d<r.length;d++){n=r[d];if(l.length>0){n=n.replace(a,m)}if(n.length||d<r.length-1){t.push(n.split("\t"))}}return t};a.parse=function(r,n){var t={parsedData:null,errors:null};if(!r){throw new Error("Parameter aData is not specified")}if(n){for(var i=0;i<n.length;i++){var o=n[i];if(o.ignore){continue}if(o.property){if(o.type){var s=o.type;if(s.isA&&s.isA("sap.ui.model.SimpleType")){o.typeInstance=s}else{throw new Error("Data type "+o.type+" is not an instance of any data type")}}else if(o.customParseFunction==undefined){throw new Error("Missing ColumnInfo.type or custom type parse function for column "+(i+1)+". Check the application calling PasteHelper.parse(aData, aColumnInfo) and specify the missing type in the parameter aColumnInfo.")}}else{throw new Error("Missing ColumnInfo.property for column "+(i+1)+". Check the application calling PasteHelper.parse(aData, aColumnInfo) and specify the missing property in the parameter aColumnInfo.")}}}else{throw new Error("Missing parameter aColumnInfo")}var l=[],p=[],u=e.getResourceBundleFor("sap.ui.core");var f=function(e,r){return r.parseValue(e,"string")};var c=function(e,r){return r.validateValue(e)};for(var i=0;i<r.length;i++){var h=r[i];var g=a._parseRow(h,n,i,f,c,u,l);p.push(g)}return Promise.all(p).then(function(e){if(l.length>0){t.parsedData=null;t.errors=l}else{if(e){t.parsedData=e}t.errors=null}return t})};a._parseRow=function(e,r,n,t,i,o,s){var l=[],p={};for(var u=0;u<r.length&&u<e.length;u++){var f=r[u];if(f.ignore){continue}var c=e[u];if(!f.typeInstance){t=f.customParseFunction;i=function(){}}var h=a._parseCell(u,c,f,n,t,i,o,p,s);l.push(h)}return Promise.all(l).then(function(){return p})};a._parseCell=function(e,a,i,o,s,l,p,u,f){return Promise.resolve(a).then(function(e){return s(e,i.typeInstance)}).then(function(e){return Promise.all([e,l(e,i.typeInstance)])}).then(function(e){u[i.property]=e[0]}).catch(function(s){if(s instanceof r||s instanceof n){var l={row:o+1,column:e+1,property:i.property,value:a,type:i.type,message:p.getText("PasteHelper.ErrorMessage",[a,o+1,e+1])+" "+s.message+"\n"};f.push(l);a=null}else{t.error(s)}})};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/ResponsivePaddingsEnablement", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/ResizeHandler","sap/ui/thirdparty/jquery","sap/ui/core/library"],function(e,i,n,jQuery){"use strict";var s={S:599,M:1023,L:1439};var t={S:"sapUi-Std-PaddingS",M:"sapUi-Std-PaddingM",L:"sapUi-Std-PaddingL",XL:"sapUi-Std-PaddingXL"};var r=function(r){if(!this.isA||!this.isA("sap.ui.core.Control")){e.error("Responsive Paddings enablement could be applied over controls only");return}this._initResponsivePaddingsEnablement=function(){this.addEventDelegate({onAfterRendering:d,onBeforeRendering:a},this)};function a(){u(this)}function d(){var e=c(this,r);if(e.length){window.requestAnimationFrame(function(){o(this)}.bind(this))}}function o(e){f(e);if(!e.__iResponsivePaddingsResizeHandlerId__){e.__iResponsivePaddingsResizeHandlerId__=n.register(e,f.bind(e,e))}}function u(e){if(e.__iResponsivePaddingsResizeHandlerId__){n.deregister(e.__iResponsivePaddingsResizeHandlerId__);e.__iResponsivePaddingsResizeHandlerId__=null}}function f(e,i){var n=c(e,r);var s=l(e,n);var t=i?i.size.width:e.$().width();p(s);v(s,t)}function c(e,i){var n=g(i);n=n.filter(function(i){return e.hasStyleClass(i)});if(!n.length){return[]}n=n.map(function(e){return e.split("--")[1]});n=n.map(function(e){return i[e]}).filter(function(e){return e});return n}function l(e,i){var n=jQuery();i.forEach(function(i){if(i.suffix){n=n.add(e.$(i.suffix))}if(i.selector){n=n.add(e.$().find(i.selector).first())}});return n}function p(e){var n=Object.keys(t).map(function(e){return t[e]});e.each(function(e,s){var t=i.closestTo(s);if(s===t.getDomRef()){n.forEach(t.removeStyleClass.bind(t))}else{jQuery(s).removeClass(n.join(" "))}})}function v(e,n){var r;switch(true){case n<=s.S:r="S";break;case n<=s.M&&n>s.S:r="M";break;case n<=s.L&&n>s.M:r="L";break;default:r="XL";break}e.each(function(e,n){var s=i.closestTo(n);if(n===s.getDomRef()){s.addStyleClass(t[r])}else{jQuery(n).addClass(t[r])}})}function g(e){return Object.keys(e).map(function(e){return"sapUiResponsivePadding--"+e})}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/ShortcutHelper", ["sap/ui/Device","sap/ui/events/jquery/EventExtension"],function(e){"use strict";var t={plus:"+",space:" "};var r={OS:"Meta"};var a={"ctrl+l":"jump to address bar","ctrl+n":"new window, cannot be registered in Chrome","ctrl+shift+n":"new incognito window, cannot be registered in Chrome","ctrl+alt+shift+p":"UI5 Technical Info","ctrl+q":"quit Chrome in Mac","ctrl+alt+shift+s":"UI5 Support Popup","ctrl+t":"new tab, cannot be registered in Chrome","ctrl+shift+t":"reopen last tab, cannot be registered in Chrome","ctrl+w":"close tab, cannot be registered in Chrome","ctrl+shift+w":"close window, cannot be registered in Chrome","ctrl+0":"reset zoom","ctrl+-":"zoom out","ctrl++":"zoom in","ctrl+shift+=":"cannot be handled",tab:"TAB-based keyboard navigation","shift+tab":"TAB-based keyboard navigation","ctrl+tab":"cycling through tabs, cannot be registered in Chrome","ctrl+shift+tab":"cycling through tabs, cannot be registered in Chrome","ctrl+alt+delete":"nice try","ctrl+pageup":"cycling through tabs, cannot be registered in Chrome","ctrl+pagedown":"cycling through tabs, cannot be registered in Chrome",f6:"F6-based group navigation",f11:"fullscreen, cannot be registered in Chrome",f12:"browser dev tools"};var n=false;document.addEventListener("keydown",function(e){try{if(e.keyCode===18){n=typeof e.location!=="number"||e.location===1;return}}catch(e){}});var o={findShortcut:function(e,t){var r=e.data("sap.ui.core.Shortcut");if(!r){return}var a=r.filter(function(e){var r=e.shortcutSpec.key===t.key&&e.shortcutSpec.ctrlKey===t.ctrlKey&&e.shortcutSpec.altKey===t.altKey&&e.shortcutSpec.shiftKey===t.shiftKey&&e.shortcutSpec.metaKey===t.metaKey;return r});return a[0]},getNormalizedShortcutSpec:function(t){var r;if(typeof t==="string"){r=o.parseShortcut(t)}else{var a=t.key;var n=/^([a-z0-9\.,\-\*\/= +]|Tab|Enter|Backspace|Home|Delete|End|Pageup|Pagedown|ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Escape|F[1-9]|F1[0-2])$/i.test(a);if(!n){throw new Error("Shortcut key '"+a+"' is not a valid shortcut key. It must match /^([a-z0-9.,-*/= +]|Tab|Enter|Backspace|Home|Delete|End|Pageup|Pagedown|ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Escape|F[1-9]|F1[0-2])$/i")}r={key:o.translateRegisteredKeyToStandard(a).toLowerCase(),ctrlKey:e.os.macintosh?false:!!t.ctrl,ctrlRequested:t.ctrl,altKey:!!t.alt,shiftKey:!!t.shift,metaKey:e.os.macintosh?!!t.ctrl:false}}return r},parseShortcut:function(t){this.validateShortcutString(t);var r=t.toLowerCase().split("+");return{key:o.translateRegisteredKeyToStandard(r.pop()),ctrlKey:e.os.macintosh?false:r.indexOf("ctrl")>-1,ctrlRequested:r.indexOf("ctrl")>-1,altKey:r.indexOf("alt")>-1,shiftKey:r.indexOf("shift")>-1,metaKey:e.os.macintosh?r.indexOf("ctrl")>-1:false}},translateRegisteredKeyToStandard:function(e){return t.hasOwnProperty(e)?t[e]:e},validateShortcutString:function(e){var t=/^((Ctrl|Shift|Alt)\+){0,3}([a-z0-9\.,\-\*\/=]|Plus|Tab|Space|Enter|Backspace|Home|Delete|End|Pageup|Pagedown|Escape|ArrowUp|ArrowDown|ArrowLeft|ArrowRight|F[1-9]|F1[0-2])$/i.test(e);if(!t){throw new Error("Shortcut '"+e+"' is not a valid shortcut string. It must be a '+'-separated list of modifier keys and the actual key, like 'Ctrl+Alt+S'. Or more generally, it must match the expression /^((Ctrl|Shift|Alt)+){0,3}([a-z0-9.,-*/=]|Plus|Tab|Space|Enter|Backspace|Home|Delete|End|Pageup|Pagedown|ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Escape|F[1-9]|F1[0-2])$/i.")}},validateKeyCombination:function(e){var t=e.ctrlRequested?"ctrl+":"";t+=e.altKey?"alt+":"";t+=e.shiftKey?"shift+":"";t+=e.key;if(a[t]){throw new Error("Registering the shortcut '"+t+"' is not allowed ("+a[t]+").")}if([".",",","-","+","=","*","/"].indexOf(e.key)>-1&&t.indexOf("shift")>-1){throw new Error("Registering the shortcut '"+t+"' is not allowed because the 'Shift' modifier changes the meaning of the "+e.key+" key on many keyboards.")}},getNormalizedShortcutString:function(e){var t=e.ctrlRequested?"ctrl+":"";t+=e.altKey?"alt+":"";t+=e.shiftKey?"shift+":"";t+=e.key;return t},shortcutMayBeUsedHere:function(e,t){var r=t.tagName.toLowerCase();if((r==="input"||r==="textarea")&&e.key.includes("arrow")){return false}return true},handleKeydown:function(e,t,a,i){if(!i.key){return}if(i.key==="Control"||i.key==="Shift"||i.key==="Alt"||i.key==="AltGraph"||i.key==="Meta"){return}if(i.isMarked()){return}if(i.altKey&&!n){return}var s=r.hasOwnProperty(i.key)?r[i.key]:i.key;s=s.toLowerCase();if(s!==e.key||i.ctrlKey!==e.ctrlKey||i.altKey!==e.altKey||i.shiftKey!==e.shiftKey||i.metaKey!==e.metaKey){return}if(!o.shortcutMayBeUsedHere(e,i.target||i.srcElement)){return}i.preventDefault();i.setMarked();i.stopPropagation();var c={registeredShortcut:t,originalBrowserEvent:i.originalEvent||i};a(c)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/XMLPreprocessor", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/JSTokenizer","sap/base/util/ObjectPath","sap/ui/base/BindingInfo","sap/ui/base/BindingParser","sap/ui/base/ManagedObject","sap/ui/base/SyncPromise","sap/ui/core/Component","sap/ui/core/XMLTemplateProcessor","sap/ui/model/BindingMode","sap/ui/model/CompositeBinding","sap/ui/model/Context","sap/ui/performance/Measurement"],function(e,n,t,r,i,o,a,u,s,f,l,c,d,g){"use strict";var p="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1",m="sap.ui.core.util.XMLPreprocessor",h=[m],v=m+"/getResolvedBinding",y=m+"/insertFragment",b=m+".process",x=u.resolve(),w=u.resolve(true),C=Object.prototype.toString,N={},A=a.extend("sap.ui.core.util._with",{metadata:{library:"sap.ui.core",properties:{any:"any"},aggregations:{child:{multiple:false,type:"sap.ui.core.util._with"}}},updateProperty:function(){this.setAny(this.mBindingInfos.any.binding.getExternalValue())}}),M=A.extend("sap.ui.core.util._repeat",{metadata:{library:"sap.ui.core",aggregations:{list:{multiple:true,type:"n/a",_doesNotRequireFactory:true}}},updateList:function(){}});function P(e,n,t,r){function i(n){if(!r){r=e.getBinding("any");if(r instanceof c){r=r.getBindings();if(t!==undefined){r=r[t]}}}return Array.isArray(r)?r[n]:r}function o(e){return e instanceof d?e.getPath():e.getModel().resolve(e.getPath(),e.getContext())}return{_slice:function(e,t){i(0);return!e&&t>=r.length?this:P(null,n,undefined,r.slice(e,t))},getInterface:function(e,t){var o,a,u;if(typeof e==="string"){t=e;e=undefined}i();if(Array.isArray(r)){if(e>=0&&e<r.length){a=r[e]}else{throw new Error("Invalid index of part: "+e)}}else if(e!==undefined){throw new Error("Not the root formatter of a composite binding")}else if(t){a=r}else{throw new Error("Missing path")}if(t){u=a.getModel();if(t.charAt(0)!=="/"){o=a instanceof d?a:u.createBindingContext(a.getPath(),a.getContext())}a=u.createBindingContext(t,o);if(!a){throw new Error("Model could not create binding context synchronously: "+u)}}return P(null,n,undefined,a)},getModel:function(e){var n=i(e);return n&&n.getModel()},getPath:function(e){var n=i(e);return n&&o(n)},getSetting:function(e){if(e==="bindingContexts"||e==="models"){throw new Error("Illegal argument: "+e)}return n[e]}}}function E(e,n,t,r,i){var o=false;function a(n,a){var s=n.formatter,f=n.model,c=e.getModel(f);if(s&&s.requiresIContext===true){s=n.formatter=s.bind(null,P(e,t,a))}if(s&&i&&(c&&c.$$valueAsPromise||a===undefined&&o)){n.formatter=function(){var e=this;return u.all(arguments).then(function(n){return s.apply(e,n)})};n.formatter.textFragments=s.textFragments}n.mode=l.OneTime;n.parameters??={};n.parameters.scope=r;if(i&&c&&c.$$valueAsPromise){o=n.parameters.$$valueAsPromise=true}}try{n.parts.forEach(a);a(n);e.bindProperty("any",n);return u.resolve(e.getAny())}catch(e){return u.reject(e)}finally{e.unbindProperty("any",true)}}function I(e,n){var t=-1;function r(i){if(i){return e[t]}t+=1;if(t<e.length){return n(e[t],t,e).then(r)}return undefined}return e.length?r():x}function B(e){var n,t=e.attributes,r="<"+e.nodeName,i,o;for(i=0,o=t.length;i<o;i+=1){n=t.item(i);r+=" "+n.name+'="'+n.value+'"'}return r+(e.childNodes.length?">":"/>")}function F(e,n){return n.visitNode(e)}return{plugIn:function(n,t,r){var i=N[t];if(n!==null&&typeof n!=="function"||n===F){throw new Error("Invalid visitor: "+n)}if(!t||t===p||t==="sap.ui.core"||t.indexOf(" ")>=0){throw new Error("Invalid namespace: "+t)}e.debug("Plug-in visitor for namespace '"+t+"', local name '"+r+"'",n,m);if(r){t=t+" "+r;i=N[t]||i}N[t]=n;return i||F},visitNodeWrapper:F,process:function(a,c,P){var F=c.caller,j=e.isLoggable(e.Level.DEBUG,m),O=j,R=c.name,S={},L=0,U={},$=c._supportInfo,T=e.isLoggable(e.Level.WARNING,m);function q(e){return{find:function(e,n){try{return u.resolve(I(e,n))}catch(e){return u.reject(e)}},getContext:function(n=""){var t,r,i;if(n[0]==="{"){throw new Error("Must be a simple path, not a binding: "+n)}t=o.simpleParser("{"+n+"}");r=e.getModel(t.model);if(!r){throw new Error("Unknown model '"+t.model+"': "+n)}i=r.resolve(t.path,e.getBindingContext(t.model));if(!i){throw new Error("Cannot resolve path: "+n)}return r.createBindingContext(i)},getResult:function(n,t){return z(n,t,e,true)},getSettings:function(){return P},getViewInfo:function(){return n({},c)},insertFragment:function(n,t){return G(n,t,e)},visitAttribute:function(n,t){return ie(n,t,e)},visitAttributes:function(n){return oe(n,e)},visitChildNodes:function(n){return ae(n,e)},visitNode:function(n){try{return ue(n,e)}catch(e){return u.reject(e)}},with:function(n,t){var r,i=false,o,a=new A;if(!t){e.setChild(a)}for(o in n){r=n[o];i=true;a.setModel(r.getModel(),o);a.bindObject({model:o,path:r.getPath()})}return i||t?q(a):this}}}function k(n){if(j){e.debug(J()+Array.prototype.slice.call(arguments,1).join(" "),n&&B(n),m)}}function _(n){if(j){e.debug(J()+"Finished","</"+n.nodeName+">",m)}}function D(n,t){n+=B(t);e.error(n,F,m);throw new Error(F+": "+n)}function X(e){var n,t=Array.prototype.filter.call(e.childNodes,a),r,i,o=false;function a(e){return e.nodeType===1}function u(e,n){return e.namespaceURI===p&&e.localName===n}if(!t.length||!u(t[0],"then")){return null}for(r=1,i=t.length;r<i;r+=1){n=t[r];if(o){D("Expected </"+e.prefix+":if>, but instead saw ",n)}if(u(n,"else")){o=true}else if(!u(n,"elseif")){D("Expected <"+e.prefix+":elseif> or <"+e.prefix+":else>, but instead saw ",t[r])}}return t}function J(){return(L<10?"[ ":"[")+L+"] "}function W(e){return e&&e.charAt(0)==="."?r.get(e.slice(1),U):r.get(e||"",U)||r.get(e||"")}function z(e,n,t,r,a){try{g.average(v,"",h);let s;try{s=o.complexParser(e,U,r,true,true,true,null,!c.sync)}catch(e){return u.reject(e)}let f;if(s){if(!c.sync){if(s.wait){f=u.resolve(s.resolved)}s=s.bindingInfo}if(typeof s==="string"){a?.();return u.resolve(s)}s=i.createProperty(s)}else{a?.();return u.resolve(e)}if(s.functionsNotFound){if(r){se(n,"Function name(s)",s.functionsNotFound.join(", "),"not found")}return null}if(!i.isReady(s,t)){if(r){se(n,"Binding not ready")}return null}const l=s.parts.every(e=>e.value!==undefined);if(l){a?.()}if(!f){const r=E(t,s,P,U,!c.sync);if(c.sync&&r.isPending()){D("Async formatter in sync view in "+e+" of ",n)}return r}return f.then(function(){return E(t,s,P,U,true)})}finally{g.end(v)}}function G(e,n,t){var r,i=c.sync?f.loadTemplate:f.loadTemplatePromise,o=R;t.$mFragmentContexts??={};if(t.$mFragmentContexts[e]){D("Cyclic reference to fragment '"+e+"' ",n)}L++;k(n,"fragmentName =",e);t.$mFragmentContexts[e]=true;R=e;g.average(y,"",h);r=S[e];if(!r){S[e]=r=u.resolve(i(e,"fragment"))}return r.then(function(e){e=n.ownerDocument.importNode(e,true);g.end(y);return K(e).then(function(){if(e.namespaceURI==="sap.ui.core"&&e.localName==="FragmentDefinition"){return V(e,t,n)}n.parentNode.insertBefore(e,n);return ue(e,t)})}).then(function(){n.parentNode.removeChild(n);R=o;t.$mFragmentContexts[e]=false;_(n);L-=1})}function V(e,n,t=e){return ae(e,n).then(function(){var n;while(n=e.firstChild){t.parentNode.insertBefore(n,t)}})}function H(e,n){var t=se.bind(null,e,"Constant test condition"),r=z(e.getAttribute("test"),e,n,true,t)||u.resolve(false);return r.catch(function(n){se(e,"Error in formatter:",n)}).then(function(n){var t=!!n&&n!=="false";if(j){if(typeof n==="string"){n=JSON.stringify(n)}else if(n===undefined){n="undefined"}else if(Array.isArray(n)){n="[object Array]"}k(e,"test ==",n,"--\x3e",t)}return t})}function K(e){var n={},r=e.getAttributeNodeNS(p,"require"),i,o;function a(){return new u(function(e,n){var t=o.map(sap.ui.require);if(t.every(Boolean)){e(t)}else{sap.ui.require(o,function(){e(arguments)},n)}}).then(function(e){Object.keys(n).forEach(function(n,t){U[n]=e[t]})})}if(r&&r.value){i=r.value;e.removeAttributeNode(r);if(i[0]==="{"){n=t.parseJS(i);o=Object.keys(n).map(function(e){return n[e]});return a()}o=i.split(" ").map(function(e){return e.replace(/\./g,"/")});if(!c.sync){return a()}o.forEach(sap.ui.requireSync)}return x}function Q(e,n,t){var r=z(n.value,e,t,false);if(!r){k(e,"Binding not ready for attribute",n.name);return x}return r.then(function(t){if(t===null||t===undefined){k(e,"Removed attribute",n.name);e.removeAttributeNode(n)}else if(t!==n.value){switch(typeof t){case"boolean":case"number":case"string":k(e,n.name,"=",t);n.value=t;break;default:k(e,"Ignoring",C.call(t),"value for attribute",n.name)}}},function(t){k(e,"Error in formatter of attribute",n.name,t)})}function Y(e,n){var t=e.getAttribute("name"),r,i,o=e.getAttribute("value");if(t&&t[0]==="."){t=t.slice(1)}if(!t||t.includes(".")){D("Missing proper relative name in ",e)}r=W(o);if(!r){D("Invalid value in ",e)}i=U[t];U[t]=r;return V(e,n).then(function(){e.parentNode.removeChild(e);U[t]=i})}function Z(e,n){var t=e.getAttribute("name"),r=z(t,e,n,true);if(!r){return w}return r.then(function(r){var i;if(r!==t){k(e,"name =",r)}i=s.getCustomizing(c.componentId,{extensionName:r,name:R,type:"sap.ui.viewExtensions"});if(i&&i.className==="sap.ui.core.Fragment"&&i.type==="XML"){return G(i.fragmentName,e,n)}return true},function(n){se(e,"Error in formatter:",n);return true})}function ee(e,n){var t=e.getAttribute("fragmentName"),r=z(t,e,n,true);if(!r){return x}return r.then(function(t){var r=U;U=Object.create(U);return G(t,e,n).then(function(){U=r})},function(n){se(e,"Error in formatter:",n)})}function ne(e,n){L++;return I(X(e)||[e],function(t){if(t.localName==="else"){return w}if(t.localName==="then"){t=e}return H(t,n)}).then(function(t){return(t?V(t,n,e):x).then(function(){e.parentNode.removeChild(e);_(e);L-=1})})}function te(e,n){var t=e.getAttribute("list")||"",r=o.complexParser(t,U,false,true,true,true),i,a,s,f,d,g=e.getAttribute("var");if(g===""){D("Missing variable name for ",e)}if(!r){D("Missing binding for ",e)}if(r.functionsNotFound){se(e,"Function name(s)",r.functionsNotFound.join(", "),"not found")}f=new M;n.setChild(f);r.mode=l.OneTime;f.bindAggregation("list",r);a=f.getBinding("list");f.unbindAggregation("list",true);s=r.model;if(!a){D("Missing model '"+s+"' in ",e)}a.enableExtendedChangeDetection();i=a.getContexts(r.startIndex,r.length||Infinity);if(!c.sync&&i.dataRequested){d=new u(function(e){a.attachEventOnce("change",e)}).then(function(){return a.getContexts(r.startIndex,r.length)})}else{d=u.resolve(i)}g??=s;f.setModel(a.getModel(),g);L++;k(e,"Starting");return d.then(function(n){return I(n,function(t,r){var i=r===n.length-1?e:e.cloneNode(true);f.setBindingContext(t,g);k(e,g,"=",t.getPath());return V(i,f,e)}).then(function(){_(e);L-=1;e.parentNode.removeChild(e)})})}function re(e,n){var t,r,i,a,s=e.getAttribute("helper"),f,l=e.getAttribute("path"),g,p,m=e.getAttribute("var");if(m===""){D("Missing variable name for ",e)}i=new A;n.setChild(i);t=o.simpleParser("{"+l+"}");m??=t.model;if(s||m){r=n.getModel(t.model);if(!r){D("Missing model '"+t.model+"' in ",e)}p=r.resolve(t.path,n.getBindingContext(t.model));if(!p){D("Cannot resolve path for ",e)}f=r.createBindingContext(p);if(s){a=W(s);if(typeof a!=="function"){D("Cannot resolve helper for ",e)}f=a(f)}g=u.resolve(f);if(c.sync&&g.isPending()){D("Async helper in sync view in ",e)}g=g.then(function(n){if(n instanceof d){r=n.getModel();p=n.getPath()}else if(n!==undefined){if(typeof n!=="string"||n===""){D("Illegal helper result '"+n+"' in ",e)}p=n}i.setModel(r,m);i.bindObject({model:m,path:p})})}else{p=l;i.bindObject(p);g=x}return g.then(function(){L++;k(e,m,"=",p);if(i.getBindingContext(m)===n.getBindingContext(m)){se(e,"Set unchanged path:",p);i=n}return V(e,i).then(function(){e.parentNode.removeChild(e);_(e);L-=1})})}function ie(e,n,t){if($){$({context:undefined,env:{caller:"visitAttribute",before:{name:n.name,value:n.value}}})}return Q(e,n,t).then(function(){if($){$({context:undefined,env:{caller:"visitAttribute",after:{name:n.name,value:n.value}}})}})}function oe(e,n){function t(e,n){return e.name.localeCompare(n.name)}return I(Array.prototype.slice.apply(e.attributes).sort(t),function(t){return ie(e,t,n)})}function ae(e,n){return I(Array.prototype.slice.apply(e.childNodes),function(e){return ue(e,n)})}function ue(e,n){var t;function r(){return oe(e,n).then(function(){return ae(e,n)}).then(function(){if($){$({context:e,env:{caller:"visitNode",after:{name:e.tagName}}})}})}if(e.nodeType!==1){return x}if($){$({context:e,env:{caller:"visitNode",before:{name:e.tagName}}})}if(e.namespaceURI===p){switch(e.localName){case"alias":return Y(e,n);case"if":return ne(e,n);case"repeat":return te(e,n);case"with":return re(e,n);default:D("Unexpected tag ",e)}}else if(e.namespaceURI==="sap.ui.core"){switch(e.localName){case"ExtensionPoint":return Z(e,n).then(function(e){return e?r():undefined});case"Fragment":if(e.getAttribute("type")==="XML"){return ee(e,n)}break}}else{t=N[e.namespaceURI+" "+e.localName]||N[e.namespaceURI];if(t){L++;k(e,"Calling visitor");return t(e,q(n)).then(function(n){if(n!==undefined){D("Unexpected return value from visitor for ",e)}_(e);L-=1})}}return r()}function se(n){if(T){if(!O){O=true;e.warning("Warning(s) during processing of "+F,null,m)}e.warning(J()+Array.prototype.slice.call(arguments,1).join(" "),n&&B(n),m)}}g.average(b,"",h);P??={};if(j){k(undefined,"Start processing",F);if(P.bindingContexts instanceof d){k(undefined,"undefined =",P.bindingContexts)}else{for(const e in P.bindingContexts){k(undefined,e,"=",P.bindingContexts[e])}}}if($){$({context:a,env:{caller:"view",viewinfo:n({},c),settings:n({},P),clone:a.cloneNode(true),type:"template"}})}return K(a).then(function(){return ue(a,new A({models:P.models,bindingContexts:P.bindingContexts}))}).then(function(){k(undefined,"Finished processing",F);g.end(b);return a}).unwrap()}}},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/reflection/BaseTreeModifier", ["sap/base/util/isPlainObject","sap/base/Log","sap/ui/base/ManagedObject","sap/ui/base/ManagedObjectMetadata","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/util/XMLHelper"],function(t,e,n,o,r,i,a){"use strict";function s(t){return new Promise(function(e,n){sap.ui.require([t],function(t){e(t)},function(){n(new Error("Required control '"+t+"' couldn't be created asynchronously"))})})}return{bySelectorExtensionPointEnabled:function(t,e,n){return Promise.resolve(this.bySelector(t,e,n))},bySelectorTypeIndependent:async function(t,e,n){if(t?.name){n||=this.bySelector(t.viewSelector,e);const o=await this.getExtensionPointInfo(t.name,n);return o?o.parent:undefined}const o=this.getControlIdBySelector(t,e);return this._byId(o,n)},bySelector:function(t,e,n){const o=this.getControlIdBySelector(t,e);return this._byId(o,n)},getControlIdBySelector:function(t,e){if(!t){return undefined}if(typeof t==="string"){t={id:t}}let n=t.id;if(t.idIsLocal){if(e){if(typeof e==="string"){n=`${e}---${n}`}else{n=e.createId(n)}}else{throw new Error("App Component instance needed to get a control's ID from selector")}}return n},getSelector:function(t,e,n){let o=t;if(typeof o!=="string"){o=t?this.getId(t):undefined}else if(!e){throw new Error("App Component instance needed to get a selector from string ID")}if(n&&(n.id||n.idIsLocal)){throw new Error("A selector of control with the ID '"+o+"' was requested, "+"but core properties were overwritten by the additionally passed information.")}const r=this.checkControlId(o,e);if(!r){throw new Error("Generated ID attribute found - to offer flexibility a stable control ID is needed to assign the changes to, but for this control the ID was generated by SAPUI5 "+o)}const i=Object.assign({},n,{id:"",idIsLocal:false});if(this.hasLocalIdSuffix(o,e)){const t=e.getLocalId(o);i.id=t;i.idIsLocal=true}else{i.id=o}return i},checkControlId:function(t,e){const r=t instanceof n?t.getId():t;const i=o.isGeneratedId(r);return!i||this.hasLocalIdSuffix(t,e)},hasLocalIdSuffix:function(t,e){const o=t instanceof n?t.getId():t;if(!e){return false}return!!e.getLocalId(o)},_checkAndPrefixIdsInFragment:function(t,e){const n=a.getParseError(t);if(n.errorCode!==0){return Promise.reject(new Error(t.parseError.reason))}const o=t.documentElement;let r=[];let i=[];if(o.localName==="FragmentDefinition"){r=this._getElementNodeChildren(o)}else{r=[o]}i=[].concat(r);function s(t){i.push(t)}let c=Promise.resolve();for(let t=0,e=r.length;t<e;t++){c=c.then(this._traverseXmlTree.bind(this,s,r[t]))}return c.then(function(){for(let t=0,n=i.length;t<n;t++){if(i[t].getAttribute("id")){i[t].setAttribute("id",e+"."+i[t].getAttribute("id"))}else{throw new Error("At least one control does not have a stable ID")}}return o})},_getElementNodeChildren:function(t){const e=[];const n=t.childNodes;for(let t=0,o=n.length;t<o;t++){if(n[t].nodeType===1){e.push(n[t])}}return e},_getControlMetadataInXml:async function(t){const e=this._getControlTypeInXml(t).replace(/\./g,"/");const n=sap.ui.require(e)||await s(e);if(n?.getMetadata){return n.getMetadata()}else{throw new Error("getMetadata function is not available on control type")}},getControlMetadata:function(t){},getLibraryName:async function(t){const e=await this.getControlMetadata(t);return e.getLibraryName()},_getControlTypeInXml:function(t){let e=t.namespaceURI;e=e?e+".":"";e+=t.localName;return e},_traverseXmlTree:function(t,e){async function n(e,o){let r;if(!o){r=await this._getControlMetadataInXml(e,true)}const i=r&&await r.getAllAggregations();const a=this._getElementNodeChildren(e);let s=Promise.resolve();a.forEach(function(e){const o=i&&i[e.localName];s=s.then(function(){return n.call(this,e,o).then(function(){if(!o){t(e)}})}.bind(this))}.bind(this));return s}return n.call(this,e,false)},_getSerializedValue:function(t){if(this._isSerializable(t)&&typeof t!=="string"){return JSON.stringify(t)}return t},_isSerializable:function(e){return t(e)||Array.isArray(e)||Object(e)!==e},_escapeCurlyBracketsInString:function(t){return typeof t==="string"?t.replace(/({|})/g,"\\$&"):t},_templateFragment:function(t,e){return Promise.resolve(r.process(i.loadTemplate(t,"fragment"),{name:t},e))},getPropertyBindingOrProperty:function(t,e){const n=this.getPropertyBinding(t,e);if(n){return Promise.resolve(n)}return this.getProperty(t,e)},setPropertyBindingOrProperty:function(t,e,n){const o=n&&(n.path||n.parts);const r=n&&typeof n==="string"&&n.substring(0,1)==="{"&&n.slice(-1)==="}";const i=o||r?"setPropertyBinding":"setProperty";this[i](t,e,n)},setVisible:function(t,e){},getVisible:function(t){},setStashed:function(t,e){},getStashed:function(t){},bindProperty:function(t,e,n){},unbindProperty:function(t,e){},bindAggregation:function(t,e,n){},unbindAggregation:function(t,e){},setProperty:function(t,e,n){},getProperty:function(t,e){},isPropertyInitial:function(t,e){},setPropertyBinding:function(t,e,n){},getPropertyBinding:function(t,e){},createAndAddCustomData:function(t,e,n,o){},getCustomDataInfo:function(t,e){},createControl:function(t,e,n,o,r){},applySettings:function(t,e){},_byId:function(t,e){},getId:function(t){},getParent:function(t){},getControlType:function(t){},setAssociation:function(t,e,n){},getAssociation:function(t,e){},getAllAggregations:function(t){},getAggregation:function(t,e){},insertAggregation:function(t,e,n,o,r,i){},removeAggregation:function(t,e,n){},moveAggregation:function(t,e,n,o,r,i,a,s){},replaceAllAggregation:function(t,e,n){},removeAllAggregation:function(t,e){},getBindingTemplate:function(t,e){},updateAggregation:function(t,e){},findIndexInParentAggregation:function(t){},getParentAggregationName:function(t,e){},findAggregation:function(t,e){},validateType:function(t,e,n,o,r){},instantiateFragment:function(t,e,n){},templateControlFragment:function(t,e,n){},destroy:function(t){},getChangeHandlerModulePath:function(t){return this._getFlexCustomData(t,"flexibility")},_getFlexCustomData:function(t){},getFlexDelegate:function(t){let n;const o=this._getFlexCustomData(t,"delegate");if(typeof o==="string"){try{n=JSON.parse(o);if(n.payload===undefined){n.payload={}}}catch(n){e.error("Flex Delegate for control "+this.getId(t)+" is malformed",n.message)}}return n},getExtensionPointInfo:function(t,e){}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/reflection/JsControlTreeModifier", ["sap/base/util/merge","sap/base/util/ObjectPath","sap/ui/base/BindingParser","sap/ui/core/util/reflection/BaseTreeModifier","sap/ui/core/util/reflection/XmlTreeModifier","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/util/XMLHelper"],function(t,e,n,r,i,o,a,s){"use strict";function g(t){return new Promise(function(e,n){sap.ui.require([t],function(t){e(t)},function(){n(new Error("Required control '"+t+"' couldn't be created asynchronously"))})})}const u={targets:"jsControlTree",setVisible:function(t,e){if(t.setVisible){this.unbindProperty(t,"visible");t.setVisible(e)}else{throw new Error("Provided control instance has no setVisible method")}},getVisible:function(t){if(t.getVisible){return Promise.resolve(t.getVisible())}else{return Promise.reject(new Error("Provided control instance has no getVisible method"))}},setStashed:async function(t,e){e=!!e;if(t.unstash){if(t.isStashed()===true&&e===false){t=await t.unstash(true)}if(t.setVisible){this.setVisible(t,!e)}return t}else{throw new Error("Provided control instance has no unstash method")}},getStashed:async function(t){if(t.isStashed){if(t.isStashed()){return true}const e=await this.getVisible(t);return!e}throw new Error("Provided control instance has no isStashed method")},bindProperty:function(t,e,n){t.bindProperty(e,n)},unbindProperty:function(t,e){if(t){t.unbindProperty(e,true)}},setProperty:function(t,e,r){const i=t.getMetadata().getPropertyLikeSetting(e);let o;let a;this.unbindProperty(t,e);try{o=n.complexParser(r,undefined,true)}catch(t){a=true}if(i){if(this._isSerializable(r)){if(o&&typeof o==="object"||a){r=this._escapeCurlyBracketsInString(r)}const e=i._sMutator;t[e](r)}else{throw new TypeError("Value cannot be stringified","sap.ui.core.util.reflection.JsControlTreeModifier")}}},getProperty:function(t,e){const n=t.getMetadata().getPropertyLikeSetting(e);let r;if(n){const e=n._sGetter;r=t[e]()}return Promise.resolve(r)},isPropertyInitial:function(t,e){return t.isPropertyInitial(e)},setPropertyBinding:function(t,e,n){this.unbindProperty(t,e);const r={};r[e]=n;return t.applySettings(r)},getPropertyBinding:function(t,e){return t.getBindingInfo(e)},createAndAddCustomData:async function(t,e,n,r){const i=await this.createControl("sap.ui.core.CustomData",r);this.setProperty(i,"key",e);this.setProperty(i,"value",n);return this.insertAggregation(t,"customData",i,0)},getCustomDataInfo:function(t,e){let n;if(t.getCustomData){t.getCustomData().some(function(t){if(t.getKey()===e){n=t;return true}return false})}if(n){return{customData:n,customDataValue:n.getValue()}}else{return{}}},createControl:async function(t,e,n,r,i){t=t.replace(/\./g,"/");if(this.bySelector(r,e)){const t="Can't create a control with duplicated ID "+(r.id||r);return Promise.reject(t)}const o=sap.ui.require(t)||await g(t);const a=this.getControlIdBySelector(r,e);return new o(a,i)},applySettings:function(t,e){return Promise.resolve(t.applySettings(e))},_byId:function(t){return o.getElementById(t)},getId:function(t){return t.getId()},getParent:function(t){return t.getParent?.()},getControlMetadata:function(t){return Promise.resolve(t?.getMetadata())},getControlType:function(t){return t?.getMetadata().getName()},setAssociation:function(t,e,n){const r=t.getMetadata().getAssociation(e);r.set(t,n)},getAssociation:function(t,e){const n=t.getMetadata().getAssociation(e);return n.get(t)},getAllAggregations:function(t){return Promise.resolve(t.getMetadata().getAllAggregations())},getAggregation:async function(t,e){const n=await this.findAggregation(t,e);if(n){return t[n._sGetter]()}return undefined},insertAggregation:async function(t,e,n,r){if(e==="customData"){t.insertAggregation(e,n,r,true);return}const i=await this.findAggregation(t,e);if(i){if(i.multiple){const e=r||0;t[i._sInsertMutator](n,e)}else{t[i._sMutator](n)}}},removeAggregation:async function(t,e,n){if(e==="customData"){t.removeAggregation(e,n,true);return}const r=await this.findAggregation(t,e);if(r){t[r._sRemoveMutator](n)}},moveAggregation:async function(t,e,n,r,i,o){let a;let s;if(e==="customData"){t.removeAggregation(e,i,true)}else{a=await this.findAggregation(t,e)}if(r==="customData"){n.insertAggregation(r,i,o,true)}else{s=await this.findAggregation(n,r)}if(a&&s){t[a._sRemoveMutator](i);if(s.multiple){n[s._sInsertMutator](i,o)}else{n[s._sMutator](i)}}},replaceAllAggregation:async function(t,e,n){const r=await this.findAggregation(t,e);t[r._sRemoveAllMutator]();n.forEach((e,n)=>{t[r._sInsertMutator](e,n)})},removeAllAggregation:async function(t,e){if(e==="customData"){t.removeAllAggregation(e,true)}else{const n=await this.findAggregation(t,e);if(n){t[n._sRemoveAllMutator]()}}},getBindingTemplate:function(t,e){const n=t.getBindingInfo(e);return Promise.resolve(n?.template)},updateAggregation:async function(t,e){const n=await this.findAggregation(t,e);if(n&&t.getBinding(e)){t[n._sDestructor]();t.updateAggregation(e)}},findIndexInParentAggregation:async function(t){const e=this.getParent(t);if(!e){return-1}const n=await this.getParentAggregationName(t);const r=await this.getAggregation(e,n);if(Array.isArray(r)){return r.indexOf(t)}else{return 0}},getParentAggregationName:function(t){return Promise.resolve(t.sParentAggregationName)},findAggregation:function(t,e){if(t?.getMetadata){const n=t.getMetadata();const r=n.getAllAggregations();return Promise.resolve(r[e])}return Promise.resolve(undefined)},validateType:async function(t,e,n,r){const i=e.type;const o=await this.getAggregation(n,e.name);if(e.multiple===false&&o&&o.length>0){return false}return t.isA(i)},instantiateFragment:async function(t,e,n){const r=s.parse(t);const i=await this._checkAndPrefixIdsInFragment(r,e);const o=await a.load({definition:i,sId:n&&n.getId(),controller:n.getController()});if(o&&!Array.isArray(o)){return[o]}return o||[]},templateControlFragment:async function(t,e,n){const i=await r._templateFragment(t,e);const o=n?.getController();return a.load({definition:i,controller:o})},destroy:function(t,e){t.destroy(e)},_getFlexCustomData:function(t,n){const r=typeof t==="object"&&typeof t.data==="function"&&t.data("sap-ui-custom-settings");return e.get(["sap.ui.fl",n],r)},bindAggregation:function(t,e,n){return Promise.resolve(t.bindAggregation(e,n))},unbindAggregation:function(t,e){return Promise.resolve(t.unbindAggregation(e))},getExtensionPointInfo:async function(t,e){const n=e._xContent?e._xContent:e;const r=await i.getExtensionPointInfo(t,n);if(r){r.index--;r.parent=r.parent&&this._byId(e.createId(r.parent.getAttribute("id")));r.defaultContent=r.defaultContent.map(t=>{const n=e.createId(t.getAttribute("id"));return this._byId(n)}).filter(t=>!!t)}return r}};return t({},r,u)},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/reflection/XmlTreeModifier", ["sap/base/util/isPlainObject","sap/base/util/merge","sap/ui/base/DataType","sap/ui/base/ManagedObject","sap/ui/core/util/reflection/BaseTreeModifier","sap/ui/core/Fragment","sap/ui/util/XMLHelper"],function(t,e,n,i,r,o,a){"use strict";const s="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1";const c=e({},r,{targets:"xmlTree",setVisible:function(t,e){if(e){t.removeAttribute("visible")}else{t.setAttribute("visible",e)}},getVisible:function(t){return c.getProperty(t,"visible")},setStashed:function(t,e){if(!e){t.removeAttribute("stashed")}else{t.setAttribute("stashed",e)}c.setVisible(t,!e);return Promise.resolve()},getStashed:function(t){return Promise.all([c.getProperty(t,"stashed"),c.getProperty(t,"visible")]).then(function(t){return!!t[0]||!t[1]})},bindProperty:function(t,e,n){t.setAttribute(e,"{"+n+"}")},unbindProperty:function(t,e){t.removeAttribute(e)},_setProperty:function(t,e,n,i){let r=c._getSerializedValue(n);if(i){r=c._escapeCurlyBracketsInString(r)}t.setAttribute(e,r)},setProperty:function(t,e,n){c._setProperty(t,e,n,true)},getProperty:async function(e,r){let o;let a=e.getAttribute(r);const s=await c.getControlMetadata(e);const g=s.getProperty(r);if(g){o=g.getType();if(r==="value"&&c.getControlType(e)==="sap.ui.core.CustomData"){const t=await c.getProperty(e,"key");if(t==="sap-ui-custom-settings"){o=n.getType("object")}}if(a===null){a=g.getDefaultValue()||o.getDefaultValue()}else{const e=i.bindingParser(a,undefined,true);if(t(e)){if(e.path||e.parts){a=undefined}else{a=e}}else{a=o.parseValue(e||a)}}}return a},isPropertyInitial:function(t,e){const n=t.getAttribute(e);return n==null},setPropertyBinding:function(t,e,n){if(typeof n!=="string"){throw new Error("For XML, only strings are supported to be set as property binding.")}t.setAttribute(e,n)},getPropertyBinding:function(t,e){const n=t.getAttribute(e);if(n){const t=i.bindingParser(n,undefined,true);if(t&&(t.path||t.parts)){return t}}return undefined},createAndAddCustomData:function(t,e,n){t.setAttributeNS(s,"custom.data.via.modifier:"+e,c._escapeCurlyBracketsInString(n));return Promise.resolve()},getCustomDataInfo:function(t,e){const n=t.attributes["custom.data.via.modifier:"+e];if(n){return{customData:n,customDataValue:n.value}}else{return{}}},createControl:async function(t,e,n,i,r,o){const a=c.getControlIdBySelector(i,e);if(!c.bySelector(i,e,n)){let e;const i=t.split(".");let o="";if(i.length>1){e=i.pop();o=i.join(".")}const s=n.ownerDocument.createElementNS(o,e);if(a){s.setAttribute("id",a)}if(r){await c.applySettings(s,r)}return s}else{throw new Error("Can't create a control with duplicated ID "+a)}},applySettings:async function(t,e){const n=await c.getControlMetadata(t);const i=n.getJSONKeys();Object.keys(e).forEach(function(n){const r=i[n];const o=e[n];switch(r._iKind){case 0:c._setProperty(t,n,o,false);break;case 3:c.setAssociation(t,n,o);break;default:throw new Error("Unsupported in applySettings on XMLTreeModifier: "+n)}})},_byId:function(t,e){if(e){if(e.ownerDocument&&e.ownerDocument.getElementById&&e.ownerDocument.getElementById(t)){return e.ownerDocument.getElementById(t)}return e.querySelector("[id='"+t+"']")}return undefined},getId:function(t){return t.getAttribute("id")},getParent:function(t){const e=t.parentNode;if(e&&!c.getId(e)&&!c._isExtensionPoint(e)){return e.parentNode}return e},_getLocalName:function(t){return t.localName||t.baseName||t.nodeName},getControlType:function(t){return c._getControlTypeInXml(t)},setAssociation:function(t,e,n){if(typeof n!=="string"){n=c.getId(n)}t.setAttribute(e,n)},getAssociation:function(t,e){return t.getAttribute(e)},getAllAggregations:async function(t){const e=await c.getControlMetadata(t);return e.getAllAggregations()},getAggregation:async function(t,e){let n=[];const i=await c._isSingleValueAggregation(t,e);const r=await c._findAggregationNode(t,e);if(r){const e=await c._getControlsInAggregation(t,r);n=e}else{const r=await c._isAltTypeAggregation(t,e);if(r&&i){const i=await c.getProperty(t,e);n.push(i)}}if(e==="customData"){let e;const i=Array.prototype.slice.call(t.attributes).reduce(function(n,i){const r=c._getLocalName(i);if(i.namespaceURI===s){const e=t.ownerDocument.createElementNS("sap.ui.core","CustomData");e.setAttribute("key",r);e.setAttribute("value",i.value);n.push(e)}else if(i.namespaceURI&&i.name.indexOf("xmlns:")!==0){if(!e){e={}}if(!e.hasOwnProperty(i.namespaceURI)){e[i.namespaceURI]={}}e[i.namespaceURI][r]=i.nodeValue}return n},[]);n=n.concat(i);if(e){const i=t.ownerDocument.createElementNS("sap.ui.core","CustomData");i.setAttribute("key","sap-ui-custom-settings");c.setProperty(i,"value",e);n.push(i)}}return i?n[0]:n},insertAggregation:async function(t,e,n,i,r,o){const a=await c._findAggregationNode(t,e);return g(t,e,n,i,r,o,a)},removeAggregation:async function(t,e,n){const i=await c._findAggregationNode(t,e);i.removeChild(n)},moveAggregation:async function(t,e,n,i,r,o,a,s){const u=await c._findAggregationNode(t,e);const l=await c._findAggregationNode(n,i);u.removeChild(r);await g(n,i,r,o,a,s,l)},replaceAllAggregation:async function(t,e,n){const i=await c._findAggregationNode(t,e);const r=await c._getControlsInAggregation(t,i);r.forEach(function(t){i.removeChild(t)});n.forEach(t=>{i.appendChild(t)})},removeAllAggregation:async function(t,e){const n=await c._findAggregationNode(t,e);if(t===n){const e=await c._getControlsInAggregation(t,t);e.forEach(function(e){t.removeChild(e)})}else{return t.removeChild(n)}},_findAggregationNode:async function(t,e){let n;const i=c._children(t);for(let t=0;t<i.length;t++){const r=i[t];if(r.localName===e){n=r;break}}if(!n){const n=await c._isDefaultAggregation(t,e);if(n){return t}}return n},_isDefaultAggregation:async function(t,e){const n=await c.getControlMetadata(t);const i=n.getDefaultAggregation();return i&&e===i.name},_isNotNamedAggregationNode:async function(t,e){const n=await c.getAllAggregations(t);const i=n[e.localName];return t.namespaceURI!==e.namespaceURI||!i},_isSingleValueAggregation:async function(t,e){const n=await c.getAllAggregations(t);const i=n[e];return!i.multiple},_isAltTypeAggregation:async function(t,e){const n=await c.getControlMetadata(t);const i=n.getAllAggregations()[e];return!!i.altTypes},_isExtensionPoint:function(t){return c._getControlTypeInXml(t)==="sap.ui.core.ExtensionPoint"},getControlMetadata:function(t){return c._getControlMetadataInXml(t)},_getControlsInAggregation:async function(t,e){const n=[].slice.call(c._children(e));const i=await Promise.all(n.map(async e=>{const n=await c._isNotNamedAggregationNode(t,e);return n?e:undefined}));return i.filter(t=>!!t)},_children:function(t){if(t.children){return t.children}else{const e=[];for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n];if(i.nodeType===i.ELEMENT_NODE){e.push(i)}}return e}},getBindingTemplate:async function(t,e){const n=await c._findAggregationNode(t,e);if(n){const t=c._children(n);if(t.length===1){return t[0]}}return undefined},updateAggregation:function(t,e){},findIndexInParentAggregation:async function(t){const e=c.getParent(t);if(!e){return-1}const n=await c.getParentAggregationName(t,e);let i=await c.getAggregation(e,n);if(Array.isArray(i)){const e=i.map(async t=>{if(c._isExtensionPoint(t)){return t}const e=await c.getProperty(t,"stashed");return!e?t:undefined});i=await Promise.all(e);return i.filter(t=>!!t).indexOf(t)}else{return 0}},getParentAggregationName:async function(t,e){const n=e.isSameNode(t.parentNode);const i=await c._isNotNamedAggregationNode(e,t);if(i&&n){const t=await c.getControlMetadata(e);return t.getDefaultAggregationName()}else{return c._getLocalName(t.parentNode)}},findAggregation:async function(t,e){const n=await c.getControlMetadata(t);const i=await n.getAllAggregations();if(i){return i[e]}return undefined},validateType:async function(t,e,n,i,r){const a=e.type;const s=await c.getAggregation(n,e.name);if(e.multiple===false&&s&&s.length>0){return false}const g=await o.load({definition:i});const u=!Array.isArray(g)?[g]:g;const l=u[r].isA(a);u.forEach(function(t){t.destroy()});return l},instantiateFragment:async function(t,e,n){const i=a.parse(t);const r=await c._checkAndPrefixIdsInFragment(i,e);let o;if(r.localName==="FragmentDefinition"){o=c._getElementNodeChildren(r)}else{o=[r]}o.forEach(function(t){if(c._byId(t.getAttribute("id"),n)){throw Error("The following ID is already in the view: "+t.getAttribute("id"))}});return o},templateControlFragment:async function(t,e){const n=await r._templateFragment(t,e);return c._children(n)},destroy:function(t){const e=t.parentNode;if(e){e.removeChild(t)}},_getFlexCustomData:function(t,e){if(!t){return undefined}return t.getAttributeNS("sap.ui.fl",e)},bindAggregation:function(t,e,n,i){c.bindProperty(t,e,n.path);return c.insertAggregation(t,e,n.template,0,i)},unbindAggregation:function(t,e){if(t.hasAttribute(e)){t.removeAttribute(e);return c.removeAllAggregation(t,e)}return Promise.resolve()},getExtensionPointInfo:async function(t,e){if(e&&t){const n=Array.prototype.slice.call(e.getElementsByTagNameNS("sap.ui.core","ExtensionPoint"));const i=n.filter(function(e){return e.getAttribute("name")===t});const r=i.length===1?i[0]:undefined;if(r){const t=c.getParent(r);const e=await Promise.all([c.getParentAggregationName(r,t),c.findIndexInParentAggregation(r)]);const n={parent:t,aggregationName:e[0],index:e[1]+1,defaultContent:Array.prototype.slice.call(c._children(r))};return n}}return undefined}});async function g(t,e,n,i,r,o,a){let s;if(!a){const n=t.namespaceURI;s=await c.createControl(n+"."+e,undefined,r);t.appendChild(s)}else{s=a}if(!o){const t=s.children;let e=0;const n=i<t.length?i:t.length;for(let i=0;i<n;i++){if(t[i].namespaceURI==="sap.ui.core"&&t[i].tagName.includes("ExtensionPoint")){e=e+1-t[i].children.length}}i=i+e}if(i>=s.childElementCount){s.appendChild(n)}else{const e=await c._getControlsInAggregation(t,s);s.insertBefore(n,e[i])}return undefined}return c},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/containsOrEquals", [],function(){"use strict";var n=function(n,t){if(t&&n&&t!=document&&t!=window){return n.contains(t)}return false};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/denormalizeScrollBeginRTL", ["sap/ui/util/_FeatureDetection"],function(i){"use strict";var t;if(i.initialScrollPositionIsZero()){t=function(i,t){return-i}}else{t=function(i,t){return t.scrollWidth-t.clientWidth-i}}var n=function(i,n){if(n){return t(i,n)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/denormalizeScrollLeftRTL", ["sap/ui/util/_FeatureDetection"],function(i){"use strict";var t;if(i.initialScrollPositionIsZero()){t=function(i,t){return t.clientWidth+i-t.scrollWidth}}else{t=function(i,t){return i}}var n=function(i,n){if(n){return t(i,n)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/getOwnerWindow", [],function(){"use strict";var n=function n(e){if(e.ownerDocument.parentWindow){return e.ownerDocument.parentWindow}return e.ownerDocument.defaultView};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/getScrollbarSize", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var i={};var e=function(e,t){if(typeof e==="boolean"){t=e;e=null}var r=e||"#DEFAULT";if(t){if(e){delete i[e]}else{i={}}}if(i[r]){return i[r]}if(!document.body){return{width:0,height:0}}var s=jQuery("<DIV></DIV>").css("visibility","hidden").css("height","0").css("width","0").css("overflow","hidden");if(e){s.addClass(e)}s.prependTo(document.body);var d=jQuery("<div></div>");d[0].style="visibility:visible;position:absolute;height:100px;width:100px;overflow:scroll;opacity:0;";s.append(d);var o=d.get(0);var h=o.offsetWidth-o.scrollWidth;var l=o.offsetHeight-o.scrollHeight;s.remove();if(h===0||l===0){return{width:h,height:l}}i[r]={width:h,height:l};return i[r]};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/isElementCovered", [],function(){"use strict";function t(t,n,e,i){const r=document.elementFromPoint(t,n);if(!r){return true}return r!==e&&!e.contains(r)&&!r.contains(e)&&(!i||!i.contains(r))}function n(n,e){if(!n){return false}var i=n.getBoundingClientRect(),r=i.left+1,o=i.right-1,u=i.top+1,c=i.bottom-1;return t(r,u,n,e)&&t(o,u,n,e)&&t(r,c,n,e)&&t(o,c,n,e)}return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/isHidden", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function i(i){return i.offsetWidth<=0&&i.offsetHeight<=0||jQuery.css(i,"visibility")==="hidden"}return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/Aria", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function i(i,t,r){var e=this.attr(i);if(!e){return this.attr(i,t)}var n=e.split(" ");if(n.indexOf(t)==-1){r?n.unshift(t):n.push(t);this.attr(i,n.join(" "))}return this}function t(i,t){var r=this.attr(i)||"",e=r.split(" "),n=e.indexOf(t);if(n==-1){return this}e.splice(n,1);if(e.length){this.attr(i,e.join(" "))}else{this.removeAttr(i)}return this}jQuery.fn.addAriaLabelledBy=function(t,r){return i.call(this,"aria-labelledby",t,r)};jQuery.fn.removeAriaLabelledBy=function(i){return t.call(this,"aria-labelledby",i)};jQuery.fn.addAriaDescribedBy=function(t,r){return i.call(this,"aria-describedby",t,r)};jQuery.fn.removeAriaDescribedBy=function(i){return t.call(this,"aria-describedby",i)};return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/Focusable", ["sap/ui/thirdparty/jquery","sap/ui/dom/isHidden","./hasTabIndex"],function(jQuery,i){"use strict";function n(e,r){var t=r?e.firstChild:e.lastChild,u;while(t){if(t.nodeType==1&&!i(t)){if(jQuery(t).hasTabIndex()){return t}u=n(t,r);if(u){return u}}t=r?t.nextSibling:t.previousSibling}return null}jQuery.fn.firstFocusableDomRef=function(){var e=this.get(0);if(!e||i(e)){return null}return n(e,true)};jQuery.fn.lastFocusableDomRef=function(){var e=this.get(0);if(!e||i(e)){return null}return n(e,false)};return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/control", ["sap/ui/thirdparty/jquery","sap/ui/core/Element","sap/ui/Global"],function(jQuery,t){"use strict";jQuery.prototype.control=function(a,e){var r=this.map(function(){var a;if(e){var r=jQuery(this).closest("[data-sap-ui],[data-sap-ui-related]");a=r.attr("data-sap-ui-related")||r.attr("id")}else{a=jQuery(this).closest("[data-sap-ui]").attr("id")}return t.getElementById(a)});return r.get(a)};return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/cursorPos", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var t=function t(e){var r=arguments.length,s,i;s=this.prop("tagName");i=this.prop("type");if(this.length===1&&(s=="INPUT"&&(i=="text"||i=="password"||i=="search")||s=="TEXTAREA")){var n=this.get(0);if(r>0){if(typeof n.selectionStart=="number"){n.focus();n.selectionStart=e;n.selectionEnd=e}return this}else{if(typeof n.selectionStart=="number"){return n.selectionStart}return-1}}else{return this}};jQuery.fn.cursorPos=t;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/getSelectedText", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var t=function(){var t=this.get(0);try{if(typeof t.selectionStart==="number"){return t.value.substring(t.selectionStart,t.selectionEnd)}}catch(t){}return""};jQuery.fn.getSelectedText=t;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/hasTabIndex", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var t=function(t){var n=jQuery.prop(t,"tabIndex");return n!=null&&n>=0&&(!jQuery.attr(t,"disabled")||jQuery.attr(t,"tabindex"))};jQuery.fn.hasTabIndex=function(){return t(this.get(0))};return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/rect", ["sap/ui/thirdparty/jquery","sap/ui/dom/getOwnerWindow"],function(jQuery,t){"use strict";var e=function e(){var i=this.get(0);if(i){if(i.getBoundingClientRect){var r=i.getBoundingClientRect();var n={top:r.top,left:r.left,width:r.right-r.left,height:r.bottom-r.top};var o=t(i);n.left+=jQuery(o).scrollLeft();n.top+=jQuery(o).scrollTop();return n}else{return{top:10,left:10,width:i.offsetWidth,height:i.offsetHeight}}}return null};jQuery.fn.rect=e;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/scrollLeftRTL", ["sap/ui/dom/denormalizeScrollLeftRTL","sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";var i;if(e.initialScrollPositionIsZero()){i=function(t){return t.scrollWidth+t.scrollLeft-t.clientWidth}}else{i=function(t){return t.scrollLeft}}var r=function(e){var r=this.get(0);if(r){if(e===undefined){return i(r)}else{r.scrollLeft=t(e,r);return this}}};jQuery.fn.scrollLeftRTL=r;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/scrollRightRTL", ["sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";var i;if(t.initialScrollPositionIsZero()){i=function(t){return-t.scrollLeft}}else{i=function(t){return t.scrollWidth-t.scrollLeft-t.clientWidth}}var r=function(){var t=this.get(0);if(t){return i(t)}};jQuery.fn.scrollRightRTL=r;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/selectText", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var t=function t(e,r){var i=this.get(0);try{if(typeof i.selectionStart==="number"){i.setSelectionRange(e>0?e:0,r)}}catch(t){}return this};jQuery.fn.selectText=t;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/units/Rem", ["sap/base/assert"],function(e){"use strict";function t(){var e=document.documentElement;if(!e){return 16}return parseFloat(window.getComputedStyle(e).getPropertyValue("font-size"))}var r={fromPx:function(r){e(typeof r==="string"&&r!==""&&!isNaN(parseFloat(r))&&typeof parseFloat(r)==="number"||typeof r==="number"&&!isNaN(r),'Rem.fromPx: either the "vPx" parameter must be an integer, or a string e.g.: "16px"');return parseFloat(r)/t()},toPx:function(r){e(typeof r==="string"&&r!==""&&!isNaN(parseFloat(r))&&typeof parseFloat(r)==="number"||typeof r==="number"&&!isNaN(r),'Rem.toPx: either the "vRem" parameter must be an integer, or a string e.g.: "1rem"');return parseFloat(r)*t()}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/events/jquery/EventTriggerHook", ["sap/base/Log","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/base/util/uid"],function(e,r,jQuery,i){"use strict";var t={};function o(i){var o=e.isLoggable(e.Level.DEBUG),n=t[i.type],s=n.originalTriggerHook,a=performance.now(),f,d,u;if(!i.isPropagationStopped()&&!i.isSimulated){for(d in n.domRefs){u=n.domRefs[d];if(u.excludedDomRefs.indexOf(i.target)===-1&&r(u.domRef,i.target)){i.preventDefault();i.stopImmediatePropagation();if(o){f=performance.now();e.debug("Perf: jQuery trigger suppression event handler "+i.type+" took "+(f-a)+" milliseconds.")}return false}}}if(s){return s.call(this,i)}}function n(e){if(!jQuery.event.special[e]){jQuery.event.special[e]={}}var r=jQuery.event.special[e],i=r.trigger;r.trigger=o;return i}function s(e,r,o){var s=t[e];var a=i();if(!s){s=t[e]={domRefs:{},originalTriggerHook:n(e)}}s.domRefs[a]={domRef:r,excludedDomRefs:[].concat(o)};return{id:a,type:e}}function a(r){if(!r){e.error("Release trigger events must not be called without passing a valid handler!");return}var i=t[r.type];if(!i){return}else if(!i.domRefs[r.id]||!i.domRefs[r.id].domRef){e.warning("Release trigger event for event type "+r.type+"on Control "+r.id+": DomRef does not exists");return}delete i.domRefs[r.id]}return{suppress:s,release:a}});
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/export/ExportUtils", ["./library","./util/Filter","sap/base/config","sap/base/Log","sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/i18n/date/CalendarType","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/InvisibleMessage","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/syncStyleClass","sap/ui/core/LocaleData","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","sap/ui/performance/trace/FESRHelper","sap/ui/util/openWindow","sap/ui/VersionInfo"],function(e,t,n,a,i,r,o,l,s,u,c,f,p,d,g,y,m,h,S,v,T){"use strict";const b=d.ValueState;const E=e.FileType;const w=e.EdmType;const P=e.Destination;const _=d.InvisibleMessageMode;let A=null;let x=null;let L;const C="sap.ui.export.ExportUtils";const N=/[\\\/\?\*:\[\]]/g;T.load().then(function(e){const t=/^[0-9]+\.[0-9]+/.exec(e.version);A=t?t[0]:null});i.attachChange(()=>{x=null});function F(e,t,n,a){const i=Object.keys(n);const r={fileName:"Standard",fileTypeCollection:[],fileType:"XLSX",destinationCollection:[{key:P.LOCAL,text:t.getText("DESTINATION_LOCAL")}],destination:P.LOCAL,paperSize:"DIN_A4",orientation:"LANDSCAPE",splitCells:false,includeFilterSettings:false,addDateTime:false,doEnableAccessibility:false,pdfArchive:false,capabilities:n,fitToPage:false,paperSizeCollection:[{key:"DIN_A4",text:t.getText("PAPER_SIZE_A4")},{key:"US_LETTER",text:t.getText("PAPER_SIZE_US_LETTER")}],orientationCollection:[{key:"LANDSCAPE",text:t.getText("ORIENTATION_LAND")},{key:"PORTRAIT",text:t.getText("ORIENTATION_PORT")}],fontSize:10,signature:false,signatureReason:"",showPageNumber:true};i.forEach(function(e){const n=e.toUpperCase();const a=`${n}_FILETYPE`;r.fileTypeCollection.push({key:n,text:t.getText(a)})});if(a){r.destinationCollection.push({key:"REMOTE",text:t.getText("DESTINATION_REMOTE")})}const o=Object.assign({},r,e||{});if(!o.fileTypeCollection.some(function(e){return e.key===o.fileType})){o.fileType=o.fileTypeCollection[0].key}return o}function $(e){const t={};["fileName","fileType","paperSize","orientation","splitCells","includeFilterSettings","addDateTime","doEnableAccessibility","fitToPage","fontSize","signature","signatureReason","pdfArchive","destination","showPageNumber"].forEach(function(n){t[n]=e[n]});return t}const D={_INTERCEPTSERVICE:"sap/ushell/cloudServices/interceptor/InterceptService",interceptUrl:function(e){const t=sap.ui.require(D._INTERCEPTSERVICE);if(t){const n=t.getInstance();if(n&&n.interceptUrl){e=n.interceptUrl(e)}}return e},fetchDataSource:function(){if(D._oDataSource){return Promise.resolve(D._oDataSource)}const e=n.get({name:"sapUiFileShareSupport",type:n.Type.String,defaultValue:undefined});if(!e){return Promise.resolve()}return new Promise(function(t){sap.ui.require([e],function(e){e.getDataSource().then(function(e){D._oDataSource=e;t(e)}).catch(function(){t()})})})},normalizeUrl:function(e){return e?new URL(e,document.baseURI).toString():e},getExportSettingsViaDialog:function(e,t,n,a,i){return new Promise(function(r,o){let u;if(typeof n==="object"){i=a;a=n;n=undefined}else if(typeof n==="function"){i=n;n=undefined}else if(typeof a==="function"){i=a;a=null}D.getResourceBundle().then(c=>{const f=new m;function p(e,t){const n=e.getProperty("/destination");const a=e.getProperty("/fileType");let i="OI:EXP:";i+=n===P.REMOTE?"CL:":"LOC:";switch(a){case E.PDF:i+="PDF";break;case E.XLSX:i+="XLS";break;case E.GSHEET:i+="GS";break;default:i="OI:EXP"}S.setSemanticStepname(t,"press",i)}f.setData(F(e,c,t,n));s.load({name:"sap.ui.export.fragments.SettingsDialog",type:"XML",controller:{isPDF:function(e,t){return e===E.PDF&&t!==false},isSpreadsheet:function(e){return e===E.XLSX||e===E.GSHEET},isDestinationEnabled:function(e){return t?.PDF?.UploadToFileShare?e!==E.GSHEET:e===E.XLSX},hasDestinations:function(e){return e.length>1},formatExportButton:function(e){return e===P.LOCAL?c.getText("EXPORT_BUTTON"):c.getText("DIALOG_BUTTON_CLOUD_DESTINATION")},onCancel:function(){u._bSuccess=false;u.close()},onExport:function(){u._bSuccess=true;u.close()},onFileNameChange:function(e){const t=e.getSource();const n=e.getParameter("value");const a=/[\\/:|?"*<>]/;const i=l.getElementById("exportSettingsDialog-exportButton");const r=a.test(n);if(r){t.setValueState(b.Error);t.setValueStateText(c.getText("FILENAME_ERROR"))}else if(n.length>100){t.setValueState(b.Warning);t.setValueStateText(c.getText("FILENAME_WARNING"))}else{t.setValueState(b.None);t.setValueStateText(null)}i.setEnabled(!r)},onFileTypeChange:function(e){const t=e.getParameter("selectedItem");if(!t){return}switch(t.getKey()){case E.PDF:f.setProperty("/includeFilterSettings",false);p(f,u.getBeginButton());break;case E.GSHEET:f.setProperty("/destination",P.REMOTE);p(f,u.getBeginButton());break;default:l.getElementById("exportSettingsDialog-signatureReason").setVisible(false);l.getElementById("exportSettingsDialog-signatureReasonLabel").setVisible(false);p(f,u.getBeginButton())}},onDestinationChange:function(e){if(!e.getParameter("selectedItem")){return}p(f,u.getBeginButton())},onFontSizeChange:function(e){const t=e.getSource();const n=e.getParameter("value");const a=/[^\d]/g;const i=l.getElementById("exportSettingsDialog-exportButton");const r=a.test(n);if(r){t.setValueState(b.Error);t.setValueStateText(c.getText("NUMBER_ERROR"))}else{t.setValueState(b.None);t.setValueStateText(null)}i.setEnabled(!r)},onAfterClose:function(){if(u._bSuccess){r($(f.getData()))}else{o(null)}u.destroy();u=null}}}).then(function(e){u=e;if(t.PDF&&!t.PDF["HeaderFooter"]){f.oData.showPageNumber=false}u.setModel(f);u.setModel(new h({bundle:c}),"i18n");if(a){g("sapUiSizeCompact",a,u)}p(f,u.getBeginButton());S.setSemanticStepname(u.getEndButton(),"press","OI:EXP:CANCEL");u.open();if(i){i(u)}})})})},_getReadableFilterValue:function(e){switch(e.op||e.name){case"==":case">":case"<":case"!=":case"<=":case">=":return{operator:e.op||e.name,value:e.right.value};case"between":return{operator:e.op||e.name,value:[e.args[1].value,e.args[2].value]};case"contains":case"endswith":case"startswith":return{operator:e.op||e.name,value:e.args[1].value};default:throw Error("getReadableFilter")}},_parseFilter:function(e){switch(e.type){case"Logical":return D._parseLogical(e);case"Binary":return D._parseBinary(e);case"Unary":return D._parseUnary(e);case"Call":return D._parseCall(e);default:throw Error(`Filter type ${e.type} not supported`)}},_parseLogical:function(e){let t;try{if(e.op=="&&"&&e.left.type==="Binary"&&e.right.type==="Binary"&&e.left.op===">="&&e.right.op==="<="&&e.left.left.path===e.right.left.path){return D._parseCall({args:[{path:e.left.left.path,type:"Reference"},{type:"Literal",value:e.left.right.value},{type:"Literal",value:e.right.right.value}],name:"between",type:"Call"})}t=D._parseFilter(e.left).concat(D._parseFilter(e.right));if(e.op==="||"&&t.length){const e=t[0].key;if(t.every(function(t){return t.key===e})){t=[{key:e,value:t.reduce(function(e,t){if(Array.isArray(t.value)){return e.concat(t.value)}e.push(t.value);return e},[])}]}}}catch(e){t=[]}return t},_parseBinary:function(e){if(!e.left||e.left.type!="Reference"||!e.right||e.right.type!="Literal"){return[]}return[{key:e.left.path,value:D._getReadableFilterValue(e)}]},_parseUnary:function(e){if(!e.arg){return[]}const t=D._parseFilter(e.arg);if(e.op==="!"&&t[0].value){t[0].value.exclude=true}return t},_parseCall:function(e){if(!e.args||e.args.length<2){return[]}return[{key:e.args[0].path,value:D._getReadableFilterValue(e)}]},parseFilterConfiguration:function(){a.error("Function is deprecated and must not be used anymore");return D.getResourceBundle().then(function(e){return{name:e.getText("FILTER_HEADER"),items:[]}})},getFilters:function(e){const n=[];if(!e||!e.isA(["sap.ui.model.ListBinding","sap.ui.model.TreeBinding"])){a.error("A ListBinding or TreeBinding is required for parsing the filter settings");return n}const i=e.getFilterInfo();if(i){D._parseFilter(i).forEach(function(e){n.push(new t(e.key,e.value))})}return n},parseTechnicalConfiguration:async function(){const e={};const t=sap.ui.require("sap/ushell/Container");const[n,a]=await Promise.all([D.getResourceBundle(),t?.getServiceAsync("UserInfo")]);e.name=n.getText("TECHNICAL_INFORMATION");e.items=[{key:n.getText("CREATED_TIME"),value:p.getDateTimeWithTimezoneInstance().format(new Date)}];if(a?.getFullName()){e.items.unshift({key:n.getText("USER_NAME"),value:a.getFullName()})}return e},saveAsFile:function(e,t){let n;if(!(e instanceof Blob)){return}const a=document.createElementNS("http://www.w3.org/1999/xhtml","a");const i="download"in a;if(i){n=function(e,t){a.download=t;a.href=URL.createObjectURL(e);a.dispatchEvent(new MouseEvent("click"))}}if(typeof n==="undefined"){n=function(e){const t=new FileReader;t.onloadend=function(){const e=t.result.replace(/^data:[^;]*;/,"data:attachment/file;");const n=v(e,"_blank");if(!n){window.location.href=e}};t.readAsDataURL(e)}}n(e,t)},validateSettings:function(e){D._validateDataSource(e.dataSource);D.validateFileSettings(e);if(typeof e.showProgress!=="boolean"){e.showProgress=true}D._validateWorkbook(e.workbook);if(typeof e.worker!=="boolean"){e.worker=true}D._validateScaleCustomizing(e.customizing,"currency");D._validateScaleCustomizing(e.customizing,"unit")},validateFileSettings:function(e){e.fileType=E[e.fileType]?e.fileType:E.XLSX;e.fileName=D.validateFileName(e.fileName,e.fileType)},validateFileName:function(e,t){const n="."+t.toLowerCase();e=e||"export";if(!e.endsWith(n)&&t!==E.GSHEET){e+=n;a.info(`${C}: fileName was missing the proper file extension - extension has been added`)}return e},_validateDataSource:function(e){if(!e||typeof e!=="object"){throw new Error(`${C}: dataSource has not been specified`)}e.type=typeof e.type==="string"&&e.type.toLowerCase()||"odata";if(e.type==="array"&&!Array.isArray(e.data)){a.warning(`${C}: Defined type does not match the provided data`)}if(Array.isArray(e.data)){e.count=e.data.length}if(e.type==="odata"){if(typeof e.dataUrl!=="string"||e.dataUrl.length===0){throw new Error(`${C}: Unable to export data. No dataUrl provided.`)}if(e.dataUrl){e.dataUrl=D.normalizeUrl(e.dataUrl)}if(e.serviceUrl){e.serviceUrl=D.normalizeUrl(e.serviceUrl)}}if(typeof e.count!=="number"||e.count<0||isNaN(e.count)||e.count%1!==0){a.info(`${C}: Invalid value for dataSource.count - value will be ignored`);e.count=null}if(typeof e.downloadLimit!=="number"||e.downloadLimit<0||isNaN(e.downloadLimit)||e.downloadLimit%1!==0){a.info(`${C}: Invalid value for dataSource.downloadLimit - value will be ignored`);e.downloadLimit=null}if(typeof e.useBatch!=="boolean"){e.useBatch=false;a.info(`${C}: Parameter useBatch not provided. The value false will be applied as default`)}else if(e.useBatch===true){if(typeof e.serviceUrl!=="string"||e.serviceUrl.length===0){e.useBatch=false;a.warning(`${C}: serviceUrl is required for OData batch requests`)}if(typeof e.headers!=="object"){e.useBatch=false;a.warning(`${C}: headers are required for OData batch requests`)}}let t=e.sizeLimit;if(!t||isNaN(t)||t%1!==0){const n=5e3;const i=200;t=e.count?Math.round(e.count/(i*5))*i:i;t=Math.min(n,Math.max(t,i));e.sizeLimit=t;a.info(`${C}: No valid sizeLimit provided. sizeLimit is set to ${t}`)}},_validateWorkbook:function(e){if(!(e instanceof Object)||!Array.isArray(e.columns)){throw new Error(`${C}: column configuration is not provided. Export is not possible`)}e.columns=e.columns.filter(function(e,t){if(!(e instanceof Object)){a.error(`${C}: Column ${t} skipped due to invalid configuration`);return false}if(Array.isArray(e.property)&&e.type!==w.String&&e.type!=null){a.warning(`${C}: Type ${e.type} does not support an array of properties`);e.property=e.property[0]}if(typeof e.property!=="string"&&!Array.isArray(e.property)){a.error(`${C}: Column ${t} skipped due to missing mandatory property`);return false}e.label=e.label||(e.property instanceof Array?e.property[0]:e.property);let n=e.width;if(typeof n==="string"){const e=n.toLowerCase();n=parseFloat(e);if(e.indexOf("em")>0){n=Math.floor((n*16-5)/8*100+.5)/100}else if(e.indexOf("px")>0){n=Math.floor((n-5)/8*100+.5)/100}}if(isNaN(n)||n<1){n=10}e.width=Math.round(n);D._validateType(e,t);D._validateString(e,"textAlign");if(e.textAlign){let t=String(e.textAlign).toLowerCase();if(["begin","end"].indexOf(t)>-1){const e=["left","right"];t=(r.getRTL()?e.reverse():e)[["begin","end"].indexOf(t)]}if(t!==""&&["left","right","center"].indexOf(t)==-1){a.warning(`${C}: Incorrect column alignment value ${t} on column "${e.label||e.property}". Default alignment is used.`);t=""}e.textAlign=t}["autoScale","delimiter","displayTimezone","displayUnit","utc","wrap"].forEach(function(t){D._validateProperty(e,t,"boolean")});["inputFormat","unit","unitProperty","template","trueValue","falseValue","timezone","timezoneProperty"].forEach(function(t){D._validateString(e,t)});if(e.template&&!Array.isArray(e.property)&&typeof e.inputFormat!=="string"){a.warning(`${C}: Template is not applicable on a single property without inputFormat - value will be discarded on column "${e.label||e.property}".`);delete e.template}if(typeof e.calendar==="string"&&[o.Gregorian,o.Islamic,o.Japanese].indexOf(e.calendar)<0){a.warning(`${C}: Unsupported calendar ${e.calendar} on column "${e.label||e.property}". Value will be discarded.`);delete e.calendar}if(e.type===w.Boolean&&(e.trueValue===null||e.falseValue===null)){a.warning(`${C}: The properties trueValue and falseValue have to be assigned correctly on column "${e.label||e.property}". Values will be discarded.`);delete e.trueValue;delete e.falseValue}if(e.autoScale===true&&(e.type!==w.Number||!e.unit&&!e.unitProperty)){a.warning(`${C}: autoScale cannot be taken into account due to invalid configuration.`);delete e.autoScale}if(e.type===w.DateTime){if(!e.timezone){e.timezone=e.utc===false?r.getTimezone():"UTC"}if(e.property===e.timezoneProperty||typeof e.timezoneProperty==="string"&&e.timezoneProperty.split(",").length>1){a.warning(`${C}: Property timezoneProperty is invalid.`);delete e.timezoneProperty}}else if(typeof e.utc==="boolean"){a.warning(`${C}: Property utc is only supported for type DateTime.`);delete e.utc}let i=e.scale;if(e.type===w.Number&&isNaN(i)&&i!=="variable"){a.warning(`${C}: scale parameter for numerical column configuration is missing.`)}if(typeof i==="string"){i=parseInt(i)}if(isNaN(i)){i=null}e.scale=i;if(e.valueMap&&typeof e.valueMap!=="object"){a.warning(`${C}: Invalid value for property valueMap on column "${e.label||e.property}". Value will be discarded.`);delete e.valueMap}return true});D._validateWorkbookContext(e.context);D._validateString(e,"hierarchyLevel");D._validateString(e,"drillState")},_validateType:function(e){if(typeof e.type!=="string"){e.type=w.String;return}if(!w[e.type]){let t=w.String;for(const n in w){if(n.toLowerCase()==e.type.toLowerCase()){t=n}}a.warning(`${C}: Unsupported column type ${e.type} on column ${e.label||e.property}. EdmType.${t} is applied.`);e.type=t}switch(e.type){case w.Date:if(!e.format&&!e.calendar){D._validateString(e,"format",D.getFormatSettings().datePattern);D._validateString(e,"calendar",D.getFormatSettings().calendar)}break;case w.DateTime:if(!e.format&&!e.calendar){D._validateString(e,"format",D.getFormatSettings().dateTimePattern);D._validateString(e,"calendar",D.getFormatSettings().calendar)}break;case w.Time:D._validateString(e,"format",D.getFormatSettings().timePattern);break;case w.Number:break;case w.Currency:if(!e.unitProperty){a.warning(`${C}: Missing unitProperty for type Currency on column "${e.label||e.property}". Type is reverted to String.`);e.type=w.String}break;case w.Enumeration:if(!e.valueMap||typeof e.valueMap!=="object"){a.warning(`${C}: Invalid valueMap for type Enumeration on column "${e.label||e.property}". Type is reverted to String.`);e.type=w.String}break;default:}},_validateWorkbookContext:function(e){if(!(e instanceof Object)){return}D._validateString(e,"application","SAP UI5");D._validateString(e,"version",A);D._validateString(e,"title");D._validateString(e,"modifiedBy");D._validateString(e,"sheetName","SAPUI5 Spreadsheet Export",31,N);D._validateString(e,"metaSheetName","Metadata",31,N);if(e.metainfo){if(!Array.isArray(e.metainfo)){a.warning(`${C}: Invalid value for property metainfo. Value will be discarded.`);e.metainfo=null}else{e.metainfo.filter(function(e,t){if(typeof e.name!=="string"||e.name.length===0){a.warning(`${C}: Invalid name for metainfo group at index ${t}. Entry will be discarded.`);return false}return true})}}},_validateString:function(e,t,n,i,r){D._validateProperty(e,t,"string",n);let o=e[t];if(typeof o==="string"&&(typeof r==="string"||r instanceof RegExp)){o=o.replace(r,"")}if(typeof o==="string"&&i&&o.length>i){a.warning(`${C}: The value of ${t} exceeds the max length of ${i} and will be truncated.`);o=o.slice(0,i)}e[t]=o},_validateProperty:function(e,t,n,i){let r=e[t];if(r!=null&&typeof r!==n){a.warning(`${C}: Invalid value for property ${t}. Value will be discarded.`);r=null}if(r==null&&typeof i!=="undefined"){r=i}if(r==null){delete e[t]}else{e[t]=r}},_validateScaleCustomizing:function(e,t){if(!e){return}const n=e[t];if(!(n instanceof Object)||Array.isArray(n)){a.warning(`${C}: Invalid scale customizing for ${t}.`);e[t]={}}else{for(const e in n){if(!(n[e]instanceof Object)){a.warning(`${C}: Key ${e} has been removed from customizing`);delete n[e]}else if(typeof n[e].scale!=="number"||n[e].scale<0){a.warning(`${C}: Key ${e} has been removed from customizing due to invalid scale`);delete n[e]}}}},getExportInstance:function(e,t,n){const a=typeof e.fileType==="string"?e.fileType.toUpperCase():e.fileType;let i;t=t?t:{};switch(a){case E.PDF:i="sap/ui/export/PortableDocument";break;default:i="sap/ui/export/Spreadsheet"}return new Promise(function(r){sap.ui.require([i],function(i){r(new i(e,t[a],n))})})},getCountFromBinding:function(e){let t;if(typeof e.getCount==="function"){t=e.getCount()}else if(!e.isA("sap.ui.model.TreeBinding")&&typeof e.isLengthFinal==="function"&&e.isLengthFinal()){t=e.getLength()}if(typeof t!=="number"||t<0||isNaN(t)){t=null}return t},getHierarchyLevel:function(e){if(!e||typeof e.isA!=="function"){return undefined}if(e.isA("sap.ui.model.odata.v2.ODataTreeBinding")&&typeof e.getTreeAnnotation==="function"){return e.getTreeAnnotation("hierarchy-level-for")}if(e.isA("sap.ui.model.odata.v4.ODataListBinding")){return e.getAggregation(true)?.$DistanceFromRoot}return undefined},getHierarchyDrillState:function(e){if(!e||typeof e.isA!=="function"){return undefined}if(e.isA("sap.ui.model.odata.v2.ODataTreeBinding")&&typeof e.getTreeAnnotation==="function"){return e.getTreeAnnotation("hierarchy-drill-state-for")}if(e.isA("sap.ui.model.odata.v4.ODataListBinding")){return e.getAggregation(true)?.$DrillState}return undefined},splitColumns:function(e,t){const n=[];if(typeof t!=="function"){t=function(){}}e.forEach(function(e){let a,i,r,o;if(Array.isArray(e.property)&&e.property.length>1){i=Object.assign({},e);i.property=e.property[0];i.label=t(i.property)||e.label;delete i.template;a=[i];e.property.slice(1).forEach(function(n,i){o=t(n);r={property:n,label:o||`${e.label} (${i+1})`};a.push(r)})}if(e.unitProperty&&e.displayUnit!==false){i=Object.assign({},e);o=t(e.unitProperty);a=[i,{property:e.unitProperty,label:o||`${e.label} (1)`}];i.displayUnit=false}if(e.timezoneProperty&&e.displayTimezone!==false){i=Object.assign({},e);o=t(e.timezoneProperty);a=[i,{property:e.timezoneProperty,label:o||`${e.label} (1)`}];i.displayTimezone=false}n.push(a||e)});return n.flat()},getResourceBundle:function(){if(!L){return c.load({name:"sap.ui.export"}).then(()=>{L=c.getResourceBundleFor("sap.ui.export");return L})}return Promise.resolve(L)},getFormatSettings:function(){if(!x){const e={};e.calendar=i.getCalendarType();e.datePattern=i.getDatePattern("medium");e.timePattern=i.getTimePattern("medium");e.delimiter=!!i.getNumberSymbol("group");if(typeof e.datePattern==="string"){e.datePattern=e.datePattern.toLowerCase()}if(typeof e.timePattern==="string"){e.timePattern=e.timePattern.toLowerCase().replace(/ a+/," AM/PM")}if(e.datePattern&&e.timePattern){e.dateTimePattern=`${e.datePattern} ${e.timePattern}`}x=e}return x},getTimezoneTranslations:function(){const e=new f(r.getLanguageTag());const t=y.getInstance(e);return t.getTimezoneTranslations()},announceExportStatus:async function(e,t){if(!e){throw new Error("Missing parameter")}const n=u.getInstance();const a=await D.getResourceBundle();const i=a.getText(`MSG_INFO_EXPORT_${e}`,t?.values);n.announce(i,t?.assertive?_.Assertive:_.Polite)},loadClass:function(e){return new Promise(t=>{sap.ui.require([e],t)})}};return D},true);
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/export/library", ["sap/ui/core/Lib"],function(e){"use strict";var i=e.init({name:"sap.ui.export",apiVersion:2,dependencies:["sap.ui.core"],types:["sap.ui.export.Destination","sap.ui.export.EdmType","sap.ui.export.FileType","sap.ui.export.Status"],interfaces:[],controls:[],elements:[],version:"1.136.0"});i.EdmType={BigNumber:"BigNumber",Boolean:"Boolean",Currency:"Currency",Date:"Date",DateTime:"DateTime",Enumeration:"Enumeration",Number:"Number",Percentage:"Percentage",String:"String",Time:"Time",Timezone:"Timezone"};i.FileType={CSV:"CSV",GSHEET:"GSHEET",PDF:"PDF",XLSX:"XLSX"};i.Destination={LOCAL:"LOCAL",REMOTE:"REMOTE"};i.Status={FINISHED:"FINISHED",UPDATE:"UPDATE"};sap.ui.loader.config({shim:{"sap/ui/export/js/XLSXBuilder":{amd:true,exports:"XLSXBuilder"},"sap/ui/export/js/XLSXExportUtils":{amd:true,exports:"XLSXExportUtils"}}});return i});
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/export/util/Filter", ["sap/ui/base/Object"],function(t){"use strict";var e=t.extend("sap.ui.export.util.Filter",{constructor:function(t,e,r){this.property=t;this.rawValues=Array.isArray(e)?e:[e];this.label=typeof r==="string"?r:undefined}});e.prototype.getProperty=function(){return this.property};e.prototype.getLabel=function(){return this.label||this.property};e.prototype.getValue=function(){var t,e;t=[];e=this.type?this.format||this.type.formatValue.bind(this.type):this.format;this.getRawValues().forEach(function(r){var i=r.value;if(typeof e==="function"){if(Array.isArray(r.value)){i=[];r.value.forEach(function(t){try{i.push(e(t,"string"))}catch(e){i.push(t)}})}else{try{i=e(r.value,"string")}catch(t){}}}switch(r.operator){case"==":i="="+i;break;case"between":i=i[0]+"..."+i[1];break;case"contains":i="*"+i+"*";break;case"endswith":i="*"+i;break;case"startswith":i+="*";break;default:i=r.operator+i}if(r.exclude){i="!"+i}t.push(i)});return t.join("; ")};e.prototype.getRawValues=function(){return this.rawValues};e.prototype.setFormat=function(t){if(typeof t!=="function"&&t!==null){return}this.format=t};e.prototype.setLabel=function(t){if(typeof t!=="string"||!t){return}this.label=t};e.prototype.setType=function(t){if(!t||typeof t.isA!=="function"||!t.isA("sap.ui.model.SimpleType")){return}this.type=t};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/ChangePersistence", ["sap/base/Log","sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/FlexObjectState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/initial/api/Version","sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/condenser/Condenser","sap/ui/fl/write/_internal/flexState/FlexObjectManager","sap/ui/fl/write/_internal/Storage","sap/ui/fl/Layer","sap/ui/fl/LayerUtils"],function(e,t,n,r,a,i,o,s,c,f,l,u,p){"use strict";var h=function(t){this._mComponent=t;if(!this._mComponent||!this._mComponent.name){e.error("The Control does not belong to an SAPUI5 component. Personalization and changes for this control might not work as expected.");throw new Error("Missing component name.")}this._oMessagebundle=undefined};h.prototype._deleteNotSavedChanges=function(e,t,n){e.filter(function(e){return!t.some(function(t){return e.getId()===t.getId()})}).forEach(function(e){if(n){this.removeChange(e);i.updateStorageResponse(this._mComponent.name,[{flexObject:e.convertToFileContent(),type:"delete"}])}else{f.deleteFlexObjects({reference:this._mComponent.name,flexObjects:[e]})}}.bind(this))};function g(e,t){var n=e.map(function(e){return e[t]()});var r=n.filter(function(e,t,n){return n.indexOf(e)===t});return r.length===1}function d(e,t,n){var r=false;if(!e||!g(t,"getLayer")){return false}if(n){r=true}else{var a=t[0].getLayer();if([u.CUSTOMER,u.PUBLIC,u.USER].includes(a)){r=true}}var i=new URLSearchParams(window.location.search);if(i.has("sap-ui-xx-condense-changes")){r=i.get("sap-ui-xx-condense-changes")==="true"}return r}function m(){return s.getInstanceOrUndef()?.isCondensingEnabled()}function y(e,t,n,r){this._massUpdateCacheAndDirtyState(t,n);this._deleteNotSavedChanges(e,t,r)}function S(e,r,a,o,s){if(!e.length&&!a){return[]}const c=i.getFlexObjectsDataSelector().get({reference:s}).filter(function(e){if(e instanceof t){return false}if(e.getFlexObjectMetadata().reference!==s){return false}if(o===u.CUSTOMER&&r){return e.getState()===n.LifecycleState.PERSISTED&&r.includes(e.getId())}return e.getState()===n.LifecycleState.PERSISTED&&p.compareAgainstCurrentLayer(e.getLayer(),o)===0});return c.concat(e)}function C(e){if(e.length){var t=b(e);var n=true;if(s.getInstanceOrUndef()&&s.getInstanceOrUndef().hasPersoConnector()){var r=x(e);n=r.length===1}return t.length===1&&n}return true}function v(e,t,r,a,i,o){let s=Promise.resolve();const c=i.filter(e=>e.getState()===n.LifecycleState.DELETED);const f=o.filter(e=>e.getState()!==n.LifecycleState.DELETED);if(c.length){s=this.saveSequenceOfDirtyChanges(c,a,r)}return s.then(function(){if(f.length){return l.write({layer:e,flexObjects:D(f),transport:t,isLegacyVariant:false,parentVersion:r}).then(function(e){y.call(this,i,f,a);return e}.bind(this))}return this._deleteNotSavedChanges(i,o)}.bind(this))}h.prototype.saveDirtyChanges=function(e,t,n,r,i,o,s){const f=this._mComponent.name;const u=n||a.getDirtyFlexObjects(f);const p=u.length&&u[0].getLayer()||s;const h=S(u,i,o,p,f);const g=m()&&d(e,h,o);const _=g?h:u;const x=_.slice(0);const D=b(u);if(C(u)){const n=d(e,x,o)?c.condense(e,x):Promise.resolve(x);return n.then(function(e){const n=D[0];if(g){return l.condense({allChanges:_,condensedChanges:e,layer:p,transport:n,isLegacyVariant:false,parentVersion:r}).then(function(n){y.call(this,_,e,t,true);return n}.bind(this))}return v.call(this,p,n,r,t,_,e)}.bind(this))}return this.saveSequenceOfDirtyChanges(u,t,r)};h.prototype.saveSequenceOfDirtyChanges=async function(e,t,r){var a;if(r){var o=e.filter(function(e){return e.getState()===n.LifecycleState.NEW});a=[].concat(o).shift()}const s={response:[]};for(const n of e){const e=await _(n,a,r);this._updateCacheAndDirtyState(n,t);if(e?.response){s.response.push(...e.response)}}i.getFlexObjectsDataSelector().checkUpdate({reference:this._mComponent.name});return s};function _(e,t,r){switch(e.getState()){case n.LifecycleState.NEW:if(r!==undefined){r=e===t?r:o.Number.Draft}return l.write({layer:e.getLayer(),flexObjects:[e.convertToFileContent()],transport:e.getRequest(),parentVersion:r});case n.LifecycleState.DELETED:return l.remove({flexObject:e.convertToFileContent(),layer:e.getLayer(),transport:e.getRequest(),parentVersion:r});default:return Promise.resolve()}}h.prototype._updateCacheAndDirtyState=function(e,t){if(!t){switch(e.getState()){case n.LifecycleState.NEW:i.updateStorageResponse(this._mComponent.name,[{type:"add",flexObject:e.convertToFileContent()}]);break;case n.LifecycleState.DELETED:i.updateStorageResponse(this._mComponent.name,[{type:"delete",flexObject:e.convertToFileContent()}]);break;case n.LifecycleState.UPDATED:i.updateStorageResponse(this._mComponent.name,[{type:"update",flexObject:e.convertToFileContent()}]);break;default:}e.setState(n.LifecycleState.PERSISTED)}};h.prototype._massUpdateCacheAndDirtyState=function(e,t){e.forEach(function(e){this._updateCacheAndDirtyState(e,t)},this);i.getFlexObjectsDataSelector().checkUpdate({reference:this._mComponent.name})};function b(e){var t=[];e.forEach(function(e){var n=e.getRequest();if(t.indexOf(n)===-1){t.push(n)}});return t}function x(e){var t=[];e.forEach(function(e){var n=e.getLayer();if(t.indexOf(n)===-1){t.push(n)}});return t}function D(e){var t=[];e.forEach(function(e){t.push(e.convertToFileContent())});return t}h.prototype.removeChange=function(e){i.removeDirtyFlexObjects(this._mComponent.name,[e]);this._deleteChangeInMap(e)};h.prototype._deleteChangeInMap=function(e,t){var n=e.getId();r.removeChangeFromMap(a.getLiveDependencyMap(this._mComponent.name),n);if(!t){r.removeChangeFromDependencies(a.getLiveDependencyMap(this._mComponent.name),n)}};return h});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/ChangePersistenceFactory", ["sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/ChangePersistence"],function(e,n){"use strict";var t={};t._instanceCache={};t.getChangePersistenceForComponent=function(e){var r=t._instanceCache[e];if(!r){var a={name:e};r=new n(a);t._instanceCache[e]=r}return r};t.getChangePersistenceForControl=function(n){var r;r=e.getFlexReferenceForControl(n);return t.getChangePersistenceForComponent(r)};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/FlexController", ["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/changes/Reverter","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/FlexObjectState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/write/_internal/flexState/FlexObjectManager","sap/ui/fl/write/_internal/Versions","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/Layer"],function(e,t,n,r,s,a,i,o,l){"use strict";async function f(n,r,s){if(s.length!==0){await t.revertMultipleChanges([...s].reverse(),{appComponent:n,modifier:e,reference:r})}}var c=function(e){this._oChangePersistence=undefined;this._sComponentName=e||"";if(this._sComponentName){this._oChangePersistence=o.getChangePersistenceForComponent(this._sComponentName)}};c.prototype._removeOtherLayerChanges=async function(e,t,n){if(n&&t){var r=Object.values(l).filter(function(e){return e!==t});const n=this._sComponentName;const s=a.removeDirtyFlexObjects({reference:n,layers:r,component:e});await f(e,n,s);return s}return undefined};c.prototype.saveAll=function(e,t,n,r,s,a){var o;var f;if(n){var c=i.getVersionsModel({reference:this._sComponentName,layer:l.CUSTOMER});o=c.getProperty("/persistedVersion");f=c.getProperty("/draftFilenames")}return this._removeOtherLayerChanges(e,r,s).then(this._oChangePersistence.saveDirtyChanges.bind(this._oChangePersistence,e,t,undefined,o,f,a,r)).then(function(e){if(n){var t={reference:this._sComponentName,layer:l.CUSTOMER};if(e?.response&&e.response.length>0){var r=[];if(Array.isArray(e.response)){e.response.forEach(function(e){r.push(e.fileName)})}t.draftFilenames=r;i.onAllChangesSaved(t)}else{return i.updateModelFromBackend(t)}}return e}.bind(this))};c.prototype.saveSequenceOfDirtyChanges=async function(e,t){const a=e||r.getDirtyFlexObjects(this._sComponentName);const i=await this._oChangePersistence.saveDirtyChanges(t,false,a);if(i?.response?.length){var o=i.response.map(e=>e.fileName);a.forEach(function(e){if(o.includes(e.getId())){e.setState(n.LifecycleState.PERSISTED)}});s.getFlexObjectsDataSelector().checkUpdate({reference:this._sComponentName})}return i};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/FlexControllerFactory", ["sap/base/Log","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/FlexController","sap/ui/fl/Utils"],function(e,r,t,n){"use strict";var a={};a._instanceCache={};a.create=function(e){var r=a._instanceCache[e];if(!r){r=new t(e);a._instanceCache[e]=r}return r};a.createForControl=function(t){try{var o=n.getAppComponentForControl(t);var c=r.getFlexReferenceForControl(o||t);return a.create(c)}catch(r){e.error(r.message,undefined,"sap.ui.fl.FlexControllerFactory")}};a.createForSelector=function(e){var t=r.getFlexReferenceForSelector(e);return a.create(t)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Layer", [],function(){"use strict";return{USER:"USER",PUBLIC:"PUBLIC",CUSTOMER:"CUSTOMER",CUSTOMER_BASE:"CUSTOMER_BASE",PARTNER:"PARTNER",VENDOR:"VENDOR",BASE:"BASE"}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/LayerUtils", ["sap/ui/thirdparty/hasher","sap/ui/fl/Layer","sap/ui/fl/initial/_internal/FlexInfoSession"],function(e,r,a){"use strict";var t=[r.BASE,r.VENDOR,r.PARTNER,r.CUSTOMER_BASE,r.CUSTOMER,r.PUBLIC,r.USER];var n={};t.forEach(function(e,r){n[e]=r});function i(e){return new URLSearchParams(window.location.search).get(e)}var s={_mLayersIndex:n,_sTopLayer:t[t.length-1],FL_MAX_LAYER_PARAM:"sap-ui-fl-max-layer",isValidLayer(e){return Object.keys(r).some(function(r){return r===e})},isVendorLayer(){return this.getCurrentLayer()===r.VENDOR},isCustomerDependentLayer(e){return[r.PUBLIC,r.CUSTOMER,r.CUSTOMER_BASE].indexOf(e)>-1},isDeveloperLayer(e){return s.compareAgainstCurrentLayer(e,r.CUSTOMER)===-1},doesCurrentLayerRequirePackage(){var e=this.getCurrentLayer();return e===r.VENDOR||e===r.PARTNER||e===r.CUSTOMER_BASE},getMaxLayer(r){var a=s.getMaxLayerTechnicalParameter(e.getHash(),r);return a||i(this.FL_MAX_LAYER_PARAM)||s._sTopLayer},getLayerIndex(e){return this._mLayersIndex[e]},isOverMaxLayer(e,r){return this.isOverLayer(e,this.getMaxLayer(r))},isOverLayer(e,r){return this.getLayerIndex(e)>this.getLayerIndex(r)},compareAgainstCurrentLayer(e,r){var a=r||s.getCurrentLayer();if(this.getLayerIndex(a)>this.getLayerIndex(e)||!e){return-1}else if(this.getLayerIndex(a)===this.getLayerIndex(e)){return 0}return 1},isLayerFilteringRequired(e){var r=a.getByReference(e);var t=r.maxLayer?r.maxLayer:s._sTopLayer;return this._sTopLayer!==t},isSapUiLayerParameterProvided(){return!!i("sap-ui-layer")},getCurrentLayer(){var e=i("sap-ui-layer")||"";return e.toUpperCase()||r.CUSTOMER},filterChangeDefinitionsByMaxLayer(e,r){return e.filter(function(e){return!e.layer||!s.isOverMaxLayer(e.layer,r)})},filterChangeOrChangeDefinitionsByCurrentLayer(e,r){if(!r){return e}return e.filter(function(e){var a=e.getLayer&&e.getLayer()||e.layer;return r===a})},getMaxLayerTechnicalParameter(e,r){if(r){var a=r.parseShellHash(e)||{};if(a.params&&a.params.hasOwnProperty(this.FL_MAX_LAYER_PARAM)){return a.params[this.FL_MAX_LAYER_PARAM][0]}}return undefined}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Scenario", [],function(){"use strict";return{AppVariant:"APP_VARIANT",VersionedAppVariant:"VERSIONED_APP_VARIANT",AdaptationProject:"ADAPTATION_PROJECT",FioriElementsFromScratch:"FE_FROM_SCRATCH",UiAdaptation:"UI_ADAPTATION"}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Utils", ["sap/base/i18n/Localization","sap/base/util/isPlainObject","sap/base/util/uid","sap/base/util/restricted/_isEqual","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/base/ManagedObject","sap/ui/core/util/reflection/BaseTreeModifier","sap/ui/core/Component","sap/ui/core/Element","sap/ui/fl/initial/_internal/FlexConfiguration","sap/ui/fl/Scenario","sap/ui/thirdparty/hasher","sap/ui/core/mvc/View"],function(e,t,r,n,i,o,a,s,p,u,c,l,f,g){"use strict";function m(e){if(e?.getEntry){return e.getEntry?.("sap.app")?.type}return e?.["sap.app"]?.type}function h(e,t){if(e?.startupParameters&&t&&Array.isArray(e.startupParameters[t])){return e.startupParameters[t][0]}return undefined}const d={isVariantByStartupParameter(e){const t=this.getAppComponentForControl(e);if(t?.getComponentData){return!!h(t.getComponentData(),"sap-app-id")}return false},getAppDescriptor(e){return this.getAppComponentForControl(e)?.getMetadata?.()?.getManifestObject?.().getJson()},isBinding(e,r){let n;try{n=a.bindingParser(e,r)}catch(e){return false}return typeof e==="string"&&!!n||t(e)&&((e.hasOwnProperty("path")||e.hasOwnProperty("parts"))&&!e.hasOwnProperty("ui5object"))},getComponentForControl(e){function t(e){const r=p.getOwnerIdFor(e);if(!r){if(typeof e?.getParent==="function"){const r=e.getParent();if(r){return t(r)}}}return r||""}if(e){const r=t(e);if(r){return p.getComponentById(r)}}return undefined},getAppComponentForControl(e){let t=e instanceof p?e:d.getComponentForControl(e);if(t?.getAppComponent?.()instanceof p){return t.getAppComponent()}if(t?.oComponentData?.appComponent){return t.oComponentData.appComponent}if(t?.getManifestEntry){const e=t.getManifestEntry("sap.app");if(e?.type&&e.type!=="application"){if(t instanceof p){t=d.getComponentForControl(t)}return this.getAppComponentForControl(t)}}return t},getAppComponentForSelector(e){return e.appComponent||d.getAppComponentForControl(e)},getViewForControl(e){if(e instanceof g){return e}if(typeof e?.getParent==="function"){e=e.getParent();return d.getViewForControl(e)}return undefined},getClient(){return new URLSearchParams(window.location.search).get("sap-client")},getConnectors(){const e=c.getFlexibilityServices();return e.map(e=>e?.connector)},getLrepUrl(){const e=c.getFlexibilityServices();const t=e.find(e=>e.connector==="LrepConnector");return t?.url||""},getCurrentLanguage(){const t=e.getLanguage();if(typeof t!=="string"){return""}const r=t.indexOf("-");if(r<0&&t.length<=2){return t.toUpperCase()}if(r>0&&r<=2){return t.substring(0,r).toUpperCase()}return""},getControlType(e){return e?.getMetadata?.()?.getElementName?.()},checkControlId(e,t){if(!t){e=e instanceof a?e:u.getElementById(e);t=d.getAppComponentForControl(e)}return s.checkControlId(e,t)},hasLocalIdSuffix:s.hasLocalIdSuffix,getParsedURLHash(e){return e?.parseShellHash(f.getHash())||{}},getUrlParameter(e){return new URLSearchParams(window.location.search).get(e)},getUshellContainer(){const e=sap.ui.require("sap/ushell/Container");return e?.isInitialized()?e:undefined},createDefaultFileName(e){const t=r().replace(/-/g,"_");return e?`${t}_${e}`:t},createNamespace(e,t){const r=t==="ctrl_variant"?"variants":"changes";const n=e.reference.replace(".Component","");return`apps/${n}/${r}/`},buildLrepRootNamespace(e,t,r){const n="apps";const i="Error in sap.ui.fl.Utils#buildLrepRootNamespace:";if(!e){throw new Error(`${i} for every scenario you need a base ID`)}switch(t){case l.VersionedAppVariant:case l.AppVariant:if(!r){throw new Error(`${i} in the ${t} scenario you additionally need a project ID`)}return`${n}/${e}/appVariants/${r}/`;case l.AdaptationProject:if(!r){throw new Error(`${i} in the ${t} scenario you additionally need a project ID`)}return`${n}/${e}/adapt/${r}/`;case l.FioriElementsFromScratch:case l.UiAdaptation:default:return`${n}/${e}/`}},isApplication(e){return m(e)==="application"},isApplicationComponent(e){return e instanceof p&&d.isApplication(e.getManifestObject())},isEmbeddedComponent(e){const t=d.getAppComponentForControl(e);return!!(e instanceof p&&m(e.getManifestObject())==="component"&&t&&d.isApplicationComponent(t))},indexOfObject(e,t){return e.findIndex(e=>n(e,t))},execPromiseQueueSequentially(e,t,r,n){if(e.length===0){if(r){return Promise.resolve()}return d.FakePromise?new d.FakePromise:Promise.resolve()}const o=e.shift();if(typeof o==="function"){let a;try{a=o()}catch(e){a=Promise.reject(e)}return a.then(function(){if(!r&&a instanceof Promise){r=true}}).catch(function(e){let r="Error during execPromiseQueueSequentially processing occurred";r+=e?`: ${e.message}`:"";i.error(r,e);if(t){if(n){throw new Error(e.message)}else{throw new Error(r)}}}).then(function(){return this.execPromiseQueueSequentially(e,t,r,n)}.bind(this))}i.error("Changes could not be applied, promise not wrapped inside function.");return this.execPromiseQueueSequentially(e,t,r,n)},FakePromise:function(e,t,r){d.FakePromise.fakePromiseIdentifier="sap.ui.fl.Utils.FakePromise";this.vValue=e;this.vError=t;this.bContinueWithFakePromise=arguments.length<3||r===d.FakePromise.fakePromiseIdentifier;const n=function(e,t){try{const r=t(e,d.FakePromise.fakePromiseIdentifier);if(o.isThenable(r)){return r}return new d.FakePromise(r)}catch(e){const t=e;return new d.FakePromise(undefined,t)}};d.FakePromise.prototype.then=function(e,t){if(!this.bContinueWithFakePromise){return Promise.resolve(e(this.vValue))}if(!this.vError){return n(this.vValue,e)}else if(t){return n(this.vError,t)}return this};d.FakePromise.prototype.catch=function(e){if(!this.bContinueWithFakePromise){return Promise.reject(e(this.vError))}if(this.vError){return n(this.vError,e)}return this};if(this.vValue instanceof Promise||this.vValue instanceof d.FakePromise){return this.vValue}return undefined},getChangeFromChangesMap(e,t){let r;Object.values(e).some(e=>{r=e.find(e=>e.getId()===t);return r});return r},handleUrlParameters(e,t,r,n){if(d.hasParameterAndValue(t,r,n)){if(e.startsWith("?")){e=e.substr(1,e.length)}const n=e.split("&").filter(e=>e!==`${t}=${r}`);e="";if(n.length>0){e=`?${n.join("&")}`}}else{e+=`${(e.length>0?"&":"?")+t}=${r}`}return e},hasParameterAndValue(e,t,r){return d.getParameter(e,r)===t},getParameter(e,t){return d.getParsedURLHash(t)?.params?.[e]?.[0]||d.getUrlParameter(e)},findAggregation(e,t){return e?.getMetadata?.()?.getAllAggregations?.()?.[t]},getAggregation(e,t){const r=d.findAggregation(e,t);if(r){return e[r._sGetter]()}return undefined},getProperty(e,t){const r=e.getMetadata().getPropertyLikeSetting(t)?._sGetter;return e[r]()},getUShellService(e){if(e){const t=this.getUshellContainer();if(t){return t.getServiceAsync(e)}}return Promise.resolve()},async getUShellServices(e){const t={};for(const r of e){t[r]=await this.getUShellService(r)}return t}};return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/DelegateMediator", ["sap/base/Log","sap/base/util/restricted/_pick","sap/ui/fl/requireAsync"],function(e,t,r){"use strict";const n={};let o={};let a={};function i(e){const t=e.getModel?.();if(!t){return undefined}return t.getMetadata().getName()}function l(e,t){t||=i(e);const r=o[t];return r}async function c(e,t){const r=await t.getControlMetadata(e);const n=a[r.getName()];return n}function d(t,n,o){return r(o.name).catch(r=>{e.error(`Failed to load the delegate for the control ${n.getId(t)}\n\t\t\t${r.message}`);return undefined})}function s(e,t,r){const n=[];r.forEach(function(r){if(r){n.push(async function(){const n=await d(e,t,r);if(n){r.instance=n||{};return r}return undefined}())}else{n.push(Promise.resolve())}});return Promise.all(n)}n.registerReadDelegate=function(e){if(!(e.modelType&&e.delegate)){throw new Error("'modelType' and 'delegate' properties are required for registration!")}if(o[e.modelType]){throw new Error(`modelType ${e.modelType} is already defined!`)}o[e.modelType]={name:e.delegate,modelType:e.modelType}};n.registerWriteDelegate=function(e){if(!(e.controlType&&e.delegate)){throw new Error("'controlType' and 'delegate' properties are required for registration!")}a[e.controlType]={name:e.delegate,requiredLibraries:e.requiredLibraries,delegateType:e.delegateType,controlType:e.controlType,payload:e.payload}};function u(e){return e?{...e,modelType:e.modelType||e.payload?.modelType,instance:t(e.instance,["getPropertyInfo","getRepresentedProperties"])}:undefined}n.getReadDelegateForControl=async function(e,t,r){let n=l(e,r);let o=t.getFlexDelegate(e);[o,n]=await s(e,t,[o,n]);return o?.instance.getPropertyInfo?u(o):u(n)};function p(e,r){return e?{...e,controlType:e.controlType||r.getMetadata?.().getName(),instance:t(e.instance,["createLabel","createControlForProperty","createLayout"])}:undefined}n.getWriteDelegateForControl=async function(e,t){let r=await c(e,t);let n=t.getFlexDelegate(e);[n,r]=await s(e,t,[n,r]);return n?.instance.createLabel||n?.instance.createLayout?p(n,e):p(r,e)};n.clear=function(){o={};a={}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/appVariant/DescriptorChangeTypes", [],function(){"use strict";return{getChangeTypes(){return["appdescr_ovp_addNewCard","appdescr_ovp_removeCard","appdescr_ovp_changeCard","appdescr_app_addNewInbound","appdescr_app_changeInbound","appdescr_app_removeInbound","appdescr_app_removeAllInboundsExceptOne","appdescr_app_addNewOutbound","appdescr_app_changeOutbound","appdescr_app_removeOutbound","appdescr_app_addNewDataSource","appdescr_app_changeDataSource","appdescr_app_removeDataSource","appdescr_app_addAnnotationsToOData","appdescr_app_addTechnicalAttributes","appdescr_app_removeTechnicalAttributes","appdescr_app_setTitle","appdescr_app_setSubTitle","appdescr_app_setShortTitle","appdescr_app_setDescription","appdescr_app_setInfo","appdescr_app_setDestination","appdescr_app_setKeywords","appdescr_app_setAch","appdescr_app_addCdsViews","appdescr_app_removeCdsViews","appdescr_flp_setConfig","appdescr_ui5_addNewModelEnhanceWith","appdescr_ui5_removeModel","appdescr_ui5_replaceComponentUsage","appdescr_ui5_setMinUI5Version","appdescr_smb_addNamespace","appdescr_smb_changeNamespace","appdescr_ui_generic_app_setMainPage","appdescr_ui_setIcon","appdescr_ui_setDeviceTypes","appdescr_ui5_addLibraries","appdescr_ui5_addNewModel","appdescr_app_addAnnotationsToOData","appdescr_ui5_addComponentUsages","appdescr_ui5_setFlexExtensionPointEnabled","appdescr_url_setUri","appdescr_fiori_setRegistrationIds","appdescr_card","appdescr_card_designtime","appdescr_fiori_setAbstract","appdescr_fe_changePageConfiguration","appdescr_ui5_changeModel","appdescr_ui_generic_app_addNewObjectPage","appdescr_ui_generic_app_changePageConfiguration","appdescr_fe_addNewPage"]},getCondensableChangeTypes(){return["appdescr_app_setTitle","appdescr_app_setInfo","appdescr_app_setShortTitle","appdescr_app_setSubTitle","appdescr_app_setDescription","appdescr_app_setDestination","appdescr_app_setKeywords","appdescr_app_setAch","appdescr_ui_setIcon","appdescr_ui_setDeviceTypes","appdescr_ui_setIcon","appdescr_ui_setDeviceTypes","appdescr_fiori_setRegistrationIds","appdescr_smb_changeNamespace"]}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Applier", ["sap/base/Log","sap/base/strings/formatMessage","sap/ui/core/Element","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/FlexObjectState","sap/ui/fl/Utils"],function(e,n,t,o,r,a,i,s,c){"use strict";let l=c.FakePromise?new c.FakePromise:Promise.resolve();const p={};const d={};function g(t,o,r,a){const i=n(o.join(" "),r);e[t](i,a||"")}async function f(e,n){const t=e.getSelector&&e.getSelector();if(!t||!t.id&&!t.name){throw Error("No selector in change found or no selector ID.")}function o(e){if(c.indexOfObject(n.failedSelectors,e)>-1){throw Error("A change depending on that control already failed, so the current change is skipped")}}const r=await n.modifier.bySelectorTypeIndependent(t,n.appComponent,n.view);if(!r){throw Error("A flexibility change tries to change a nonexistent control.")}o(t);const a=e.getDependentControlSelectorList();a.forEach(e=>{const t=n.modifier.bySelector(e,n.appComponent,n.view);if(!t){throw new Error("A dependent selector control of the flexibility change is not available.")}o(e)});return r}function u(e){return e.modifier.targets==="xmlTree"}function h(e,n,t,o){const i=a.getControlIfTemplateAffected(n,e,t).control;const c=t.modifier;const l=i&&!!r.getAppliedCustomDataValue(i,n,c);const p=i&&r.hasChangeApplyFinishedCustomData(i,n,c);const d=n.isApplyProcessFinished();if(d&&!p){if(!o){s.copyDependenciesFromCompleteDependencyMap(n,t.appComponent)}n.setInitialApplyState()}else if(!d&&p){if(l){n.setRevertData(r.getParsedRevertDataFromCustomData(i,n,c));n.markSuccessful()}else{n.markFailed()}}else if(d&&p){n.markSuccessful()}}function y(e,n){if(u(n)&&e.getJsOnly()){const n="Change cannot be applied in XML. Retrying in JS.";e.setInitialApplyState();throw Error(n)}}async function m(e,n,o,a){if(o instanceof t){n.control=o}if(n.control){await a.modifier.updateAggregation(n.originalControl,e.getContent().boundAggregation)}await r.addAppliedCustomData(n.control,e,a,u(a));const i={success:true};e.markSuccessful(i);return i}async function C(e,n,t,o){const a=u(o);const i={success:false,error:e};const s=n.getId();const c="Change ''{0}'' could not be applied.";const l=e instanceof Error;const p=r.getCustomDataIdentifier(false,l,a);switch(p){case r.notApplicableChangesCustomDataKey:g("info",[c,e.message],[s]);break;case r.failedChangesCustomDataKeyXml:g("warning",[c,"Merge error detected while processing the XML tree."],[s],e.stack);break;case r.failedChangesCustomDataKeyJs:g("error",[c,"Merge error detected while processing the JS control tree."],[s],e.stack);break;default:}await r.addFailedCustomData(t.control,n,o,p);if(a){n.setInitialApplyState()}else{n.markFailed(i)}return i}function A(n,t){const o=t.getChangeType();const r=t.getSelector().id;const a=`${t.getNamespace()+t.getId()}.${t.getFileType()}`;let i="A flexibility change could not be applied.";i+="\nThe displayed UI might not be displayed as intended.";if(n.message){i+=`\n   occurred error message: '${n.message}'`}i+=`\n   type of change: '${o}'`;i+=`\n   LRep location of the change: ${a}`;i+=`\n   id of targeted control: '${r}'.`;e.warning(i,undefined,"sap.ui.fl.apply._internal.changes.Applier")}function w(e,n,t){const r={appComponent:t,modifier:o};const a=o.bySelector(e.originalSelectorToBeAdjusted,t);let i=n.getBindingInfo(e.getContent().boundAggregation).template;if(a.getParent()){const e=[];let n=a;do{e.push({aggregation:n.sParentAggregationName,index:n.getParent().getAggregation(n.sParentAggregationName).indexOf(n)});n=n.getParent()}while(n.getParent());e.reverse();e.forEach(e=>{i=i.getAggregation(e.aggregation)[e.index]})}e.addDependentControl(i,"originalSelector",r)}function S(e,n,t){let o=e.findIndex(e=>e.handler===n);if(o<0){o=e.length;e.push({handler:n,controls:[]})}if(!e[o].controls.includes(t)){e[o].controls.push(t)}}async function b(e,n,t,o){const r=[];const a=e.getId();const s=t.mChanges[a]||[];let l;if(t.mControlsWithDependencies[a]){i.removeControlsDependencies(t,a);l=true}s.forEach(s=>{if(s.originalSelectorToBeAdjusted){w(s,e,o);delete s.originalSelectorToBeAdjusted}if(s._ignoreOnce){delete s._ignoreOnce}else if(s.isApplyProcessFinished()){i.resolveDependenciesForChange(t,s.getId(),a)}else if(!t.mDependencies[s.getId()]){r.push(async()=>{await d.applyChangeOnControl(s,e,n);i.resolveDependenciesForChange(t,s.getId(),a)})}else{const o=d.applyChangeOnControl.bind(d,s,e,n);i.addChangeApplyCallbackToDependency(t,s.getId(),o)}});if(s.length||l){await c.execPromiseQueueSequentially(r);await i.processDependentQueue(t,o,a)}p[a].shift().resolveFunction()}d.addPreConditionForInitialChangeApplying=function(e){l=l.then(()=>e)};d.applyChangeOnControl=async function(e,n,t){const o=a.getControlIfTemplateAffected(e,n,t);try{const n=t.changeHandler||await a.getChangeHandler({flexObject:e,control:o.control,controlType:o.controlType,modifier:t.modifier});y(e,t);if(e.hasApplyProcessStarted()){const n=await e.addPromiseForApplyProcessing();e.markSuccessful();return n}if(!e.isApplyProcessFinished()){e.startApplying();try{const r=await n.applyChange(e,o.control,t);return m(e,o,r,t)}catch(n){return C(n,e,o,t)}}const r={success:true};e.markSuccessful(r);return r}catch(e){return{success:false,error:e}}};d.applyMultipleChanges=async function(e,n){n.modifier=o;for(const t of e){const e=o.bySelector(t.getSelector(),n.appComponent);const r=s.getLiveDependencyMap(n.reference);if(e){h(e,t,n,true);if(!t.isApplyProcessFinished()){t.setQueuedForApply()}let o;try{o=await d.applyChangeOnControl(t,e,n)}catch(e){o={success:false}}if(o.success){i.addRuntimeChangeToMap(t,n.appComponent,r)}}else{i.addChangeAndUpdateDependencies(t,n.appComponent.getId(),r)}}};d.applyAllChangesForControl=async function(e,n,t){const r=s.getLiveDependencyMap(n);const a=t.getId();const i=r.mChanges[a]||[];const d={modifier:o,appComponent:e,view:c.getViewForControl(t)};if(p[a]?.length){await p[a][p[a].length-1].promise}i.forEach(e=>{h(t,e,d);if(!e.isApplyProcessFinished()&&!e._ignoreOnce){e.setQueuedForApply()}});p[a]||=[];const g={};g.promise=new Promise(e=>{g.resolveFunction=e});p[a].push(g);l=l.then(b.bind(undefined,t,d,r,e));return l};d.applyAllChangesForXMLView=async function(n,t){if(!Array.isArray(t)){const o=`No list of changes was passed for processing the flexibility on view: ${n.view}.`;e.error(o,undefined,"sap.ui.fl.apply._internal.changes.Applier");t=[]}const o=[];n.failedSelectors=[];for(const e of t){try{const t=await f(e,n);const r=a.getControlIfTemplateAffected(e,t,n);n.changeHandler=await a.getChangeHandler({flexObject:e,control:r.control,controlType:r.controlType,modifier:n.modifier});e.setQueuedForApply();h(t,e,n,true);if(!e.isApplyProcessFinished()){if(typeof n.changeHandler.onAfterXMLChangeProcessing==="function"){S(o,n.changeHandler,t)}const r=await d.applyChangeOnControl(e,t,n);if(!r.success){throw Error(r.error)}}}catch(t){e.getDependentSelectorList().forEach(e=>{if(c.indexOfObject(n.failedSelectors,e)===-1){n.failedSelectors.push(e)}});A(t,e)}}delete n.failedSelectors;o.forEach(t=>{t.controls.forEach(o=>{try{t.handler.onAfterXMLChangeProcessing(o,n)}catch(n){e.error("Error during onAfterXMLChangeProcessing",n)}})});return n.view};return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/FlexCustomData", ["sap/base/Log","sap/ui/core/CustomData"],function(t){"use strict";const a={};a.appliedChangesCustomDataKey="sap.ui.fl.appliedChanges";a.failedChangesCustomDataKeyJs="sap.ui.fl.failedChanges.js";a.failedChangesCustomDataKeyXml="sap.ui.fl.failedChanges.xml";a.notApplicableChangesCustomDataKey="sap.ui.fl.notApplicableChanges";function e(t,a,e,s){const o=s.modifier.getCustomDataInfo(t,a);if(!o.customData){return s.modifier.createAndAddCustomData(t,a,e,s.appComponent)}return Promise.resolve(s.modifier.setProperty(o.customData,"value",e))}function s(t,a){const e=a.getRevertData();if(t&&e!==undefined){return JSON.stringify(e)}return"true"}a.getAppliedCustomDataValue=function(t,e,s){const o=s.getCustomDataInfo(t,a._getCustomDataKey(e,a.appliedChangesCustomDataKey));return o.customDataValue};a.getParsedRevertDataFromCustomData=function(e,s,o){const u=a.getAppliedCustomDataValue(e,s,o);try{return u&&JSON.parse(u)}catch(a){t.error("Could not parse revert data from custom data",u);return undefined}};a.hasChangeApplyFinishedCustomData=function(t,e,s){const o=s.getCustomDataInfo(t,a._getCustomDataKey(e,a.appliedChangesCustomDataKey));if(o.customData){return true}const u=s.getCustomDataInfo(t,a._getCustomDataKey(e,a.failedChangesCustomDataKeyJs));if(u.customData){return true}const n=s.getCustomDataInfo(t,a._getCustomDataKey(e,a.notApplicableChangesCustomDataKey));if(n.customData){return true}return false};a.addAppliedCustomData=function(t,o,u,n){const r=s(n,o);const i=a._getCustomDataKey(o,a.appliedChangesCustomDataKey);return e(t,i,r,u)};a.addFailedCustomData=function(t,s,o,u){const n=a._getCustomDataKey(s,u);return e(t,n,"true",o)};a.destroyAppliedCustomData=function(t,e,s){const o=a._getCustomDataKey(e,a.appliedChangesCustomDataKey);const u=s.getCustomDataInfo(t,o);if(u.customData){s.destroy(u.customData)}};a.getCustomDataIdentifier=function(t,e,s){if(t){return a.appliedChangesCustomDataKey}if(!e){return a.notApplicableChangesCustomDataKey}if(s){return a.failedChangesCustomDataKeyXml}return a.failedChangesCustomDataKeyJs};a._getCustomDataKey=function(t,a){return`${a}.${t.getId()}`};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Reverter", ["sap/base/Log","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/FlexObjectState","sap/ui/fl/Utils"],function(e,t,r,n,o,a,i){"use strict";const s={};async function l(e){if(!e.isApplyProcessFinished()&&e.hasApplyProcessStarted()){const t=await e.addPromiseForApplyProcessing();if(t&&t.error){e.markRevertFinished(t.error);throw Error(t.error)}}}function c(e,t){const r=e.getId();const n=a.getLiveDependencyMap(t);o.removeChangeFromMap(n,r);o.removeChangeFromDependencies(n,r)}async function p(e,t,n,o){const a=await s.revertChangeOnControl(e,t,n);r.destroyAppliedCustomData(a||t,e,o.modifier);if(a){c(e,o.reference)}}s.revertChangeOnControl=async function(t,r,o){const a=n.getControlIfTemplateAffected(t,r,o);try{const e=await n.getChangeHandler({flexObject:t,control:a.control,controlType:a.controlType,modifier:o.modifier});await l(t);if(t.isSuccessfullyApplied()){t.startReverting()}else{throw Error("Change was never applied")}await e.revertChange(t,a.control,o);a.control=o.modifier.bySelector(t.getSelector(),o.appComponent,o.view);if(a.bTemplateAffected){await o.modifier.updateAggregation(a.control,t.getContent().boundAggregation)}t.markRevertFinished();return a.control}catch(r){const n=`Change could not be reverted: ${r.message}`;e.error(n);t.markRevertFinished(n);return false}};s.revertMultipleChanges=function(e,r){const n=[];e.forEach(e=>{e.setQueuedForRevert();n.push(()=>{const t=e.getSelector&&e.getSelector();const n=r.modifier.bySelector(t,r.appComponent);if(!n){c(e,r.reference);return i.FakePromise?new i.FakePromise:Promise.resolve()}const o={modifier:r.modifier,appComponent:r.appComponent,view:i.getViewForControl(n)};return p(e,n,o,r)})});const o=i.execPromiseQueueSequentially(n);t.addPreConditionForInitialChangeApplying(o);return o};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Utils", ["sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/flexObjects/AnnotationChange","sap/ui/fl/apply/_internal/flexObjects/AppDescriptorChange","sap/ui/fl/apply/_internal/flexObjects/VariantChange","sap/ui/fl/apply/_internal/flexObjects/VariantManagementChange","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/requireAsync","sap/ui/fl/Utils"],function(e,t,n,a,r,i,l,o,c,s){"use strict";function f(e,t){if(t||e.hasApplyProcessStarted()){return false}return true}function g(e){return e.flexObject instanceof r||e.flexObject instanceof i}const p={getControlIfTemplateAffected(e,t,n){const a=n.modifier;const r={originalControl:t};const i=e.getOriginalSelector();if(e.getContent().boundAggregation&&i){r.control=a.bySelector(i,n.appComponent,n.view);r.controlType=a.getControlType(r.control);r.bTemplateAffected=true}else{r.control=t;r.controlType=a.getControlType(t);r.bTemplateAffected=false}return r},async getChangeHandler(t){const r=t.changeType||t.flexObject?.getChangeType();if(t.flexObject instanceof a||t.appDescriptorChange){const n=t.strategy||await e.getRuntimeStrategy();try{const e=await n.registry();return await(e[r]?.())}catch(e){n.handleError(e)}}else if(t.flexObject instanceof n||t.annotationChange){return o.getAnnotationChangeHandler({changeType:r})}else if(g(t)){return l.getChangeInformationProvider(t.flexObject)}else if(t.control){const e=await t.modifier.getLibraryName(t.control);const n=await c("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration");await n.waitForChangeHandlerRegistration(e);const a=t.layer||t.flexObject?.getLayer();return o.getChangeHandler(r,t.controlType,t.control,t.modifier,a)}return undefined},checkIfDependencyIsStillValid(e,n,a,r){const i=s.getChangeFromChangesMap(a.mChanges,r);if(!i){return false}const l=n.bySelector(i.getSelector(),e);if(!l){return true}const o=t.hasChangeApplyFinishedCustomData(l,i,n);return f(i,o)},isChangeInView(e,t){const n=e.modifier;const a=e.appComponent;const r=t.getSelector();if(!r){return false}if(r.viewSelector){const t=n.getControlIdBySelector(r.viewSelector,a);return t===e.viewId}const i=r.id;if(i){let n;if(t.getSelector().idIsLocal){if(a){n=a.getLocalId(e.viewId)}}else{n=e.viewId}let r=0;let l;do{r=i.indexOf("--",r);l=i.slice(0,r);r++}while(l!==n&&r>0);return l===n}return false}};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/Applier", ["sap/base/util/isEmptyObject","sap/ui/fl/apply/_internal/changes/Utils"],function(t,s){"use strict";const e={async applyChanges(e,n,a){const c=[];for(const t of n){c.push(await s.getChangeHandler({flexObject:t,strategy:a}))}c.forEach(function(s,c){try{const r=n[c];e=s.applyChange(e,r);if(!s.skipPostprocessing&&!t(r.getTexts())){e=a.processTexts(e,r.getTexts())}}catch(t){a.handleError(t)}});return e}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory", ["sap/ui/fl/requireAsync","sap/base/Log"],function(r,e){"use strict";function t(r,e){const n=Array.isArray(r)?[...r]:{...r};Object.entries(n).forEach(([r,s])=>{if(typeof s==="object"&&s!==null){n[r]=t(s,e)}else if(typeof s==="string"){n[r]=s.replaceAll(/{{.*?}}/g,r=>{const t=r.slice(2,-2);const n=e[t];return n||r})}});return n}var n={registry(){return r("sap/ui/fl/apply/_internal/changes/descriptor/Registration")},handleError(r){e.error(r)},processTexts(r,n){const s={};Object.entries(n).forEach(([r,{value:t}])=>{if(t[""]){s[r]=t[""];return}e.error("Text change has to contain default language")});return t(r,s)}};var s={getRuntimeStrategy(){return n}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/InlineApplier", ["sap/ui/fl/apply/_internal/changes/descriptor/Applier","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory"],function(e,t){"use strict";const n="$sap.ui.fl.changes";function r(e){const r=e&&e.getEntry&&e.getEntry(n)&&e.getEntry(n).descriptor||[];return r.map(function(e){return t.createAppDescriptorChange(e)})}const s={applyChanges(t,s){const p=r(t);const a=t.getJson();delete a[n];return p.length?e.applyChanges(a,p,s):Promise.resolve()}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/Preprocessor", ["sap/ui/fl/apply/_internal/changes/descriptor/Applier","sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/performance/Measurement","sap/ui/fl/Utils"],function(e,t,n,i,a,r){"use strict";var s={preprocessManifest(s,p){if(!r.isApplication(s,true)||!p.id){return Promise.resolve(s)}a.start("flexStateInitialize","Initialization of flex state",["sap.ui.fl"]);const l=p.componentData||{};const o=i.getFlexReference({manifest:s,componentData:l});if(!i.getChangeManifestFromAsyncHints(p.asyncHints,o)){n.initialize({componentData:l,asyncHints:p.asyncHints,rawManifest:s,componentId:p.id,reference:o,partialFlexState:true}).then(a.end.bind(undefined,"flexStateInitialize"));return Promise.resolve(s)}return n.initialize({componentData:l,asyncHints:p.asyncHints,rawManifest:s,componentId:p.id,reference:o,partialFlexState:true}).then(function(){a.end("flexStateInitialize");a.start("flexAppDescriptorMerger","Client side app descriptor merger",["sap.ui.fl"]);const i={...s};const r=n.getAppDescriptorChanges(o);return e.applyChanges(i,r,t.getRuntimeStrategy())}).then(function(e){a.end("flexAppDescriptorMerger");return e})}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/controlVariants/URLHandler", ["sap/ui/core/Component","sap/base/Log","sap/base/util/deepEqual","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/ui/base/ManagedObjectObserver","sap/ui/thirdparty/hasher","sap/ui/fl/apply/_internal/controlVariants/Utils"],function(e,a,t,r,n,o,i,s,l){"use strict";var c={};var m={};function d(e,a){var t=[];return e.reduce(function(e,r){var n=a.getVariantManagementReference(r).variantManagementReference;if(n){if(t.includes(n)){e.updateRequired=true;return e}t.push(n)}if(n&&a.oData[n].currentVariant!==r){e.updateRequired=true;if(a.oData[n].currentVariant!==a.oData[n].defaultVariant){e.parameters.push(a.oData[n].currentVariant)}}else{e.parameters.push(r)}return e},{updateRequired:false,parameters:[]})}function p(e,a){const t=e.getUShellService("URLParsing")?.parseShellHash(a||s.getHash());var r=n.get(["params",l.VARIANT_TECHNICAL_PARAMETER],t);if(Array.isArray(r)&&r.length===1){r=r[0].split(",")}if(r){var o=d(r,e);if(o.updateRequired){m.update({updateURL:!e._bDesignTimeMode,parameters:o.parameters,updateHashEntry:true,model:e})}}}function u(e,t){try{const a=e.getUShellService("URLParsing");if(a){p(e,t)}}catch(e){a.error(e.message)}const r=e.getUShellService("ShellNavigationInternal");return r?.NavigationFilterStatus.Continue}function f(e){const a=e.getUShellService("ShellNavigationInternal");if(!c[e.sFlexReference]){c[e.sFlexReference]=u.bind(null,e);if(a){a.registerNavigationFilter(c[e.sFlexReference])}}}function A(e){const a=e.getUShellService("ShellNavigationInternal");if(a){a.unregisterNavigationFilter(c[e.sFlexReference]);delete c[e.sFlexReference]}}function R(e){const r=e.model;const n=r.getUShellService("URLParsing");const o=r.getUShellService("Navigation");const i=n?.parseShellHash(s.getHash());if(i?.params){const c={...i.params};const m=r.oAppComponent?.getComponentData?.()?.technicalParameters;if(!m){a.warning("Component instance not provided, so technical parameters in component data and browser history remain unchanged")}if(e.parameters.length===0){delete i.params[l.VARIANT_TECHNICAL_PARAMETER];if(m){delete m[l.VARIANT_TECHNICAL_PARAMETER]}}else{i.params[l.VARIANT_TECHNICAL_PARAMETER]=[e.parameters.toString()];if(m){m[l.VARIANT_TECHNICAL_PARAMETER]=[e.parameters.toString()]}}if(e.silent){s.changed.active=false;s.replaceHash(n.constructShellHash(i));s.changed.active=true}else if(!t(c,i.params)){o.navigate({target:{semanticObject:i.semanticObject,action:i.action,context:i.contextRaw},params:i.params,appSpecificRoute:i.appSpecificRoute,writeHistory:false})}}}function h(e){var a={index:-1};var t=e.model;var n=t.getUShellService("URLParsing");var i=n?.parseShellHash(s.getHash()).params;if(i){a.parameters=[];if(t._bDesignTimeMode){i[l.VARIANT_TECHNICAL_PARAMETER]=m.getStoredHashParams(e)}if(Array.isArray(i[l.VARIANT_TECHNICAL_PARAMETER])){if(i[l.VARIANT_TECHNICAL_PARAMETER].length>1){i[l.VARIANT_TECHNICAL_PARAMETER]=i[l.VARIANT_TECHNICAL_PARAMETER].map(decodeURIComponent)}else if(i[l.VARIANT_TECHNICAL_PARAMETER].length===1){const e=i[l.VARIANT_TECHNICAL_PARAMETER][0];const a=e&&decodeURIComponent(e);i[l.VARIANT_TECHNICAL_PARAMETER]=a?a.split(","):[]}i[l.VARIANT_TECHNICAL_PARAMETER].some(function(r,n){if(!o(t.getVariant(r,e.vmReference))){a.index=n;return true}return false})}}return r(a,i&&i[l.VARIANT_TECHNICAL_PARAMETER]&&{parameters:i[l.VARIANT_TECHNICAL_PARAMETER]})}function v(e){var a=e.getUShellService("URLParsing");var t=a?.parseShellHash(s.getHash());return t?.params&&t.params[l.VARIANT_TECHNICAL_PARAMETER]}m.variantTechnicalParameterName="sap-ui-fl-control-variant-id";m.initialize=function(e){var a=e.model;m.attachHandlers(e);a._oHashData={hashParams:[],controlPropertyObservers:[],variantControlIds:[]};p(a)};m.updateVariantInURL=function(e){var a=m.removeURLParameterForVariantManagement(e);if(!a.parameters){return}var t=a.parameters||[];var r=a.index;var n=e.newVReference===e.model.oData[e.vmReference].defaultVariant;if(!n){if(r===-1){t=t.concat([e.newVReference])}else{t=t.slice(0,r).concat([e.newVReference],t.slice(r))}}if(!n||r>-1){m.update({parameters:t,updateURL:!e.model._bDesignTimeMode,updateHashEntry:true,model:e.model})}};m.removeURLParameterForVariantManagement=function(e){var a=h(e);if(a.index>-1){a.parameters.splice(a.index,1)}return a};m.attachHandlers=function(a){function t(){return a.model._oVariantSwitchPromise.then(function(){a.model._oHashData.controlPropertyObservers.forEach(function(e){e.destroy()});A(a.model);a.model.destroy();a.model.oComponentDestroyObserver.unobserve(a.model.oAppComponent,{destroy:true});a.model.oComponentDestroyObserver.destroy()})}f(a.model);if(!a.model.oComponentDestroyObserver&&a.model.oAppComponent instanceof e){a.model.oComponentDestroyObserver=new i(t.bind(null));a.model.oComponentDestroyObserver.observe(a.model.oAppComponent,{destroy:true})}};m.registerControl=function(e){if(e.updateURL){e.model._oHashData.variantControlIds.push(e.vmReference)}};m.update=function(e){if(!Array.isArray(e.parameters)){a.info("Variant URL parameters could not be updated since invalid parameters were received");return}if(e.updateURL){R(e)}if(e.updateHashEntry){e.model._oHashData.hashParams=e.parameters}};m.getStoredHashParams=function(e){return Array.prototype.slice.call(e.model._oHashData.hashParams)};m.handleModelContextChange=function(e){var a="modelContextChange";function t(a,t){var r=t.model.getVariantManagementReferenceForControl(a.getSource());var n=t.model._oHashData.variantControlIds;var o=n.indexOf(r);if(o>-1){n.slice(o).forEach(function(a){if(h({vmReference:a,model:e.model}).index===-1){t.model.switchToDefaultForVariantManagement(a)}})}}var r=new i(function(r){if(r.current===true&&r.old===false){r.object.attachEvent(a,{model:e.model},t)}else if(r.current===false&&r.old===true){r.object.detachEvent(a,t)}});r.observe(e.vmControl,{properties:["resetOnContextChange"]});e.model._oHashData.controlPropertyObservers.push(r);if(e.vmControl.getResetOnContextChange()!==false){e.vmControl.attachEvent(a,{model:e.model},t)}};m.clearAllVariantURLParameters=function(e){if(v(e.model)){m.update({updateURL:true,parameters:[],updateHashEntry:false,model:e.model})}};return m});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/controlVariants/Utils", ["sap/ui/core/Element","sap/ui/core/StaticArea","sap/ui/fl/Utils"],function(e,t,r){"use strict";function n(e,t){if(!t){return undefined}if(e.indexOf(t.getId())>-1){return t.getId()}return n(e,t.getParent())}function a(e,n){var a=r.getAppComponentForControl(e);var o=a.getRootControl();var i=[];if(!n&&o.getDomRef()){i=Array.from(o.getDomRef().querySelectorAll(".sapUiFlVarMngmt"))}if(n||i.length===0){i=Array.from(t.getDomRef().querySelectorAll(".sapUiFlVarMngmt"))}return i.map(function(e){return e.id})}var o={DEFAULT_AUTHOR:"SAP",VARIANT_TECHNICAL_PARAMETER:"sap-ui-fl-control-variant-id",compareVariants(e,t){if(e.getName().toLowerCase()<t.getName().toLowerCase()){return-1}else if(e.getName().toLowerCase()>t.getName().toLowerCase()){return 1}return 0},getIndexToSortVariant(e,t){var r=e.length;e.some(function(e,n){if(o.compareVariants(t.instance,e.instance)<0){r=n;return true}});return r},getRelevantVariantManagementControlId(t,r,o){var i={};if(!r||!r.length){r=a(t,o)}var u=r.reduce(function(t,r){var n=e.getElementById(r);if(n){var a=n.getFor();a.forEach(function(e){i[e]=r});t=t.concat(a)}return t},[]);var g=n(u,t);return i[g]},belongsToVariantManagement(e){var t=a(e);return!!o.getRelevantVariantManagementControlId(e,t)},getAllVariantManagementControlIds(e){return a(e)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/extensionPoint/Registry", ["sap/ui/base/ManagedObjectObserver","sap/ui/fl/Utils"],function(e,t){"use strict";var n={};var r={};var a={};var o={};var i={};function g(e){var t=e.object.getId();a[t].forEach(function(e){o[e.view.getId()][e.name].bParentIsDestroyed=true})}function s(e){var n=e.object.getId();a[n].forEach(function(n){var r=n.aggregationName;if(r===e.name){var a=t.getAggregation(e.object,r);var o=[].concat(a||[]).map(function(e){return e.getId()});if(e.mutation==="insert"){if(o.indexOf(e.child.getId())<n.index){n.index++}}else{if(Array.isArray(n.defaultContent)){n.defaultContent=n.defaultContent.filter(function(t){return t.getId()!==e.child.getId()})}if(Array.isArray(n.createdControls)){n.createdControls=n.createdControls.filter(function(t){return t!==e.child.getId()})}if(n.aggregation.indexOf(e.child.getId())<n.index){n.index--}}n.aggregation=o}})}function d(e){if(e.type==="destroy"){g(e)}else{s(e)}}function c(t,n){var a=t.getId();if(!r[a]){var o=new e(d.bind(this));o.observe(t,{aggregations:[n],destroy:true});r[a]={observer:o,aggregations:[n]}}else{var i=r[a].observer.isObserved(t,{aggregations:[n]});if(!i){r[a].aggregations.push(n);r[a].observer.observe(t,{aggregations:r[a].aggregations,destroy:true})}}}function f(e,n,r){var g=r.view.getId();var s=t.getAggregation(e,n);var d=[].concat(s||[]).map(function(e){return e.getId()});var c=e.getId();a[c]||=[];o[g]||={};r.aggregation=d;if(i[g]&&i[g][r.name]){r.createdControls=i[g][r.name];delete i[g][r.name]}a[c].push(r);o[g][r.name]=r}n.registerExtensionPoint=function(e){var t=e.targetControl;var n=e.aggregationName;c(t,n);f(t,n,e)};n.getExtensionPointInfo=function(e,t){return o[t.getId()]&&o[t.getId()][e]};n.getExtensionPointInfoByViewId=function(e){return o[e]||{}};n.getExtensionPointInfoByParentId=function(e){return a[e]||[]};n.clear=function(){Object.keys(r).forEach(function(e){r[e].observer.disconnect();r[e].observer.destroy()});r={};a={};o={}};n.addCreatedControls=function(e,t,n){var r;if(o[t]&&o[t][e]){r=o[t][e].createdControls||[];o[t][e].createdControls=r.concat(n)}else{i[t]||={};r=i[t][e]||[];i[t][e]=r.concat(n)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/AnnotationChange", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(t){"use strict";var e=t.extend("sap.ui.fl.apply._internal.flexObjects.AnnotationChange",{metadata:{properties:{serviceUrl:{type:"string",defaultValue:""}}},constructor:function(...e){t.apply(this,e);this.setFileType("annotation_change")}});e.getMappingInfo=function(){return{...t.getMappingInfo(),serviceUrl:"selector.serviceUrl"}};e.prototype.getMappingInfo=function(){return e.getMappingInfo()};e.prototype.getValue=function(){return this.getText("annotationText")?this.getText("annotationText"):this.getContent().value};e.prototype.getIdForCondensing=function(){return this.getServiceUrl()};e.prototype.canBeCondensed=function(){return true};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/AppDescriptorChange", ["sap/ui/fl/apply/_internal/appVariant/DescriptorChangeTypes","sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e,t){"use strict";var n=t.extend("sap.ui.fl.apply._internal.flexObjects.AppDescriptorChange",{metadata:{properties:{appDescriptorChange:{type:"boolean",defaultValue:true}}}});n.getMappingInfo=function(){return{...t.getMappingInfo(),appDescriptorChange:"appDescriptorChange"}};n.prototype.getMappingInfo=function(){return n.getMappingInfo()};n.prototype.getIdForCondensing=function(){return`appDescriptor_${this.getFlexObjectMetadata().reference}`};n.prototype.canBeCondensed=function(){return e.getCondensableChangeTypes().includes(this.getChangeType())};n.prototype.getSelector=function(){return{}};n.prototype.isValidForDependencyMap=function(){return false};n.prototype.getVariantReference=function(){return undefined};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/CompVariant", ["sap/base/util/restricted/_pick","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/Variant","sap/ui/fl/LayerUtils","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(t,e,r,i,n,a,s){"use strict";var o=r.extend("sap.ui.fl.apply._internal.flexObjects.CompVariant",{metadata:{properties:{persisted:{type:"boolean",defaultValue:true},persistencyKey:{type:"string"}},aggregations:{revertData:{type:"sap.ui.base.ManagedObject",multiple:true,singularName:"revertData"},changes:{type:"sap.ui.base.ManagedObject",multiple:true}}},constructor:function(...t){const[e]=t;r.apply(this,t);this.setFileType("variant");if(e.favorite!==undefined){this.setFavorite(!!e.favorite)}else if(e.layer===n.VENDOR||e.layer===n.CUSTOMER_BASE){this.setFavorite(true)}}});o.STANDARD_VARIANT_ID="*standard*";o.getMappingInfo=function(){return{...r.getMappingInfo(),persistencyKey:"selector.persistencyKey",standardVariant:"standardVariant",variantId:"variantId"}};o.prototype.getMappingInfo=function(){return o.getMappingInfo()};function p(t){var e=a.getInstanceOrUndef();var r=e&&e.getUserId();return!r||!t||r.toUpperCase()===t.toUpperCase()}function u(t,e,r){if(e){return t===e}else if(t===n.USER){return true}var s=a.getInstanceOrUndef();if(i.isSapUiLayerParameterProvided()){e=i.getCurrentLayer()}else{e||=s.isPublicLayerAvailable()?n.PUBLIC:n.CUSTOMER}var o=t===e;var u=s.isKeyUser()||p(r);return o&&u}function l(t){return!t||s.getCurrentLanguage()===t}function c(t,e){var r=a.getInstanceOrUndef();if(!r){return true}if(!t||!e){return true}var i=r.getSystem();var n=r.getClient();return i===t&&e===n}o.prototype.getPackage=function(){return this.getFlexObjectMetadata().packageName};o.prototype.isVariant=function(){return true};o.prototype.isRenameEnabled=function(t){return!this.getStandardVariant()&&this.isEditEnabled(t)&&(!this.isTranslationEnabled()||l(this.getSupportInformation().originalLanguage))};o.prototype.isEditEnabled=function(t){var e=t&&i.isDeveloperLayer(t);var r=c(this.getSupportInformation().sourceSystem,this.getSupportInformation().sourceClient);var n=u(this.getLayer(),t,this.getOwnerId());return e||r&&n};o.prototype.isDeleteEnabled=function(t){var e=c(this.getSupportInformation().sourceSystem,this.getSupportInformation().sourceClient);return e&&u(this.getLayer(),t,this.getOwnerId())&&!this.getStandardVariant()};o.prototype.isTranslationEnabled=function(){return!i.isOverLayer(this.getLayer(),n.CUSTOMER)};o.prototype.storeFavorite=function(t){if(t!==this.getFavorite()){this.setState(e.LifecycleState.UPDATED);this.setFavorite(t)}};o.prototype.storeVisible=function(t){if(t!==this.getVisible()){this.setState(e.LifecycleState.UPDATED);this.setVisible(t)}};o.prototype.getOwnerId=function(){return this.getSupportInformation().user||""};o.prototype.storeContent=function(t){this.setContent(t)};o.prototype.storeExecuteOnSelection=function(t){if(t!==this.getExecuteOnSelection()){this.setState(e.LifecycleState.UPDATED);this.setExecuteOnSelection(t)}};o.prototype.storeName=function(t){this.setName(t)};o.prototype.storeContexts=function(t){this.setContexts(t);this.setState(e.LifecycleState.UPDATED)};o.prototype.cloneFileContentWithNewId=function(...t){var e=r.prototype.cloneFileContentWithNewId.apply(this,t);e.variantId=e.fileName;return e};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/CompVariantRevertData", ["sap/ui/fl/apply/_internal/flexObjects/RevertData"],function(e){"use strict";return e.extend("sap.ui.fl.apply._internal.flexObjects.CompVariantRevertData",{metadata:{properties:{change:{type:"object"}}}})});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/ControllerExtensionChange", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.ControllerExtensionChange",{metadata:{properties:{controllerName:{type:"string"}}}});t.getMappingInfo=function(){return{...e.getMappingInfo(),controllerName:"selector.controllerName"}};t.prototype.getMappingInfo=function(){return t.getMappingInfo()};t.prototype.getSelector=function(){return{controllerName:this.getControllerName()}};t.prototype.getVariantReference=function(){return undefined};t.prototype.isValidForDependencyMap=function(){return false};t.prototype.setInitialApplyState=function(){};t.prototype.getModuleName=function(){return this.getFlexObjectMetadata().moduleName};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlVariant", ["sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/Variant"],function(e,t){"use strict";var n=t.extend("sap.ui.fl.apply._internal.flexObjects.FlVariant",{metadata:{properties:{variantReference:{type:"string"},variantManagementReference:{type:"string"}}},constructor:function(...n){let[i,a]=n;if(typeof i!=="string"&&i!==undefined){a=i;i=a&&a.id}a.fileType="ctrl_variant";if(a.favorite===undefined){a.favorite=true}t.apply(this,n);if(!this.getName()&&a.content&&a.content.title){this.setName(a.content.title)}var r=this.getSupportInformation();if(this.getId()===this.getVariantManagementReference()){this.setStandardVariant(true);if(!r.user){r.user=e.DEFAULT_AUTHOR;this.setSupportInformation(r)}}}});n.getMappingInfo=function(){return{...t.getMappingInfo(),variantReference:"variantReference",variantManagementReference:"variantManagementReference"}};n.prototype.getMappingInfo=function(){return n.getMappingInfo()};n.prototype.cloneFileContentWithNewId=function(...e){var n=t.prototype.cloneFileContentWithNewId.apply(this,e);return n};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlexObject", ["sap/base/util/deepClone","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/restricted/_omit","sap/ui/base/ManagedObject","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(t,e,n,a,r,o,i,s,p,u){"use strict";var c=o.extend("sap.ui.fl.apply._internal.flexObjects.FlexObject",{metadata:{properties:{adaptationId:{type:"string"},state:{type:"string",defaultValue:i.LifecycleState.NEW},fileType:{type:"string",defaultValue:"change"},layer:{type:"string"},flexObjectMetadata:{type:"object",defaultValue:{}},supportInformation:{type:"object",defaultValue:{}},content:{type:"any",defaultValue:{}},texts:{type:"object",defaultValue:{}}}},constructor:function(...t){o.apply(this,t);var e=this.getFlexObjectMetadata();var n=e.reference;if(n){e.reference=n.endsWith(".Component")?n.replace(/\.Component(?!.*\.Component)/,""):n;e.namespace||=u.createNamespace({reference:n},this.getFileType());e.projectId||=n}this.setFlexObjectMetadata(e);var a=this.getSupportInformation();a.originalLanguage||=u.getCurrentLanguage();this.setSupportInformation(a)}});c.getMappingInfo=function(){return{"flexObjectMetadata.changeType":"changeType","flexObjectMetadata.reference":"reference","flexObjectMetadata.namespace":"namespace","flexObjectMetadata.creation":"creation","flexObjectMetadata.projectId":"projectId","flexObjectMetadata.packageName":"packageName","flexObjectMetadata.moduleName":"moduleName","supportInformation.generator":"support.generator","supportInformation.clonedFrom":"support.clonedFrom","supportInformation.service":"support.service","supportInformation.sourceSystem":"sourceSystem","supportInformation.sourceClient":"sourceClient","supportInformation.user":"support.user","supportInformation.sapui5Version":"support.sapui5Version","supportInformation.sourceChangeFileName":"support.sourceChangeFileName","supportInformation.compositeCommand":"support.compositeCommand","supportInformation.command":"support.command","supportInformation.oDataInformation":"oDataInformation","supportInformation.originalLanguage":"originalLanguage",adaptationId:"adaptationId",layer:"layer",fileType:"fileType",id:"fileName",content:"content",texts:"texts"}};c.prototype.getMappingInfo=function(){return c.getMappingInfo()};c.prototype.setContent=function(t,e){this.setProperty("content",t);if(!e){this.setState(i.LifecycleState.UPDATED)}return this};c.prototype.getFlexObjectMetadata=function(){return{...this.getProperty("flexObjectMetadata")}};c.prototype.getSupportInformation=function(){return{...this.getProperty("supportInformation")}};function f(t,e){if(!Object.values(i.LifecycleState).includes(t)){return false}if(e===i.LifecycleState.NEW&&t===i.LifecycleState.UPDATED){return false}return true}c.prototype.setState=function(t){var e=this.getState();if(e!==t&&f(t,e)){this._sPreviousState=e;this.setProperty("state",t)}return this};c.prototype.isPersisted=function(){return this.getState()===i.LifecycleState.PERSISTED};c.prototype.markForDeletion=function(){this.setState(i.LifecycleState.DELETED)};c.prototype.restorePreviousState=function(){if(this._sPreviousState){this.setState(this._sPreviousState);delete this._sPreviousState}};c.prototype.isChangeFromOtherSystem=function(){var t=this.getSupportInformation().sourceSystem;var e=this.getSupportInformation().sourceClient;if(!t||!e){return false}var n=p.getInstanceOrUndef();if(!n){return true}var a=n.getSystem();var r=n.getClient();if(!a||!r){return false}return t!==a||e!==r};c.prototype.isValidForDependencyMap=function(){return false};c.prototype.getNamespace=function(){return this.getFlexObjectMetadata().namespace};c.prototype.getChangeType=function(){return this.getFlexObjectMetadata().changeType};c.prototype.isUserDependent=function(){return this.getLayer()===s.USER};c.prototype.getText=function(t){var e=this.getTexts()[t]||{};return e.value||""};c.prototype.setText=function(t,e,n,a){const r={...this.getTexts()};const o={value:e};if(n){o.type=n}r[t]={...r[t],...o};this.setTexts(r);if(!a){this.setState(i.LifecycleState.UPDATED)}return this};c.prototype.setRequest=function(t){this._sRequest=t};c.prototype.getRequest=function(){return this._sRequest||""};c.prototype.getDefinition=function(){return this.convertToFileContent()};c.prototype.getCreation=function(){return this.getFlexObjectMetadata().creation};c.prototype.setCreation=function(t){var e=this.getFlexObjectMetadata();e.creation=t;this.setFlexObjectMetadata(e)};function l(t){return t.length?t.charAt(0).toUpperCase()+t.slice(1):t}function g(t){return typeof this[t]==="function"?this[t].bind(this):function(){throw new Error(`${t} is not a valid mutator`)}}function h(e){var n=e.split(".");n[0]=l(n[0]);var r=n.shift();var o=g.call(this,`get${r}`);var i=g.call(this,`set${r}`);return{getValue(){var e=t(o());if(n.length>0){return a.get(n,e)}return e},setValue:function(e){var r=t(o());if(n.length>0){a.set(n,e,r)}else{r=e}i(r);return this}.bind(this)}}c.prototype.convertToFileContent=function(){var t={};Object.entries(this.getMappingInfo()).forEach(function(e){var n=h.call(this,e[0]).getValue();if(n!==undefined){a.set(e[1],n,t)}}.bind(this));return t};function d(t,e){var n=h.call(this,t);var a=n.getValue();if(a!==e){n.setValue(e)}}c.mapFileContent=function(e,a){var r=Object.values(a);var o={};var i=function(t,e,s){var p=s?`${s}.${t}`:t;var u=r.indexOf(p);if(u>=0){var c=Object.keys(a)[u];o[c]=e}else if(n(e)){Object.entries(e).forEach(function(t){i(t[0],t[1],p)})}};Object.entries(t(e,15)).forEach(function(t){i(t[0],t[1])});return o};c.prototype.update=function(t){var e=r(t,["fileName"]);var n=c.mapFileContent(e,this.getMappingInfo());Object.entries(n).forEach(function(t){d.call(this,t[0],t[1])}.bind(this))};c.prototype.setResponse=function(t){if(!t||e(t)){return}this.update(t);this.setState(i.LifecycleState.PERSISTED)};c.prototype.cloneFileContentWithNewId=function(){var t=this.convertToFileContent();t.fileName=u.createDefaultFileName(t.fileName.split("_").pop());t.support.clonedFrom=this.getId();return t};c.prototype.getIdForCondensing=function(){throw new Error("Method getIdForCondensing must be implemented")};c.prototype.canBeCondensed=function(){return false};c.prototype.canBeVisualized=function(){return false};return c});
/* !
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory", ["sap/base/util/restricted/_pick","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/ui/fl/apply/_internal/flexObjects/AnnotationChange","sap/ui/fl/apply/_internal/flexObjects/AppDescriptorChange","sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/ControllerExtensionChange","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/FlVariant","sap/ui/fl/apply/_internal/flexObjects/getVariantAuthor","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/UIChange","sap/ui/fl/apply/_internal/flexObjects/UpdatableChange","sap/ui/fl/apply/_internal/flexObjects/VariantChange","sap/ui/fl/apply/_internal/flexObjects/VariantManagementChange","sap/ui/fl/registry/Settings","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/ui/fl/Utils"],function(e,t,n,a,r,i,c,o,s,l,p,u,f,g,m,y,C,O,N){"use strict";const _={COMP_VARIANT_OBJECT:i,FL_VARIANT_OBJECT:s,CONTROLLER_EXTENSION:c,APP_DESCRIPTOR_CHANGE:r,ANNOTATION_CHANGE:a,UI_CHANGE:u,UPDATABLE_CHANGE:f,VARIANT_CHANGE:g,VARIANT_MANAGEMENT_CHANGE:m,FLEX_OBJECT:o};function T(e){return t(e)?{...e}:e}function d(e){if(e.fileType==="variant"){return _.COMP_VARIANT_OBJECT}else if(e.fileType==="ctrl_variant"){return _.FL_VARIANT_OBJECT}else if(e.changeType==="codeExt"){return _.CONTROLLER_EXTENSION}else if(e.appDescriptorChange){return _.APP_DESCRIPTOR_CHANGE}else if(e.fileType==="annotation_change"){return _.ANNOTATION_CHANGE}else if(e.fileType==="change"&&e.changeType==="defaultVariant"){return _.UPDATABLE_CHANGE}else if(e.fileType==="ctrl_variant_change"){return _.VARIANT_CHANGE}else if(e.fileType==="ctrl_variant_management_change"){return _.VARIANT_MANAGEMENT_CHANGE}else if(e.changeType==="deactivateChanges"){return _.FLEX_OBJECT}return _.UI_CHANGE}function A(e){const t=T(e);const n=t.type||t.changeType;let a=t.fileName||t.id;if(!a){a=N.createDefaultFileName(n);if(a.length>64){throw Error(`File name '${a}' must not exceed 64 characters`)}}const r=t.user||(!O.isDeveloperLayer(t.layer)?y.getInstanceOrUndef()&&y.getInstanceOrUndef().getUserId():undefined);return{id:a,adaptationId:t.adaptationId,layer:t.layer,content:T(t.content),texts:T(t.texts),supportInformation:{service:t.ODataService,oDataInformation:T(t.oDataInformation),command:t.command,compositeCommand:t.compositeCommand,generator:t.generator,sourceChangeFileName:t.support&&t.support.sourceChangeFileName,sourceSystem:t.sourceSystem,sourceClient:t.sourceClient,originalLanguage:t.originalLanguage,user:r},flexObjectMetadata:{changeType:n,reference:t.reference,packageName:t.packageName,projectId:t.projectId}}}const E={};E.createFromFileContent=function(e,t,a){const r={...e};var i=t||d(r);if(!i){throw new Error("Unknown file type")}r.support={generator:"FlexObjectFactory.createFromFileContent",...r.support||{}};const c=i.getMappingInfo();const s=o.mapFileContent(r,c);const l=Object.entries(s).reduce(function(e,t){n.set(t[0].split("."),t[1],e);return e},{});const u=new i(l);if(a){u.setProperty("state",p.LifecycleState.PERSISTED)}return u};E.createFlexObject=function(e){const t=A({...e,...{packageName:e.packageName||"$TMP"}});return new o(t)};E.createUIChange=function(e){e.packageName||="$TMP";const t=A(e);t.layer||=e.isUserDependent?C.USER:O.getCurrentLayer();t.selector=e.selector;t.jsOnly=e.jsOnly;t.variantReference=e.variantReference;t.isChangeOnStandardVariant=e.isChangeOnStandardVariant;t.fileType=e.fileType||"change";return new u(t)};E.createVariantChange=function(e){e.packageName||="$TMP";const t=A(e);t.variantId=e.variantId||e.selector?.id;t.fileType=e.fileType||"ctrl_variant_change";return new g(t)};E.createVariantManagementChange=function(e){e.packageName||="$TMP";const t=A(e);t.selector=e.selector;t.fileType=e.fileType||"ctrl_variant_management_change";return new m(t)};E.createAppDescriptorChange=function(e){e.compositeCommand||=e.support&&e.support.compositeCommand;if(!(e.fileName||e.id)){const t=e.type||e.changeType;e.fileName=N.createDefaultFileName(t).substring(0,64)}const t=A(e);return new r(t)};E.createAnnotationChange=function(e){e.compositeCommand||=e.support&&e.support.compositeCommand;const t=A(e);t.serviceUrl=e.serviceUrl;return new a(t)};E.createControllerExtensionChange=function(e){e.generator||="FlexObjectFactory.createControllerExtensionChange";e.changeType="codeExt";e.content={codeRef:e.codeRef};const t=A(e);t.flexObjectMetadata.moduleName=e.moduleName;t.controllerName=e.controllerName;return new c(t)};E.createFlVariant=function(e){const t=T(e);t.generator||="FlexObjectFactory.createFlVariant";const n=A(t);n.variantManagementReference=t.variantManagementReference;n.variantReference=t.variantReference;n.contexts=t.contexts;n.executeOnSelection=t.executeOnSelection;n.texts={variantName:{value:t.variantName,type:"XFLD"}};n.author=l(n.supportInformation.user,n.layer,t.authors);return new s(n)};E.createCompVariant=function(e,t){const a=T(e);a.generator||="FlexObjectFactory.createCompVariant";a.user=n.get("support.user",a);const r=A(a);r.variantId=a.variantId||r.id;r.contexts=a.contexts;r.favorite=a.favorite;r.persisted=a.persisted;r.persistencyKey=a.persistencyKey||n.get("selector.persistencyKey",a);if(a.layer===C.VENDOR||a.layer===C.CUSTOMER_BASE){r.favorite=true}if(a.executeOnSelection!==undefined){r.executeOnSelection=a.executeOnSelection}else{r.executeOnSelection=r.content&&(r.content.executeOnSelect||r.content.executeOnSelection)}r.author=l(r.supportInformation.user,r.layer,t);return new i(r)};return E});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/RevertData", ["sap/ui/base/ManagedObject"],function(e){"use strict";return e.extend("sap.ui.fl.apply._internal.flexObjects.RevertData",{metadata:{properties:{type:{type:"string"},content:{type:"object"}}}})});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/States", [],function(){"use strict";return{LifecycleState:{NEW:"NEW",PERSISTED:"PERSISTED",DELETED:"DELETED",DIRTY:"UPDATED",UPDATED:"UPDATED"},ApplyState:{INITIAL:"initial",APPLYING:"applying",REVERTING:"reverting",REVERT_FINISHED:"revert finished",APPLY_SUCCESSFUL:"apply successful",APPLY_FAILED:"apply failed"},Operations:{APPLY:"apply",REVERT:"revert"}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/UIChange", ["sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/Utils"],function(e,t,s,r,o,n){"use strict";var i=r.extend("sap.ui.fl.apply._internal.flexObjects.UIChange",{metadata:{properties:{selector:{type:"object",defaultValue:{}},dependentSelectors:{type:"object",defaultValue:{}},applyState:{type:"string",defaultValue:o.ApplyState.NEW},jsOnly:{type:"boolean"},variantReference:{type:"string"},isChangeOnStandardVariant:{type:"boolean"},savedToVariant:{type:"boolean"},revertData:{type:"any",defaultValue:null}},aggregations:{},associations:{},events:{}},constructor:function(...e){r.apply(this,e);this._oChangeProcessingPromises={};this.setInitialApplyState()}});i.getMappingInfo=function(){return{...r.getMappingInfo(),selector:"selector",dependentSelectors:"dependentSelector",jsOnly:"jsOnly",variantReference:"variantReference",isChangeOnStandardVariant:"isChangeOnStandardVariant"}};i.prototype.getMappingInfo=function(){return i.getMappingInfo()};i.prototype.setQueuedForRevert=function(){if(this._aQueuedProcesses[this._aQueuedProcesses.length-1]!==o.Operations.REVERT){this._aQueuedProcesses.unshift(o.Operations.REVERT)}};i.prototype.isQueuedForRevert=function(){return this._aQueuedProcesses.indexOf(o.Operations.REVERT)>-1};i.prototype.setQueuedForApply=function(){if(this._aQueuedProcesses[this._aQueuedProcesses.length-1]!==o.Operations.APPLY){this._aQueuedProcesses.unshift(o.Operations.APPLY)}};i.prototype.isQueuedForApply=function(){return this._aQueuedProcesses.indexOf(o.Operations.APPLY)>-1};i.prototype.setInitialApplyState=function(){this._aQueuedProcesses=[];delete this._ignoreOnce;this.setApplyState(o.ApplyState.INITIAL);this._oChangeProcessedPromise={};this._oChangeProcessedPromise.promise=new Promise(function(e){this._oChangeProcessedPromise.resolveFunction={resolve:e}}.bind(this))};i.prototype.isInInitialState=function(){return this._aQueuedProcesses.length===0&&this.getApplyState()===o.ApplyState.INITIAL};i.prototype.isValidForDependencyMap=function(){return!!this.getSelector().id};i.prototype.startApplying=function(){this.setApplyState(o.ApplyState.APPLYING)};i.prototype.markFinished=function(e,t){this._aQueuedProcesses.pop();this._resolveChangeProcessingPromiseWithError(o.Operations.APPLY,e);var s=t!==false?o.ApplyState.APPLY_SUCCESSFUL:o.ApplyState.APPLY_FAILED;this.setApplyState(s)};i.prototype.markSuccessful=function(e){this.markFinished(e,true)};i.prototype.markFailed=function(e){this.markFinished(e,false)};i.prototype.startReverting=function(){this.setApplyState(o.ApplyState.REVERTING)};i.prototype.markRevertFinished=function(e){this._aQueuedProcesses.pop();this._resolveChangeProcessingPromiseWithError(o.Operations.REVERT,e);this.setApplyState(o.ApplyState.REVERT_FINISHED)};i.prototype.hasApplyProcessStarted=function(){return this.getApplyState()===o.ApplyState.APPLYING};i.prototype.isSuccessfullyApplied=function(){return this.getApplyState()===o.ApplyState.APPLY_SUCCESSFUL};i.prototype.hasApplyProcessFailed=function(){return this.getApplyState()===o.ApplyState.APPLY_FAILED};i.prototype.isApplyProcessFinished=function(){return this.isSuccessfullyApplied()||this.hasApplyProcessFailed()};i.prototype.hasRevertProcessStarted=function(){return this.getApplyState()===o.ApplyState.REVERTING};i.prototype.isRevertProcessFinished=function(){return this.getApplyState()===o.ApplyState.REVERT_FINISHED};i.prototype.isCurrentProcessFinished=function(){return this._aQueuedProcesses.length===0&&this.getApplyState()!==o.ApplyState.INITIAL};i.prototype.addChangeProcessingPromise=function(e){if(!this._oChangeProcessingPromises[e]){this._oChangeProcessingPromises[e]={};this._oChangeProcessingPromises[e].promise=new Promise(function(t){this._oChangeProcessingPromises[e].resolveFunction={resolve:t}}.bind(this))}return this._oChangeProcessingPromises[e].promise};i.prototype.addChangeProcessingPromises=function(){var e=[];if(this.getApplyState()===o.ApplyState.INITIAL&&this._oChangeProcessedPromise){e.push(this._oChangeProcessedPromise.promise)}this._aQueuedProcesses.forEach(function(t){e.push(this.addChangeProcessingPromise(t))},this);return e};i.prototype.addPromiseForApplyProcessing=function(){return this.addChangeProcessingPromise(o.Operations.APPLY)};i.prototype._resolveChangeProcessingPromiseWithError=function(e,t){if(this._oChangeProcessingPromises[e]){this._oChangeProcessingPromises[e].resolveFunction.resolve(t);delete this._oChangeProcessingPromises[e]}if(this._oChangeProcessedPromise){this._oChangeProcessedPromise.resolveFunction.resolve(t);this._oChangeProcessedPromise=null}};i.prototype.hasRevertData=function(){return this.getRevertData()!==null};i.prototype.resetRevertData=function(){this.setRevertData(null)};i.prototype.setDependentSelectors=function(e){this.setProperty("dependentSelectors",e);delete this._aDependentSelectorList};i.prototype.addDependentControl=function(t,s,r,o){if(!t){throw new Error("Parameter vControl is mandatory")}if(!s){throw new Error("Parameter sAlias is mandatory")}if(!r||e(r)){throw new Error("Parameter mPropertyBag is mandatory")}var n={...this.getDependentSelectors()};if(n[s]){throw new Error(`Alias '${s}' already exists in the change.`)}var i=r.modifier;var a=r.appComponent;if(Array.isArray(t)){var p=[];t.forEach(function(e){p.push(i.getSelector(e,a,o))});n[s]=p}else{n[s]=i.getSelector(t,a,o)}this.setDependentSelectors(n);delete this._aDependentSelectorList};i.prototype.getDependentControl=function(e,t){var s=[];if(!e){throw new Error("Parameter sAlias is mandatory")}if(!t){throw new Error("Parameter mPropertyBag is mandatory")}var r=t.modifier;var o=t.appComponent;var n=this.getDependentSelectors()[e];if(Array.isArray(n)){n.forEach(function(e){s.push(r.bySelector(e,o,t.view))});return s}return r.bySelector(n,o,t.view)};i.prototype.getDependentSelectorList=function(){var e=[this.getSelector()];if(!this._aDependentSelectorList){if(!this.getOriginalSelector()){Object.entries(this.getDependentSelectors()).some(function(t){var s=t[1];if(!Array.isArray(s)){s=[s]}s.forEach(function(t){if(t&&n.indexOfObject(e,t)===-1){e.push(t)}})})}this._aDependentSelectorList=e}return this._aDependentSelectorList};i.prototype.getDependentControlSelectorList=function(){var e=this.getDependentSelectorList().concat();if(e.length>0){var t=this.getSelector();var s=n.indexOfObject(e,t);if(s>-1){e.splice(s,1)}}return e};i.prototype.getOriginalSelector=function(){return this.getDependentSelectors().originalSelector};i.prototype.setExtensionPointInfo=function(e){this._oExtensionPointInfo=e};i.prototype.getExtensionPointInfo=function(){if(t(this._oExtensionPointInfo)){return{...this._oExtensionPointInfo}}return this._oExtensionPointInfo};i.prototype.getIdForCondensing=function(e,t){return e!==undefined?e.affectedControl:s.getControlIdBySelector(this.getSelector(),t)};i.prototype.canBeCondensed=function(){return this.isSuccessfullyApplied()};i.prototype.canBeVisualized=function(){return this.getSelector()&&!e(this.getSelector())};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/UpdatableChange", ["sap/ui/fl/apply/_internal/flexObjects/UIChange"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.UpdatableChange",{metadata:{aggregations:{revertInfo:{type:"sap.ui.base.ManagedObject",multiple:true,singularName:"revertInfo"}}}});t.getMappingInfo=function(){return{...e.getMappingInfo()}};t.prototype.popLatestRevertInfo=function(){var e=this.getRevertInfo().pop();this.removeRevertInfo(e);return e};t.prototype.canBeCondensed=function(){return false};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/Variant", ["sap/ui/fl/apply/_internal/flexObjects/getVariantAuthor","sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(t,e){"use strict";var n=e.extend("sap.ui.fl.apply._internal.flexObjects.Variant",{metadata:{properties:{favorite:{type:"boolean",defaultValue:false},visible:{type:"boolean",defaultValue:true},executeOnSelection:{type:"boolean",defaultValue:false},standardVariant:{type:"boolean",defaultValue:false},contexts:{type:"object",defaultValue:{}},variantId:{type:"string"},author:{type:"string"}}},constructor:function(...n){e.apply(this,n);if(!this.getVariantId()){this.setVariantId(this.getId())}if(!this.getAuthor()){this.setAuthor(t(this.getSupportInformation().user,this.getLayer(),{}))}}});n.getMappingInfo=function(){return{...e.getMappingInfo(),favorite:"favorite",executeOnSelection:"executeOnSelection",contexts:"contexts"}};n.prototype.getMappingInfo=function(){return n.getMappingInfo()};n.prototype.getName=function(){return this.getText("variantName")};n.prototype.setName=function(t,e){this.setText("variantName",t,"XFLD",e)};n.prototype.hasContexts=function(){var t=this.getContexts();var e=Object.keys(t);return e.some(function(e){return t[e].length>0})};n.prototype.canBeCondensed=function(){return false};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/VariantChange", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(t){"use strict";const n=t.extend("sap.ui.fl.apply._internal.flexObjects.VariantChange",{metadata:{properties:{variantId:{type:"string"}}},constructor:function(...n){t.apply(this,n);this.setFileType("ctrl_variant_change")}});n.getMappingInfo=function(){return{...t.getMappingInfo(),variantId:"selector.id"}};n.prototype.getMappingInfo=function(){return n.getMappingInfo()};n.prototype.getIdForCondensing=function(){return this.getVariantId()};n.prototype.canBeCondensed=function(){return true};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/VariantManagementChange", ["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e,t){"use strict";const n=t.extend("sap.ui.fl.apply._internal.flexObjects.VariantManagementChange",{metadata:{properties:{selector:{type:"object",defaultValue:{}}}},constructor:function(...e){t.apply(this,e);this.setFileType("ctrl_variant_management_change")}});n.getMappingInfo=function(){return{...t.getMappingInfo(),selector:"selector"}};n.prototype.getMappingInfo=function(){return n.getMappingInfo()};n.prototype.getIdForCondensing=function(t,n){return e.getControlIdBySelector(this.getSelector(),n)};n.prototype.canBeCondensed=function(){return true};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/getVariantAuthor", ["sap/ui/core/Lib","sap/ui/fl/Layer","sap/ui/fl/registry/Settings"],function(e,t,r){"use strict";return(n,s,i)=>{const u=n||"";const c=r.getInstanceOrUndef();if(s===t.USER||u===c?.getUserId()){return e.getResourceBundleFor("sap.ui.fl").getText("VARIANT_SELF_OWNER_NAME")}if(![t.PUBLIC,t.CUSTOMER].includes(s)){return u}return i?.[u]||u}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/DataSelector", ["sap/base/util/merge","sap/base/util/ObjectPath","sap/ui/base/ManagedObject"],function(e,t,i){"use strict";var a=i.extend("sap.ui.fl.apply._internal.flexState.DataSelector",{metadata:{properties:{parentDataSelector:{type:"object"},cachedResult:{type:"any"},parameterKey:{type:"string"},initFunction:{type:"function"},executeFunction:{type:"function"},updateListeners:{type:"function[]",defaultValue:[]},checkInvalidation:{type:"function",defaultValue(){return true}}}},constructor:function(...e){i.apply(this,e);this._mInitialized={};if(this.getParameterKey()){this.setCachedResult({})}var t=this.getParentDataSelector();if(t){this.onParentSelectorUpdate=this.checkUpdate.bind(this);t.addUpdateListener(this.onParentSelectorUpdate)}}});const n="DataSelector_no_parameter";function r(e,t){const i=[];function a(e){const i=e.getParameterKey();if(!i){return n}return t?.[i]}let r=e;do{const t=a(r);if(t||r!==e){if(t===undefined){throw new Error(`Parameter '${r.getParameterKey()}' is missing`)}i.unshift(t)}r=r.getParentDataSelector()}while(r);return i}a.prototype.addUpdateListener=function(e){var t=this.getUpdateListeners();if(!t.includes(e)){this.setUpdateListeners([].concat(t,e))}};a.prototype.removeUpdateListener=function(e){var t=this.getUpdateListeners();this.setUpdateListeners(t.filter(function(t){return t!==e}))};a.prototype.exit=function(){var e=this.getParentDataSelector();if(e){e.removeUpdateListener(this.onParentSelectorUpdate)}};a.prototype._getParameterizedCachedResult=function(e){const i=r(this,e);if(i.length===0){return this.getCachedResult()}return t.get(i,this.getCachedResult())};a.prototype._setParameterizedCachedResult=function(i,a){const n=r(this,i);const s={};if(n.length===0){Object.assign(s,a)}else{t.set(n,a,s)}return this.setCachedResult(e({},this.getCachedResult(),s))};a.prototype._clearCache=function(e,t){const i=[];const a=this.getParameterKey();if(!a){this.setCachedResult(null);i.push(e)}else if(Object.keys(e||{}).includes(a)){if(this._getParameterizedCachedResult(e)!==undefined){this._setParameterizedCachedResult(e,null);i.push(e)}}else{const t=this._getParameterizedCachedResult(e);Object.keys(t||{}).forEach(t=>{i.push({...e,[a]:t})});this.setCachedResult({})}this.getUpdateListeners().forEach(function(e){i.forEach(i=>{e(i,t)})})};a.prototype.clearCachedResult=function(e){this._clearCache(e)};a.prototype.get=function(e){var t=this.getParameterKey();if(t&&!(e||{})[t]){throw new Error(`Parameter '${t}' is missing`)}var i=this._getParameterizedCachedResult(e);if(i!==null&&i!==undefined){return i}var a=this.getParentDataSelector();var n=a&&a.get(e);var r=(e||{})[t];if(!this._mInitialized[r]&&this.getInitFunction()){this.getInitFunction()(n,r);this._mInitialized[r]=true}var s=this.getExecuteFunction()(n,e);this._setParameterizedCachedResult(e,s);return s};function s(e,t,i){if(i){return i.some(i=>e(t,i))}return true}a.prototype.checkUpdate=function(e,t){const i=this.getParameterKey();if(i!==undefined&&!Object.keys(e||{}).includes(i)){const a=this._getParameterizedCachedResult(e);const n=Object.keys(a&&typeof a==="object"?a:{});n.forEach(a=>{const n={...e,[i]:a};const r=s(this.getCheckInvalidation(),n,t);if(r){this._clearCache(n,t)}return!r})}else{const i=s(this.getCheckInvalidation(),e,t);if(i){this._clearCache(e,t)}}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/FlexObjectState", ["sap/base/util/merge","sap/base/util/restricted/_omit","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Element","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/changes/UIChangesState","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/flexState/DataSelector","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/Utils"],function(e,n,t,c,s,a,o,i,r,l,p,g,d){"use strict";const f={};const u=new l({id:"allDirtyFlexObjects",parentDataSelector:p.getFlexObjectsDataSelector(),executeFunction(e){return e.filter(e=>e.getState()!==a.LifecycleState.PERSISTED)}});function h(e,n){const t=f.getCompleteDependencyMap(n).mDependencies;return t[e.getId()]&&{...t[e.getId()]}}function y(e,n,c,s,a){const o=[];const i=f.getLiveDependencyMap(a);const r={...e};e.controlsDependencies.forEach(e=>{if(!t.bySelector(e,c)){const n=t.getControlIdBySelector(e,c);o.push(e);i.mControlsWithDependencies[n]||=[];if(!i.mControlsWithDependencies[n].includes(s.getId())){i.mControlsWithDependencies[n].push(s.getId())}}});r.dependencies=n;r.controlsDependencies=o;if(n.length||o.length){i.mDependencies[s.getId()]=r}return r}function D(e,n){const c=e.getDependentControlSelectorList();c.push(e.getSelector());return!c.some(e=>!t.bySelector(e,n))}function C(e,n,t,c,s){let a=D(e,c);if(!a){return[]}s.push(e);const o=e.getId();const i=n[o]&&n[o].dependencies||[];for(let e=0,r=i.length;e<r;e++){const r=d.getChangeFromChangesMap(t,i[e]);a=C(r,n,t,c,s);if(a.length===0){s=[];break}delete n[o]}return s}f.getAllApplicableUIChanges=function(e){const n=i.getVariantIndependentUIChanges(e);return n.concat(r.getInitialUIChanges({reference:e}))};f.getCompleteDependencyMap=function(n){const t=i.getVMIndependentCompleteDependencyMap(n);const c=r.getDependencyMap(n);const s=e({},t);e(s.mDependencies,c.mDependencies);e(s.mDependentChangesOnMe,c.mDependentChangesOnMe);s.aChanges=s.aChanges.concat(c.aChanges);["mChanges","mControlsWithDependencies"].forEach(e=>{Object.entries(c[e]).forEach(([n,t])=>{if(Object.keys(s[e]).includes(n)){s[e][n]=s[e][n].concat(t)}else{s[e][n]=t}})});return s};f.getLiveDependencyMap=function(e){return p.getRuntimeOnlyData(e).liveDependencyMap||o.createEmptyDependencyMap()};f.getOpenDependentChangesForControl=function(e,n){const c=g.getFlexReferenceForControl(n);return o.getOpenDependentChangesForControl(f.getLiveDependencyMap(c),t.getControlIdBySelector(e,n),n)};f.copyDependenciesFromCompleteDependencyMap=function(e,n){const c=g.getFlexReferenceForControl(n);let a=h(e,c);if(a){const o=f.getLiveDependencyMap(c);const i=[];a.dependencies.forEach(function(c){if(s.checkIfDependencyIsStillValid(n,t,o,c)){o.mDependentChangesOnMe[c]||=[];o.mDependentChangesOnMe[c].push(e.getId());i.push(c)}});a=y(a,i,n,e,c)}};f.waitForFlexObjectsToBeApplied=async function(e){const n=d.getAppComponentForSelector(e[0].selector);if(!n){return}const t=g.getFlexReferenceForControl(n);await r.getVariantSwitchPromise(t);await Promise.all(e.map(e=>{const s=e.selector.id&&c.getElementById(e.selector.id)||e.selector;e.changeTypes||=[];const a=f.getLiveDependencyMap(t);let o=[];const i={...a.mDependencies};const{mChanges:r}=a;const l=r[s.getId()]||[];const p=l.filter(n=>!n.isCurrentProcessFinished()&&(e.changeTypes.length===0||e.changeTypes.includes(n.getChangeType())));const g=[];p.forEach(e=>{const t=C(e,i,a.mChanges,n,[]);t.forEach(e=>{if(g.indexOf(e)===-1){g.push(e)}})});g.forEach(e=>{o=o.concat(e.addChangeProcessingPromises())});return Promise.all(o)}))};function m(e){const n=[];const t=p.getCompVariantsMap(e);for(const e in t){const c=t[e];for(const e in c.byId){n.push(c.byId[e])}}return n}function S(e){return!(e.getState()===a.LifecycleState.DELETED&&e._sPreviousState===a.LifecycleState.NEW)}f.getDirtyFlexObjects=function(e){const n=m(e);return u.get({reference:e}).concat(n.filter(e=>e.getState()!==a.LifecycleState.PERSISTED)).filter(e=>S(e))};return f});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/FlexState", ["sap/base/util/restricted/_omit","sap/base/util/Deferred","sap/base/util/each","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/Component","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/compVariants/prepareCompVariantsMap","sap/ui/fl/apply/_internal/flexState/DataSelector","sap/ui/fl/apply/_internal/flexState/InitialPrepareFunctions","sap/ui/fl/apply/_internal/flexState/Loader","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/initial/_internal/FlexInfoSession","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/LayerUtils"],function(e,t,n,r,a,i,c,s,o,f,l,p,u,d,m,g,x){"use strict";const h="sap.ui.fl.apply._internal.flexObjects.AppDescriptorChange";const b="sap.ui.fl.apply._internal.flexObjects.AnnotationChange";var v={};var O={};var j={};var R={appDescriptorChanges:{pathInResponse:[]},annotationChanges:{pathInResponse:[]},changes:{initialPreparationFunctionName:"uiChanges",pathInResponse:["changes"]},variants:{initialPreparationFunctionName:"variants",pathInResponse:["variants","variantChanges","variantDependentControlChanges","variantManagementChanges"]},compVariants:{prepareFunction:f,pathInResponse:["comp.variants","comp.standardVariants","comp.defaultVariants","comp.changes"]}};var y={compVariants:{},flexObjects:{}};function I(e,t){var n={comp(){return Object.values(t).reduce(function(e,t){return e.concat(t)},[])},variants(){return t.map(function(e){var n=e.variantReference===e.variantManagementReference||t.some(function(t){return t.variantManagementReference===e.variantManagementReference&&t.fileName===e.variantReference});if(!n){return{...e,variantReference:e.variantManagementReference}}return e})}}[e];if(n){return n()}return Array.isArray(t)?t:[]}function F(e){var t=c.getComponentById(e.componentId);e.componentData||=t&&t.getComponentData()||{};e.manifest||=e.rawManifest||t&&t.getManifestObject()||{};e.reference||=d.getFlexReference(e);const n=m.getByReference(e.reference);e.version||=n.version;e.adaptationId||=n.displayedAdaptationId;e.allContextsProvided||=n.allContextsProvided}function S(e){var t=[];n(e.changes,function(e,n){I(e,n).forEach(function(e){t.push(s.createFromFileContent(e,null,true))})});return t}function C(e,t){var n=R[e].initialPreparationFunctionName;var r=p[n];if(r){return r(t)}return undefined}function D(e,t,n){t.reference=n;var r=C(e,t);if(r){z(n,r)}}var P=new l({id:"flexObjects",parameterKey:"reference",executeFunction(e,t){if(!O[t.reference]){return[]}var n=O[t.reference].runtimePersistence;return n.flexObjects.concat(n.runtimeOnlyData.flexObjects||[],y.flexObjects[t.reference][O[t.reference].componentId]||[])}});const w=new l({id:"appDescriptorChanges",parentDataSelector:P,executeFunction(e){return e.filter(e=>e.isA(h))},checkInvalidation(e,t){const n=["addFlexObject","removeFlexObject"].includes(t.type);return n&&t.updatedObject?.isA(h)}});const _=new l({id:"annotationChanges",parentDataSelector:P,executeFunction(e){return e.filter(e=>e.isA(b))},checkInvalidation(e,t){const n=["addFlexObject","removeFlexObject"].includes(t.type);return n&&t.updatedObject?.isA(b)}});function V(e,t){if(!O[e]){q(e)}if(!O[e].preparedMaps[t]){var n={unfilteredStorageResponse:O[e].unfilteredStorageResponse,storageResponse:O[e].storageResponse,componentId:O[e].componentId,componentData:O[e].componentData,reference:e,runtimePersistence:O[e].runtimePersistence};O[e].preparedMaps[t]=v.callPrepareFunction(t,n);D(t,n,e)}return O[e].preparedMaps[t]}function z(e,t){O[e]=r(O[e],t);P.checkUpdate({reference:e})}function E(e,t){const n=e.storageResponse;var a={flexObjects:S(n),runtimeOnlyData:{flexObjects:[]}};if(!e.componentId){return a}Object.keys(R).forEach(function(i){var c=C(i,{storageResponse:n,externalData:t,flexObjects:a.flexObjects,componentId:e.componentId});if(c){a=r(a,c)}});return a}function k(e,t,r){const a=r.flexObjects.slice();const c=a.length;const f=[];let l;n(t.changes,function(e,t){I(e,t).forEach(function(e){f.push(e)})});O[e].runtimePersistence={...r,flexObjects:f.map(function(e){let t;const n=a.find(function(n,r){t=r;return n.getId()===e.fileName});if(n){a.splice(t,1);if(n.getState()!==o.LifecycleState.PERSISTED){n.setResponse(e);l=true}return n}if(e.fileType==="ctrl_variant_change"&&e.fileName.endsWith("flVariant_contextFiltering_setVisible")){return s.createFromFileContent(e,null,true)}const r="Error updating runtime persistence: storage returned unknown flex objects";i.error(r);throw new Error(r)})};if(c!==O[e].runtimePersistence.flexObjects.length){l=true}return l}function M(e){var t=e.reference;var n=false;if(!O[t].componentData&&e.componentId){var r=c.getComponentById(e.componentId);O[t].componentData=r?r.getComponentData():e.componentData;n=true}if(!O[t].storageResponse){O[t].storageResponse=L(t,O[t].unfilteredStorageResponse);delete O[t].runtimePersistence;n=true}if(!a.get(["flexObjects",t,e.componentId],y)){a.set(["flexObjects",t,e.componentId],[],y)}if(!O[t].runtimePersistence){O[t].runtimePersistence=E(O[t],y.flexObjects[t][e.componentId]||[]);n=true}if(n){P.checkUpdate({reference:t})}}function L(e,t){const i=r({},t);i.changes={...g.getEmptyFlexDataResponse(),...i.changes};const c=i.changes;const s=m.getByReference(e);if(x.isLayerFilteringRequired(e)){n(R,function(e,t){t.pathInResponse.forEach(function(e){const t=a.get(e,c).filter(function(e){return!e.layer||!x.isOverLayer(e.layer,s.maxLayer)});a.set(e,t,c)})})}O[e].maxLayer=s.maxLayer;return i}async function N(e){const t=await u.loadFlexData(e);if(!e.partialFlexState){t.authors=await u.loadVariantsAuthors(e.reference)}U(e.reference,t);return t}function A(e,t){O[t.reference]=r({},{unfilteredStorageResponse:e,preparedMaps:{},componentId:t.componentId,componentData:t.componentData,partialFlexState:t.partialFlexState,version:t.version,allContextsProvided:t.allContextsProvided});Object.freeze(O[t.reference].storageResponse);Object.freeze(O[t.reference].unfilteredStorageResponse)}function U(e,t){var n=t&&t.changes||{};var r=m.getByReference(e);if(n.info!==undefined){r={...r,...n.info}}m.setByReference(r,e)}function B(e){var t=O[e.reference];if(t.partialFlexState===true&&e.partialFlexState!==true){t.partialFlexState=false;e.partialFlexData=r({},t.unfilteredStorageResponse.changes);e.reInitialize=true}}function T(e){var t=O[e.reference].componentId;if(!e.reInitialize&&t!==e.componentId){e.reInitialize=true}}function K(e){var t=O[e.reference].version;if(!e.reInitialize&&t!==e.version){e.reInitialize=true}const n=O[e.reference].allContextsProvided;if(!e.reInitialize&&n!==e.allContextsProvided){e.reInitialize=true}}function W(e){if(O[e]?.maxLayer!==m.getByReference(e).maxLayer){v.rebuildFilteredResponse(e)}}function q(e){O[e]={unfilteredStorageResponse:{changes:g.getEmptyFlexDataResponse()},storageResponse:{changes:g.getEmptyFlexDataResponse()},preparedMaps:{},emptyState:true,reInitialize:true,componentId:""};const n=new t;j[e]=n;n.resolve();M({reference:e})}v.getRuntimeOnlyData=function(e){if(!O[e]){q(e)}return O[e].runtimePersistence.runtimeOnlyData};v.initialize=async function(e){const n=r({},e);F(n);const a=n.reference;const i=j[a];const c=new t;j[a]=c;if(i){await i.promise;B(n);T(n);K(n);if(n.reInitialize){const e=await N(n);A(e,n)}else{W(e.reference)}}else{const e=await N(n);A(e,n)}M(n);c.resolve()};v.waitForInitialization=function(e){const t=j[e]?.promise;if(!t){i.error("FlexState.waitForInitialization was called before FlexState.initialize");return Promise.resolve()}return t};v.isInitialized=function(e){var t=e.reference?e.reference:d.getFlexReferenceForControl(e.control);return!!O[t]};v.updateWithDataProvided=function(e){if(!O[e.reference]){q(e.reference)}const t=O[e.reference];Object.entries(e.newData).forEach(([e,n])=>{t.unfilteredStorageResponse.changes[e].push(...n)});t.storageResponse=L(e.reference,t.unfilteredStorageResponse);t.runtimePersistence.flexObjects=[...t.runtimePersistence.flexObjects,...S(L(e.reference,{changes:e.newData}))];P.checkUpdate({reference:e.reference})};v.update=async function(e){F(e);const n=e.reference;const r=O[n].runtimePersistence;const a=j[n].promise;const i=new t;j[n]=i;await a;const c=await N(e);A(c,e);O[n].storageResponse=L(n,O[n].unfilteredStorageResponse);const s=k(n,O[n].storageResponse,r);if(s){P.checkUpdate({reference:n})}i.resolve()};function G(e){switch(e.fileType){case"change":if(e.selector&&e.selector.persistencyKey){return["comp","changes"]}if(e.variantReference){return"variantDependentControlChanges"}return"changes";case"ctrl_variant":return"variants";case"ctrl_variant_change":return"variantChanges";case"ctrl_variant_management_change":return"variantManagementChanges";case"variant":return["comp","variants"];case"annotation_change":return"annotationChanges";default:return""}}v.updateStorageResponse=function(e,t){const n=[];t.forEach(t=>{if(t.type==="ui2"){O[e].unfilteredStorageResponse.changes.ui2personalization=t.newData}else{const r=G(t.flexObject);const i=t.flexObject.fileName;const c=a.get(r,O[e].unfilteredStorageResponse.changes);const s=a.get(r,O[e].storageResponse.changes);const f=O[e].runtimePersistence.flexObjects.findIndex(e=>e.getId()===i);const l=O[e].runtimePersistence.flexObjects[f];switch(t.type){case"add":c.push(t.flexObject);s.push(t.flexObject);if(f<0){throw new Error("Flex response includes unknown flex object")}break;case"delete":s.splice(s.findIndex(e=>e.fileName===i),1);c.splice(c.findIndex(e=>e.fileName===i),1);if(f>=0){O[e].runtimePersistence.flexObjects.splice(f,1);n.push({type:"removeFlexObject",updatedObject:l})}break;case"update":s.splice(s.findIndex(e=>e.fileName===i),1,t.flexObject);c.splice(c.findIndex(e=>e.fileName===i),1,t.flexObject);if(l&&l.getState()!==o.LifecycleState.PERSISTED){l.setResponse(t.flexObject);n.push({type:"updateFlexObject",updatedObject:l})}break;default:}}});if(n.length>0){P.checkUpdate({reference:e},n)}};v.clearState=function(e){if(e){delete O[e];delete j[e];P.clearCachedResult({reference:e})}else{O={};j={};P.clearCachedResult()}};v.setInitialNonFlCompVariantData=function(e,t,n,r,a){y.compVariants[e]||={};y.compVariants[e][t]={};y.compVariants[e][t].standardVariant=n;y.compVariants[e][t].variants=r;y.compVariants[e][t].controlId=a};v.getInitialNonFlCompVariantData=function(e){return y.compVariants[e]};v.resetInitialNonFlCompVariantData=function(e){delete y.compVariants[e]};v.addRuntimeSteadyObject=function(e,t,n){n.setState(o.LifecycleState.PERSISTED);y.flexObjects[e]||={};y.flexObjects[e][t]||=[];y.flexObjects[e][t].push(n);P.checkUpdate({reference:e},[{type:"addFlexObject",updatedObject:n}])};v.clearRuntimeSteadyObjects=function(e,t){if(y.flexObjects[e]){delete y.flexObjects[e][t];P.clearCachedResult({reference:e})}};v.rebuildFilteredResponse=function(e){if(O[e]){O[e].preparedMaps={};O[e].storageResponse=L(e,O[e].unfilteredStorageResponse);O[e].runtimePersistence=E(O[e],y.flexObjects[e][O[e].componentId]||[]);P.checkUpdate({reference:e})}};v.addDirtyFlexObjects=function(e,t){if(!O[e]){q(e)}const n=m.getByReference(e).adaptationLayer;const r=t.filter(e=>!n||!x.isOverLayer(e.getLayer(),n)).filter(t=>!O[e].runtimePersistence.flexObjects.some(e=>e.getId()===t.getId()));if(r.length>0){O[e].runtimePersistence.flexObjects=O[e].runtimePersistence.flexObjects.concat(r);P.checkUpdate({reference:e},r.map(function(e){return{type:"addFlexObject",updatedObject:e}}))}return r};v.removeDirtyFlexObjects=function(e,t){const n=[];if(O[e]&&t.length>0){const r=O[e].runtimePersistence.flexObjects;t.forEach(function(e){const t=r.indexOf(e);if(t>=0){n.push(e);r.splice(t,1)}});if(n.length>0){P.checkUpdate({reference:e},t.map(function(e){return{type:"removeFlexObject",updatedObject:e}}))}}return n};v.getComponentIdForReference=function(e){return O[e]?.componentId};v.getFlexObjectsDataSelector=function(){return P};v.getAppDescriptorChanges=function(e){return w.get({reference:e})};v.getAnnotationChanges=function(e){return _.get({reference:e})};v.getUI2Personalization=function(e){return r({},O[e].unfilteredStorageResponse.changes.ui2personalization)};v.getCompVariantsMap=function(e){return V(e,"compVariants")};v.callPrepareFunction=function(e,t){return R[e].prepareFunction(t)};v.getStorageResponse=function(e){if(j[e]){return j[e].promise.then(function(){return O[e].unfilteredStorageResponse})}return Promise.resolve()};v.getComponentData=function(e){return O[e]&&O[e].componentData};v.setAllContextsProvided=function(e,t){if(O[e]&&O[e].allContextsProvided===undefined){O[e].allContextsProvided=t}};return v});
/*
 * ! OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/InitialPrepareFunctions", ["sap/ui/core/Lib","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/getVariantAuthor","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/Layer"],function(e,a,n,t,r,i,s){"use strict";const c={};c.variants=function(i){i.flexObjects.forEach(e=>{if(e.getFileType()==="ctrl_variant"){e.setAuthor(t(e.getSupportInformation().user,e.getLayer(),i.storageResponse.authors))}});const c=(i.storageResponse.changes.variants||[]).map(function(e){return e.fileName}).concat(i.externalData.filter(function(e){return e.getFileType()==="ctrl_variant"}).map(function(e){return e.getId()}));var l={runtimeOnlyData:{flexObjects:[]}};var f=i.storageResponse.changes.variants;var p=i.storageResponse.changes.variantDependentControlChanges.filter(function(e){var a=e.isChangeOnStandardVariant;if(a!==undefined&&a!==null){return a}return!/id_\d{13}_\d*_flVariant/.test(e.variantReference)});var u=f.concat(p);u.forEach(function(t){var i=t.fileType==="ctrl_variant"?t.variantManagementReference:t.variantReference;if(i&&!c.includes(i)){var f=e.getResourceBundleFor("sap.ui.fl");var p=n.createFlVariant({id:i,variantManagementReference:i,variantName:f.getText("STANDARD_VARIANT_TITLE"),layer:s.BASE,user:a.DEFAULT_AUTHOR,reference:t.reference});p.setState(r.LifecycleState.PERSISTED);l.runtimeOnlyData.flexObjects.push(p);c.push(i)}});return l};c.uiChanges=function(e){const a=i.createEmptyDependencyMap();e.flexObjects.forEach(n=>{if(n.isA("sap.ui.fl.apply._internal.flexObjects.UIChange")&&!n.getVariantReference()){i.addChangeAndUpdateDependencies(n,e.componentId,a)}});return{runtimeOnlyData:{liveDependencyMap:a}}};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/Loader", ["sap/base/util/ObjectPath","sap/ui/base/ManagedObject","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/initial/_internal/Storage","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/registry/Settings"],function(e,t,n,a,r,i){"use strict";function s(e){if(typeof e==="string"){e={id:e}}e.idIsLocal=true;return e}function c(e,t){if(e){[t.changes,t.variantChanges,t.variantDependentControlChanges,t.variantManagementChanges].flat().filter(e=>e.selector&&!e.selector.idIsLocal).forEach(function(e){e.selector=s(e.selector);if(e.dependentSelector){Object.keys(e.dependentSelector).forEach(t=>{const n=e.dependentSelector[t];if(Array.isArray(n)){e.dependentSelector[t]=n.map(s)}else{e.dependentSelector[t]=s(n)}})}})}return t}function o(n){r.getAllFlexObjectNamespaces().forEach(function(a){const r=e.get(a,n);if(r){e.set(a,r.filter(e=>{let n;try{n=new t(e.fileName)}catch(e){return false}n.destroy();return true}),n)}});return n}function l(e){return e&&!!n.getOvpEntry(e)}function f(e){return{changes:e,cacheKey:e.cacheKey}}function p(e){if(e?.startupParameters&&Array.isArray(e.startupParameters.hcpApplicationId)){return e.startupParameters.hcpApplicationId[0]}}function u(t){const n="deactivateChanges";const a=t.changes.map(e=>{if(e.changeType===n){return[e.fileName,...e.content.changeIds]}}).flat().filter(Boolean);if(a.length){r.getAllFlexObjectNamespaces().forEach(function(n){const r=e.get(n,t);if(r.length){e.set(n,r.filter(e=>!a.includes(e.fileName)),t)}})}return t}return{loadFlexData(e){var t=n.getBaseComponentNameFromManifest(e.manifest);if(e.partialFlexData){return a.completeFlexData({reference:e.reference,componentName:t,partialFlexData:e.partialFlexData}).then(f)}var r=e.reInitialize?undefined:n.getCacheKeyFromAsyncHints(e.reference,e.asyncHints);return a.loadFlexData({preview:n.getPreviewSectionFromAsyncHints(e.asyncHints),reference:e.reference,componentName:t,cacheKey:r,siteId:p(e.componentData),appDescriptor:e.manifest.getRawJson?e.manifest.getRawJson():e.manifest,version:e.version,allContexts:e.allContexts,adaptationId:e.adaptationId}).then(u.bind()).then(o.bind()).then(c.bind(undefined,l(e.manifest))).then(f)},loadVariantsAuthors(e){const t=i.getInstanceOrUndef();return t?.isVariantAuthorNameAvailable()?a.loadVariantsAuthors(e):Promise.resolve({})}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/ManifestUtils", ["sap/ui/fl/Utils"],function(e){"use strict";function t(e,t){if(e&&e.requests&&Array.isArray(e.requests)){return e.requests.find(function(e){return e.name==="sap.ui.fl.changes"&&(!t||e.reference===t)})}}function r(e){var t=e.manifest;var r=e.componentData||{};if(r.startupParameters){if(Array.isArray(r.startupParameters["sap-app-id"])){return r.startupParameters["sap-app-id"][0]}}var a=t.getEntry?t.getEntry("sap.ui5"):t["sap.ui5"];if(a){if(a.appVariantId){return a.appVariantId}if(a.componentName){return a.componentName}}return n(t)}function n(e){if(e){var t="${pro"+"ject.art"+"ifactId}";var r=e.getEntry?e.getEntry("sap.app"):e["sap.app"];var n=r&&r.id;if(n===t){if(e.getComponentName){return e.getComponentName()}if(e.name){return e.name}}return n}throw new Error("No Manifest received, descriptor changes are not possible")}function a(e){if(e){var t=e.getEntry?e.getEntry("sap.app"):e["sap.app"];var r=t.applicationVersion?.version;return r}return undefined}var i={getAppIdFromManifest:n,getAppVersionFromManifest:a,getFlexReference:r,getFlexReferenceForControl(t){var n=e.getAppComponentForControl(t);return n&&r({manifest:n.getManifestObject(),componentData:n.getComponentData()})},getFlexReferenceForSelector(e){if(e.appId){return e.appId}return i.getFlexReferenceForControl(e.appComponent||e)},getOvpEntry(e){return e.getEntry?e.getEntry("sap.ovp"):e["sap.ovp"]},getCacheKeyFromAsyncHints(e,r){const n=t(r,e);if(n){return n.cachebusterToken||"<NO CHANGES>"}},getPreviewSectionFromAsyncHints(e){var r=t(e);if(r){return r.preview}},getChangeManifestFromAsyncHints(e,r){const n=r&&t(e,r);return!!(!n||n.cachebusterToken)},getBaseComponentNameFromManifest(e){var t=e.getEntry?e.getEntry("sap.ui5"):e["sap.ui5"];return t&&t.componentName||n(e)},isFlexExtensionPointHandlingEnabled(t){var r=e.getAppComponentForControl(t);return!!(r&&r.getManifestEntry("sap.ui5")&&r.getManifestEntry("sap.ui5").flexExtensionPointEnabled)}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler", ["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/Utils"],function(e,n){"use strict";var t="sap.ui.fl:PendingChange";var d={};function i(n,t){return e.getControlIdBySelector(n,t)}function c(e){return{changeObject:e,dependencies:[],controlsDependencies:[],dependentIds:[]}}function s(e,n,t){r(t,n,e);o(t,n)}function o(e,n){if(!e.aChanges.includes(n)){e.aChanges.push(n)}}function r(e,n,t){e.mChanges[t]||=[];if(!e.mChanges[t].includes(n)){e.mChanges[t].push(n)}}function a(e,n,t){var d=e.getSelector();if(d){if(d.id){s(i(d,n),e,t)}else{o(t,e)}}return t.aChanges}function p(e,n){return e.some(function(e){return e.id===n.id&&e.idIsLocal===n.idIsLocal})}function u(e,n,t,d,c,s,o){var r=t.getDependentSelectorList();n.some(function(n){if(p(r,n)){var a=i(n,c);var u=d&&s.indexOf(e)<s.indexOf(t);if(u){l(t,e,a,o,true)}else{l(e,t,a,o)}return true}return false})}function f(e,n,t,d){if(e.isValidForDependencyMap()){var i=e.getDependentSelectorList();h(e,i,n,d);var c=t.indexOf(e);var s=c<t.length-1;var o=t.slice();o.splice(c,1);o.reverse().forEach(function(c){if(c.isValidForDependencyMap()){u(e,i,c,s,n,t,d)}})}}function h(e,n,t,d){if(n.length){var s=n.map(function(e){return i(e,t)});if(!d.mDependencies[e.getId()]){d.mDependencies[e.getId()]=c(e)}d.mDependencies[e.getId()].controlsDependencies=s;s.forEach(function(n){d.mControlsWithDependencies[n]||=[];d.mControlsWithDependencies[n].push(e.getId())})}}function l(e,n,t,d,i){if(g(e,n,t,d,i)){d.mDependencies[e.getId()].dependencies.push(n.getId());if(!d.mDependencies[e.getId()].dependentIds.includes(t)){d.mDependencies[e.getId()].dependentIds.push(t)}if(!d.mDependentChangesOnMe[n.getId()]){d.mDependentChangesOnMe[n.getId()]=[]}d.mDependentChangesOnMe[n.getId()].push(e.getId())}}function g(e,n,t,d,i){var c=!i&&d.mDependencies[e.getId()].dependentIds.includes(t);var s=false;if(d.mDependentChangesOnMe[n.getId()]){d.mDependentChangesOnMe[n.getId()].some(function(n){s=d.mDependencies[e.getId()].dependencies.includes(n);return s})}return!c&&!s}function m(e,n){const t=e.aChanges.findIndex(e=>e.getId()===n);if(t!==-1){e.aChanges.splice(t,1)}}function D(e,i){var c=[];var s=[];var o=[];if(e.dependencyRemovedInLastBatch[i]){e.dependencyRemovedInLastBatch[i].forEach(function(n){var d=e.mDependencies[n];if(d&&d.dependencies.length===0&&!(d.controlsDependencies&&d.controlsDependencies.length)){s.push(n);c.push(d.changeObject.getId());if(d[t]){o.push(function(){return d[t]()})}}})}return n.execPromiseQueueSequentially(o).then(function(n,t,i){delete e.dependencyRemovedInLastBatch[i];t.forEach(function(n){delete e.mDependencies[n]});n.forEach(function(n){d.resolveDependenciesForChange(e,n,i)});return!!n.length}.bind(undefined,c,s,i))}d.createEmptyDependencyMap=function(){return{aChanges:[],mChanges:{},mDependencies:{},mDependentChangesOnMe:{},mControlsWithDependencies:{},dependencyRemovedInLastBatch:{}}};d.addChangeAndUpdateDependencies=function(e,n,t){var d=a(e,n,t);f(e,n,d,t)};d.insertChange=function(e,n,t){var d=n&&n.aChanges&&n.aChanges.indexOf(t);if(d>-1){n.aChanges.splice(d+1,0,e)}};d.addRuntimeChangeToMap=function(e,n,t){a(e,n,t)};d.processDependentQueue=function(e,n,t){return D(e,t).then(function(t,i){if(i){return d.processDependentQueue(e,n,t)}return undefined}.bind(undefined,t))};d.addChangeApplyCallbackToDependency=function(e,n,d){e.mDependencies[n][t]=d};d.removeControlsDependencies=function(e,n){var t=e.mControlsWithDependencies[n];if(t){t.forEach(function(t){var d=e.mDependencies[t];if(d&&d.controlsDependencies&&d.controlsDependencies.length){var i=d.controlsDependencies.indexOf(n);if(i>-1){d.controlsDependencies.splice(i,1);delete e.mControlsWithDependencies[n];e.dependencyRemovedInLastBatch[n]||=[];if(!e.dependencyRemovedInLastBatch[n].includes(t)){e.dependencyRemovedInLastBatch[n].push(t)}}}});delete e.mControlsWithDependencies[n]}};d.resolveDependenciesForChange=function(e,n,t){var d=e.mDependentChangesOnMe[n];if(d){d.forEach(function(d){var i=e.mDependencies[d];var c=i?i.dependencies.indexOf(n):-1;if(c>-1){i.dependencies.splice(c,1);e.dependencyRemovedInLastBatch[t]||=[];if(!e.dependencyRemovedInLastBatch[t].includes(d)){e.dependencyRemovedInLastBatch[t].push(d)}}});delete e.mDependentChangesOnMe[n]}m(e,n)};d.removeChangeFromMap=function(e,n){Object.keys(e.mChanges).some(function(t){var d=e.mChanges[t];var i=d.map(function(e){return e.getId()}).indexOf(n);if(i!==-1){d.splice(i,1);return true}return false});m(e,n)};d.removeChangeFromDependencies=function(e,n,t){d.resolveDependenciesForChange(e,n,t);delete e.mDependencies[n]};d.getOpenDependentChangesForControl=function(n,t,d){var i=[];Object.keys(n.mDependencies).forEach(function(c){n.mDependencies[c].changeObject.getDependentSelectorList().forEach(function(s){if(e.getControlIdBySelector(s,d)===t){i.push(n.mDependencies[c].changeObject)}})});return i};return d});
/*
 * ! OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/changes/UIChangesState", ["sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/DataSelector","sap/ui/fl/apply/_internal/flexState/FlexState"],(e,t,n)=>{"use strict";const a="sap.ui.fl.apply._internal.flexObjects.UIChange";const c={};const r=new t({id:"allUIChanges",parentDataSelector:n.getFlexObjectsDataSelector(),executeFunction(e){return e.filter(e=>e.isA(a))},checkInvalidation(e,t){const n=["addFlexObject","removeFlexObject"].includes(t.type);return n&&t.updatedObject?.isA(a)}});const l=new t({id:"vmIndependentUIChanges",parentDataSelector:r,executeFunction(e){return e.filter(e=>!e.getVariantReference()&&!e.getSelector().persistencyKey&&e.getFileType()!=="ctrl_variant_management_change"&&e.getFileType()!=="ctrl_variant_change")},checkInvalidation(e,t){const n=["addFlexObject","removeFlexObject"].includes(t.type);return n&&t.updatedObject?.isA(a)&&!t.updatedObject.getVariantReference()&&!t.updatedObject.getSelector().persistencyKey&&t.updatedObject.getFileType()!=="ctrl_variant_management_change"&&t.updatedObject.getFileType()!=="ctrl_variant_change"}});const p=new t({id:"vmIndependentCompleteDependencyMap",parentDataSelector:l,executeFunction(t,a){const c=e.createEmptyDependencyMap();const r=n.getComponentIdForReference(a.reference);t.forEach(t=>{e.addChangeAndUpdateDependencies(t,r,c)});return c}});c.getVMIndependentCompleteDependencyMap=function(e){return p.get({reference:e})};c.getVariantIndependentUIChanges=function(e){return l.get({reference:e})};c.getAllUIChanges=function(e){return r.get({reference:e})};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/communication/FLPAboutInfo", ["sap/ui/core/Lib","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/api/FlexRuntimeInfoAPI","sap/ui/fl/Utils"],function(t,e,a,n,i){"use strict";let o={};function s(t,e,a,n){const i={info:{customProperties:{[n]:{label:e,value:a,showInAbout:true}}}};t.setAppInfo(i)}function c(t){if(t.homePage||t.applicationType!=="UI5"){return false}return true}async function p(i,o){if(c(o)){const c=o.componentInstance;const p=a.getFlexReference({componentData:c.getComponentData(),manifest:c.getManifest()});const r={reference:p,componentId:c.getId(),manifest:c.getManifestObject(),componentData:c.getComponentData(),asyncHints:c._componentConfig.asyncHints};await e.initialize(r);const l=n.getContextBasedAdaptationId(r);if(l==="DEFAULT"||!l){return}const u=n.getContextBasedAdaptationTitle(r);const f=t.getResourceBundleFor("sap.ui.fl").getText("CBA_ABOUT_INFO_DIALOG_LABEL");const d=`${u} (${l})`;s(i,f,d,"ui5.flex.adaptation")}}async function r(){const t=await i.getUShellService("AppLifeCycle");const e=t.getCurrentApplication();if(e){await p(t,e)}t.attachAppLoaded(t,o.onAppLoadedListener)}function l(){return new Promise(t=>{sap.ui.require(["sap/ushell/api/BootstrapObserver"],async function(e){await e.ready();t()})})}function u(){return new Promise(e=>{t.attachLibraryChanged(t=>{if(t.getParameter("operation")==="add"&&t.getParameter("metadata").sName==="sap.ushell"){e()}})})}async function f(){if(!t.isLoaded("sap.ushell")){await u()}await l()}o={async initialize(){await f();await r()},async onAppLoadedListener(t,e){const a=t.getParameters();await p(e,a)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantManagementState", ["sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/DataSelector","sap/ui/fl/apply/_internal/flexObjects/CompVariant"],function(e,t,n){"use strict";const a={};const r="sap.ui.fl.apply._internal.flexObjects.UpdatableChange";const s=e=>e?.isA(r)&&e.getFileType()==="change"&&e.getChangeType()==="defaultVariant";const i=new t({id:"compSetDefault",parameterKey:"persistencyKey",parentDataSelector:e.getFlexObjectsDataSelector(),executeFunction(e,t){return e.filter(e=>s(e)&&String(e.getSelector()?.persistencyKey)===t.persistencyKey)},checkInvalidation(e,t){const n=["addFlexObject","removeFlexObject"].includes(t.type);return n&&s(t.updatedObject)}});a.getSetDefaultDataSelector=function(){return i};a.getDefaultVariantId=e=>{const t=e.variants;const a=t.map(e=>e.getVariantId());a.push(n.STANDARD_VARIANT_ID);e.persistencyKey=String(e.persistencyKey);const r=[...i.get(e)].reverse();const s=r.map(e=>e.getContent().defaultVariantName);return s.find(e=>a.includes(e))||""};a.getDefaultChanges=e=>{e.persistencyKey=String(e.persistencyKey);return i.get(e)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger", ["sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/compVariants/Utils","sap/base/Log"],function(e,t,a,n,i){"use strict";var r={addFavorite(e){e.setFavorite(true)},removeFavorite(e){e.setFavorite(false)},updateVariant(e,t){var a=t.getContent();if(a.executeOnSelection!==undefined){e.setExecuteOnSelection(a.executeOnSelection)}if(a.favorite!==undefined){e.setFavorite(a.favorite)}if(a.contexts){e.setContexts(a.contexts)}if(a.visible!==undefined){e.setVisible(a.visible)}if(a.variantContent){e.setContent(a.variantContent,true)}var n=t.getText("variantName");if(n){e.setName(n,true)}},standardVariant(e,t){e.setExecuteOnSelection(t.getContent().executeOnSelect)}};function o(e){var t={};e.changes.forEach(function(e){var a=e.getSelector().variantId||e.getContent().key;t[a]||=[];t[a].push(e)});return t}function d(e,t){i.error(`No change handler for change with the ID '${t.getId()}' and type '${t.getChangeType()}' defined.\n\t\t\tThe variant '${e.getId()}'was not modified'`)}function s(a,n,i){var r={fileName:n.fileName,variantId:n.id||e.STANDARD_VARIANT_ID,persisted:n.persisted,content:n.content||{},texts:{variantName:{value:n.name||""}},selector:{persistencyKey:a}};if(n.favorite!==undefined){r.favorite=n.favorite}if(n.executeOnSelection!==undefined){r.executeOnSelection=n.executeOnSelection}if(n.adaptationId!==undefined){r.adaptationId=n.adaptationId}return t.createCompVariant(r,i)}function f(e,t){var a=r[t.getChangeType()]||d;a(e,t);e.addChange(t)}function c(e,t){var a=t.getVariantId();if(e[a]){e[a].forEach(function(e){f(t,e)})}}return{merge(e,t,i){var r=t.nonPersistedVariants.concat(t.variants);var d=o(t);var f;r.forEach(function(e){if(e.getContent()&&e.getContent().standardvariant){f=e}});if(!f){f=s(e,i)}else{r=r.filter(function(e){return!e.getContent()||!e.getContent().standardvariant})}t.nonPersistedVariants.concat([f]).forEach(e=>{e.setState(a.LifecycleState.PERSISTED)});r.forEach(c.bind(undefined,d));r=r.filter(function(e){var a=e.getVisible();if(!a){var n=e.getId();delete d[n];delete t.byId[n]}return a});f.setFavorite(true);f.setStandardVariant(true);t.byId[f.getVariantId()]=f;var u=t.standardVariantChange;if(u){d[f.getVariantId()]=d[f.getVariantId()]||[];d[f.getVariantId()].push(u);d[f.getVariantId()].sort(function(e,t){if(e.getCreation()<t.getCreation()){return-1}if(e.getCreation()>t.getCreation()){return 1}return 0})}c(d,f);t.standardVariant=f;const l=n.getDefaultVariantId(t);r.some(e=>{if(!e.getFavorite()&&e.getId()===l){e.setFavorite(true)}});return{standardVariant:f,variants:r}},createVariant(e,t,a){return s(e,t,a)},applyChangeOnVariant:f}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/Utils", [],function(){"use strict";var e={};e.getPersistencyKey=e=>{if(e){var t=e.getVariantManagement?.()||e;if(t.getPersonalizableControlPersistencyKey){return t.getPersonalizableControlPersistencyKey()}return t.getPersistencyKey&&t.getPersistencyKey()}return undefined};e.getDefaultVariantId=e=>{const t=e.defaultVariants;const n=[...t].reverse().find(t=>{if(t?.getContent().defaultVariantName==="*standard*"){return true}return Object.keys(e.byId).some(e=>t?.getContent().defaultVariantName===e)});return n?.getContent().defaultVariantName||""};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/prepareCompVariantsMap", ["sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/UpdatableChange","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger"],function(e,t,n,a){"use strict";function s(e,t){e[t]||={byId:{},variants:[],nonPersistedVariants:[],changes:[],defaultVariants:[],standardVariantChange:undefined,standardVariant:undefined};return e[t]}function r(e,t,n,r,i){r||=[];const c=s(e,n);c.controlId=i;c.nonPersistedVariants.forEach(function(e){delete c.byId[e.getId()]});c.nonPersistedVariants=r.map(function(e){const s=a.createVariant(n,{id:e.id,persisted:false,...e},t);c.byId[e.id]=s;return s});return c}function i(a,r,i,c){const o=a[r].map(function(a){const s=r==="variants"?e.createCompVariant(a,c):e.createFromFileContent(a,n);s.setState(t.LifecycleState.PERSISTED);return s});o.forEach(function(e){const t=e.getPersistencyKey?e.getPersistencyKey():e.getSelector().persistencyKey;s(i,t).byId[e.getId()]=e;switch(r){case"standardVariants":s(i,t).standardVariantChange=e;break;default:s(i,t)[r].push(e)}})}return function(e){const t={};t._getOrCreate=s.bind(undefined,t);t._initialize=r.bind(undefined,t,e.storageResponse.authors);if(e.storageResponse.changes.comp){["variants","changes","defaultVariants","standardVariants"].forEach(function(n){i(e.storageResponse.changes.comp,n,t,e.storageResponse.authors)})}return t}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/Switcher", ["sap/base/util/restricted/_pick","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/changes/Reverter","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState"],function(e,a,r,n){"use strict";function t(a){const r=n.getControlChangesForVariant({...e(a,["vmReference","variantsMap","reference"]),vReference:a.currentVReference});var t=n.getControlChangesForVariant({...e(a,["vmReference","variantsMap","reference"]),vReference:a.newVReference});var i=[];if(t.length>0){i=r.slice();r.some(function(e){if(t[0]&&e.getId()===t[0].getId()){t.shift();i.shift()}else{return true}})}else{i=r}var s={changesToBeReverted:i.reverse(),changesToBeApplied:t};return s}var i={async switchVariant(e){var i=t(e);await r.revertMultipleChanges(i.changesToBeReverted,e);await a.applyMultipleChanges(i.changesToBeApplied,e);n.setCurrentVariant(e)}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState", ["sap/base/util/restricted/_omit","sap/base/util/restricted/_pick","sap/base/util/ObjectPath","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/DataSelector","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/initial/_internal/Storage","sap/ui/fl/LayerUtils"],function(e,t,n,a,r,c,i,s,f,o,u){"use strict";const l={ctrl_variant_change:{getCondenserInfo(e){return{classification:f.LastOneWins,uniqueKey:e.getVariantId()+e.getChangeType()}}},ctrl_variant_management_change:{getCondenserInfo(e,t){return{classification:f.LastOneWins,uniqueKey:t.modifier.getControlIdBySelector(e.getSelector(),t.appComponent)}}}};var g={};const v={};const d={};function h(e,t,r){var c=s.getComponentData(e);var i=n.get(["technicalParameters",a.VARIANT_TECHNICAL_PARAMETER],c)||[];var f=r.filter(e=>e.visible).map(e=>e.key);if(i.length===1){i=i[0].split(",")}var o=f.find(e=>i.includes(e));if(o){return o}return t.slice().reverse().map(e=>e.getContent().defaultVariant).find(e=>f.includes(e))}function p(e,t,n){var a=(v[t]||{})[n];return{defaultVariant:n,currentVariant:a,variants:[],variantManagementChanges:e.filter(function(e){return e.getSelector().id===n})}}function m(e,t){return e.find(e=>e.getId()===t)}function V(e,t){const n=[];let a=t;let r;do{r=m(e,a.getVariantReference());if(r){n.push(r);a=r}}while(r);return n.map(e=>e.getId())}function C(e,t){const n=V(e.variants,t);return{instance:t,variantChanges:e.variantChanges.filter(function(e){return e.getVariantId()===t.getId()}),controlChanges:e.changes.filter(function(e){var a=e.isA("sap.ui.fl.apply._internal.flexObjects.UIChange");if(!a){return false}var r=e.getVariantReference()===t.getId();var c=n.indexOf(e.getVariantReference())>-1;var i=u.compareAgainstCurrentLayer(e.getLayer(),t.getLayer())===-1;return r||c&&i}),key:t.getId(),title:t.getName(),layer:t.getLayer(),favorite:t.getFavorite(),executeOnSelect:t.getExecuteOnSelection(),visible:t.getVisible(),author:t.getAuthor(),contexts:t.getContexts(),isStandardVariant:t.getStandardVariant()}}function y(e,t){switch(t.getChangeType()){case"setTitle":e.title=t.getText("title");break;case"setFavorite":e.favorite=t.getContent().favorite;break;case"setExecuteOnSelect":e.executeOnSelect=t.getContent().executeOnSelect;break;case"setVisible":e.visible=t.getContent().visible;break;case"setContexts":e.contexts=t.getContent().contexts;break;default:throw Error("Unknown ctrl_variant_change type")}}function b(e,t){var n=t.getContent().defaultVariant;e.variants.forEach(t=>{if(t.key===n&&t.visible){e.defaultVariant=n}})}function R(e){const t={variants:[],variantManagementChanges:[],changes:[],variantChanges:[]};e.forEach(e=>{switch(e.getFileType()){case"ctrl_variant":t.variants.push(e);break;case"ctrl_variant_management_change":t.variantManagementChanges.push(e);break;case"change":t.changes.push(e);break;case"ctrl_variant_change":t.variantChanges.push(e);break;default:break}});return t}function O(e){const t=R(e);const a=e[0]?.getFlexObjectMetadata().reference;const r={};t.variants.forEach(e=>{var n=e.getVariantManagementReference();r[n]||=p(t.variantManagementChanges,a,n);r[n].variants.push(C(t,e))});t.variantChanges.forEach(e=>{const t=x(r,e);if(t){y(t,e,a,r)}});t.variantManagementChanges.forEach(e=>{const t=r[e.getSelector().id];if(t){b(t,e)}});Object.keys(r).forEach(e=>{const c=r[e];if(!c.currentVariant||!c.variants.some(e=>e.key===c.currentVariant)){const r=h(a,t.variantManagementChanges,c.variants)||e;c.currentVariant=r;n.set([a,e],r,v)}c.variants.sort((e,t)=>{if(e.isStandardVariant){return-1}if(t.isStandardVariant){return 1}return e.title.toLowerCase()<t.title.toLowerCase()?-1:1});var i=c.variants.find(e=>e.key===c.currentVariant).controlChanges;c.modified=i.some(e=>!e.isPersisted()&&!e.getSavedToVariant());c.variants.some(e=>{if(!e.favorite&&e.key===c.defaultVariant){e.favorite=true;return true}return false})});return r}function x(e,t){var n;Object.values(e).some(function(e){return e.variants.some(function(e){if(t.getVariantId()===e.key){n=e;return true}return false})});return n}var S=new i({id:"variantManagementMap",parentDataSelector:s.getFlexObjectsDataSelector(),executeFunction:O,checkInvalidation(e,t){if(t.type==="switchVariant"){return true}const n=["addFlexObject","updateFlexObject","removeFlexObject"];const a=n.includes(t.type);const r=["ctrl_variant","ctrl_variant_change","ctrl_variant_management_change"];const c=r.includes(t.updatedObject?.getFileType?.());const i=t.updatedObject?.getVariantReference?.();return a&&(c||i)}});var _=new i({id:"variantManagements",parameterKey:"variantManagementReference",parentDataSelector:S,executeFunction(e,t){return e[t.variantManagementReference]}});var j=new i({id:"variants",parameterKey:"variantReference",parentDataSelector:_,executeFunction(e,t){return e.variants.find(e=>e.instance.getId()===t.variantReference)}});const F=new i({id:"vmDependentDependencyMap",parentDataSelector:S,executeFunction(e,t){let n=[];Object.entries(e).forEach(([e,a])=>{n=n.concat(g.getControlChangesForVariant({vmReference:e,vReference:a.currentVariant,reference:t.reference}))});const a=c.createEmptyDependencyMap();const r=s.getComponentIdForReference(t.reference);n.forEach(e=>{c.addChangeAndUpdateDependencies(e,r,a)});return a},checkInvalidation(e,t){if(t.type==="switchVariant"){return true}const n=["addFlexObject","removeFlexObject"].includes(t.type);const a=t.updatedObject.getFileType()==="change";const r=Object.values(v[e.reference]||{});return a&&n&&r.includes(t.updatedObject.getVariantReference())}});var k=new i({id:"variantDependentFlexObjects",parentDataSelector:s.getFlexObjectsDataSelector(),executeFunction(e){return e.filter(function(e){const t=e.getVariantReference?.();const n=["ctrl_variant","ctrl_variant_change","ctrl_variant_management_change"].indexOf(e.getFileType())>-1;return n||t})}});g.getDependencyMap=function(e){return F.get({reference:e})};g.getVariantDependentFlexObjects=function(e){return k.get({reference:e})};g.getChangeInformationProvider=function(e){return l[e.getFileType()]};g.resetCurrentVariantReference=function(e){delete v[e];S.checkUpdate({reference:e})};g.getVariantManagementMap=function(){return S};g.addRuntimeSteadyObject=function(e,t,n){s.addRuntimeSteadyObject(e,t,n)};g.clearRuntimeSteadyObjects=function(e,t){s.clearRuntimeSteadyObjects(e,t)};g.addRuntimeOnlyFlexObjects=function(e,t){t.forEach(t=>s.getRuntimeOnlyData(e).flexObjects.push(t));s.getFlexObjectsDataSelector().clearCachedResult({reference:e})};g.loadVariant=async function(e){const t=await o.loadFlVariant({variantReference:e.variantReference,reference:e.reference});s.updateWithDataProvided({reference:e.reference,newData:t})};g.getControlChangesForVariant=function(e){const t=g.getVariant(e);if(t){return t.controlChanges.filter(function(t){const n=t.getState()!==r.LifecycleState.PERSISTED;const a=t.getVariantReference()!==e.vReference;return(e.includeDirtyChanges!==false||!n)&&(e.includeReferencedChanges!==false||!a)})}return[]};g.getVariantChangesForVariant=function(e){var t=g.getVariant(e);return t&&t.variantChanges||{}};g.getVariant=function(e){var t=e.vReference||_.get({variantManagementReference:e.vmReference,reference:e.reference}).defaultVariant;return j.get({variantManagementReference:e.vmReference,variantReference:t,reference:e.reference})};g.getCurrentVariantReference=function(e){var t=_.get({variantManagementReference:e.vmReference,reference:e.reference});return t.currentVariant};g.getAllCurrentVariants=function(e){const t=S.get({reference:e});return Object.entries(t).map(t=>{const n=g.getVariant({vmReference:t[0],vReference:t[1].currentVariant,reference:e}).instance;return n})};g.getVariantManagementReferences=function(e){var t=S.get({reference:e});return Object.keys(t)};g.getAllVariants=function(e){var t=S.get({reference:e});return Object.keys(t).reduce(function(e,n){return e.concat(t[n].variants)},[])};g.getVariantManagementChanges=function(e){const t=S.get({reference:e.reference});const n=Object.values(t).map(e=>e.variantManagementChanges).flat();if(!e.vReference){return n}return n.filter(t=>e.vReference===t.getContent().defaultVariant)};g.getInitialUIChanges=function(e){const t=S.get({reference:e.reference});e.includeDirtyChanges=!!e.includeDirtyChanges;return Object.keys(t).reduce(function(n,a){if(e.vmReference&&e.vmReference===a||!e.vmReference){const r={...e,vmReference:a,vReference:t[a].currentVariant};return n.concat(g.getControlChangesForVariant(r))}return n},[])};g.getAllCurrentFlexObjects=function(e){const t=S.get({reference:e.reference});return Object.keys(t).reduce(function(n,a){if(e.vmReference&&e.vmReference===a||!e.vmReference){const r={...e,vmReference:a,vReference:t[a].currentVariant};const c=g.getVariant(r);return n.concat(c.variantChanges).concat(c.controlChanges).concat(t[a].variantManagementChanges).concat(t[a].variants.map(e=>e.instance))}return n},[])};g.filterHiddenFlexObjects=function(e,t){const n=S.get({reference:t});const a=[];Object.values(n).forEach(e=>{e.variants.forEach(e=>{if(e.visible===false){a.push(e.key)}})});return e.filter(e=>{const t={ctrl_variant:()=>e.getVariantId(),ctrl_variant_change:()=>e.getVariantId(),change:()=>e.getVariantReference()}[e.getFileType()]?.();return!a.includes(t)})};g.setCurrentVariant=function(e){n.set([e.reference,e.vmReference],e.newVReference,v);S.checkUpdate({reference:e.reference},[{type:"switchVariant"}])};g.setVariantSwitchPromise=function(e,t){d[e]=t};g.getVariantSwitchPromise=function(e){return d[e]};return g});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/ComponentLifecycleHooks", ["sap/base/Log","sap/ui/core/Component","sap/ui/core/Lib","sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory","sap/ui/fl/apply/_internal/changes/descriptor/InlineApplier","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration","sap/ui/fl/variants/VariantModel","sap/ui/fl/FlexControllerFactory","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/model/json/JSONModel","sap/ui/model/odata/ODataUtils","sap/ui/performance/Measurement"],function(e,t,n,o,a,i,r,s,l,c,p,g,d,f,u,m,h){"use strict";var C={};C._componentInstantiationPromises=new WeakMap;var y={};function v(t){if(f.getUshellContainer()){return Promise.resolve()}var o=window.sessionStorage.getItem(`sap.ui.rta.restart.${d.CUSTOMER}`);if(o){var a=s.getFlexReferenceForControl(t);if(o!==a&&o!=="true"){e.error(`an application component was started which does not match the component for which the restart was triggered:\n\t\t\t\t\tTriggering component: ${o}\n\t\t\t\t\tStarted component: ${a}`);return Promise.resolve()}return new Promise(function(e,o){Promise.all([n.load({name:"sap.ui.rta"}),t.rootControlLoaded()]).then(function(){sap.ui.require(["sap/ui/rta/api/startKeyUserAdaptation"],function(n){n({rootControl:t});e()})}).catch(function(e){o(e)})})}return Promise.resolve()}function M(e){const t=s.getFlexReferenceForControl(e);const n=r.getStorageResponse(t);if(n.messagebundle&&!e.getModel("i18nFlexVendor")&&n.changes?.changes?.some(e=>e.layer===d.VENDOR)){e.setModel(new u(n.messagebundle),"i18nFlexVendor")}}async function w(e){var t=g.createForControl(e);const n=s.getFlexReferenceForControl(e);var o;var a=i.applyAllChangesForControl.bind(i,e,n);a._bIsSapUiFlFlexControllerApplyChangesOnControl=true;e.addPropagationListener(a);o=C._createVariantModel(t,e);await o.initialize();h.end("flexProcessing");e.setModel(o,l.getVariantModelName());await v(e)}function F(e,t){if(f.isApplicationComponent(e)){var n=e.getId();var o=r.initialize({componentId:n,asyncHints:t.asyncHints}).then(w.bind(this,e)).then(M.bind(this,e)).then(function(){if(y[n]){y[n].forEach(function(t){var n=e.getModel(l.getVariantModelName());t.setModel(n,l.getVariantModelName())});delete y[n]}});C._componentInstantiationPromises.set(e,o);return o}else if(f.isEmbeddedComponent(e)){var a=f.getAppComponentForControl(e);if(C._componentInstantiationPromises.has(a)){return C._componentInstantiationPromises.get(a).then(function(){var t=a.getModel(l.getVariantModelName());e.setModel(t,l.getVariantModelName())})}y[a.getId()]=y[a.getId()]||[];y[a.getId()].push(e);return Promise.resolve()}return Promise.resolve()}function P(e,t){if(!f.isApplication(t)||!e.id){return Promise.resolve()}r.initialize({componentData:e.componentData||e.settings&&e.settings.componentData,asyncHints:e.asyncHints,manifest:t,componentId:e.id});return a.applyChanges(t,o.getRuntimeStrategy())}C._createVariantModel=function(e,t){return new p({},{flexController:e,appComponent:t})};C.instanceCreatedHook=function(...e){return F(...e)};C.componentLoadedHook=function(...e){return P(...e)};async function A(n){const o=n.owner&&t.get(n.owner.id);const a=n.owner?.id||n.factoryConfig.id||n.factoryConfig.settings?.id;const i=o?.getComponentData()||n.factoryConfig.componentData||n.factoryConfig.settings?.componentData;const l=s.getFlexReference({manifest:o?.getManifest()||n.manifest,componentData:i});try{await r.initialize({componentData:i,asyncHints:n.owner?.config.asyncHints||n.factoryConfig.asyncHints,componentId:a,reference:l,partialFlexState:true});const e=m.removeOriginSegmentParameters(n.model.getServiceUrl());const t=r.getAnnotationChanges(l).filter(t=>t.getServiceUrl()===e);const o=[];for(const e of t){const t=await c.getAnnotationChangeHandler({changeType:e.getChangeType()});o.push(await t.applyChange(e));e._appliedOnModel=true}return o}catch(t){e.error("Annotation changes could not be applied.",t);return[]}}C.modelCreatedHook=function(e){e.model.setAnnotationChangePromise(A(e))};return C});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/ControllerExtension", ["sap/base/Log","sap/ui/core/Component","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/Utils"],function(e,t,n,r,o){"use strict";var i=function(){};function u(e){return e.getChangeType()==="codeExt"}function a(e){if(!e.startsWith("module:")){return`module:${e.replace(/\./g,"/")}.controller`}return e}function l(e,t){var n=a(t.getSelector().controllerName);return n===a(e)}function s(t){return new Promise(function(n){sap.ui.require(t,function(...e){n(e)},function(t){e.error("Code Extension not found",t.message);n([])})})}i.prototype.getControllerExtensions=function(e,i,a){if(a){if(!i){return Promise.resolve([])}var f=t.getComponentById(i);var c=o.getAppComponentForControl(f);if(!c){return Promise.resolve([])}if(!o.isApplication(c.getManifestObject())){return Promise.resolve([])}var p=r.getFlexReferenceForControl(c);return n.waitForInitialization(p).then(()=>{const t=n.getFlexObjectsDataSelector().get({reference:p});var r=t.filter(function(t){return u(t)&&l(e,t)}).map(function(e){return e.getModuleName()});return s(r)})}return[]};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/RegistrationDelegator", ["sap/ui/core/mvc/ControllerExtensionProvider","sap/ui/core/mvc/XMLView","sap/ui/core/ComponentHooks","sap/ui/core/ExtensionPoint","sap/ui/fl/apply/_internal/changes/descriptor/Preprocessor","sap/ui/fl/apply/_internal/flexState/communication/FLPAboutInfo","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/_internal/preprocessors/ComponentLifecycleHooks","sap/ui/fl/apply/api/DelegateMediatorAPI","sap/ui/fl/changeHandler/ChangeAnnotation","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration","sap/ui/base/DesignTime","sap/ui/fl/apply/_internal/preprocessors/ControllerExtension","sap/ui/fl/apply/_internal/preprocessors/XmlPreprocessor"],function(e,n,a,r,i,t,o,s,l,p,d,u){"use strict";var c={};function f(){a.onInstanceCreated.register(s.instanceCreatedHook)}function g(){d.registerPredefinedChangeHandlers();d.getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs();d.registerAnnotationChangeHandler({changeHandler:p,isDefaultChangeHandler:true})}function m(){a.onModelCreated.register(s.modelCreatedHook)}function P(){a.onComponentLoaded.register(s.componentLoadedHook)}function C(){e.registerExtensionProvider("sap/ui/fl/apply/_internal/preprocessors/ControllerExtension")}function D(){if(n.registerPreprocessor){n.registerPreprocessor("viewxml","sap.ui.fl.apply._internal.preprocessors.XmlPreprocessor")}}function y(){a.onPreprocessManifest.register(i.preprocessManifest)}function H(e){if(o.isFlexExtensionPointHandlingEnabled(e)){return"sap/ui/fl/apply/_internal/extensionPoint/Processor"}if(u.isDesignModeEnabled()){return"sap/ui/fl/write/_internal/extensionPoint/Processor"}return undefined}function _(){r.registerExtensionProvider(H)}function x(){l.registerReadDelegate({modelType:"sap.ui.model.odata.v4.ODataModel",delegate:"sap/ui/fl/write/_internal/delegates/ODataV4ReadDelegate"});l.registerReadDelegate({modelType:"sap.ui.model.odata.v2.ODataModel",delegate:"sap/ui/fl/write/_internal/delegates/ODataV2ReadDelegate"});l.registerReadDelegate({modelType:"sap.ui.model.odata.ODataModel",delegate:"sap/ui/fl/write/_internal/delegates/ODataV2ReadDelegate"})}function h(){t.initialize()}c.registerAll=function(){g();P();C();f();D();y();_();x();m();h()};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/XmlPreprocessor", ["sap/base/util/merge","sap/ui/core/util/reflection/XmlTreeModifier","sap/ui/core/Component","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/flexState/FlexObjectState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/Utils","sap/base/Log"],function(e,t,n,a,i,r,o,l,p,s,c){"use strict";var f=function(){};f.NOTAG="<NoTag>";function u(e){const t=o.getAllApplicableUIChanges(e.reference);return t.filter(i.isChangeInView.bind(undefined,e))}f.process=async function(i,r){try{r.viewId=r.id;var o=n.getComponentById(r.componentId);if(!o){c.warning("View is generated without a component. Flexibility features are not possible.");return i}var f=s.getAppComponentForControl(o);if(!s.isApplication(f.getManifestObject())){return i}const g=p.getFlexReferenceForControl(f);await l.waitForInitialization(g);const d=e({appComponent:f,modifier:t,view:i,reference:g},r);const y=u(d);await a.applyAllChangesForXMLView(d,y);c.debug(`flex processing view ${r.id} finished`);return i}catch(e){var g=`view ${r.id}: ${e}`;c.info(g);return i}};function g(e,t){if(!t){return e}return e.concat("-",t)}function d(e){return e.replace(/(^W\/|")/g,"")}f.getCacheKey=async function(e){const t=n.getComponentById(e.componentId);const a=s.getAppComponentForControl(t);if(s.isVariantByStartupParameter(a)){return undefined}const i=p.getFlexReferenceForControl(a);let o=f.NOTAG;if(i){const e=await l.getStorageResponse(i);if(e?.cacheKey){o=d(e.cacheKey);const t=r.getAllCurrentVariants(i).filter(e=>!e.getStandardVariant()).map(e=>e.getId());o=g(o,t.join("-"))}}return o};return f},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/api/ControlVariantApplyAPI", ["sap/base/Log","sap/ui/core/Component","sap/ui/core/Element","sap/ui/fl/apply/_internal/controlVariants/URLHandler","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/Utils"],function(e,t,n,a,r,o){"use strict";var i="$FlexVariants";function l(e){var t=e.getModel(i);if(t){return Promise.resolve(t)}return new Promise(function(n){function a(){t=e.getModel(i);if(t){e.detachModelContextChange(a);n(t)}}e.attachModelContextChange(a)})}var c={getVariantModelName(){return i},getVariantModel(e){return l(e)},clearVariantParameterInURL(t){var n;var r=o.getAppComponentForControl(t.control);var l=r&&r.getModel(i);if(!l){e.error("Variant model could not be found on the provided control");return}if(t.control.isA("sap.ui.fl.variants.VariantManagement")){var c=l.getLocalId(t.control.getId(),r);var d=a.removeURLParameterForVariantManagement({model:l,vmReference:c});n=d.parameters}a.update({parameters:n||[],updateURL:true,updateHashEntry:!!l,model:l||{},silent:!l})},async activateVariant(a){function l(t){e.error(t);return Promise.reject(t)}let c;if(typeof a.element==="string"){c=t.getComponentById(a.element);if(!(c instanceof t)){c=n.getElementById(a.element);if(!(c instanceof n)){return l(Error("No valid component or control found for the provided ID"))}}}else if(a.element instanceof t||a.element instanceof n){c=a.element}const d=o.getAppComponentForControl(c);if(!d){return l(Error("A valid variant management control or component (instance or ID) should be passed as parameter"))}const s=d.getModel(i);if(!s){return l(Error("No variant management model found for the passed control or application component"))}if(a.standardVariant&&!c.isA("sap.ui.fl.variants.VariantManagement")){return l(Error("With using standardVariant and no variantReference, a variant management control must be passed as element"))}const m=a.standardVariant?s.getVariantManagementReferenceForControl(a.element):a.variantReference;if(!s.getVariantManagementReference(m).variantManagementReference){try{await r.loadVariant({reference:s.sFlexReference,variantReference:m})}catch(e){return l(Error(`Variant with reference '${m}' could not be found`))}}const p=s.getVariantManagementReference(m).variantManagementReference;if(!p){return l(Error("A valid control or component, and a valid variant/ID combination are required"))}await s.waitForVMControlInit(p);try{return s.updateCurrentVariant({variantManagementReference:p,newVariantReference:m,appComponent:d})}catch(t){e.error(t);throw t}},attachVariantApplied(e){var t=e.selector.id&&n.getElementById(e.selector.id)||e.selector;var a=o.getAppComponentForControl(t);l(a).then(function(n){n.attachVariantApplied({vmControlId:e.vmControlId,control:t,callback:e.callback,callAfterInitialVariant:e.callAfterInitialVariant})})},detachVariantApplied(e){var t=e.selector.id&&n.getElementById(e.selector.id)||e.selector;var a=o.getAppComponentForControl(t);l(a).then(function(n){n.detachVariantApplied(e.vmControlId,t.getId())})}};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/api/DelegateMediatorAPI", ["sap/ui/fl/apply/_internal/DelegateMediator"],function(e){"use strict";const t={registerReadDelegate(t){e.registerReadDelegate(t)},registerWriteDelegate(t){e.registerWriteDelegate(t)},getReadDelegateForControl(t){return e.getReadDelegateForControl(t.control,t.modifier,t.modelType,t.supportsDefault)},getWriteDelegateForControl(t){return e.getWriteDelegateForControl(t.control,t.modifier)}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/api/ExtensionPointRegistryAPI", ["sap/ui/fl/apply/_internal/extensionPoint/Registry"],function(n){"use strict";var e={getExtensionPointInfo(e){return n.getExtensionPointInfo(e.name,e.view)},getExtensionPointInfoByViewId(e){return n.getExtensionPointInfoByViewId(e.viewId)},getExtensionPointInfoByParentId(e){return n.getExtensionPointInfoByParentId(e.parentId)},addCreatedControlsToExtensionPointInfo(e){n.addCreatedControls(e.name,e.viewId,e.createdControlsIds)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/api/FlexRuntimeInfoAPI", ["sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexState/FlexObjectState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/initial/_internal/FlexConfiguration","sap/ui/fl/initial/_internal/FlexInfoSession","sap/ui/fl/initial/api/InitialFlexAPI","sap/ui/fl/registry/Settings","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/VersionInfo"],function(e,t,n,r,o,i,s,a,l,c,p,u,f){"use strict";var g={isPersonalized(n){function r(t){e.error(t);return Promise.reject(t)}function s(e){return e.getLayer()===p.USER}function a(e){return e.getFileType()==="change"}function l(e,n,r){var o=n.map(function(e){return e.id||e.getId()});var i=r.getSelector();var s=t.getControlIdBySelector(i,e);return o.includes(s)}function c(e,t){return Array.isArray(e)&&e.length>0?e.includes(t.getChangeType()):true}if(!n.selectors||n.selectors.length===0){return r("At least one control ID has to be provided as a parameter")}var f=n.selectors[0].appComponent||u.getAppComponentForControl(n.selectors[0]);if(!f){return r("App Component could not be determined")}const g=i.getFlexReferenceForControl(f);const d=o.getFlexObjectsDataSelector().get({reference:g}).filter(a).filter(s).filter(l.bind(this,f,n.selectors)).filter(c.bind(this,n.changeTypes));return Promise.resolve(d.length>0)},waitForChanges(e){let t;if(e.element){t=[{selector:e.element}]}else if(e.selectors){t=e.selectors.map(function(e){return{selector:e}})}else if(e.complexSelectors){t=e.complexSelectors}return r.waitForFlexObjectsToBeApplied(t)},isFlexSupported(e){return!!u.getAppComponentForControl(e.element)},hasVariantManagement(e){return n.belongsToVariantManagement(e.element)},getFlexReference(e){return i.getFlexReferenceForControl(e.element)},getConfiguredFlexServices(){return s.getFlexibilityServices()},getFlexVersion(e){return l.getFlexVersion(e)},getContextBasedAdaptationId(e){return a.getByReference(e.reference)?.adaptationId},getContextBasedAdaptationTitle(e){return a.getByReference(e.reference)?.adaptationTitle},async getFeedbackInformation(e){const t=this.getConfiguredFlexServices()[0].connector;const n=u.getAppDescriptor(e.rootControl);const r=await f.load();const o=i.getAppIdFromManifest(n);const s=i.getAppVersionFromManifest(n);return{appId:o,appVersion:s,connector:t,version:r.version}},isCustomerSystem(){return c.getInstanceOrUndef()?.isCustomerSystem()},isAtoEnabled(){return c.getInstanceOrUndef()?.isAtoEnabled()},getSystem(){return c.getInstanceOrUndef()?.getSystem()},getUserId(){return c.getInstanceOrUndef()?.getUserId()}};return g});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/AddXML", ["sap/ui/fl/changeHandler/BaseAddXml"],function(e){"use strict";var t={};t.applyChange=function(t,n,r){var g=t.getContent();var a={aggregationName:g.targetAggregation,index:g.index};return e.applyChange(t,n,r,a)};t.revertChange=e.revertChange;t.completeChangeContent=function(t,n){const r=n.content||n;const g={};if(!r.targetAggregation){e._throwMissingAttributeError("targetAggregation")}else{g.targetAggregation=r.targetAggregation}if(r.index===undefined){e._throwMissingAttributeError("index")}else{g.index=r.index}e.completeChangeContent(t,n,g)};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/AddXMLAtExtensionPoint", ["sap/ui/fl/apply/api/ExtensionPointRegistryAPI","sap/ui/fl/changeHandler/BaseAddXml"],function(e,n){"use strict";const t={};function i(e){let n=e.index;if(e.referencedExtensionPoint){n+=i(e.referencedExtensionPoint)}return n}t.applyChange=async function(t,o,a){const r=a.view;const s=a.modifier;const d=a.viewId||s.getId(r);const f=t.getSelector();const c=t.getExtensionPointInfo&&t.getExtensionPointInfo()||await s.getExtensionPointInfo(f.name,r);if(!c){throw new Error(`AddXMLAtExtensionPoint-Error: Either no Extension-Point found by name '${f&&f.name}' or multiple Extension-Points available with the given name in the view (view.id='${d}'). Multiple Extension-points with the same name in one view are not supported!`)}(c.defaultContent||[]).forEach(function(e){if(e){s.destroy(e)}});c.defaultContent=[];c.index=i(c);if(s.targets==="xmlTree"){c.skipAdjustIndex=true}const l=await n.applyChange(t,o,a,c);if(c.ready){c.ready(l)}e.addCreatedControlsToExtensionPointInfo({name:f.name,viewId:d,createdControlsIds:l.map(e=>s.getId(e))})};t.revertChange=n.revertChange;t.completeChangeContent=function(e,t){n.completeChangeContent(e,t)};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/Base", ["sap/base/util/LoaderExtensions"],function(t){"use strict";const e={setTextInChange(t,e,n,o){t.texts||={};t.texts[e]||={};t.texts[e].value=n;t.texts[e].type=o},async instantiateFragment(e,n){const o=e.getFlexObjectMetadata();const s=o.moduleName;if(!s){return Promise.reject(new Error("The module name of the fragment is not set. This should happen in the backend"))}const a=n.viewId?`${n.viewId}--`:"";const i=o.projectId||"";const r=e.getExtensionPointInfo&&e.getExtensionPointInfo()&&e.getExtensionPointInfo().fragmentId||"";const c=i&&r?".":"";const d=a+i+c+r;const m=n.modifier;const u=n.view;const g=t.loadResource(s,{dataType:"text"});try{return await m.instantiateFragment(g,d,u)}catch(t){throw new Error(`The following XML Fragment could not be instantiated: ${g} Reason: ${t.message}`)}},markAsNotApplicable(t,e){const n={message:t};if(!e){throw n}return Promise.reject(n)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseAddViaDelegate", ["sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/changeHandler/Base","sap/ui/fl/requireAsync","sap/base/util/merge","sap/base/util/ObjectPath"],function(e,t,n,o,r){"use strict";function a(e){return typeof e==="function"}const i={createAddViaDelegateChangeHandler(i){function c(e){return e+i.fieldSuffix}function l(e,t){if(a(i[t])){return!!i[t](e)}return!!i[t]}function d(e){return l(e,"skipCreateLabel")}function s(e){return l(e,"skipCreateLayout")}async function f(e,t){const o=t.modifier.bySelector(e.getSelector(),t.appComponent);const r=await n("sap/ui/fl/apply/api/DelegateMediatorAPI");const i=await r.getWriteDelegateForControl({control:o,modifier:t.modifier});const c=!a(i.instance.createLayout);return c||s(e.getSupportInformation().oDataInformation)}async function g(e,t,n){const r=o({},t);r.fieldSelector.id=c(r.fieldSelector.id);const a=await n.createControlForProperty(r);if(d(e)){return a}const i=t.modifier.getId(a.control);t.labelFor=i;const l=await n.createLabel(t);return{label:l,control:a.control,valueHelp:a.valueHelp}}async function p(e,t,n,c){if(!t){return undefined}const l=o({aggregationName:i.aggregationName,payload:t.payload||{},parentSelector:e.parentId},n);const d=t.instance;let f;if(a(d.createLayout)&&!s(c)){f=await d.createLayout(l)}if(r.get("control",f)){f.layoutControl=true;return f}return g(c,l,d)}return{async applyChange(e,r,a){const c=a.appComponent;const l=e.getContent();const d=e.getSupportInformation().oDataInformation;const s=l.newFieldSelector;const f={appComponent:a.appComponent,view:a.view,fieldSelector:s,bindingPath:l.bindingPath,modifier:a.modifier,element:r};if(a.modifier.bySelector(s,c,a.view)){await t.markAsNotApplicable(`Control to be created already exists:${s.id||s}`,true);return}const g={newFieldSelector:s};e.setRevertData(g);const u=await n("sap/ui/fl/apply/api/DelegateMediatorAPI");const C=await u.getWriteDelegateForControl({control:r,modifier:a.modifier});if(!C){t.markAsNotApplicable(`No delegate found for control ${a.modifier.getId(r)}`,false)}const m=await p(l,C,f,d);const w=o({},{control:r,innerControls:m,change:e},a);await i.addProperty(w);if(m.valueHelp){const t=a.modifier.getSelector(a.modifier.getId(m.valueHelp),c);const n=e.getRevertData();n.valueHelpSelector=t;e.setRevertData(n)}if(m.layoutControl){const t=e.getRevertData();t.newFieldSelector=a.modifier.getSelector(a.modifier.getId(m.control),c);e.setRevertData(t)}},async revertChange(e,t,n){const r=n.appComponent;const c=n.modifier;const l=e.getRevertData().newFieldSelector;const d=e.getRevertData().valueHelpSelector;const s=c.bySelector(l,r);const f=e.getDependentControl(i.parentAlias,n)||t;await c.removeAggregation(f,i.aggregationName,s);await c.destroy(s);if(d){const e=c.bySelector(d,r);await c.removeAggregation(f,"dependents",e);await c.destroy(e)}const g=o({},{control:t,change:e},n);if(a(i.revertAdditionalControls)){await i.revertAdditionalControls(g);e.resetRevertData()}},completeChangeContent(e,t,n){const o=n.appComponent;const r=t.content||t;const c={};if(r.parentId){if(a(i.mapParentIdIntoChange)){i.mapParentIdIntoChange(e,r,n)}else{e.addDependentControl(r.parentId,i.parentAlias,n)}try{c.parentId=n.modifier.getSelector(r.parentId,o)}catch(e){}}else{throw new Error("mSpecificChangeInfo.content.parentId attribute required")}if(r.bindingPath){c.bindingPath=r.bindingPath}else{throw new Error("mSpecificChangeInfo.content.bindingPath attribute required")}if(r.newControlId){c.newFieldSelector=n.modifier.getSelector(r.newControlId,o)}else{throw new Error("mSpecificChangeInfo.content.newControlId attribute required")}if(r.index===undefined){throw new Error("mSpecificChangeInfo.content.targetIndex attribute required")}else{c.newFieldIndex=r.index}if(r.oDataServiceVersion){c.oDataServiceVersion=r.oDataServiceVersion}e.setContent(c)},getChangeVisualizationInfo(e){const t=e.getRevertData();if(t&&t.labelSelector){return{affectedControls:[t.labelSelector]}}return{affectedControls:[e.getContent().newFieldSelector]}},async getCondenserInfo(t,n){const o=await f(t,n);if(!o){return undefined}if(!t.getContent().newFieldSelector||!t.getContent().parentId||!i.aggregationName){return undefined}return{affectedControl:t.getContent().newFieldSelector,classification:e.Create,targetContainer:t.getContent().parentId,targetAggregation:i.aggregationName,setTargetIndex(e,t){const n=e.getContent();n.newFieldIndex=t;e.setContent(n)},getTargetIndex(e){return e.getContent().newFieldIndex}}}}}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseAddXml", ["sap/ui/fl/changeHandler/Base","sap/base/util/LoaderExtensions","sap/ui/fl/changeHandler/common/revertAddedControls"],function(t,e,n){"use strict";const a={};a.applyChange=async function(n,o,r,i){const s=r.modifier;const g=i.aggregationName;const c=n.getFlexObjectMetadata().moduleName;const f=await s.findAggregation(o,g);if(!f){throw Error(`The given Aggregation is not available in the given control: ${s.getId(o)}`)}const d=await e.loadResource(c,{dataType:"text"});const h=await t.instantiateFragment(n,r);let l=0;for(const t of h){const e=await s.validateType(t,f,o,d,l);l++;if(!e){a._destroyArrayOfControls(h);throw Error(`The content of the xml fragment does not match the type of the targetAggregation: ${f.type}`)}}const m=[];let u=0;for(const t of h){await s.insertAggregation(o,g,t,i.index+u,r.view,i.skipAdjustIndex);u++;m.push({id:s.getId(t),aggregationName:g})}n.setRevertData(m);return h};a.revertChange=n;a._throwMissingAttributeError=function(t){throw new Error(`Attribute missing from the change specific content '${t}'`)};a._destroyArrayOfControls=function(t){t.forEach(function(t){if(t.destroy){t.destroy()}})};a.completeChangeContent=function(t,e,n){n||={};const o=e.content||e;if(!o.fragmentPath){a._throwMissingAttributeError("fragmentPath")}n.fragmentPath??=o.fragmentPath;t.setContent(n);let r=t.getFlexObjectMetadata().reference.replace(/\.Component/g,"").replace(/\./g,"/");r+="/changes/";r+=n.fragmentPath;const i=t.getFlexObjectMetadata();i.moduleName=r;t.setFlexObjectMetadata(i)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseRename", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";const t={createRenameChangeHandler(t){t.changePropertyName||="newText";return{async applyChange(e,r,n){const o=n.modifier;const a=t.propertyName;const i=e.getText(t.changePropertyName);if(i){const t=await o.getPropertyBindingOrProperty(r,a);e.setRevertData(t);await o.setPropertyBindingOrProperty(r,a,i)}},revertChange(e,r,n){const o=n.modifier;const a=t.propertyName;const i=e.getRevertData();if(i||i===""){o.setPropertyBindingOrProperty(r,a,i);e.resetRevertData();return}throw new Error("Change without sufficient information to be reverted. It probably didn't go through applyChange.")},async completeChangeContent(e,r,n){const o=t.changePropertyName;const a=t.translationTextType;const i=await n.modifier.bySelector(e.getSelector(),n.appComponent);e.setContent({originalControlType:n.modifier.getControlType(i)});const s=r.content||r;if(typeof s.value==="string"){e.setText(o,s.value,a)}else{throw new Error("oSpecificChangeInfo.value attribute required")}},getCondenserInfo(r){return{affectedControl:r.getSelector(),classification:e.LastOneWins,uniqueKey:t.propertyName||t.changePropertyName}},getChangeVisualizationInfo(e){const r=e.getTexts()&&e.getTexts()[t.changePropertyName];return{descriptionPayload:{originalLabel:e.getRevertData(),newLabel:r&&r.value}}}}}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/ChangeAnnotation", ["sap/ui/fl/changeHandler/condenser/Classification"],function(t){"use strict";const n={};n.applyChange=function(t){const n=t.getContent();const e={path:n.annotationPath};const o=t.getText("annotationText")||n.value;const a=n.objectTemplateInfo;if(a){e.value=JSON.parse(a.templateAsString.replace(a.placeholder,o))}else{e.value=o}return e};n.revertChange=function(){};n.completeChangeContent=function(t,n){const e={annotationPath:n.content.annotationPath};if(n.content.objectTemplateInfo){e.objectTemplateInfo=n.content.objectTemplateInfo}if(n.content.text){t.setText("annotationText",n.content.text)}else{e.value=n.content.value}t.setContent(e)};n.getCondenserInfo=function(n,e){return{affectedControl:e.appComponent,classification:t.LastOneWins,uniqueKey:`${n.getContent().annotationPath}_${n.getChangeType()}`}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/HideControl", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,t,n){"use strict";const i="visible";const o={};o.applyChange=async function(e,t,n){const i=n.modifier;const o=await i.getVisible(t);e.setRevertData({originalValue:o});i.setVisible(t,false)};o.revertChange=function(t,n,i){const o=t.getRevertData();if(o){i.modifier.setVisible(n,o.originalValue);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}};o.completeChangeContent=function(){};o.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.Reverse,uniqueKey:i}};o.getChangeVisualizationInfo=function(e,t){const i=e.getSelector();const o=n.bySelector(i,t);const r={affectedControls:[i],updateRequired:true};function a(e){if(!e){return null}if(e.getVisible?.()){return e}return a(e.getParent())}const s=a(o);if(s){r.displayControls=[s.getId()]}return r};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/MoveControls", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t){"use strict";const o={};o.SOURCE_ALIAS="source";o.TARGET_ALIAS="target";o.MOVED_ELEMENTS_ALIAS="movedElements";function r(e,t,o,r){if(!e){throw new Error("No change instance")}const n=e.getContent();if(!n||!n.movedElements||n.movedElements.length===0){throw new Error("Change format invalid")}if(!n.source||!n.source.selector){throw new Error("No source supplied for move")}if(!n.target||!n.target.selector){throw new Error("No target supplied for move")}if(!t.bySelector(n.source.selector,r,o)){throw new Error("Move source parent not found")}if(!t.bySelector(n.target.selector,r,o)){throw new Error("Move target parent not found")}if(!n.source.selector.aggregation){throw new Error("No source aggregation supplied for move")}if(!n.target.selector.aggregation){throw new Error("No target aggregation supplied for move")}}async function n(e,t,o,r){if(!e.selector&&!e.id){throw new Error("Change format invalid - moveElements element has no id attribute")}if(typeof e.targetIndex!=="number"){throw new Error(`Missing targetIndex for element with id '${e.selector.id}' in movedElements supplied`)}const n=await t.bySelector(e.selector||e.id,o,r);if(!n){throw new Error(`Control to move was not found. Id: '${e.selector.id}'`)}return n}function a(e){if(!e.movedElements){throw new Error("mSpecificChangeInfo.movedElements attribute required")}if(e.movedElements.length===0){throw new Error("MovedElements array is empty")}e.movedElements.forEach(function(e){if(!e.id){throw new Error("MovedControls element has no id attribute")}if(typeof e.sourceIndex!=="number"){throw new Error("SourceIndex attribute at MovedElements element is no number")}if(typeof e.targetIndex!=="number"){throw new Error("TargetIndex attribute at MovedElements element is no number")}})}async function s(e,t,o){delete t.source.publicAggregation;delete t.target.publicAggregation;const r=t.source.parent||await e.bySelector(t.source.id,o);const n=t.target.parent||await e.bySelector(t.target.id,o);const a=t.source.aggregation;const s=t.target.aggregation;const g={aggregation:t.source.aggregation,type:e.getControlType(r)};const c={aggregation:t.target.aggregation,type:e.getControlType(n)};const i={source:{id:r.getId(),aggregation:a,type:g.type,selector:e.getSelector(t.source.id,o,g)},target:{id:n.getId(),aggregation:s,type:c.type,selector:e.getSelector(t.target.id,o,c)},movedElements:t.movedElements};return i}o.applyChange=async function(e,t,o){const a=o.modifier;const s=o.view;const g=o.appComponent;const c=e.getContent();const i=[];let l=false;r(e,a,s,g);for(const e of c.movedElements){const t=await n(e,a,g,s);let r=a.getParent(t);let d=o.sourceAggregation||await a.getParentAggregationName(t,r);const u=await a.bySelector(c.target.selector,g,s);const m=o.targetAggregation||c.target.selector.aggregation;let f=await a.findIndexInParentAggregation(t);const E=e.targetIndex;if(f>-1){if(f===E&&d===m&&a.getParent(t)===u){f=e.sourceIndex;d=o.sourceAggregation||c.source.selector.aggregation;l=true;r=await a.bySelector(c.source.selector,g,s)||r}}if(f>-1){i.unshift({index:f,aggregation:d,sourceParent:a.getSelector(r,g)})}if(!l){await a.moveAggregation(r,d,u,m,t,E,s)}}e.setRevertData(i)};o.revertChange=async function(e,t,o){const a=o.modifier;const s=o.view;const g=o.appComponent;const c=e.getContent();r(e,a,s,g);let i=await a.bySelector(c.source.selector,g,s);const l=await a.bySelector(c.target.selector,g,s);let d=c.source.selector.aggregation;const u=c.target.selector.aggregation;const m=e.getRevertData();c.movedElements.reverse();let f=0;for(const e of c.movedElements){const t=await n(e,a,g,s);if(!t){throw new Error("Element to move not found")}let o=e.sourceIndex;if(m){const e=m[f];d=e.aggregation;o=e.index;i=await a.bySelector(e.sourceParent,g,s)||i}await a.moveAggregation(l,u,i,d,t,o,s);f++}e.resetRevertData()};o.completeChangeContent=async function(e,t,r){const n=r.modifier;const g=r.appComponent;const c=t.content||t;a(c);const i=await s(n,c,g);const l={movedElements:[],source:{selector:i.source.selector},target:{selector:i.target.selector}};for(const t of i.movedElements){const a=t.element||await n.bySelector(t.id,g);l.movedElements.push({selector:n.getSelector(a,g),sourceIndex:t.sourceIndex,targetIndex:t.targetIndex});e.addDependentControl(i.source.id,o.SOURCE_ALIAS,r);e.addDependentControl(i.target.id,o.TARGET_ALIAS,r);e.addDependentControl(i.movedElements.map(function(e){return e.id}),o.MOVED_ELEMENTS_ALIAS,r)}e.setContent(l)};o.getCondenserInfo=function(e){const o=e.getContent();const r=e.getRevertData()[0];return{affectedControl:o.movedElements[0].selector,classification:t.Move,sourceContainer:r.sourceParent,targetContainer:o.target.selector,sourceIndex:r.index,sourceAggregation:r.aggregation,targetAggregation:o.target.selector.aggregation,setTargetIndex(e,t){const o=e.getContent();o.movedElements[0].targetIndex=t;e.setContent(o)},getTargetIndex(e){return e.getContent().movedElements[0].targetIndex},setIndexInRevertData(e,t){const o=e.getRevertData();o[0].index=t;e.setRevertData(o)}}};o.getChangeVisualizationInfo=function(e){const t=e.getContent();const o=e.getRevertData()[0];return{affectedControls:[t.movedElements[0].selector],dependentControls:[t.source.selector],descriptionPayload:{sourceContainer:o.sourceParent,targetContainer:t.target.selector}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/MoveElements", [],function(){"use strict";var e={};e.CHANGE_TYPE="moveElements";function t(e,t,r,o){if(!e){throw new Error("No change instance")}var n=e.getContent();if(!n||!n.movedElements||n.movedElements.length===0){throw new Error("Change format invalid")}if(!e.getSelector().aggregation){throw new Error("No source aggregation supplied via selector for move")}if(!n.target||!n.target.selector){throw new Error("No target supplied for move")}if(!t.bySelector(n.target.selector,o,r)){throw new Error("Move target parent not found")}if(!n.target.selector.aggregation){throw new Error("No target aggregation supplied for move")}}async function r(e,t,r,o){if(!e.selector&&!e.id){throw new Error("Change format invalid - moveElements element has no id attribute")}if(typeof e.targetIndex!=="number"){throw new Error(`Missing targetIndex for element with id '${e.selector.id}' in movedElements supplied`)}return await t.bySelector(e.selector||e.id,r,o)}e.applyChange=async function(e,o,n){var a=n.modifier;var g=n.view;var i=n.appComponent;var s=e.getContent();t(e,a,g,i);const c=e.getSelector().aggregation;const l=s.target.selector.aggregation;const d=await a.bySelector(s.target.selector,i,g);for(const e of s.movedElements){const t=await r(e,a,i,g);if(!t){throw new Error("Element to move not found")}await a.moveAggregation(o,c,d,l,t,e.targetIndex,g)}};e.completeChangeContent=function(){throw new Error("Using deprecated change handler. Please consider using 'MoveControls' instead")};e.getSpecificChangeInfo=function(e,t){var r=t.source.parent||e.bySelector(t.source.id);var o=t.target.parent||e.bySelector(t.target.id);var n=t.source.aggregation;var a=t.target.aggregation;var g={source:{id:r.getId(),aggregation:n,type:e.getControlType(r)},target:{id:o.getId(),aggregation:a,type:e.getControlType(o)},movedElements:t.movedElements};return g};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/PropertyBindingChange", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t){"use strict";var n={};n.applyChange=function(e,t,n){var r=e.getContent();var i=r.property;var o=r.newBinding;var a=n.modifier;return Promise.resolve().then(a.getPropertyBindingOrProperty.bind(a,t,i)).then(function(n){e.setRevertData({originalValue:n});a.setPropertyBinding(t,i,o)})};n.revertChange=function(t,n,r){var i=t.getRevertData();if(i){var o=t.getContent();var a=o.property;var s=i.originalValue;var p=r.modifier;p.setPropertyBindingOrProperty(n,a,s);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}};n.completeChangeContent=function(e,t){if(!t.content){throw new Error("oSpecificChangeInfo attribute required")}e.setContent(t.content)};n.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:e.getContent().property}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/PropertyChange", ["sap/ui/fl/Utils","sap/ui/fl/changeHandler/condenser/Classification","sap/base/Log","sap/base/util/isPlainObject"],function(e,t,n,r){"use strict";var i={};function a(t){return e.isBinding(t)||r(t)}function o(e,t,n,r){try{if(a(n)){r.setPropertyBinding(e,t,n)}else{r.setProperty(e,t,n)}}catch(e){throw new Error(`Applying property changes failed: ${e}`)}}i.applyChange=function(e,t,n){var r=e.getContent();var i=r.property;var a=r.newValue;var s=n.modifier;return Promise.resolve().then(s.getPropertyBindingOrProperty.bind(s,t,i)).then(function(n){e.setRevertData({originalValue:n});o(t,i,a,s)})};i.revertChange=function(e,t,r){var i=e.getRevertData();if(i){var a=e.getContent();var s=a.property;var c=i.originalValue;var p=r.modifier;o(t,s,c,p);e.resetRevertData()}else{n.error("Attempt to revert an unapplied change.")}};i.completeChangeContent=function(e,t){if(!t.content){throw new Error("oSpecificChangeInfo attribute required")}e.setContent(t.content)};i.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:e.getContent().property}};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/StashControl", ["sap/ui/fl/LayerUtils","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,t,n){"use strict";const a={};a.applyChange=async function(t,n,a){const i=a.modifier;const o=await i.getStashed(n);const r=await i.findIndexInParentAggregation(n);this.setChangeRevertData(t,o,r);if(e.isDeveloperLayer(t.getLayer())){return i.setStashed(n,true)}return i.setVisible(n,false)};a.revertChange=async function(t,n,a){const i=t.getRevertData();const o=a.modifier;if(e.isDeveloperLayer(t.getLayer())){const e=await o.setStashed(n,i.originalValue,a.appComponent);if(e){const t=await o.findIndexInParentAggregation(e);if(t!==i.originalIndex){const t=o.getParent(e);const n=await o.getParentAggregationName(e);await o.moveAggregation(t,n,t,n,e,i.originalIndex)}}}o.setVisible(n,!i.originalValue);t.resetRevertData()};a.completeChangeContent=function(){};a.setChangeRevertData=function(e,t,n){e.setRevertData({originalValue:t,originalIndex:n})};a.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.Reverse,uniqueKey:"stashed"}};a.getChangeVisualizationInfo=function(e,t){const a=e.getSelector();const i=n.bySelector(a,t);return{affectedControls:[a],displayControls:[i.getParent().getId()]}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/UnhideControl", ["sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t,n){"use strict";const i="visible";const r={};r.applyChange=async function(e,t,n){const r=n.modifier;const o=await r.getProperty(t,i);e.setRevertData({originalValue:o});n.modifier.setVisible(t,true)};r.revertChange=function(t,n,i){const r=t.getRevertData();if(r){i.modifier.setVisible(n,r.originalValue);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}};r.completeChangeContent=function(){};r.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:n.Reverse,uniqueKey:i}};r.getChangeVisualizationInfo=function(e,n){const i=e.getSelector();const r=t.bySelector(i,n);const o={updateRequired:true};function a(e){if(!e){return null}if(e.getVisible?.()){return e}return a(e.getParent())}if(!r.getVisible()){const e=a(r.getParent());if(e){o.displayControls=[e.getId()]}}return o};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/UnstashControl", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";const t={};t.applyChange=async function(e,t,n){const a=e.getContent();const o=n.modifier;const i=await o.getStashed(t);e.setRevertData({originalValue:i});const s=await o.setStashed(t,false,n.appComponent)||t;if(a.parentAggregationName){const e=a.parentAggregationName;const t=o.getParent(s);await o.moveAggregation(t,e,t,e,s,a.index,n.view)}return s};t.revertChange=async function(e,t,n){const a=e.getRevertData();await n.modifier.setStashed(t,a.originalValue);e.resetRevertData()};t.completeChangeContent=function(e,t){if(t.content){e.setContent(t.content)}};t.getCondenserInfo=function(t){return{affectedControl:t.getSelector(),classification:e.Reverse,uniqueKey:"stashed"}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/common/revertAddedControls", ["sap/ui/fl/Utils"],function(e){"use strict";return async function(t,o,n){const r=n.modifier;let i=t.getContent().targetAggregation;const a=n.view||e.getViewForControl(o);const s=n.appComponent;const c=t.getRevertData()||[];for(const e of c){let t;if(typeof e==="string"){t=e}else{t=e.id;i||=e.aggregationName}const n=r.bySelector(t,s,a)||a?.createId&&r.bySelector(a.createId(t));if(n.destroy){n.destroy()}await r.removeAggregation(o,i,n)}t.resetRevertData()}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/condenser/Classification", [],function(){"use strict";return{LastOneWins:"lastOneWins",Reverse:"reverse",Move:"move",Create:"create",Destroy:"destroy",Update:"update"}});
/*!
* OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/fl/initial/_internal/FlexConfiguration", ["sap/base/config"],e=>{"use strict";const i=e.getWritableInstance();const t={getFlexibilityServices(){const e=[{url:"/sap/bc/lrep",connector:"LrepConnector"}];const t=i.get({name:"sapUiFlexibilityServices",type:i=>{if(typeof i==="string"){if(i===""){return[]}if(i[0]==="/"){e[0].url=i;i=e}else{i=JSON.parse(i)}}return i||[]},defaultValue:e,external:false});return t},setFlexibilityServices(e){i.set("sapUiFlexibilityServices",e.slice())}};return t});
/*
 * ! OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/FlexInfoSession", [],()=>{"use strict";var e={};var n="sap.ui.fl.info.";function t(e){return n+(e||"true")}e.getByReference=function(e){return JSON.parse(window.sessionStorage.getItem(t(e)))||{}};e.setByReference=function(e,n){if(e){window.sessionStorage.setItem(t(n),JSON.stringify(e))}};e.removeByReference=function(e){window.sessionStorage.removeItem(t(e))};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/Storage", ["sap/base/util/restricted/_merge","sap/ui/fl/initial/_internal/FlexInfoSession","sap/ui/fl/initial/_internal/storageResultDisassemble","sap/ui/fl/initial/_internal/StorageFeaturesMerger","sap/ui/fl/initial/_internal/StorageResultMerger","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/Layer"],function(e,n,t,r,a,o,s){"use strict";function i(e,t){const r=t.map(function(t){const r={...e,url:t.url,path:t.path};const a=n.getByReference(e.reference);if(!t.layers||t.layers[0]!=="ALL"&&t.layers.indexOf(s.CUSTOMER)===-1){delete r.version}else{if(a.initialAllContexts){r.allContexts=true}if(!r.version&&a.version){r.version=a.version}}const i=!!Object.keys(window.sessionStorage).filter(e=>e.startsWith("sap.ui.rta.restart.")).length;if(!i&&!a.saveChangeKeepSession){n.removeByReference(e.reference)}if(r.version){delete r.cacheKey}return t.loadConnectorModule.loadFlexData(r).then(function(e){return e||o.getEmptyFlexDataResponse()}).catch(o.logAndResolveDefault.bind(undefined,o.getEmptyFlexDataResponse(),t,"loadFlexData"))});return Promise.all(r)}function l(e){var n=[];e.forEach(function(e){if(Array.isArray(e)){n=n.concat(e)}else{n.push(e)}});return n}function u(e){return e.map(function(e){return t(e)})}function c(e){return Promise.resolve(e).then(l).then(u).then(l).then(a.merge)}function f(e){return o.getStaticFileConnector().then(i.bind(this,e))}function d(e){var n=e.map(function(e){if(!e?.loadConnectorModule?.loadFeatures){return Promise.resolve(o.logAndResolveDefault({features:{},layers:e.layers},e,"loadFeatures"))}return e.loadConnectorModule.loadFeatures({url:e.url}).then(function(n){return{features:n,layers:e.layers}}).catch(o.logAndResolveDefault.bind(null,{features:{},layers:e.layers},e,"loadFeatures"))});return Promise.all(n)}async function h(n,t){const r=await Promise.all(t.map(function(e){if(!e?.loadConnectorModule?.loadVariantsAuthors){return Promise.resolve(o.logAndResolveDefault({},e,"loadVariantsAuthors"))}const t={reference:n,url:e.url};return e.loadConnectorModule.loadVariantsAuthors(t).then(e=>e||{}).catch(o.logAndResolveDefault.bind(undefined,{},e,"loadVariantsAuthors"))}));return e({},...r)}var p={};p.loadFeatures=function(){return o.getLoadConnectors().then(d).then(r.mergeResults)};p.completeFlexData=function(e){if(!e||!e.reference){return Promise.reject("No reference was provided")}return Promise.all([f(e),e.partialFlexData]).then(c)};p.loadFlexData=function(e){if(!e||!e.reference){return Promise.reject("No reference was provided")}return o.getLoadConnectors().then(i.bind(this,e)).then(c)};p.loadVariantsAuthors=function(e){if(!e){return Promise.reject("No reference was provided")}return o.getLoadConnectors().then(h.bind(this,e))};p.loadFlVariant=async function(e){const n=await o.getLoadConnectors();const t=[];for(const r of n){if(r?.loadConnectorModule?.loadFlVariant){const n={...e,url:r.url,layers:r.layers};try{t.push(await r.loadConnectorModule.loadFlVariant(n))}catch(e){t.push({})}}}const r=["variants","variantChanges","variantDependentControlChanges"];return t.reduce((e,n)=>{r.forEach(t=>{if(n[t]){e[t]=[...e[t]||[],...n[t]]}});return e},{})};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/StorageFeaturesMerger", ["sap/base/util/merge","sap/ui/fl/Layer"],function(e,a){"use strict";var i={isKeyUser:false,isKeyUserTranslationEnabled:false,isVariantSharingEnabled:false,isPublicFlVariantEnabled:false,isVariantPersonalizationEnabled:true,isContextSharingEnabled:true,isAtoAvailable:false,isAtoEnabled:false,versioning:{},isProductiveSystem:true,isPublicLayerAvailable:false,isLocalResetEnabled:false,isZeroDowntimeUpgradeRunning:false,isVariantAuthorNameAvailable:false,system:"",client:""};function n(e){var i={};var n=!!e.features.isVersioningEnabled;if(e?.layers&&(e.layers.includes(a.CUSTOMER)||e.layers.includes("ALL"))){i[a.CUSTOMER]=n}return i}return{mergeResults(a){var s=i;a.forEach(function(a){Object.keys(a.features).forEach(function(e){if(e!=="isVersioningEnabled"){s[e]=a.features[e]}});s.versioning=e(s.versioning,n(a));if(a.isContextSharingEnabled!==undefined){s.isContextSharingEnabled=a.isContextSharingEnabled}});return s}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/StorageResultMerger", ["sap/base/util/merge","sap/base/util/ObjectPath"],function(n,a){"use strict";var e={};function t(n,e){var t=n.reduce(function(n,t){if(a.get(e,t)){return n.concat(a.get(e,t))}return n},[]);var r=[];return t.filter(function(n){var a=n.fileName;var e=r.indexOf(a)!==-1;if(e){return false}r.push(a);return true})}function r(a){return a.reduce(function(a,e){return n({},a,e.ui2personalization)},{})}function i(n){return n.reduce(function(n,a){return a.cacheKey?n+=a.cacheKey:n},"")||null}e.merge=function(n){var a={appDescriptorChanges:t(n,"appDescriptorChanges"),annotationChanges:t(n,"annotationChanges"),changes:t(n,"changes"),ui2personalization:r(n),comp:{variants:t(n,"comp.variants"),changes:t(n,"comp.changes"),defaultVariants:t(n,"comp.defaultVariants"),standardVariants:t(n,"comp.standardVariants")},variants:t(n,"variants"),variantChanges:t(n,"variantChanges"),variantDependentControlChanges:t(n,"variantDependentControlChanges"),variantManagementChanges:t(n,"variantManagementChanges"),cacheKey:i(n)};var e=t(n,"info");if(e.length>0){[a.info]=e}return a};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/StorageUtils", ["sap/base/Log","sap/ui/fl/initial/_internal/FlexConfiguration","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/base/util/isEmptyObject"],function(n,e,t,r,a){"use strict";const o={};var i={load:{LrepConnector:"sap/ui/fl/initial/_internal/connectors/LrepConnector",NeoLrepConnector:"sap/ui/fl/initial/_internal/connectors/NeoLrepConnector",PersonalizationConnector:"sap/ui/fl/initial/_internal/connectors/PersonalizationConnector",KeyUserConnector:"sap/ui/fl/initial/_internal/connectors/KeyUserConnector",BtpServiceConnector:"sap/ui/fl/initial/_internal/connectors/BtpServiceConnector",StaticFileConnector:"sap/ui/fl/initial/_internal/connectors/StaticFileConnector",JsObjectConnector:"sap/ui/fl/write/_internal/connectors/JsObjectConnector",ObjectPathConnector:"sap/ui/fl/write/_internal/connectors/ObjectPathConnector",LocalStorageConnector:"sap/ui/fl/write/_internal/connectors/LocalStorageConnector",SessionStorageConnector:"sap/ui/fl/write/_internal/connectors/SessionStorageConnector"},write:{LrepConnector:"sap/ui/fl/write/_internal/connectors/LrepConnector",NeoLrepConnector:"sap/ui/fl/write/_internal/connectors/NeoLrepConnector",PersonalizationConnector:"sap/ui/fl/write/_internal/connectors/PersonalizationConnector",KeyUserConnector:"sap/ui/fl/write/_internal/connectors/KeyUserConnector",BtpServiceConnector:"sap/ui/fl/write/_internal/connectors/BtpServiceConnector",StaticFileConnector:"sap/ui/fl/write/_internal/connectors/StaticFileConnector",JsObjectConnector:"sap/ui/fl/write/_internal/connectors/JsObjectConnector",ObjectPathConnector:"sap/ui/fl/write/_internal/connectors/ObjectPathConnector",LocalStorageConnector:"sap/ui/fl/write/_internal/connectors/LocalStorageConnector",SessionStorageConnector:"sap/ui/fl/write/_internal/connectors/SessionStorageConnector"}};var c="sap/ui/fl/initial/_internal/connectors/";var s={connector:"StaticFileConnector"};function l(n,e){var t=[];if(!n){t=e}else{t=n.filter(function(n){return e.indexOf(n)!==-1||e[0]==="ALL"})}return t}function p(n,e,t){return t.map(function(n){var t=n.connector;var r;if(!n.loadConnector&&!n.applyConnector&&!n.loadConnector){r=e?i.load[t]:i.write[t]}else if(e){r=n.loadConnector||n.applyConnector}else{r=n.writeConnector||"sap/ui/fl/write/connectors/BaseConnector"}return r})}o.requireConnectors=function(n){return new Promise(function(e){sap.ui.require(n,function(...n){e(n)})})};async function u(n,e,t){var r=p(n,e,t);const a=await o.requireConnectors(r,e,t);a.forEach(function(n,r){if(!t[r].layers){t[r].layers=n.layers}else{t[r].layers=l(t[r].layers,n.layers)}if(e){t[r].loadConnectorModule=n}else{t[r].writeConnectorModule=n}});return t}o.getConnectors=function(n,t){var r=e.getFlexibilityServices();var a=[];if(t){a=[s]}a=a.concat(r);return u(n,t,a)};o.getLoadConnectors=function(){return this.getConnectors(c,true)};o.getStaticFileConnector=function(){return u(c,true,[s])};o.logAndResolveDefault=function(e,t,r,a){n.error(`Connector (${t.connector}) failed call '${r}': ${a}\n\t\t\tApplication startup continues without data from this storage.`);return e};o.filterAndSortResponses=function(n){var e=[];Object.keys(n).forEach(function(t){e.push(n[t])});e=e.filter(function(n){return n.changes.length>0||n.appDescriptorChanges.length>0||n.variants.length>0||n.variantChanges.length>0||n.variantManagementChanges.length>0||n.variantDependentControlChanges.length>0||n.comp.variants.length>0||n.comp.changes.length>0||n.comp.defaultVariants.length>0||n.comp.standardVariants.length>0||n.annotationChanges.length>0});e.sort(function(n,e){return n.index-e.index});return e};o.sortFlexObjects=function(n){const e=n.filter(n=>n.creation);const t=n.filter(n=>!n.creation);e.sort(function(n,e){return Date.parse(n.creation)-Date.parse(e.creation)});return t.concat(e)};o.getGroupedFlexObjects=function(n){const e=this.sortFlexObjects(n);var a={};Object.keys(t).forEach(function(n){a[n]=this.getEmptyFlexDataResponse();a[n].index=r.getLayerIndex(n)}.bind(this));e.forEach(function(n){var e=n.layer;if(n.fileType==="annotation_change"){a[e].annotationChanges.push(n)}else if(n.fileType==="ctrl_variant"&&n.variantManagementReference){a[e].variants.push(n)}else if(n.fileType==="ctrl_variant_change"){a[e].variantChanges.push(n)}else if(n.fileType==="ctrl_variant_management_change"){a[e].variantManagementChanges.push(n)}else if(n.fileType==="variant"){a[e].comp.variants.push(n)}else if(n.fileType==="change"){if(n.variantReference){a[e].variantDependentControlChanges.push(n)}else if(n.appDescriptorChange){a[e].appDescriptorChanges.push(n)}else{switch(n.changeType){case"addFavorite":case"removeFavorite":case"updateVariant":a[e].comp.changes.push(n);break;case"defaultVariant":a[e].comp.defaultVariants.push(n);break;case"standardVariant":a[e].comp.standardVariants.push(n);break;default:a[e].changes.push(n)}}}});return a};o.getEmptyFlexDataResponse=function(){return{appDescriptorChanges:[],annotationChanges:[],changes:[],comp:{variants:[],changes:[],defaultVariants:[],standardVariants:[]},variants:[],variantChanges:[],variantDependentControlChanges:[],variantManagementChanges:[],ui2personalization:{}}};o.getAllFlexObjectNamespaces=function(){return["appDescriptorChanges","annotationChanges","changes","comp.changes","comp.changes","comp.defaultVariants","comp.standardVariants","variants","variantChanges","variantDependentControlChanges","variantManagementChanges"]};o.isStorageResponseFilled=function(n){return Object.keys(n||{}).some(function(e){if(Array.isArray(n[e])){return n[e].length!==0}return!a(n[e])})};return o});
/*!
* OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration", ["sap/ui/core/Lib","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/changeHandler/AddXML","sap/ui/fl/changeHandler/AddXMLAtExtensionPoint","sap/ui/fl/changeHandler/HideControl","sap/ui/fl/changeHandler/MoveControls","sap/ui/fl/changeHandler/MoveElements","sap/ui/fl/changeHandler/PropertyBindingChange","sap/ui/fl/changeHandler/PropertyChange","sap/ui/fl/changeHandler/StashControl","sap/ui/fl/changeHandler/UnhideControl","sap/ui/fl/changeHandler/UnstashControl"],function(e,n,a,r,t,i,o,s,l,d,g,h){"use strict";var u={hideControl:t,moveElements:o,moveControls:i,stashControl:d,unhideControl:g,unstashControl:h};var f={addXML:a,addXMLAtExtensionPoint:r,propertyBindingChange:s,propertyChange:l};var c={};function C(e,n){c[e]=n;n.catch(function(){}).then(function(){delete c[e]})}function H(e){return n.registerChangeHandlersForLibrary(e)}function p(e){if(e.getParameter("operation")==="add"){var n=e.getParameter("metadata");var a=n.sName;var r=n&&n.extensions&&n.extensions.flChangeHandlers;if(r){var t=H(r);C(a,t)}}}var v={getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs(){var n=e.all();e.attachLibraryChanged(p);var a=[];Object.values(n).forEach(function(e){if(e.extensions&&e.extensions.flChangeHandlers){a.push(H(e.extensions.flChangeHandlers))}});return Promise.all(a)},waitForChangeHandlerRegistration(e){if(c[e]){return c[e].catch(function(){})}return Promise.resolve()},registerPredefinedChangeHandlers(){n.registerPredefinedChangeHandlers(u,f)},registerAnnotationChangeHandler(e){n.registerAnnotationChangeHandler(e)},getAnnotationChangeHandler(e){return n.getAnnotationChangeHandler(e)}};return v});
/*!
* OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage", ["sap/base/util/each","sap/base/util/ObjectPath","sap/base/Log","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/requireAsync"],function(e,n,r,t,a,o){"use strict";const i={};let l={};let s={};let c={};let u={};const f="defaultForAll";function g(e){if(!e.changeHandler){r.error("sap.ui.fl.registry.ChangeRegistryStorage: changeHandler required");return false}return true}async function h(e){if(typeof e.changeHandler==="string"){const n=await o(e.changeHandler.replace(/\./g,"/"));e.changeHandler=n}return e.changeHandler}function d(e,n){let r={};if(!n||!n.changeHandler){r.changeHandler=n}else{r=n}if(r.changeHandler==="default"){r.changeHandler=c.defaultChangeHandlers[e]}else if(Object.keys(c.developerChangeHandlers||{}).includes(e)){throw Error(`You can't use a custom change handler for the following Developer Mode change type: ${e}. Please use 'default' instead.`)}return r}function y(n){s={};e(n,function(e,n){const r={controlType:"defaultActiveForAll",changeHandler:n,layers:a.getDeveloperModeLayerPermissions(),changeType:e};s[e]=r})}function p(n,r,t){t=d(r,t);const o={...a.getDefaultLayerPermissions()};if(t.layers){e(t.layers,function(e,n){if(o[e]===undefined){throw Error(`The Layer '${e}' is not supported. Please only use supported layers`)}o[e]=n})}const i={controlType:n,changeHandler:t.changeHandler,layers:o,changeType:r};return g(i)?i:undefined}function C(e,n,r){const t=p(e,n,r);if(t){l[e]||={};l[e][n]=t}}function H(n,t){let a=Promise.resolve(t);const i="ChangeHandlerStorage.registerChangeHandlersForControl.skip_next_then";if(typeof t==="string"){a=o(`${t}.flexibility`).catch(function(e){r.error(`Flexibility change handler registration failed.\nControlType: ${n}\n${e.message}`);return Promise.resolve(i)})}return a.then(function(r){if(r!==i){e(r,function(e,r){C(n,e,r)})}}).catch(function(e){r.error(e.message)})}function m(e,n,r){const a=l[e]&&l[e][n]||s[n];if(!a){throw Error("No Change handler registered for the Control and Change type")}r=r===t.PUBLIC?t.USER:r;if(!a.layers[r]){throw Error(`Change type ${n} not enabled for layer ${r}`)}return a}function P(e,n,t,a){const i=a.getChangeHandlerModulePath(t);if(typeof i!=="string"){return Promise.resolve(undefined)}return o(i).then(function(r){const t=r[e];if(t){return p(n,e,t)}}).catch(function(e){r.error(`Flexibility registration for control ${a.getId(t)} failed to load module ${i}\n${e.message}`)})}i.getChangeHandler=function(e,n,r,t,a){return P(e,n,r,t).then(function(r){const t=r||m(n,e,a);return h(t)}).then(function(e){if(typeof e.completeChangeContent!=="function"||typeof e.applyChange!=="function"||typeof e.revertChange!=="function"){throw new Error("The ChangeHandler is either not available or does not have all required functions")}return e})};i.registerPredefinedChangeHandlers=function(e,n){c.defaultChangeHandlers=e;c.developerChangeHandlers=n;y(n)};i.registerChangeHandlersForLibrary=function(n){const r=[];e(n,function(e,n){r.push(H(e,n))});return Promise.all(r)};i.clearAll=function(){l={};s={};c={};u={}};i.registerChangeHandlersForControl=function(e,n){return H(e,n)};i.registerAnnotationChangeHandler=function(e){const n=e.isDefaultChangeHandler?f:e.changeType;u[n]={changeHandler:e.changeHandler}};i.getAnnotationChangeHandler=function(e){const n=u[e.changeType]||u[f];if(!n){throw Error("No Annotation Change handler registered for the Change type and Model type")}return h(n)};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/storageResultDisassemble", ["sap/ui/fl/initial/_internal/StorageUtils","sap/base/util/merge","sap/base/util/isEmptyObject"],function(a,e,n){"use strict";function t(a,e){if(e.content.fileName!==e.content.variantManagementReference){a.push(e.content)}e.controlChanges.forEach(function(e){a.push(e)});for(var n in e.variantChanges){a=a.concat(e.variantChanges[n])}return a}function r(a){var e=true;if(a){Object.keys(a).some(function(n){if(a[n].length){e=false;return true}})}return e}return function(i){var s;if(!n(i.variantSection)){s=i.changes||[];for(var c in i.variantSection){var o=i.variantSection[c];for(var u in o.variantManagementChanges){s=s.concat(o.variantManagementChanges[u])}s=o.variants.reduce(t,s)}var f=a.getGroupedFlexObjects(s);var v=a.filterAndSortResponses(f);delete i.changes;delete i.variantSection;e(v[0]||{},i);return v}if(r(i.comp)){s=i.changes||[];i.comp={variants:[],changes:[],defaultVariants:[],standardVariants:[]};s.slice().reverse().forEach(function(a,e,n){var t=false;if(a.fileType==="variant"){i.comp.variants.unshift(a);t=true}else{switch(a.changeType){case"addFavorite":case"removeFavorite":case"updateVariant":i.comp.changes.unshift(a);t=true;break;case"defaultVariant":i.comp.defaultVariants.unshift(a);t=true;break;case"standardVariant":i.comp.standardVariants.unshift(a);t=true;break;default:break}}if(t){var r=n.length-1-e;i.changes.splice(r,1)}})}return[i]}});
/*
 * ! OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/api/InitialFlexAPI", ["sap/ui/fl/initial/_internal/FlexInfoSession","sap/ui/fl/registry/Settings"],function(e,n){"use strict";var i={};i.isKeyUser=async function(){const e=await n.getInstance();return e.isKeyUser()};i.getFlexVersion=function(n){return e.getByReference(n.reference)?.version};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/api/Version", [],function(){"use strict";return{Number:{Original:"-1",Draft:"0"},Type:{Active:"active",Draft:"draft",Inactive:"inactive"}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/library", ["sap/ui/core/Lib","sap/ui/fl/apply/_internal/preprocessors/RegistrationDelegator","sap/ui/fl/initial/_internal/FlexConfiguration","sap/ui/fl/Utils","sap/ui/fl/Layer","sap/ui/fl/Scenario","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/core/library","sap/m/library"],function(i,e,a,r,n,s,l){"use strict";var t=i.init({apiVersion:2,name:"sap.ui.fl",version:"1.136.0",controls:["sap.ui.fl.variants.VariantManagement","sap.ui.fl.util.IFrame"],dependencies:["sap.ui.core","sap.m"],designtime:"sap/ui/fl/designtime/library.designtime",extensions:{flChangeHandlers:{"sap.ui.fl.util.IFrame":"sap/ui/fl/util/IFrame"},"sap.ui.support":{publicRules:true}}});t.condenser={Classification:l};t.Scenario=s;e.registerAll();function o(){var i=r.getUshellContainer();if(i){return i.getLogonSystem().isTrial()}return false}if(o()){a.setFlexibilityServices([{connector:"LrepConnector",url:"/sap/bc/lrep",layers:[]},{connector:"LocalStorageConnector",layers:[n.CUSTOMER,n.PUBLIC,n.USER]}])}return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/registry/Settings", ["sap/ui/fl/initial/_internal/Storage","sap/ui/fl/Utils","sap/base/Log"],function(e,t,n){"use strict";function o(e){if(e&&e.logonUser){return Promise.resolve(e.logonUser)}var o=t.getUshellContainer();if(o){return t.getUShellService("UserInfo").then(function(e){var t=e.getUser();return t&&t.getId()}).catch(function(e){n.error(`Error getting service from Unified Shell: ${e.message}`)})}return Promise.resolve()}var r=function(e){if(!e){throw new Error("no flex settings provided")}this._oSettings=e};r.attachEvent=function(e,t){r._oEventProvider.attachEvent(e,t)};r.detachEvent=function(e,t){r._oEventProvider.detachEvent(e,t)};r.getInstance=function(){if(r._instance){return Promise.resolve(r._instance)}if(r._oLoadSettingsPromise){return r._oLoadSettingsPromise}return r._loadSettings()};r._loadSettings=function(){var t;var i=e.loadFeatures().then(function(e){t=e;return o(t)}).then(function(e){if(!t){n.error("The request for flexibility settings failed; A default response is generated and returned to consuming APIs");t={isKeyUser:false,isKeyUserTranslationEnabled:false,isVariantSharingEnabled:false,isVariantPersonalizationEnabled:true,isAnnotationChangeEnabled:true,isAtoAvailable:false,isAtoEnabled:false,isAppVariantSaveAsEnabled:false,isContextSharingEnabled:true,isContextBasedAdaptationEnabled:false,isCondensingEnabled:false,isProductiveSystem:true,isPublicLayerAvailable:false,isLocalResetEnabled:false,isVariantAdaptationEnabled:false,isVariantAuthorNameAvailable:false,isSeenFeaturesAvailable:false,versioning:{},_bFlexChangeMode:false,_bFlexibilityAdaptationButtonAllowed:false}}t.userId=e;return r._storeInstance(t)});r._oLoadSettingsPromise=i;return i};r._storeInstance=function(e){r._instance||=new r(e);return r._instance};r.getInstanceOrUndef=function(){return r._instance};r.getDefaultLayerPermissions=function(){return{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:true,PUBLIC:false,USER:false}};r.getDeveloperModeLayerPermissions=function(){return{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:false,PUBLIC:false,USER:false}};r.prototype._getBooleanProperty=function(e){return this._oSettings[e]||false};r.prototype.isKeyUser=function(){return this._getBooleanProperty("isKeyUser")};r.prototype.isKeyUserTranslationEnabled=function(){return this._getBooleanProperty("isKeyUserTranslationEnabled")};r.prototype.isPublicLayerAvailable=function(){return this._getBooleanProperty("isPublicLayerAvailable")};r.prototype.isVariantAdaptationEnabled=function(){return this._getBooleanProperty("isVariantAdaptationEnabled")};r.prototype.isAppVariantSaveAsEnabled=function(){return!this.isContextBasedAdaptationEnabled()&&this._getBooleanProperty("isAppVariantSaveAsEnabled")};r.prototype.isContextBasedAdaptationEnabled=function(){var e=new URLSearchParams(window.location.search);var t=e.get("sap-ui-xx-rta-adaptations");return t==="true"||this._getBooleanProperty("isContextBasedAdaptationEnabled")};r.prototype.isVersioningEnabled=function(e){return!!(this._oSettings.versioning[e]||this._oSettings.versioning.ALL)};r.prototype.isModelS=function(){return this._getBooleanProperty("isAtoAvailable")};r.prototype.isAtoEnabled=function(){return this._getBooleanProperty("isAtoEnabled")};r.prototype.isAtoAvailable=function(){return this._getBooleanProperty("isAtoAvailable")};r.prototype.isProductiveSystem=function(){return this._getBooleanProperty("isProductiveSystem")};r.prototype.isVariantSharingEnabled=function(){return this._getBooleanProperty("isVariantSharingEnabled")};r.prototype.isPublicFlVariantEnabled=function(){return this._getBooleanProperty("isPublicFlVariantEnabled")};r.prototype.isContextSharingEnabled=function(){return this._getBooleanProperty("isContextSharingEnabled")};r.prototype.isVariantPersonalizationEnabled=function(){return this._getBooleanProperty("isVariantPersonalizationEnabled")};r.prototype.isVariantAuthorNameAvailable=function(){return this._getBooleanProperty("isVariantAuthorNameAvailable")};r.prototype.isCondensingEnabled=function(){return this._getBooleanProperty("isCondensingEnabled")};r.prototype.hasPersoConnector=function(){return this._getBooleanProperty("hasPersoConnector")};r.prototype.isSystemWithTransports=function(){return!!(this._oSettings.system&&this._oSettings.client)};r.prototype.isPublishAvailable=function(){return!!this._oSettings.isPublishAvailable};r.prototype.isProductiveSystemWithTransports=function(){return this.isProductiveSystem()&&this.isSystemWithTransports()};r.prototype.isLocalResetEnabled=function(){return this._getBooleanProperty("isLocalResetEnabled")};r.prototype.isSeenFeaturesAvailable=function(){return this._getBooleanProperty("isSeenFeaturesAvailable")};r.prototype.isAnnotationChangeEnabled=function(){return this._getBooleanProperty("isAnnotationChangeEnabled")};r.prototype.getSystem=function(){return this._oSettings.system};r.prototype.getClient=function(){return this._oSettings.client};r.prototype._getHostname=function(){return document.location.hostname};r.prototype.isCustomerSystem=function(){var e=this._oSettings.systemType;var t={CUSTOMER:true,SAP:false}[e];var n=this._getHostname();return t!==undefined?t:!(n==="localhost"||n==="127.0.0.1")};r.prototype.getUserId=function(){return this._oSettings.userId};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/requireAsync", [],function(){"use strict";return function(e){var i=sap.ui.require(e);if(i){return Promise.resolve(i)}return new Promise(function(i,n){sap.ui.require([e],function(e){i(e)},function(e){n(e)})})}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/util/ManagedObjectModel", ["sap/ui/core/Element","sap/ui/model/base/ManagedObjectModel"],function(e,t){"use strict";function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}var o=e.extend("sap.ui.fl.util.ManagedObjectModel",{metadata:{library:"sap.ui.fl",properties:{data:{type:"object"},name:{type:"string",defaultValue:"$sap.ui.fl.ManagedObjectModel"}},associations:{object:{type:"sap.ui.core.Element"}}},constructor:function(...o){e.apply(this,o);this._oManagedObjectModel=new t(e.getElementById(this.getObject()),this.getData());["data","name","object"].forEach(function(e){this[`set${a(e)}`]=function(){throw new Error(`sap.ui.fl.util.ManagedObjectModel: Can't change the value of \`${e}\` after the object is `+"initialized. Please recreate the object with correct values in the constructor.")}},this)}});o.prototype.setParent=function(...t){const[a]=t;const o=this.getParent();if(o){o.setModel(null,this.getName())}if(a){a.setModel(this._oManagedObjectModel,this.getName())}e.prototype.setParent.apply(this,t)};o.prototype.exit=function(){this._oManagedObjectModel.destroy()};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/variants/VariantModel", ["sap/base/util/restricted/_difference","sap/base/util/restricted/_isEqual","sap/base/util/restricted/_omit","sap/base/util/each","sap/base/util/isEmptyObject","sap/base/util/merge","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/BusyIndicator","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/fl/apply/_internal/controlVariants/URLHandler","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/controlVariants/Switcher","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/flexState/FlexObjectState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/registry/Settings","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/ui/fl/Utils","sap/ui/model/json/JSONModel","sap/ui/model/BindingMode"],function(e,t,a,n,r,i,s,o,c,l,f,u,h,p,d,g,m,v,V,R,y,C,D,S,b,x){"use strict";var F={};function M(e,t){t._oVariantSwitchPromise=t._oVariantSwitchPromise.catch(function(){}).then(e);v.setVariantSwitchPromise(t.sFlexReference,t._oVariantSwitchPromise);return t._oVariantSwitchPromise}function I(e,t){F[e]=t}function E(e,t){return m.switchVariant(e).then(function(){if(this.oData[e.vmReference].updateVariantInURL){u.updateVariantInURL({vmReference:e.vmReference,newVReference:e.newVReference,model:this})}this.callVariantSwitchListeners(e.vmReference,e.newVReference,undefined,t)}.bind(this))}function U(e){var t=y.getInstanceOrUndef();if(t&&!t.isVariantPersonalizationEnabled()){e.remove=false;e.rename=false;e.change=false}}function _(e){var t=y.getInstanceOrUndef();var a=t&&(t.isKeyUser()||!t.getUserId()||t.isPublicFlVariantEnabled()&&t.getUserId().toUpperCase()===e.instance.getSupportInformation().user.toUpperCase());e.remove=a;e.rename=a;e.change=a}function P(e,t,a){var n=a?D.getCurrentLayer():C.USER;if(e.layer===n&&e.key!==t){return true}return false}function L(e){return new Promise(function(t){if(e.getDomRef()){t()}else{e.addEventDelegate({onAfterRendering(){t()}})}})}function O(){var e=S.getUshellContainer();if(e){var t=[S.getUShellService("UserInfo"),S.getUShellService("URLParsing"),S.getUShellService("Navigation"),S.getUShellService("ShellNavigationInternal")];return Promise.all(t).then(function(e){I("UserInfo",e[0]);I("URLParsing",e[1]);I("Navigation",e[2]);I("ShellNavigationInternal",e[3])}).catch(function(e){throw new Error(`Error getting service from Unified Shell: ${e}`)})}return undefined}function w(e,t){return i({},e.find(function(e){return e.key===t}))}function T(e){const t=v.getInitialUIChanges({vmReference:e.vmReference,reference:e.reference});const a=t.reduce((t,a)=>{const n=a.getSelector();const r=o.bySelector(n,e.appComponent);if(r&&S.indexOfObject(t,{selector:r})===-1){t.push({selector:r})}return t},[]);return a.length?V.waitForFlexObjectsToBeApplied(a):Promise.resolve()}var A=b.extend("sap.ui.fl.variants.VariantModel",{constructor:function(e,t){this.pSequentialImportCompleted=Promise.resolve();b.apply(this,[e]);this.sharing={PRIVATE:"private",PUBLIC:"public"};this.oFlexController=t.flexController;this.oChangePersistence=this.oFlexController._oChangePersistence;this.sFlexReference=R.getFlexReferenceForControl(t.appComponent);this.oAppComponent=t.appComponent;this._oResourceBundle=f.getResourceBundleFor("sap.ui.fl");this._oVariantSwitchPromise=Promise.resolve();this._oVariantAppliedListeners={};this.fnUpdateListener=this.updateData.bind(this);this.oDataSelector=v.getVariantManagementMap();this.oDataSelector.addUpdateListener(this.fnUpdateListener);this.updateData();const a=V.getLiveDependencyMap(this.sFlexReference);v.getInitialUIChanges({reference:this.sFlexReference},this.oAppComponent.getId(),this.sFlexReference).forEach(e=>{g.addChangeAndUpdateDependencies(e,this.oAppComponent.getId(),a)});this.setDefaultBindingMode(x.OneWay)}});A.prototype.updateData=function(){const e=this.oDataSelector.get({reference:this.sFlexReference});const t={...this.getData()};Object.entries(e).forEach(function(e){const a=e[0];const n={...e[1]};t[a]||={};t[a].variants=n.variants.map(function(e){const n=(t[a].variants||[]).find(function(t){return t.key===e.key});return{...n||{},...e}});t[a].currentVariant=n.currentVariant;t[a].defaultVariant=n.defaultVariant;t[a].modified=n.modified});this.setData(t);this.refresh(true)};A.prototype.invalidateMap=function(){this.oDataSelector.checkUpdate({reference:this.sFlexReference})};A.prototype.initialize=function(){return Promise.all([y.getInstance(),O()]).then(function(){u.initialize({model:this})}.bind(this))};A.prototype.updateCurrentVariant=function(e){var t={vmReference:e.variantManagementReference,currentVReference:this.getCurrentVariantReference(e.variantManagementReference),newVReference:e.newVariantReference,appComponent:e.appComponent||this.oAppComponent,modifier:o,reference:this.sFlexReference};if(e.internallyCalled){return E.call(this,t,e.scenario)}return M(E.bind(this,t,e.scenario),this)};A.prototype.getCurrentVariantReference=function(e){return this.oData[e].currentVariant};A.prototype.getVariantManagementReference=function(e){var t="";var a=-1;Object.keys(this.oData).some(function(n){return this.oData[n].variants.some(function(r,i){if(r.key===e){t=n;a=i;return true}})}.bind(this));return{variantManagementReference:t,variantIndex:a}};A.prototype.getVariant=function(e,t){var a=t||this.getVariantManagementReference(e).variantManagementReference;return w(this.oData[a].variants,e)};A.prototype.getVariantTitle=function(e,t){return w(this.oData[t].variants,e).title};function k(e,t){var a=v.getVariantChangesForVariant({vmReference:e,reference:this.sFlexReference});var n=this.oData[e].defaultVariant;if(t.getExecuteOnSelectionForStandardDefault()&&n===e&&!a.setExecuteOnSelect){var r=w(this.oData[e].variants,e);r.instance.setExecuteOnSelection(true);this.oData[e].variants[0].executeOnSelect=true;return true}return false}A.prototype.attachVariantApplied=function(e){var t=l.getElementById(e.vmControlId);var a=this.getVariantManagementReferenceForControl(t);return this.waitForVMControlInit(a).then(function(e,a){this._oVariantAppliedListeners[e]||={};var n=k.call(this,e,t);if(a.callAfterInitialVariant||n){var r={appComponent:this.oAppComponent,reference:this.sFlexReference,vmReference:e};T(r).then(function(){var t=this.oData[e].currentVariant;this.callVariantSwitchListeners(e,t,a.callback)}.bind(this))}return L(a.control).then(function(){if(h.getRelevantVariantManagementControlId(a.control,this.getVariantManagementControlIds())===a.vmControlId){this.oData[e].showExecuteOnSelection=true;this.checkUpdate(true);this._oVariantAppliedListeners[e][a.control.getId()]=a.callback}else{s.error("Error in attachVariantApplied: The passed VariantManagement ID does not match the "+"responsible VariantManagement control")}}.bind(this))}.bind(this,a,e))};A.prototype.callVariantSwitchListeners=function(e,t,a,r){if(this._oVariantAppliedListeners[e]){var i=w(this.oData[e].variants,t);if(r){i.createScenario=r}if(a){a(i)}else{n(this._oVariantAppliedListeners[e],function(e,t){t(i)})}}};A.prototype.detachVariantApplied=function(e,t){var a=this.getVariantManagementReferenceForControl(l.getElementById(e));if(this._oVariantAppliedListeners[a]){delete this._oVariantAppliedListeners[a][t]}};A.prototype._getVariantTitleCount=function(e,t){var a=this.getData();return a[t].variants.reduce(function(t,a){if(e.toLowerCase()===a.title.toLowerCase()&&a.visible){t++}return t},0)};function j(e,t){var a={id:t.newVariantReference,variantName:t.title,contexts:t.contexts,layer:t.layer,adaptationId:t.adaptationId,reference:e.getFlexObjectMetadata().reference,generator:t.generator,variantManagementReference:t.variantManagementReference,executeOnSelection:t.executeOnSelection};if(t.layer===C.VENDOR){a.user="SAP"}if(t.currentVariantComparison===1){if(t.sourceVariantSource.instance.getLayer()===t.layer){a.variantReference=t.sourceVariantSource.instance.getVariantReference()}else{a.variantReference=e.getVariantReference()}}else if(t.currentVariantComparison===0){a.variantReference=e.getVariantReference()}else if(t.currentVariantComparison===-1){a.variantReference=t.sourceVariantReference}return p.createFlVariant(a)}A.prototype._duplicateVariant=function(e){var t=e.sourceVariantReference;var a=e.variantManagementReference;var n=this.getVariant(t);var r=v.getControlChangesForVariant({vmReference:a,vReference:t,reference:this.sFlexReference}).map(function(e){return e.convertToFileContent()});e.currentVariantComparison=D.compareAgainstCurrentLayer(n.instance.getLayer(),e.layer);if(e.currentVariantComparison===1){e.sourceVariantSource=this.getVariant(n.instance.getVariantReference())}var s={instance:j(n.instance,e),controlChanges:r,variantChanges:{}};r=s.controlChanges.slice();var o={};s.controlChanges=r.reduce(function(t,a){if(D.compareAgainstCurrentLayer(a.layer,e.layer)>=0){o=i({},a);o.layer=e.layer;o.variantReference=s.instance.getId();o.support||={};o.support.sourceChangeFileName=a.fileName;o.packageName="$TMP";o.fileName=S.createDefaultFileName(o.changeType);t.push(p.createFromFileContent(o))}return t},[]);return s};A.prototype._collectModelChanges=function(e,t,a){const n=this.getData()[e];const r=n.variants;const i=[];const s=y.getInstanceOrUndef();const o=[];const c=e=>r.find(t=>t.key===e);const l=(e,a,n)=>{const r=["setTitle","setExecuteOnSelect","setVisible"].includes(a);const o=r&&s?.isPublicFlVariantEnabled()&&e.layer===C.PUBLIC?C.PUBLIC:t;i.push({variantReference:e.key,changeType:a,layer:o,...n})};a.getParameter("renamed")?.forEach(({key:e,name:t})=>{const a=c(e);l(a,"setTitle",{title:t,originalTitle:a.title})});a.getParameter("fav")?.forEach(({key:e,visible:t})=>{const a=c(e);l(a,"setFavorite",{favorite:t,originalFavorite:a.favorite})});a.getParameter("exe")?.forEach(({key:e,exe:t})=>{const a=c(e);l(a,"setExecuteOnSelect",{executeOnSelect:t,originalExecuteOnSelect:a.executeOnSelect})});a.getParameter("deleted")?.forEach(e=>{const t=c(e);l(t,"setVisible",{visible:false});o.push(e)});a.getParameter("contexts")?.forEach(({key:e,contexts:t})=>{const a=c(e);l(a,"setContexts",{contexts:t,originalContexts:a.contexts})});const f=a.getParameter("def");if(f){i.push({variantManagementReference:e,changeType:"setDefault",defaultVariant:f,originalDefaultVariant:n.defaultVariant,layer:t})}return{changes:i,variantsToBeDeleted:o}};A.prototype.setVariantProperties=function(e,t){var a=this.getData();var n=this.getVariant(t.variantReference,e).instance;var r={};switch(t.changeType){case"setTitle":n.setName(t.title,true);break;case"setFavorite":r.favorite=t.favorite;n.setFavorite(t.favorite);break;case"setExecuteOnSelect":r.executeOnSelect=t.executeOnSelect;n.setExecuteOnSelection(t.executeOnSelect);break;case"setVisible":r.visible=t.visible;r.createdByReset=false;n.setVisible(t.visible);break;case"setContexts":r.contexts=t.contexts;n.setContexts(t.contexts);break;case"setDefault":r.defaultVariant=t.defaultVariant;var i=u.getStoredHashParams({model:this});if(i&&this.oData[e].updateVariantInURL){if(a[e].defaultVariant!==a[e].currentVariant&&i.indexOf(a[e].currentVariant)===-1){u.update({parameters:i.concat(a[e].currentVariant),updateURL:!this._bDesignTimeMode,updateHashEntry:true,model:this})}else if(a[e].defaultVariant===a[e].currentVariant&&i.indexOf(a[e].currentVariant)>-1){i.splice(i.indexOf(a[e].currentVariant),1);u.update({parameters:i,updateURL:!this._bDesignTimeMode,updateHashEntry:true,model:this})}}break;default:break}return r};A.prototype._ensureStandardVariantExists=function(e){var t=this.getData();var n=t[e]||{};var i=a(n,["initPromise"]);if(!t[e]||r(i)){var s=p.createFlVariant({id:e,variantManagementReference:e,variantName:this._oResourceBundle.getText("STANDARD_VARIANT_TITLE"),user:h.DEFAULT_AUTHOR,layer:C.BASE,reference:this.sFlexReference});v.addRuntimeSteadyObject(this.sFlexReference,this.oAppComponent.getId(),s);this._aCreatedStandardVariantsFor||=[];this._aCreatedStandardVariantsFor.push(e)}};A.prototype.setModelPropertiesForControl=function(e,t,a){this.oData[e].showFavorites=true;var n=this._bDesignTimeMode;if(n!==t){this._bDesignTimeMode=t;if(t){u.clearAllVariantURLParameters({model:this})}else if(n&&this.oData[e].updateVariantInURL){u.update({parameters:u.getStoredHashParams({model:this}),updateURL:true,updateHashEntry:false,model:this})}}if(!(typeof this.fnManageClick==="function"&&typeof this.fnManageClickRta==="function")){this._initializeManageVariantsEvents()}a.detachManage(this.fnManageClick,this);if(t&&this.oData[e]._isEditable){this.oData[e].variantsEditable=false;this.oData[e].variants.forEach(function(a){a.rename=true;a.change=true;a.sharing=this.sharing.PUBLIC;a.remove=P(a,e,t)}.bind(this))}else if(this.oData[e]._isEditable){a.attachManage({variantManagementReference:e},this.fnManageClick,this);this.oData[e].variantsEditable=true;this.oData[e].variants.forEach(function(a){a.remove=P(a,e,t);switch(a.layer){case C.USER:a.rename=true;a.change=true;a.sharing=this.sharing.PRIVATE;U(a);break;case C.PUBLIC:a.sharing=this.sharing.PUBLIC;_(a);break;default:a.rename=false;a.change=false;a.sharing=this.sharing.PUBLIC}}.bind(this))}else{this.oData[e].variantsEditable=false;this.oData[e].variants.forEach(function(e){e.remove=false;e.rename=false;e.change=false})}};A.prototype._initializeManageVariantsEvents=function(){this.fnManageClickRta=function(e,t){const a=this._collectModelChanges(t.variantManagementReference,t.layer,e);t.resolve(a)};this.fnManageClick=function(e,t){sap.ui.require(["sap/ui/fl/variants/VariantManager"],function(a){a.handleManageEvent(e,t,this)}.bind(this))}};A.prototype._handleSaveEvent=function(e){if(!this._bDesignTimeMode){var t=e.getSource();var a=e.getParameters();sap.ui.require(["sap/ui/fl/variants/VariantManager"],function(e){e.handleSaveEvent(t,a,this)}.bind(this))}};function B(e,t){sap.ui.require(["sap/ui/fl/variants/VariantManager"],function(a){a.handleSelectVariant(e,t)})}A.prototype.getLocalId=function(e,t){return o.getSelector(e,t).id};A.prototype.getVariantManagementReferenceForControl=function(e){var t=e.getId();var a=S.getAppComponentForControl(e);return a&&a.getLocalId(t)||t};A.prototype.switchToDefaultForVariantManagement=function(e){if(this.oData[e].currentVariant!==this.oData[e].defaultVariant){c.show(200);this.updateCurrentVariant({variantManagementReference:e,newVariantReference:this.oData[e].defaultVariant}).then(function(){c.hide()})}};A.prototype.switchToDefaultForVariant=function(e){Object.keys(this.oData).forEach(function(t){if(!e||this.oData[t].currentVariant===e){this.switchToDefaultForVariantManagement(t)}}.bind(this))};function N(e,t){this.oData[t].variants.forEach(function(a){const n=a.title&&a.title.match(/{(\w+)>(\w.+)}/);if(n){const[,r,i]=n;const s=e.getModel(r);if(s){const e=s.getResourceBundle().getText(i);const t={reference:this.sFlexReference,changeType:"setTitle",layer:a.layer,fileType:"ctrl_variant_change",variantId:a.key};const n=p.createVariantChange(t);n.setText("title",e,"XFLD");a.instance.setName(e,true);v.addRuntimeSteadyObject(this.sFlexReference,this.oAppComponent.getId(),n)}else{e.attachEventOnce("modelContextChange",N.bind(this,e,t))}}}.bind(this))}A.prototype.registerToModel=function(e){const t=this.getVariantManagementReferenceForControl(e);this._ensureStandardVariantExists(t);this.oData[t]._isEditable=e.getEditable();this.oData[t].showExecuteOnSelection=false;N.call(this,e,t);e.attachEvent("select",{vmReference:t,model:this},B);e.attachSave(this._handleSaveEvent,this);this.setModelPropertiesForControl(t,false,e);const a=e.getUpdateVariantInURL();this.oData[t].updateVariantInURL=a;if(a){u.registerControl({vmReference:t,updateURL:true,model:this});u.handleModelContextChange({model:this,vmControl:e})}if(this.oData[t].initPromise){this.oData[t].initPromise.resolveFunction();delete this.oData[t].initPromise}this.oData[t].init=true;const n={appComponent:this.oAppComponent,reference:this.sFlexReference,vmReference:t};this._oVariantSwitchPromise=this._oVariantSwitchPromise.then(T.bind(undefined,n))};A.prototype.waitForVMControlInit=function(e){if(!this.oData[e]){this.oData[e]={}}else if(this.oData[e].init){return Promise.resolve()}this.oData[e].initPromise={};this.oData[e].initPromise.promise=new Promise(function(t){this.oData[e].initPromise.resolveFunction=t}.bind(this));return this.oData[e].initPromise.promise};A.prototype._getDirtyChangesFromVariantChanges=function(e){var t=e.map(function(e){return e.getId()});return V.getDirtyFlexObjects(this.sFlexReference).filter(function(e){return t.includes(e.getId())&&!e.getSavedToVariant()})};A.prototype.getCurrentControlVariantIds=function(){return Object.keys(this.oData||{}).reduce(function(e,t){return e.concat([this.oData[t].currentVariant])}.bind(this),[])};A.prototype.getVariantManagementControlIds=function(){var e;return Object.keys(this.oData||{}).reduce(function(t,a){if(this.oAppComponent.byId(a)){e=this.oAppComponent.createId(a)}else{e=a}t.push(e);return t}.bind(this),[])};A.prototype.destroy=function(){const e=this.oDataSelector.get({reference:this.sFlexReference});const t=Object.entries(e).map(([e,t])=>{const a=v.getVariant({vmReference:e,vReference:t.currentVariant,reference:this.sFlexReference});return a.controlChanges}).flat();const a=V.getLiveDependencyMap(this.sFlexReference);t.forEach(e=>{g.removeChangeFromMap(a,e.getId());g.removeChangeFromDependencies(a,e.getId())});this.oDataSelector.removeUpdateListener(this.fnUpdateListener);const n=[];(this._aCreatedStandardVariantsFor||[]).forEach(t=>{if(e[t]?.variants.length>1||e[t]?.variants[0].controlChanges.length){n.push(e[t].variants[0].instance)}});if(n.length){v.addRuntimeOnlyFlexObjects(this.sFlexReference,n)}v.clearRuntimeSteadyObjects(this.sFlexReference,this.oAppComponent.getId());v.resetCurrentVariantReference(this.sFlexReference);b.prototype.destroy.apply(this)};A.prototype.getUShellService=function(e){return S.getUshellContainer()&&F[e]};return A});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/Storage", ["sap/base/util/ObjectPath","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/VersionInfo"],function(e,t,n,r){"use strict";var a="sap/ui/fl/write/_internal/connectors/";function i(){return n.getConnectors(a,false)}function o(e,t){var n=t.filter(function(t){return t.layers.indexOf("ALL")!==-1||t.layers.indexOf(e)!==-1});if(n.length===1){return n[0]}if(n.length===0){throw new Error(`No Connector configuration could be found to write into layer: ${e}`)}if(n.length>1){throw new Error("sap.ui.core.Configuration 'flexibilityServices' has a misconfiguration: Multiple "+`Connector configurations were found to write into layer: ${e}`)}return undefined}function s(e){if(!e){return Promise.reject("No layer was provided")}return i().then(o.bind(this,e))}function u(e){if(e.draft){return new Promise(function(t,n){sap.ui.require(["sap/ui/fl/write/api/FeaturesAPI"],function(r){r.isVersioningEnabled(e.layer).then(function(r){if(r){t()}else{n(`Draft is not supported for the given layer: ${e.layer}`)}})})})}return Promise.resolve()}function c(e,n){var r=n.filter(function(n){return n.getState()===t.LifecycleState.NEW&&n.getFileType()===e.getFileType()});var a=r.findIndex(function(t){return t.getId()===e.getId()});return a}async function d(e){var n;if(e.allChanges&&e.allChanges.length&&e.condensedChanges){await l(e.condensedChanges);n={namespace:e.allChanges[0].convertToFileContent().namespace,layer:e.layer};var r=0;var a=false;e.reference||=e.allChanges[0].convertToFileContent().reference;e.allChanges.forEach(function(i,o){var s=i.getFileType();var u=c(i,e.condensedChanges);if(i.condenserState){var d=false;if(i.condenserState==="delete"){if(i.getState()===t.LifecycleState.PERSISTED||i.getState()===t.LifecycleState.DELETED){n.delete||={};n.delete[s]||=[];n.delete[s].push(i.getId())}r++}else if(e.condensedChanges.length){d=e.allChanges[o].getId()!==e.condensedChanges[o-r].getId()}if((i.condenserState==="select"&&i.getState()!==t.LifecycleState.NEW||i.condenserState==="update")&&d&&!a){var l=e.condensedChanges.slice(o-r).map(function(e){return e.getId()});n.reorder||={};n.reorder[s]||=[];n.reorder[s]=l;a=true}if(i.condenserState==="select"&&i.getState()===t.LifecycleState.NEW){n.create||={};n.create[s]||=[];n.create[s][u]={};n.create[s][u][i.getId()]=i.convertToFileContent()}else if(i.condenserState==="update"){n.update||={};n.update[s]||=[];var f=n.update[s].length;n.update[s][f]={};n.update[s][f][i.getId()]={content:i.getContent()}}delete i.condenserState}else if(i.getState()===t.LifecycleState.NEW){n.create||={};n.create[s]||=[];n.create[s][u]={};n.create[s][u][i.getId()]=i.convertToFileContent()}})}return n}async function l(e){const t=await r.load();const n=t.version;e.forEach(e=>{if(e.isA&&e.isA("sap.ui.fl.apply._internal.flexObjects.FlexObject")){const t=e.getSupportInformation();t.sapui5Version||=n;e.setSupportInformation(t)}else{e.support||={};e.support.sapui5Version||=n}})}function f(t,n){return u(n).then(s.bind(undefined,n.layer)).then(function(r){n.url=r.url;var a=e.get(t,r.writeConnectorModule);return a.call(r.writeConnectorModule,n)})}var p={};p.write=async function(e){await l(e.flexObjects);return f("write",e)};p.condense=async function(e){const t={...e};const n=await d(t);if(!n){return Promise.reject("No changes were provided")}if(n.create||n.reorder||n.update||n.delete){let e=[];if(n.create){e=(n.create.change?n.create.change:[]).concat(n.create.ctrl_variant?n.create.ctrl_variant:[])}t.flexObjects=n;const r=await f("condense",t);if(r&&r.status&&r.status===205&&e.length){const t=e.map(function(e){return Object.values(e).pop()});r.response=t}else if(r&&r.status&&r.status===200){r.response=r.response.flexObjects}return r}return undefined};p.remove=function(e){return f("remove",e)};p.update=function(e){return f("update",e)};p.reset=function(e){return f("reset",e)};p.getFlexInfo=function(e){return f("getFlexInfo",e)};p.getSeenFeatureIds=function(e){return f("getSeenFeatureIds",e)};p.setSeenFeatureIds=function(e){return f("setSeenFeatureIds",e)};p.getContexts=function(e){return f("getContexts",e)};p.loadContextDescriptions=function(e){return f("loadContextDescriptions",e)};p.isContextSharingEnabled=function(e){return f("isContextSharingEnabled",e)};p.publish=function(e){return f("publish",e)};p.contextBasedAdaptation={create(e){return i().then(f.bind(undefined,"contextBasedAdaptation.create",e))},reorder(e){return i().then(f.bind(undefined,"contextBasedAdaptation.reorder",e))},update(e){return i().then(f.bind(undefined,"contextBasedAdaptation.update",e))},load(e){return i().then(f.bind(undefined,"contextBasedAdaptation.load",e))},remove(e){return i().then(f.bind(undefined,"contextBasedAdaptation.remove",e))}};p.versions={load(e){return i().then(f.bind(undefined,"versions.load",e))},activate(e){return i().then(f.bind(undefined,"versions.activate",e))},discardDraft(e){return i().then(f.bind(undefined,"versions.discardDraft",e))},publish(e){return i().then(f.bind(undefined,"versions.publish",e))}};p.translation={getSourceLanguages(e){return i().then(f.bind(undefined,"translation.getSourceLanguages",e))},getTexts(e){return i().then(f.bind(undefined,"translation.getTexts",e))},postTranslationTexts(e){return i().then(f.bind(undefined,"translation.postTranslationTexts",e))}};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/Versions", ["sap/ui/fl/initial/api/Version","sap/ui/fl/initial/_internal/FlexInfoSession","sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/Storage","sap/ui/model/json/JSONModel","sap/ui/model/BindingMode"],function(e,r,t,i,n,s){"use strict";var a={};var o=9;var l=o+1;function d(r){var t=v(r);t.setDefaultBindingMode(s.OneWay);t.setSizeLimit(o);t.setDirtyChanges=function(e){t.setProperty("/dirtyChanges",e);t.updateDraftVersion();t.updateBindings(true)};t.updateDraftVersion=function(){var r=t.getProperty("/versions");var i=t.getProperty("/versioningEnabled");var n=t.getProperty("/dirtyChanges");var s=t.getProperty("/backendDraft");var a=i&&(n||s);t.setProperty("/draftAvailable",a);if(n){t.setProperty("/displayedVersion",e.Number.Draft)}if(!u(r)&&a){r.splice(0,0,{version:e.Number.Draft,type:e.Type.Draft,filenames:[],isPublished:false})}if(u(r)&&!a){r.shift();t.setProperty("/displayedVersion",t.getProperty("/persistedVersion"))}var o=t.getProperty("/displayedVersion")!==t.getProperty("/activeVersion");t.setProperty("/activateEnabled",o)};return t}function f(r,t){if(t!==e.Number.Original&&t!==e.Number.Draft){return r.some(function(e){return e.version===t&&e.isPublished===false})}return false}function v(t){var i;var s=e.Number.Original;var a=t.versions;var o=t.versionsModel;var l=u(a);var d=[];if(a.length>0){i=a[0].version}else{i=e.Number.Original}a.forEach(function(r){if(r.version===e.Number.Draft){r.type=e.Type.Draft;r.isPublished=false;d=r.filenames}else if(s===e.Number.Original){r.type=e.Type.Active;s=r.version}else{r.type=e.Type.Inactive}});if(o){o.setProperty("/publishVersionEnabled",f(a,i));o.setProperty("/versioningEnabled",t.versioningEnabled);o.setProperty("/versions",a);o.setProperty("/backendDraft",l);o.setProperty("/dirtyChanges",false);o.setProperty("/draftAvailable",l);o.setProperty("/activateEnabled",l);o.setProperty("/activeVersion",s);o.setProperty("/persistedVersion",i);o.setProperty("/displayedVersion",i);o.setProperty("/draftFilenames",d);o.updateBindings(true)}else{var v=r.getByReference(t.reference);return new n({publishVersionEnabled:f(a,v.version||i),versioningEnabled:t.versioningEnabled,versions:a,backendDraft:l,dirtyChanges:false,draftAvailable:l,activateEnabled:l,activeVersion:s,persistedVersion:v.version||i,displayedVersion:v.version||i,draftFilenames:d})}return o}function u(r){return r.some(function(r){return r.version===e.Number.Draft})}function p(e,r){e.setProperty("/backendDraft",false);e.setProperty("/dirtyChanges",false);e.setProperty("/draftAvailable",false);e.setProperty("/activateEnabled",false);e.setProperty("/displayedVersion",r);e.setProperty("/persistedVersion",r);e.updateBindings(true)}var y={};y.initialize=function(e){var r=e.reference;var n=e.layer;e.limit=l;return t.getInstance().then(function(t){var s=t.isVersioningEnabled(n);if(a&&a[r]&&a[r][n]){return a[r][n]}var o=s?i.versions.load(e):Promise.resolve([]);return o.then(function(r){e.versioningEnabled=s;e.versions=r;return d(e)}).then(function(e){a[r]||={};a[r][n]||={};a[r][n]=e;return a[r][n]})})};y.getVersionsModel=function(e){var r=e.reference;var t=e.layer;if(!y.hasVersionsModel(e)){throw Error(`Versions Model for reference '${r}' and layer '${t}' were not initialized.`)}return a[r][t]};y.hasVersionsModel=function(e){var r=e.reference;var t=e.layer;return!!(a[r]&&a[r][t])};y.clearInstances=function(){a={}};y.updateModelFromBackend=function(e){if(y.hasVersionsModel(e)&&y.getVersionsModel(e).getProperty("/versioningEnabled")){e.limit=l;return i.versions.load(e).then(function(r){var t=y.getVersionsModel(e);e.versioningEnabled=t.getProperty("/versioningEnabled");e.versions=r;e.versionsModel=t;return v(e)})}return undefined};y.onAllChangesSaved=function(r){var t=y.getVersionsModel(r);var i=t.getProperty("/versioningEnabled");var n=t.getProperty("/dirtyChanges");var s=t.getProperty("/draftFilenames");t.setProperty("/draftFilenames",s.concat(r.draftFilenames));t.setProperty("/dirtyChanges",true);t.setProperty("/backendDraft",i&&n||!!r.contextBasedAdaptation);t.updateDraftVersion();t.setProperty("/persistedVersion",e.Number.Draft);t.updateBindings(true)};y.activate=function(r){var t=y.getVersionsModel(r);var n=t.getProperty("/versions");var s=u(n);var a=t.getProperty("/activeVersion");if(r.displayedVersion===a){return Promise.reject("Version is already active")}r.version=r.displayedVersion;return i.versions.activate(r).then(function(r){n.forEach(function(r){r.type=e.Type.Inactive});r.type=e.Type.Active;r.isPublished=false;if(s){n.shift()}n.splice(0,0,r);t.setProperty("/activeVersion",r.version);t.setProperty("/publishVersionEnabled",true);t.setProperty("/draftFilenames",[]);p(t,r.version)})};y.discardDraft=function(e){var r=y.getVersionsModel(e);var t=r.getProperty("/backendDraft");var n=t?i.versions.discardDraft(e):Promise.resolve();return n.then(function(){var i=r.getProperty("/versions");i.shift();let n=r.getProperty("/activeVersion");if(e.discardDraftAndKeepActiveVersion){n=r.getProperty("/displayedVersion")}p(r,n);return{backendChangesDiscarded:t}})};y.publish=function(e){var r=y.getVersionsModel({reference:e.reference,layer:e.layer});return i.versions.publish(e).then(function(t){if(t!=="Error"&&t!=="Cancel"){r.setProperty("/publishVersionEnabled",false);var i=r.getProperty("/versions");var n=false;i.forEach(function(r){if(r.isPublished){return}if(r.version===e.version){n=true}if(n&&!r.isPublished){r.isPublished=true}})}return t})};return y});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/Condenser", ["sap/base/util/restricted/_isEqual","sap/base/util/each","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Element","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/UIChange","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/write/_internal/condenser/classifications/LastOneWins","sap/ui/fl/write/_internal/condenser/classifications/Reverse","sap/ui/fl/write/_internal/condenser/classifications/Update","sap/ui/fl/write/_internal/condenser/UIReconstruction","sap/ui/fl/write/_internal/condenser/Utils","sap/ui/fl/Utils","sap/ui/performance/Measurement"],function(e,t,n,a,s,o,r,i,c,f,l,d,u,p,g,C,h,E,y){"use strict";const _={};const S="unclassified";const I={lastOneWins:u,reverse:p,update:g};const O=["affectedControl","sourceContainer","targetContainer","updateControl"];function N(e,t){const n=e[d.Move];return t.classification===d.Create&&n&&n[n.length-1].targetContainer===t.targetContainer}function D(e,t){return t.classification===d.Move&&e[d.Destroy]}function T(e,t){return t.classification===d.Create&&e[d.Destroy]}async function v(e,t,n,a){if(!D(e,n)&&!T(e,n)){const t=n.classification;if(!e[t]){n.change=a;a.condenserState="select";e[t]=[n]}else{a.condenserState="delete"}e[t][0].updateChange=a}else{a.condenserState="delete"}if(N(e,n)||T(e,n)){if(e[d.Move]){e[d.Move].forEach(e=>{e.change.condenserState="delete"});delete e[d.Move]}if(e[d.Destroy]){e[d.Destroy].forEach(e=>{e.change.condenserState="delete"});delete e[d.Destroy]}}await C.addChange(t,n)}function m(e,t,n){e[t.classification]||={};const a=e[t.classification];I[t.classification].addToChangesMap(a,t,n)}async function A(e,t,n,a,s){e[a.type]||={};const o=e[a.type];if(a.type===h.NOT_INDEX_RELEVANT){m(o,a,s)}else{n.push(s);o[a.targetAggregation]||={};await v(o[a.targetAggregation],t,a,s)}}function R(e,t,n){e[t]||=[];e[t].push(n);n.condenserState="select"}async function w(e,t){let n;let a=false;const s={modifier:o,appComponent:e};try{if(t instanceof l){const c=o.getControlIdBySelector(t.getSelector(),e);const f=r.getElementById(c);if(f){s.view=E.getViewForControl(f);const e=i.getControlIfTemplateAffected(t,f,s);a=e.bTemplateAffected;n=await i.getChangeHandler({flexObject:t,control:e.control,controlType:e.controlType,modifier:s.modifier})}}else{n=await i.getChangeHandler({flexObject:t})}if(typeof n.getCondenserInfo==="function"){const e=await n.getCondenserInfo(t,s);if(e&&a){x(e,t)}return e}}catch(e){return undefined}return undefined}function x(e,t){const n=t.getOriginalSelector();const a=t.getSelector();O.forEach(t=>{if(e[t]&&e[t]===a){e[t]=n}})}function b(e,t,n,s){const o=n.getIdForCondensing(t,s);e[o]||={};if(t&&t.updateControl){const n=t.updateControl;const s=[h.NOT_INDEX_RELEVANT,d.Update,t.uniqueKey];const r=a.get(s,e[n]);if(r){a.set(s,r,e[o]);delete e[n][h.NOT_INDEX_RELEVANT][d.Update][t.uniqueKey]}}return e[o]}async function L(e,t,n,a,s){for(const o of s){await U(e,t,n,a,o)}}async function U(e,t,n,a,s){const o=await w(e,s);j(o,e);const r=b(t,o,s,e);if(o!==undefined){M(o);await A(r,n,a,o,s);if(o.update){V(r,o,s)}}else{R(r,S,s);t[S]=true}}function M(e){if(I[e.classification]){e.type=h.NOT_INDEX_RELEVANT}else{e.type=h.INDEX_RELEVANT}}function j(e,t){O.forEach(n=>{if(e&&e[n]){e[n]=o.getControlIdBySelector(e[n],t)}})}function V(e,t,n){const s=[h.NOT_INDEX_RELEVANT,d.Update,t.uniqueKey];const o=a.get(s,e);if(o){o.change.condenserState="delete";if(n.condenserState==="delete"){return}if(n.isPersisted()){n.condenserState="update"}t.update(n,o.updateContent);n.setState(f.LifecycleState.UPDATED);delete e[h.NOT_INDEX_RELEVANT][d.Update][t.uniqueKey]}}function X(e,a){t(e,(t,s)=>{if(I[t]&&I[t].getChangesFromMap){I[t].getChangesFromMap(e,t).forEach(e=>{a.push(e)})}else if(n(s)){return X(s,a)}else if(Array.isArray(s)){s.forEach(e=>{if(e instanceof c){a.push(e)}else{a.push(e.change)}})}});return a}function q(e){return X(e,[])}function F(e,t){Object.values(e).forEach(e=>{if(n(e)){F(e,t)}else if(Array.isArray(e)){e.forEach(e=>{if(!(e instanceof c)){t.push(e)}})}});return t}function P(e,t){t.sort((t,n)=>e.indexOf(t)-e.indexOf(n))}function B(e,t){t.sort((t,n)=>e.indexOf(t.change)-e.indexOf(n.change))}function K(e,t){const n=e.map(e=>e.getId());t.forEach(t=>{if(n.indexOf(t.getId())===-1){e.push(t)}})}function W(e){for(const t in e){for(const n of["lastOneWins","update"]){const s=a.get([t,h.NOT_INDEX_RELEVANT,n],e);if(s){for(const e of Object.values(s)){if(e.oldestChange?.getRevertData){e.change.setRevertData(e.oldestChange.getRevertData())}}}}}}function H(t,n,a){t.forEach(t=>{const s=t.updateChange;if(s&&!e(s.getContent(),t.change.getContent())&&s.getState()!==f.LifecycleState.NEW){const e=t.change;if(s.getId()!==e.getId()){const t=e.getContent();s.setContent(t);s.setRevertData(e.getRevertData());e.condenserState="delete";n=n.map(t=>{if(t.getId()===e.getId()){return s}return t});const o=t=>{if(t.getId()===e.getId()){return s}return t};a.forEach((e,t)=>{a[t]=e.map(o)})}else{s.setState(f.LifecycleState.UPDATED)}s.condenserState="update"}});return n}_.condense=async function(e,t){y.start("Condenser_overall","Condenser overall - CondenserClass",["sap.ui.fl","Condenser"]);const n={};const a={};const o=[];const r=[];const i=[];t.slice(0).reverse().forEach(e=>{if(e.getState()===f.LifecycleState.DELETED){e.condenserState="delete"}else if(e.canBeCondensed()){i.push(e)}else{r.push(e)}});y.start("Condenser_defineMaps","defining of maps - CondenserClass",["sap.ui.fl","Condenser"]);await L(e,n,a,o,i);y.end("Condenser_defineMaps");W(n);const c=n[S];if(!c){C.compareAndUpdate(n,a)}let l=q(n);if(c){o.forEach(e=>{if(e.condenserState!=="update"){e.condenserState="select"}});K(l,o)}l=l.concat(r);P(t,l);if(!c){y.start("Condenser_handleIndexRelatedChanges","handle index related changes - CondenserClass",["sap.ui.fl","Condenser"]);let e=true;let r=F(n,[]);B(t,r);let i;try{y.start("Condenser_sort","sort index related changes - CondenserClass",["sap.ui.fl","Condenser"]);i=C.sortIndexRelatedChanges(a,r)}catch(t){s.error(`Error during Condensing: ${t.message}`,"No Condensing performed for index-relevant changes.");e=false}y.end("Condenser_sort");if(e){l=l.filter(e=>e.condenserState!=="delete");r=r.filter(e=>e.change.condenserState!=="delete");l=H(r,l,i);P(t,l);i.forEach(e=>{C.swapChanges(e,l)})}else{o.forEach(e=>{e.condenserState="select"});K(l,o);P(t,l)}y.end("Condenser_handleIndexRelatedChanges")}y.end("Condenser_overall");return l};return _});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/UIReconstruction", ["sap/base/util/restricted/_isEqual","sap/base/util/each","sap/base/util/ObjectPath","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/write/_internal/condenser/classifications/Create","sap/ui/fl/write/_internal/condenser/classifications/Destroy","sap/ui/fl/write/_internal/condenser/classifications/Move","sap/ui/fl/write/_internal/condenser/Utils"],function(e,n,t,s,i,c,o,r){"use strict";const a={};const f={create:i,destroy:c,move:o};function l(e,t){n(e,(e,s)=>{n(s,(n,i)=>{t(s,e,i,n)})})}function u(e,n,t){e.splice(t,0,e.splice(n,1)[0])}function h(e,n){const t={};l(e,(e,s,i,c)=>{const o=i[r.TARGET_UI];const a=i[r.INITIAL_UI];n.forEach(e=>{const n=o.indexOf(e.affectedControl)>-1||a.indexOf(e.affectedControl)>-1;if(c===e.targetAggregation&&n){t[s]||={};const n=t[s];n[c]||=[];const i=n[c];i.push(e)}})});return t}function d(e){return!e.some(e=>e.classification!==s.Create)}function g(e){return!e.some(e=>r.isUnknown(e))}function I(e){return e.getTargetIndex(e.change)}function E(e){e.sort((e,n)=>{const t=I(e);const s=I(n);return t-s})}function T(e){return!e.some(e=>!r.isUnknown(e))}function p(n,t){let s;if(n.length<t.length){s=t.slice(n.length);if(!T(s)){return false}t=t.slice(0,n.length)}else if(n.length>t.length){s=n.slice(t.length,n.length);if(!T(s)){return false}n=n.slice(0,t.length)}return e(n,t)}function _(e,n,t,s,i){const c={};i.forEach(e=>{const s=e.targetContainer;c[s]||={};const i=c[s];i[n]||=r.initializeArrayWithPlaceholders(0,t.length-1);f[e.classification].simulate(i[n],e,t)});const o=c[e][n];if(p(s,o)){i.forEach(e=>{if(e.sameIndex){e.change.condenserState="delete"}});return true}return false}function A(e,n){function t(e,n){if(I(n)!==e){const t=n.change.getState();n.setTargetIndex(n.change,e);n.change.setState(t);if(n.change.isPersisted()){n.change.condenserState="update"}}}function i(n,i,c){c[r.TARGET_UI].forEach((n,i)=>{if(!r.isUnknown(n)){const c=e[n];const o=c[r.INDEX_RELEVANT];l(o,(e,n,c,o)=>{if(o!==s.Destroy){c.forEach(t.bind(this,i))}})}})}l(n,i)}function U(e,n){l(n,(n,t,s,i)=>{const c=s[r.INITIAL_UI];const o=s[r.TARGET_UI];if(p(c,o)){o.forEach(n=>{const t=e[n];if(t!==undefined){l(t[r.INDEX_RELEVANT],(e,n,t)=>{t.forEach(e=>{e.change.condenserState="delete"})});delete t[r.INDEX_RELEVANT]}});delete n[i]}})}function x(e,n){l(n,(n,s,i,c)=>{const o=i[r.INITIAL_UI];const a=i[r.TARGET_UI];o.forEach((n,s)=>{const i=e[n];if(!i||!t.get([r.INDEX_RELEVANT,c],i)){const e=r.PLACEHOLDER+s;const t=a.indexOf(n);if(t>=0){a[t]=e}}})})}a.swapChanges=function(e,n){const t=e.map(e=>n.indexOf(e)).sort();e.forEach(e=>{n[t.shift()]=e})};a.sortIndexRelatedChanges=function(e,n){const t=[];const s=h(e,n);l(s,(n,s,i,c)=>{const o=e[s][c][r.TARGET_UI];const a=e[s][c][r.INITIAL_UI];let f=true;if(g(o)||d(i)){E(i);f=_(s,c,a,o,i)}else if(!_(s,c,a,o,i)){f=false;let e=i.length;while(e!==0&&!f){let n=0;let t=1;while(t<i.length&&!f){u(i,n,t);f=_(s,c,a,o,i);n++;t++}e--}}if(!f){throw Error(`no correct sorting found for the container: ${s}`)}i=i.filter(e=>e.change.condenserState!=="delete");t.push(i.map(e=>{if(e.revertIndex>-1){e.setIndexInRevertData(e.change,e.revertIndex);e.sourceIndex=e.revertIndex}return e.change}))});return t};a.addChange=async function(e,n){await f[n.classification].addToReconstructionMap(e,n)};a.compareAndUpdate=function(e,n){U(e,n);x(e,n);A(e,n)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/Utils", ["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Element"],function(e,n){"use strict";const t={};t.TARGET_UI="targetUI";t.INITIAL_UI="initialUI";t.PLACEHOLDER="X";t.INDEX_RELEVANT="indexRelevant";t.NOT_INDEX_RELEVANT="notIndexRelevant";function i(e,n){return(Math.max(e,n)||0)+1}t.getInitialUIContainerElementIds=function(e,n,i,r){e[n]||={};const l=e[n];l[i]||={};const s=l[i];s[t.TARGET_UI]||=r;s[t.INITIAL_UI]||=r.slice(0);return s[t.INITIAL_UI]};t.getContainerElementIds=async function(t,i,r,l){const s=n.getElementById(t);const o=r||await e.getAggregation(s,i);return o.map(e=>l?e[l]:e.getId())};t.initializeArrayWithPlaceholders=function(e,n){const r=i(n,e);return Array(r).fill(t.PLACEHOLDER).map((e,n)=>e+n)};t.extendArrayWithPlaceholders=function(e,n,r){const l=i(n,r);if(e.length<l){let n;for(let i=e.length;i<=l;i++){n=t.PLACEHOLDER+e.length;e.splice(e.length,0,n)}}};t.extendElementsArray=function(e,n,i,r){t.extendArrayWithPlaceholders(e,n,i);const l=e.indexOf(r);const s=e.indexOf(t.PLACEHOLDER+n);if(l!==n&&n!==undefined){if(l>=0){t.shiftElement(e,l,n)}else if(s>-1){e[s]=r}else if(t.isUnknown(e[n])){e[n]=r}}};t.shiftElement=function(e,n,t){e.splice(t,0,e.splice(n,1)[0])};t.isUnknown=function(e){if(e!==undefined&&e.indexOf(t.PLACEHOLDER)===0){const n=e.slice(1,e.length);const t=parseInt(n);if(isNaN(t)){return false}return true}return false};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Create", ["sap/ui/core/Element","sap/ui/fl/write/_internal/condenser/Utils"],function(t,e){"use strict";return{async addToReconstructionMap(n,a){const o=t.getElementById(a.affectedControl);const r=a.targetAggregation||o&&o.sParentAggregationName;const i=await e.getContainerElementIds(a.targetContainer,r,a.customAggregation,a.affectedControlIdProperty);const g=e.getInitialUIContainerElementIds(n,a.targetContainer,a.targetAggregation,i);const s=g.indexOf(a.affectedControl);if(s>-1){g.splice(s,1)}},simulate(t,e){t.splice(e.getTargetIndex(e.change),0,e.affectedControl)}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Destroy", ["sap/ui/fl/write/_internal/condenser/Utils"],function(e){"use strict";return{async addToReconstructionMap(t,n){const o=await e.getContainerElementIds(n.targetContainer,n.targetAggregation,n.customAggregation,n.affectedControlIdProperty);const r=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,o);if(r.length-1<n.sourceIndex){while(r.length-1<n.sourceIndex){const t=r.length;r.splice(r.length,0,e.PLACEHOLDER+t)}r[n.sourceIndex]=n.affectedControl}else{r.splice(n.sourceIndex,0,n.affectedControl)}},simulate(t,n,o){let r=t.indexOf(n.affectedControl);if(r===-1){const i=e.PLACEHOLDER+o.indexOf(n.affectedControl);r=t.indexOf(i)}n.revertIndex=r;if(r>-1){t.splice(r,1)}}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/LastOneWins", [],function(){"use strict";return{addToChangesMap(e,n,t){if(!e[n.uniqueKey]){n.change=t;e[n.uniqueKey]=n;t.condenserState="select"}else{e[n.uniqueKey].oldestChange=t;t.condenserState="delete"}},getChangesFromMap(e,n){return Object.values(e[n]).map(e=>e.change)}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Move", ["sap/ui/fl/write/_internal/condenser/Utils"],function(e){"use strict";return{async addToReconstructionMap(t,n){const[r,o]=await Promise.all([e.getContainerElementIds(n.sourceContainer,n.sourceAggregation,n.customAggregation,n.affectedControlIdProperty),e.getContainerElementIds(n.targetContainer,n.targetAggregation,n.customAggregation,n.affectedControlIdProperty)]);let a;let i;if(n.targetContainer===n.sourceContainer&&n.targetAggregation===n.sourceAggregation){a=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,o);i=a.indexOf(n.affectedControl);e.shiftElement(a,i,n.sourceIndex)}else{a=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,o);i=a.indexOf(n.affectedControl);a.splice(i,1);a=e.getInitialUIContainerElementIds(t,n.sourceContainer,n.sourceAggregation,r);a.splice(n.sourceIndex,0,n.affectedControl)}},simulate(t,n,r){const o=n.affectedControl;const a=r.indexOf(o);e.extendElementsArray(t,a,undefined,o);const i=t.indexOf(o);const g=n.getTargetIndex(n.change);if(a===-1){t.splice(g,0,o)}else{t.splice(g,0,t.splice(i,1)[0])}n.sameIndex=i===g;n.revertIndex=i}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Reverse", ["sap/base/util/each"],function(e){"use strict";return{addToChangesMap(e,n,t){e[n.uniqueKey]||=[];e[n.uniqueKey].push(t)},getChangesFromMap(n,t){var a=[];e(n[t],function(e,n){n.reverse();var t;n.forEach(function(e,a){if(t&&t.getChangeType()!==e.getChangeType()){t=null;n[a].condenserState="delete";n[a-1].condenserState="delete"}else{t=e;if(a>0){n[a-1].condenserState="delete"}n[a].condenserState="select"}});if(t){a.push(t)}});return a}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Update", [],function(){"use strict";return{addToChangesMap(e,n,t){if(!e[n.uniqueKey]){n.change=t;e[n.uniqueKey]=n;t.condenserState="select"}else{e[n.uniqueKey].oldestChange=t;t.condenserState="delete"}},getChangesFromMap(e,n){return Object.values(e[n]).map(e=>e.change)}}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/flexState/FlexObjectManager", ["sap/base/util/restricted/_omit","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/changes/Reverter","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/changes/UIChangesState","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/flexState/FlexObjectState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/flexState/compVariants/CompVariantState","sap/ui/fl/write/_internal/Storage","sap/ui/fl/write/_internal/Versions","sap/ui/fl/LayerUtils","sap/ui/fl/requireAsync","sap/ui/fl/Utils"],function(e,t,n,r,a,c,i,l,s,o,f,p,u,g,y,d,F,x){"use strict";const h={};function C(e){const t=[];const n=f.getCompVariantsMap(e.reference);for(const e in n){const r=n[e];for(const e in r.byId){t.push(r.byId[e])}}return d.filterChangeOrChangeDefinitionsByCurrentLayer(t,e.currentLayer)}function O(e){const t=f.getCompVariantsMap(e.reference);const n=f.getInitialNonFlCompVariantData(e.reference);if(n){Object.keys(n).forEach(function(e){t._initialize(e,n[e].variants,n[e].controlId);l.merge(e,t[e],n[e].standardVariant)})}}function b(e){var t=p.getFlexReferenceForControl(e.selector);return u.persistAll(t)}function j(e,t){if(t.isValidForDependencyMap()){c.removeChangeFromMap(o.getLiveDependencyMap(e),t.getId());c.removeChangeFromDependencies(o.getLiveDependencyMap(e),t.getId())}}async function S(e,t){const n=await F("sap/ui/fl/FlexControllerFactory");var r=n.createForSelector(e.selector);return r.saveAll(t,e.skipUpdateCache,e.draft,e.layer,e.removeOtherLayerChanges,e.condenseAnyLayer)}function m(e){return typeof e.isA==="function"&&e.isA("sap.ui.fl.apply._internal.flexObjects.FlexObject")?e:r.createFromFileContent(e)}h.filterHiddenFlexObjects=function(e,t){const n=s.filterHiddenFlexObjects(e,t);return u.filterHiddenFlexObjects(n,t)};h.getFlexObjects=async function(e){e.reference=p.getFlexReferenceForControl(e.selector);if(e.invalidateCache){await f.update(e);O(e)}let t=i.getVariantIndependentUIChanges(e.reference);if(!e.includeCtrlVariants){t=t.concat(s.getInitialUIChanges({reference:e.reference,includeDirtyChanges:true}))}else if(!e.onlyCurrentVariants){t=t.concat(s.getVariantDependentFlexObjects(e.reference))}else{t=t.concat(s.getAllCurrentFlexObjects({reference:e.reference}))}if(e.includeManifestChanges){t=t.concat(f.getAppDescriptorChanges(e.reference))}if(e.includeAnnotationChanges){t=t.concat(f.getAnnotationChanges(e.reference))}if(e.currentLayer){t=t.filter(t=>t.getLayer()===e.currentLayer)}return t.concat(C(e))};h.hasDirtyFlexObjects=function(e){var t=p.getFlexReferenceForSelector(e.selector);return o.getDirtyFlexObjects(t).length>0||u.hasDirtyChanges(t)};h.addDirtyFlexObjects=function(e,t){return f.addDirtyFlexObjects(e,t.map(m))};h.removeDirtyFlexObjects=function(e){const n=[].concat(e.layers||[]);const r=o.getDirtyFlexObjects(e.reference);const a=r.filter(r=>{let a=true;if(n.length&&!n.includes(r.getLayer())){return false}if(e.generator&&r.getSupportInformation().generator!==e.generator){return false}if(e.control){const n=t.getControlIdBySelector(r.getSelector(),e.component);a=e.control.getId()===n}if(e.changeTypes){a&&=e.changeTypes.includes(r.getChangeType())}return a});return f.removeDirtyFlexObjects(e.reference,a)};h.saveFlexObjects=async function(t){var n=x.getAppComponentForSelector(t.selector);t.reference=p.getFlexReferenceForControl(t.selector);await b(t);await S(t,n);if(t.version!==undefined&&y.hasVersionsModel(t)){var r=y.getVersionsModel(t);t.version=r.getProperty("/displayedVersion")}if(t.layer){t.currentLayer=t.layer}t.componentId=n.getId();t.invalidateCache=true;return h.getFlexObjects(e(t,"skipUpdateCache"))};h.deleteFlexObjects=function(e){const t=o.getDirtyFlexObjects(e.reference);const n=[];const r=[];e.flexObjects.forEach(function(c){if(t.indexOf(c)>-1&&c.getState()===a.LifecycleState.NEW){r.push(c)}else{c.markForDeletion();n.push(c)}j(e.reference,c)});f.removeDirtyFlexObjects(e.reference,r);const c=h.addDirtyFlexObjects(e.reference,n);if(!r.length&&!c.length){const t=f.getFlexObjectsDataSelector();t.checkUpdate({reference:e.reference})}};h.restoreDeletedFlexObjects=function(e){const t=e.flexObjects.filter(e=>e.getState()===a.LifecycleState.DELETED||e.getState()===a.LifecycleState.NEW);t.forEach(e=>{e.restorePreviousState()});const n=t.filter(e=>e.getState()!==a.LifecycleState.PERSISTED);h.addDirtyFlexObjects(e.reference,n)};h.resetFlexObjects=async function(e){const r=p.getFlexReferenceForControl(e.appComponent);const a=await h.getFlexObjects({selector:e.appComponent,currentLayer:e.layer,includeCtrlVariants:true});const c={reference:r,layer:e.layer,changes:a};if(e.generator){c.generator=e.generator}if(e.selectorIds){c.selectorIds=e.selectorIds}if(e.changeTypes){c.changeTypes=e.changeTypes}const i=await g.reset(c);if(e.selectorIds||e.changeTypes||e.generator){const c=[];if(i?.response?.length>0){i.response.forEach(function(e){c.push(e.fileName)})}const l=a.filter(function(e){return c.indexOf(e.getId())!==-1});f.updateStorageResponse(r,l.map(e=>({flexObject:e.convertToFileContent(),type:"delete"})));if(l.length){await n.revertMultipleChanges([...l].reverse(),{appComponent:e.appComponent,modifier:t,reference:r})}}};return h});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/flexState/compVariants/CompVariantState", ["sap/base/util/restricted/_omit","sap/base/util/restricted/_pick","sap/ui/core/Element","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/CompVariantRevertData","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/RevertData","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/UpdatableChange","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantManagementState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/initial/api/Version","sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/Storage","sap/ui/fl/write/_internal/Versions"],function(e,t,n,a,r,i,o,s,c,p,f,u,l,d,g,v,y,C){"use strict";function S(e,t){var n=h("/draftFilenames",t);if(n){return e.getState()===p.LifecycleState.NEW||n.includes(e.getId())}return true}function h(e,t){var t={reference:t.reference,layer:t.layer};if(C.hasVersionsModel(t)){return C.getVersionsModel(t).getProperty(e)}return undefined}function m(e,t){var n=e.getFlexObjectMetadata?e.getFlexObjectMetadata().changeType:e.getChangeType();if(!["defaultVariant","updateVariant"].includes(n)){return false}var a=e.getLayer()===t.layer;var r=e.getFlexObjectMetadata().packageName;var i=!r||r==="$TMP";return a&&i&&S(e,t)}function V(e,t){if(t.isVariant&&t.isVariant()){return e.variants}var n=t.getChangeType();switch(n){case"defaultVariant":return e.defaultVariants;case"standardVariant":return e.standardVariants;default:return e.changes}}function x(e,t){for(var n=0;n<e.length;n++){if(e[n].fileName===t.fileName){e.splice(n,1,t);break}}}function O(e,t,n,a){return y.update({flexObject:e.convertToFileContent(),layer:e.getLayer(),transport:e.getRequest(),parentVersion:n}).then(function(t){if(t&&t.response){e.setResponse(t.response);if(n){C.onAllChangesSaved({reference:t.response.reference,layer:t.response.layer,draftFilenames:t.response.fileName})}}else{e.setState(p.LifecycleState.PERSISTED)}}).then(function(){var n=V(t.changes.comp,e);var r=e.convertToFileContent();d.getFlexObjectsDataSelector().checkUpdate({reference:a});x(n,r);return r})}function I(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n].fileName||e[n].getId()&&e[n].getId();if((a||e[n].getId())===t){e.splice(n,1);break}}}function D(e,t){delete t.byId[e.getId()];if(e.getChangeType()==="standardVariant"){t.standardVariantChange=undefined}else{I(V(t,e),e.getId())}}function b(e,t,n,a,r){var i=e.convertToFileContent();return y.remove({flexObject:i,layer:e.getLayer(),transport:e.getRequest(),parentVersion:a}).then(function(){D(e,t)}).then(C.updateModelFromBackend.bind(this,{reference:i.reference,layer:i.layer})).then(function(){I(V(n.changes.comp,e),i.fileName);d.getFlexObjectsDataSelector().checkUpdate({reference:r});return i})}function T(e){var t={};if(typeof e.texts==="object"){Object.keys(e.texts).forEach(function(n){t[n]={value:e.texts[n],type:"XFLD"}})}return t}function E(e){return e&&[p.LifecycleState.NEW,p.LifecycleState.UPDATED,p.LifecycleState.DELETED].includes(e.getState())}function U(e){return e.variants.concat(e.changes).concat(e.defaultVariants).concat(e.standardVariantChange)}function F(e){if(e.layer){return e.layer}if(e.isUserDependent){return a.USER}var t=new URLSearchParams(window.location.search).get("sap-ui-layer")||"";t=t.toUpperCase();if(t){return t}if(!e.fileType==="variant"){return a.CUSTOMER}var n=v.getInstanceOrUndef().isPublicLayerAvailable();return n?a.PUBLIC:a.CUSTOMER}function L(e){var t=d.getCompVariantsMap(e.reference)._getOrCreate(e.persistencyKey);return t.byId[e.id]}function R(e){if(e instanceof i){e.removeAllRevertData()}}function N(e,t){e.storeExecuteOnSelection(t.executeOnSelection);e.storeFavorite(t.favorite);e.storeContexts(t.contexts);e.storeName(t.name);e.storeContent(t.content||e.getContent());return e}function A(e,t){e.setExecuteOnSelection(t.executeOnSelection);e.setFavorite(t.favorite);e.setContexts(t.contexts);e.setName(t.name);e.setContent(t.content||e.getContent());return e}function M(e){if(e&&e.getRevertData().length){let t;e.getRevertData().reverse().some(e=>{t=e.getContent();return t.previousAction===w.updateActionType.SAVE});N(e,{name:t.previousName,content:t.previousContent,favorite:t.previousFavorite,executeOnSelection:t.previousExecuteOnSelection,contexts:t.previousContexts});e.setState(t.previousState)}}function j(e){if(e.layer===a.VENDOR){e.support={user:"SAP"}}else if(v.getInstanceOrUndef()&&v.getInstanceOrUndef().getUserId()){e.support={user:v.getInstanceOrUndef().getUserId()}}}function _(e){const t=d.getCompVariantsMap(e);const a=[];if(t){Object.values(t).forEach(function(e){const t=e.controlId&&n.getElementById(e.controlId);if(t){a.push(t)}})}return a}var w={};w.checkSVMControlsForDirty=function(e){return _(e).some(e=>e.getModified())};w.setDefault=function(e){var t={defaultVariantName:e.defaultVariantId};e.layer||=new URLSearchParams(window.location.search).get("sap-ui-layer")||a.USER;let n=l.getDefaultChanges(e).slice(-1)[0];if(!n||!m(n,e)){var i=d.getCompVariantsMap(e.reference)._getOrCreate(e.persistencyKey);var o="defaultVariant";var p={fileName:r.createDefaultFileName(o),fileType:"change",changeType:o,layer:e.layer,content:t,namespace:r.createNamespace(e,"changes"),reference:e.reference,selector:{persistencyKey:e.persistencyKey},support:e.support||{}};p.adaptationId=e.changeSpecificData?.adaptationId;p.support.generator||=`CompVariantState.${o}`;n=s.createFromFileContent(p,f);i.byId[n.getId()]=n;n.addRevertInfo(new c({type:w.operationType.NewChange}));d.addDirtyFlexObjects(e.reference,[n])}else{n.addRevertInfo(new c({type:w.operationType.ContentUpdate,content:{previousState:n.getState(),previousContent:n.getContent()}}));n.setContent(t)}return n};w.revertSetDefaultVariantId=function(e){const t=l.getDefaultChanges(e);const n=t?.slice(-1)[0];const a=n.popLatestRevertInfo();if(a.getType()===w.operationType.ContentUpdate){n.setContent(a.getContent().previousContent);n.setState(a.getContent().previousState)}else{n.setState(p.LifecycleState.DELETED);t.pop()}};w.addVariant=function(t){if(!t){return undefined}const n=t.changeSpecificData;n.layer=F(n);n.changeType=n.type;n.texts=T(n);j(n);const r={...n,...e(t,"changeSpecificData")};const i=s.createCompVariant(r);const o=d.getCompVariantsMap(t.reference);const c=o._getOrCreate(t.persistencyKey);c.variants.push(i);c.byId[i.getId()]=i;d.addDirtyFlexObjects(t.reference,[i]);if(n.layer!==a.USER&&n.layer!==a.PUBLIC){t.id=t.control.getCurrentVariantId();M(L(t))}return i};w.updateVariant=function(e){function n(t,n){var a=t.getLayer()===n;var r=t.getFlexObjectMetadata().packageName;var i=!r||r==="$TMP";var o=t.getChanges().some(function(e){return e.getLayer()===n});return t.getPersisted()&&a&&i&&!o&&S(t,e)}function r(t){return t.getChanges().reverse().find(function(t){return t.getChangeType()==="updateVariant"&&m(t,e)})}function i(e,t,n,a){var r={type:n,change:a,content:{previousState:t.getState(),previousContent:t.getContent(),previousFavorite:t.getFavorite(),previousVisible:t.getVisible(),previousExecuteOnSelection:t.getExecuteOnSelection(),previousContexts:t.getContexts(),previousName:t.getName(),previousAction:e.action}};t.addRevertData(new o(r))}function c(e,t){i(e,t,w.operationType.ContentUpdate);if(e.executeOnSelection!==undefined){t.storeExecuteOnSelection(e.executeOnSelection)}if(e.layer===a.PUBLIC){t.storeFavorite(false)}else if(e.favorite!==undefined){t.storeFavorite(e.favorite)}if(e.visible!==undefined){t.storeVisible(e.visible)}if(e.contexts){t.storeContexts(e.contexts)}if(e.name){t.storeName(e.name)}if(e.transportId){t.setRequest(e.transportId)}t.storeContent(e.content||t.getContent())}function p(e,n,a){const r=a.getRevertData()||[];const o={...a.getContent()};const s={previousContent:{...o},previousState:a.getState(),change:t(e,["favorite","visible","executeOnSelection","contexts","content","name"])};r.push(s);a.setRevertData(r);if(e.executeOnSelection!==undefined){o.executeOnSelection=e.executeOnSelection}if(e.favorite!==undefined){o.favorite=e.favorite}if(e.visible!==undefined){o.visible=e.visible}if(e.contexts){o.contexts=e.contexts}if(e.content){o.variantContent=e.content}if(e.adaptationId){a.setAdaptationId(e.adaptationId)}if(e.name){a.setText("variantName",e.name)}a.setContent(o);if(e.transportId){a.setRequest(e.transportId)}i(e,n,w.operationType.UpdateVariantViaChangeUpdate,a);u.applyChangeOnVariant(n,a)}function f(e,t){function n(t){var n=d.getCompVariantsMap(e.reference);var a=t.getSelector().persistencyKey;n[a].changes.push(t);n[a].byId[t.getId()]=t;d.addDirtyFlexObjects(e.reference,[t])}var a={};["favorite","visible","executeOnSelection","contexts"].forEach(function(t){if(e[t]!==undefined){a[t]=e[t]}});if(e.content!==undefined){a.variantContent=e.content}var r=s.createUIChange({changeType:"updateVariant",layer:g,fileType:"change",reference:e.reference,packageName:e.packageName,content:a,selector:{persistencyKey:e.persistencyKey,variantId:t.getVariantId()}});const o=e.adaptationId||e?.changeSpecificData?.adaptationId;if(o){r.setAdaptationId(o)}if(e.name){r.setText("variantName",e.name,"XFLD",true)}if(e.transportId){r.setRequest(e.transportId)}n(r);i(e,t,w.operationType.NewChange,r);u.applyChangeOnVariant(t,r)}var l=L(e);var g=F(e);e.layer||=g;if(e.forceCreate){f(e,l)}else if(n(l,g)){c(e,l)}else{var v=r(l);if(v){p(e,l,v)}else{f(e,l)}}return l};w.discardVariantContent=function(e){var t=L(e);var n=t.getRevertData();if(n.length!==0){var a=n.slice().reverse().some(function(t){e.layer=t.getChange()?.getLayer();if(t.getContent().previousAction===w.updateActionType.SAVE){e.content=t.getContent().previousContent;e.action=w.updateActionType.DISCARD;return true}});if(!a){e.content=n[0].getContent().previousContent;e.action=w.updateActionType.DISCARD}w.updateVariant(e)}return t};w.updateActionType={UPDATE:"update",SAVE:"save",DISCARD:"discard",UPDATE_METADATA:"update_metadata"};w.operationType={StateUpdate:"StateUpdate",ContentUpdate:"ContentUpdate",NewChange:"NewChange",UpdateVariantViaChange:"UpdateVariantViaChange",UpdateVariantViaChangeUpdate:"UpdateVariantViaChangeUpdate"};w.removeVariant=function(e){var t=L(e);var n=t.getState();if(!e.revert){var a=new o({type:w.operationType.StateUpdate,content:{previousState:n}});t.addRevertData(a)}t.markForDeletion();return t};w.revert=function(e){function n(t){var n=t.getSelector().persistencyKey;var a=d.getCompVariantsMap(e.reference);delete a[n].byId[t.getId()];a[n].changes=a[n].changes.filter(function(e){return e!==t});d.removeDirtyFlexObjects(e.reference,[t])}var a=L(e);var r=a.getRevertData().pop();a.removeRevertData(r);var i=r.getContent();var o;switch(r.getType()){case w.operationType.ContentUpdate:N(a,{name:i.previousName,content:i.previousContent,favorite:i.previousFavorite,executeOnSelection:i.previousExecuteOnSelection,contexts:i.previousContexts,...t(e,["reference","persistencyKey","id"])});break;case w.operationType.NewChange:o=r.getChange();a.removeChange(o);n(o);A(a,{name:i.previousName,content:i.previousContent,favorite:i.previousFavorite,executeOnSelection:i.previousExecuteOnSelection,contexts:i.previousContexts,...t(e,["reference","persistencyKey","id"])});break;case w.operationType.UpdateVariantViaChangeUpdate:o=r.getChange();A(a,{...{name:i.previousName,content:i.previousContent,favorite:i.previousFavorite,executeOnSelection:i.previousExecuteOnSelection,contexts:i.previousContexts},...t(e,["reference","persistencyKey","id"])});var s=o.getRevertData().pop();o.setContent(s.previousContent);o.setState(s.previousState);break;case w.operationType.StateUpdate:default:break}a.setState(i.previousState);return a};w.overrideStandardVariant=function(e){var t=d.getCompVariantsMap(e.reference)[e.persistencyKey];var n=t.byId[t.standardVariant.getVariantId()];n.setExecuteOnSelection(!!e.executeOnSelection);var a=n.getChanges();n.removeAllChanges();a.forEach(function(e){u.applyChangeOnVariant(n,e)})};w.persist=async function(e){function t(t,n,r){if(t.getLayer()===a.PUBLIC){t.setFavorite(false)}return y.write({flexObjects:[t.convertToFileContent()],layer:t.getLayer(),transport:t.getRequest(),isLegacyVariant:t.isVariant&&t.isVariant(),parentVersion:r}).then(function(e){if(e&&e.response&&e.response[0]){t.setResponse(e.response[0]);if(r){C.onAllChangesSaved({reference:e.response[0].reference,layer:e.response[0].layer,draftFilenames:[e.response[0].fileName]})}}else{t.setState(p.LifecycleState.PERSISTED)}}).then(function(){const a=t.convertToFileContent();V(n.changes.comp,t).push(a);d.getFlexObjectsDataSelector().checkUpdate({reference:e.reference});return a})}function n(n,a,r,i){switch(n.getState()){case p.LifecycleState.NEW:R(n);return t(n,r,i);case p.LifecycleState.UPDATED:R(n);return O(n,r,i,e.reference);case p.LifecycleState.DELETED:if(n._sPreviousState!==p.LifecycleState.NEW){R(n);return b(n,a,r,i,e.reference)}return Promise.resolve();default:return undefined}}const r=e.reference;const i=e.persistencyKey;const o=d.getCompVariantsMap(r);const s=o._getOrCreate(i);const c=l.getDefaultChanges({reference:e.reference,persistencyKey:e.persistencyKey});const f=[...U(s),...c];const u=await d.getStorageResponse(r);const v=f.filter(E);const S=v.map(function(e,t){if(t===0){const t=h("/persistedVersion",{layer:e.getLayer(),reference:e.getFlexObjectMetadata().reference});return n(e,s,u,t).then(function(){const e=v.map(function(e,a){if(a!==0){const a=t?g.Number.Draft:undefined;return n(e,s,u,a)}return undefined});return Promise.all(e)})}return undefined});return Promise.all(S)};w.persistAll=async function(t){const n=e(d.getCompVariantsMap(t),"_getOrCreate","_initialize");const a=[];const r=_(t);for(const e of Object.keys(n)){const n=await w.persist({reference:t,persistencyKey:e});a.push(n)}r.forEach(e=>{e.setModified(false)});return a};w.hasDirtyChanges=function(e){var t=d.getCompVariantsMap(e);var n=[];for(var a in t){var r=t[a];for(var i in r.byId){n.push(r.byId[i])}}return n.some(function(e){return e.getLayer()&&e.getState()!==p.LifecycleState.PERSISTED&&e.getVariantId?.()!=="*standard*"&&e.getState()!==p.LifecycleState.DELETED})};w.filterHiddenFlexObjects=function(t,n){const a=e(d.getCompVariantsMap(n),"_getOrCreate","_initialize");const r=[];for(const e in a){a[e].variants.forEach(e=>r.push(e.getId()))}return t.filter(e=>{if(e.getFileType()==="change"){if(e.getChangeType()==="updateVariant"){return r.includes(e.getSelector().variantId)}if(e.getChangeType()==="defaultVariant"){return!e.getContent().defaultVariantName||r.includes(e.getContent().defaultVariantName)}}return true})};return w});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/Grid", ["sap/ui/core/Control","./library","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/base/ManagedObjectObserver","./GridRenderer","sap/ui/thirdparty/jquery"],function(e,t,i,s,a,n,jQuery){"use strict";var o=e.extend("sap.ui.layout.Grid",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},vSpacing:{type:"float",group:"Dimension",defaultValue:1},hSpacing:{type:"float",group:"Dimension",defaultValue:1},position:{type:"sap.ui.layout.GridPosition",group:"Dimension",defaultValue:"Left"},defaultSpan:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:"XL3 L3 M6 S12"},defaultIndent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:"XL0 L0 M0 S0"},containerQuery:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/Grid.designtime"},renderer:n});(function(){o.prototype.init=function(){(()=>{var e=t.GridHelper.getLibrarySpecificClass();if(e){this.addStyleClass(e)}})();this._iBreakPointTablet=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._indentXLChanged=false;this._spanXLChanged=false;this._oObserver=new a(o.prototype._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["content"]})};o.prototype.onAfterRendering=function(){if(this.getContainerQuery()){this._sContainerResizeListener=s.register(this,jQuery.proxy(this._onParentResize,this));this._onParentResize()}else{this._attachMediaContainerWidthChange(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED)}};o.prototype.onBeforeRendering=function(){this._cleanup()};o.prototype.exit=function(){this._cleanup();if(this._oObserver){this._oObserver.disconnect();this._oObserver=null}};o.prototype._cleanup=function(){if(this._sContainerResizeListener){s.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null}this._detachMediaContainerWidthChange(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED)};o.prototype._observeVisibility=function(e){this._oObserver.observe(e,{properties:["visible"]})};o.prototype._unobserveVisibility=function(e){this._oObserver.unobserve(e,{properties:["visible"]})};o.prototype._observeChanges=function(e){var t=e.object,i=e.name,s=e.mutation,a=e.child;if(t===this){if(s==="insert"){this._observeVisibility(a)}else if(s==="remove"){this._unobserveVisibility(a)}}else if(i==="visible"){var n=this.getContent().indexOf(t);jQuery(this.$().children()[n]).toggleClass("sapUiRespGridSpanInvisible",!e.current)}};o.prototype._handleMediaChange=function(e){this._toggleClass(e.name)};o.prototype._setBreakPointTablet=function(e){this._iBreakPointTablet=e};o.prototype._setBreakPointDesktop=function(e){this._iBreakPointDesktop=e};o.prototype._setBreakPointLargeDesktop=function(e){this._iBreakPointLargeDesktop=e};o.prototype.setDefaultIndent=function(e){if(/XL/gi.test(e)){this._setIndentXLChanged(true)}return this.setProperty("defaultIndent",e)};o.prototype._setIndentXLChanged=function(e){this._indentXLChanged=e};o.prototype._getIndentXLChanged=function(){return this._indentXLChanged};o.prototype.setDefaultSpan=function(e){if(/XL/gi.test(e)){this._setSpanXLChanged(true)}return this.setProperty("defaultSpan",e)};o.prototype._setSpanXLChanged=function(e){this._spanXLChanged=e};o.prototype._getSpanXLChanged=function(){return this._spanXLChanged};o.prototype._onParentResize=function(){var e=this.getDomRef();if(!e){this._cleanup();return}if(!jQuery(e).is(":visible")){return}var t=e.clientWidth;if(t<=this._iBreakPointTablet){this._toggleClass("Phone")}else if(t>this._iBreakPointTablet&&t<=this._iBreakPointDesktop){this._toggleClass("Tablet")}else if(t>this._iBreakPointDesktop&&t<=this._iBreakPointLargeDesktop){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}};o.prototype._toggleClass=function(e){var t=this.$();if(!t){return}if(t.hasClass("sapUiRespGridMedia-Std-"+e)){return}t.toggleClass("sapUiRespGridMedia-Std-"+e,true);if(e==="Phone"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}else if(e==="Tablet"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}else if(e==="LargeDesktop"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false)}else{t.toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}this.fireEvent("mediaChanged",{media:e})};o.prototype._getLayoutDataForControl=function(e){var t=e.getLayoutData();if(!t){return undefined}else if(t.isA("sap.ui.layout.GridData")){return t}else if(t.isA("sap.ui.core.VariantLayoutData")){var i=t.getMultipleLayoutData();for(var s=0;s<i.length;s++){var a=i[s];if(a&&a.isA("sap.ui.layout.GridData")){return a}}}};o.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate()}};o.prototype._getAccessibleRole=function(){return null};o.prototype.getAccessibilityInfo=function(){return{children:this.getContent().filter(function(e){return e.$().is(":visible")})}}})();return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/GridData", ["sap/ui/core/LayoutData","./library","sap/base/Log"],function(e,t,n){"use strict";var a=e.extend("sap.ui.layout.GridData",{metadata:{library:"sap.ui.layout",properties:{span:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:null},spanXL:{type:"int",group:"Behavior",defaultValue:null},spanL:{type:"int",group:"Behavior",defaultValue:null},spanM:{type:"int",group:"Behavior",defaultValue:null},spanS:{type:"int",group:"Behavior",defaultValue:null},indent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:null},indentXL:{type:"int",group:"Behavior",defaultValue:null},indentL:{type:"int",group:"Behavior",defaultValue:null},indentM:{type:"int",group:"Behavior",defaultValue:null},indentS:{type:"int",group:"Behavior",defaultValue:null},visibleXL:{type:"boolean",group:"Behavior",defaultValue:true},visibleL:{type:"boolean",group:"Behavior",defaultValue:true},visibleM:{type:"boolean",group:"Behavior",defaultValue:true},visibleS:{type:"boolean",group:"Behavior",defaultValue:true},moveBackwards:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},moveForward:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},linebreak:{type:"boolean",group:"Misc",defaultValue:false},linebreakXL:{type:"boolean",group:"Misc",defaultValue:false},linebreakL:{type:"boolean",group:"Misc",defaultValue:false},linebreakM:{type:"boolean",group:"Misc",defaultValue:false},linebreakS:{type:"boolean",group:"Misc",defaultValue:false},spanLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},visibleOnLarge:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnMedium:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnSmall:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true}}}});(function(){a.prototype._setStylesInternal=function(e){if(e&&e.length>0){this._sStylesInternal=e}else{this._sStylesInternal=undefined}};a.prototype._getEffectiveSpanXLarge=function(){var e=this.getSpanXL();if(e&&e>0&&e<13){return e}var t=/XL([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,2)==="XL"){return parseInt(a.substr(2))}}}return undefined};a.prototype._getEffectiveSpanLarge=function(){var e=this.getSpanL();if(e&&e>0&&e<13){return e}var t=/\bL([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="L"){return parseInt(a.substr(1))}}}return undefined};a.prototype._getEffectiveSpanMedium=function(){var e=this.getSpanM();if(e&&e>0&&e<13){return e}var t=/M([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="M"){return parseInt(a.substr(1))}}}return undefined};a.prototype._getEffectiveSpanSmall=function(){var e=this.getSpanS();if(e&&e>0&&e<13){return e}var t=/S([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="S"){return parseInt(a.substr(1))}}}return undefined};a.prototype.init=function(){this._bLinebreakXLChanged=false};a.prototype.setLinebreakXL=function(e){this.setProperty("linebreakXL",e);this._bLinebreakXLChanged=true;return this};a.prototype._getLinebreakXLChanged=function(){return this._bLinebreakXLChanged};a.prototype.setSpanLarge=function(e){this.setSpanL(e);n.warning("Deprecated property spanLarge is used, please use spanL instead.");return this};a.prototype.setSpanMedium=function(e){n.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.setSpanM(e)};a.prototype.setSpanSmall=function(e){n.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.setSpanS(e)};a.prototype.setIndentLarge=function(e){n.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.setIndentL(e)};a.prototype.setIndentMedium=function(e){n.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.setIndentM(e)};a.prototype.setIndentSmall=function(e){n.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.setIndentS(e)};a.prototype.setVisibleOnLarge=function(e){n.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.setVisibleL(e)};a.prototype.setVisibleOnMedium=function(e){n.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.setVisibleM(e)};a.prototype.setVisibleOnSmall=function(e){n.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.setVisibleS(e)};a.prototype.getSpanLarge=function(){n.warning("Deprecated property spanLarge is used, please use spanL instead.");return this.getSpanL()};a.prototype.getSpanMedium=function(){n.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.getSpanM()};a.prototype.getSpanSmall=function(){n.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.getSpanS()};a.prototype.getIndentLarge=function(){n.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.getIndentL()};a.prototype.getIndentMedium=function(){n.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.getIndentM()};a.prototype.getIndentSmall=function(){n.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.getIndentS()};a.prototype.getVisibleOnLarge=function(){n.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.getVisibleL()};a.prototype.getVisibleOnMedium=function(){n.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.getVisibleM()};a.prototype.getVisibleOnSmall=function(){n.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.getVisibleS()}})();return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/GridRenderer", ["sap/ui/Device","sap/ui/layout/library"],function(e,s){"use strict";var a=s.GridPosition;var i={apiVersion:2};i.render=function(s,i){var r=/^([X][L](?:[0-9]|1[0-1]))? ?([L](?:[0-9]|1[0-1]))? ?([M](?:[0-9]|1[0-1]))? ?([S](?:[0-9]|1[0-1]))?$/i;var t=/^([X][L](?:[1-9]|1[0-2]))? ?([L](?:[1-9]|1[0-2]))? ?([M](?:[1-9]|1[0-2]))? ?([S](?:[1-9]|1[0-2]))?$/i;s.openStart("div",i);s.class("sapUiRespGrid");var p=i._getCurrentMediaContainerRange(e.media.RANGESETS.SAP_STANDARD_EXTENDED).name;s.class("sapUiRespGridMedia-Std-"+p);var n=i.getHSpacing();if(n===.5){n="05"}else if(n!==0&&n!==1&&n!==2){n=1}s.class("sapUiRespGridHSpace"+n);var l=i.getVSpacing();if(l===.5){l="05"}else if(l!==0&&l!==1&&l!==2){l=1}s.class("sapUiRespGridVSpace"+l);var d=i.getPosition();if(d){d=d.toUpperCase();if(d===a.Center.toUpperCase()){s.class("sapUiRespGridPosCenter")}else if(d===a.Right.toUpperCase()){s.class("sapUiRespGridPosRight")}}var f=i.getWidth();if(f!=="100%"&&f!=="auto"&&f!=="inherit"){if(n===0){s.style("width",f)}else{s.style("width","-webkit-calc("+f+" - "+n+"rem)");s.style("width","calc("+f+" - "+n+"rem)")}}var v=i._getAccessibleRole();var c;if(v){c={role:v}}s.accessibilityState(i,c);s.openEnd();var g=i.getContent();var o=i.getDefaultSpan();var L=["","XL3","L3","M6","S12"];var S=["","XL0","L0","M0","S0"];var U=t.exec(o);var u=i._getSpanXLChanged();var R=i._getIndentXLChanged();var G=i.getDefaultIndent();var b=r.exec(G);for(var X=0;X<g.length;X++){s.openStart("div",i.getId()+"-wrapperfor-"+g[X].getId());var h=i._getLayoutDataForControl(g[X]);var C=false;if(!g[X].getVisible()){s.class("sapUiRespGridSpanInvisible")}if(h){var I=false;if(h.getLinebreak()===true){s.class("sapUiRespGridBreak")}else{if(h.getLinebreakXL()===true){I=true;s.class("sapUiRespGridBreakXL")}if(h.getLinebreakL()===true){if(!I&&!h._getLinebreakXLChanged()){s.class("sapUiRespGridBreakXL")}s.class("sapUiRespGridBreakL")}if(h.getLinebreakM()===true){s.class("sapUiRespGridBreakM")}if(h.getLinebreakS()===true){s.class("sapUiRespGridBreakS")}}var M;var k;var y=h.getSpan();if(!y){M=U}else{M=t.exec(y);if(/XL/gi.test(y)){C=true}}if(M){for(var _=1;_<M.length;_++){var w=M[_];if(!w){w=U[_];if(!w){w=L[_]}}if(w.substr(0,1)==="L"){k=w.substr(1,2)}var B=h.getSpanXL();var D=h.getSpanL();var V=h.getSpanM();var x=h.getSpanS();w=w.toUpperCase();if(w.substr(0,2)==="XL"&&B>0&&B<13){s.class("sapUiRespGridSpanXL"+B);C=true}else if(w.substr(0,1)==="L"&&D>0&&D<13){s.class("sapUiRespGridSpanL"+D);k=D}else if(w.substr(0,1)==="M"&&V>0&&V<13){s.class("sapUiRespGridSpanM"+V)}else if(w.substr(0,1)==="S"&&x>0&&x<13){s.class("sapUiRespGridSpanS"+x)}else{if(w.substr(0,2)!=="XL"||u||C){s.class("sapUiRespGridSpan"+w)}}}if(!u&&!C){s.class("sapUiRespGridSpanXL"+k)}}var E;var H;var A=h.getIndent();if(!A||A.length==0){E=b}else{E=r.exec(A);if(/XL/gi.test(A)){R=true}}if(!E){E=b;if(!E){E=undefined}}var P=h.getIndentXL();var m=h.getIndentL();var F=h.getIndentM();var N=h.getIndentS();if(E){for(var _=1;_<E.length;_++){var T=E[_];if(!T){if(b&&b[_]){T=b[_]}else{T=S[_]}}if(T){T=T.toUpperCase();if(T.substr(0,1)==="L"){H=T.substr(1,2)}if(T.substr(0,2)==="XL"&&P>0&&P<12){s.class("sapUiRespGridIndentXL"+P);R=true}else if(T.substr(0,1)==="L"&&m>0&&m<12){s.class("sapUiRespGridIndentL"+m);H=m}else if(T.substr(0,1)==="M"&&F>0&&F<12){s.class("sapUiRespGridIndentM"+F)}else if(T.substr(0,1)==="S"&&N>0&&N<12){s.class("sapUiRespGridIndentS"+N)}else{if(!/^(XL0)? ?(L0)? ?(M0)? ?(S0)?$/.exec(T)){s.class("sapUiRespGridIndent"+T)}}}}if(!R){if(H&&H>0){s.class("sapUiRespGridIndentXL"+H)}}}if(!h.getVisibleXL()){s.class("sapUiRespGridHiddenXL")}if(!h.getVisibleL()){s.class("sapUiRespGridHiddenL")}if(!h.getVisibleM()){s.class("sapUiRespGridHiddenM")}if(!h.getVisibleS()){s.class("sapUiRespGridHiddenS")}var $=h.getMoveBackwards();if($&&$.length>0){var W=r.exec($);if(W){for(var _=1;_<W.length;_++){var j=W[_];if(j){s.class("sapUiRespGridBwd"+j.toUpperCase())}}}}var q=h.getMoveForward();if(q&&q.length>0){var z=r.exec(q);if(z){for(var _=1;_<z.length;_++){var J=z[_];if(J){s.class("sapUiRespGridFwd"+J.toUpperCase())}}}}if(typeof h._sStylesInternal==="string"){var K=h._sStylesInternal.split(" ");for(var O=0;O<K.length;O++){s.class(K[O])}}}if(!h){var w="";if(U){for(var _=1;_<U.length;_++){w=U[_];if(!w){if(_===1&&U[_+1]){w="X"+U[_+1]}else{w=L[_]}}s.class("sapUiRespGridSpan"+w.toUpperCase())}}else{for(var _=1;_<L.length;_++){w=L[_];s.class("sapUiRespGridSpan"+w.toUpperCase())}}var T="";if(b){for(var _=1;_<b.length;_++){T=b[_];if(!T){if(_===1&&b[_+1]){T="X"+b[_+1]}else{T=S[_]}}if(T.substr(0,1)!=="X"&&T.substr(1,1)!=="0"||T.substr(0,1)=="X"&&T.substr(2,1)!=="0"){s.class("sapUiRespGridIndent"+T.toUpperCase())}}}}s.openEnd();s.renderControl(g[X]);s.close("div")}s.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/HorizontalLayout", ["sap/ui/core/Control","./library","./HorizontalLayoutRenderer"],function(e,t,a){"use strict";var o=e.extend("sap.ui.layout.HorizontalLayout",{metadata:{library:"sap.ui.layout",properties:{allowWrapping:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},designtime:"sap/ui/layout/designtime/HorizontalLayout.designtime",dnd:{draggable:false,droppable:true}},renderer:a});o.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/HorizontalLayoutRenderer", [],function(){"use strict";var r={apiVersion:2};r.render=function(r,a){var e=r;var n=!a.getAllowWrapping();e.openStart("div",a);e.class("sapUiHLayout");if(n){e.class("sapUiHLayoutNoWrap")}e.openEnd();var i=a.getContent();for(var t=0;t<i.length;t++){if(n){e.openStart("div");e.class("sapUiHLayoutChildWrapper");e.openEnd()}e.renderControl(i[t]);if(n){e.close("div")}}e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayout", ["sap/ui/core/Control","sap/ui/core/EnabledPropagator","./library","./VerticalLayoutRenderer"],function(e,t,a,r){"use strict";var i=e.extend("sap.ui.layout.VerticalLayout",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},dnd:{draggable:false,droppable:true},designtime:"sap/ui/layout/designtime/VerticalLayout.designtime"},renderer:r});i.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};t.call(i.prototype);return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayoutRenderer", [],function(){"use strict";var t={apiVersion:2};t.render=function(t,e){var i=t;i.openStart("div",e);i.class("sapUiVlt");i.class("sapuiVlt");if(e.getWidth()&&e.getWidth()!=""){i.style("width",e.getWidth())}i.openEnd();var n=e.getContent();for(var s=0;s<n.length;s++){i.openStart("div");i.class("sapUiVltCell");i.class("sapuiVltCell");i.openEnd();i.renderControl(n[s]);i.close("div")}i.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/CSSGrid", ["sap/ui/core/Control","sap/ui/layout/cssgrid/GridLayoutBase","sap/ui/layout/cssgrid/GridBasicLayout","sap/ui/layout/cssgrid/GridLayoutDelegate","./CSSGridRenderer","sap/ui/base/ManagedObjectObserver","sap/ui/layout/library"],function(e,t,i,a,r,o){"use strict";var s=e.extend("sap.ui.layout.cssgrid.CSSGrid",{metadata:{library:"sap.ui.layout",defaultAggregation:"items",interfaces:["sap.ui.layout.cssgrid.IGridConfigurable"],properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},gridTemplateColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridTemplateRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridRowGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridColumnGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridGap:{type:"sap.ui.core.CSSGapShortHand",defaultValue:""},gridAutoRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoFlow:{type:"sap.ui.layout.cssgrid.CSSGridAutoFlow",defaultValue:"Row"}},aggregations:{customLayout:{type:"sap.ui.layout.cssgrid.GridLayoutBase",multiple:false},items:{type:"sap.ui.core.Control",multiple:true,singularName:"item",dnd:true}},dnd:{draggable:false,droppable:true}},renderer:r});s.prototype.getGridDomRefs=function(){return[this.getDomRef()]};s.prototype.getGridLayoutConfiguration=function(){if(this.getCustomLayout()){return this.getCustomLayout()}else{return this._getDefaultGridLayout()}};s.prototype._getDefaultGridLayout=function(){var e=new i({gridTemplateColumns:this.getGridTemplateColumns(),gridTemplateRows:this.getGridTemplateRows(),gridRowGap:this.getGridRowGap(),gridColumnGap:this.getGridColumnGap(),gridGap:this.getGridGap(),gridAutoRows:this.getGridAutoRows(),gridAutoColumns:this.getGridAutoColumns(),gridAutoFlow:this.getGridAutoFlow()});return e};s.prototype.init=function(){this._oItemDelegate={onAfterRendering:this._onAfterItemRendering};this._oGridObserver=new o(this._onGridChange.bind(this));this._oGridObserver.observe(this,{aggregations:["items"]});this._addGridLayoutDelegate()};s.prototype.exit=function(){this._removeGridLayoutDelegate();if(this._oGridObserver){this._oGridObserver.disconnect();this._oGridObserver=null}};s.prototype._addGridLayoutDelegate=function(){if(!this.oGridLayoutDelegate){this.oGridLayoutDelegate=new a;this.addDelegate(this.oGridLayoutDelegate,false,this,false)}};s.prototype._removeGridLayoutDelegate=function(){if(this.oGridLayoutDelegate){this.removeDelegate(this.oGridLayoutDelegate);this.oGridLayoutDelegate.destroy();this.oGridLayoutDelegate=null}};s.prototype._onGridChange=function(e){var t;if(e.name!=="items"||!e.child){return}if(e.mutation==="insert"){t=!e.child.isA("sap.ui.core.HTML");e.child.addDelegate(this._oItemDelegate,t,e.child)}else if(e.mutation==="remove"){e.child.removeEventDelegate(this._oItemDelegate,e.child)}};s.prototype._onAfterItemRendering=function(){t.setItemStyles(this)};s.prototype.onLayoutDataChange=function(e){t.setItemStyles(e.srcControl)};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/CSSGridRenderer", [],function(){"use strict";var t={apiVersion:2};t.render=function(t,e){t.openStart("div",e).class("sapUiLayoutCSSGrid");if(e.getWidth()){t.style("width",e.getWidth())}e.getGridLayoutConfiguration().addGridStyles(t);t.openEnd();e.getItems().forEach(t.renderControl,t);t.close("div")};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridBasicLayout", ["sap/ui/layout/cssgrid/GridLayoutBase","sap/ui/layout/cssgrid/GridSettings","sap/ui/layout/library"],function(t,i){"use strict";var a=t.extend("sap.ui.layout.cssgrid.GridBasicLayout",{metadata:{library:"sap.ui.layout",properties:{gridTemplateColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridTemplateRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridRowGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridColumnGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridGap:{type:"sap.ui.core.CSSGapShortHand",defaultValue:""},gridAutoRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoFlow:{type:"sap.ui.layout.cssgrid.CSSGridAutoFlow",defaultValue:"Row"}}}});a.prototype.getActiveGridSettings=function(){return new i({gridTemplateColumns:this.getGridTemplateColumns(),gridTemplateRows:this.getGridTemplateRows(),gridRowGap:this.getGridRowGap(),gridColumnGap:this.getGridColumnGap(),gridGap:this.getGridGap(),gridAutoRows:this.getGridAutoRows(),gridAutoColumns:this.getGridAutoColumns(),gridAutoFlow:this.getGridAutoFlow()})};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridItemLayoutData", ["sap/ui/core/LayoutData","sap/ui/layout/library"],function(t){"use strict";var e={gridColumnStart:"grid-column-start",gridColumnEnd:"grid-column-end",gridRowStart:"grid-row-start",gridRowEnd:"grid-row-end",gridColumn:"grid-column",gridRow:"grid-row"};var r=t.extend("sap.ui.layout.cssgrid.GridItemLayoutData",{metadata:{library:"sap.ui.layout",interfaces:["sap.ui.layout.cssgrid.IGridItemLayoutData"],properties:{gridColumnStart:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridColumnEnd:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridRowStart:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridRowEnd:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridColumn:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridRow:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""}}}});r.prototype.setItemStyles=function(t){if(!t){return}var i=this.getMetadata().getProperties();for(var a in e){if(i[a]){var u=this.getProperty(a);if(typeof u!=="undefined"){r._setItemStyle(t,e[a],u)}}}};r.removeItemStyles=function(t){for(var r in e){t.style.removeProperty(e[r])}};r._setItemStyle=function(t,e,r){if(r!=="0"&&!r){t.style.removeProperty(e)}else{t.style.setProperty(e,r)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridLayoutBase", ["sap/ui/base/ManagedObject","./GridItemLayoutData"],function(t,e){"use strict";var r={gridTemplateColumns:"grid-template-columns",gridTemplateRows:"grid-template-rows",gridGap:"grid-gap",gridColumnGap:"grid-column-gap",gridRowGap:"grid-row-gap",gridAutoRows:"grid-auto-rows",gridAutoColumns:"grid-auto-columns",gridAutoFlow:"grid-auto-flow"};var i={Row:"row",Column:"column",RowDense:"row dense",ColumnDense:"column dense"};var o=t.extend("sap.ui.layout.cssgrid.GridLayoutBase",{metadata:{library:"sap.ui.layout",abstract:true}});o.setItemStyles=function(t){if(!t){return}var r=o._getLayoutDataForControl(t),i=t.getDomRef();if(!i){return}if(!r){e.removeItemStyles(i)}else{r.setItemStyles(i)}};o._getLayoutDataForControl=function(t){var e,r,i;if(!t){return undefined}e=t.getLayoutData();if(!e){return undefined}if(e.isA("sap.ui.layout.cssgrid.IGridItemLayoutData")){return e}if(e.isA("sap.ui.core.VariantLayoutData")){r=e.getMultipleLayoutData();for(var o=0;o<r.length;o++){i=r[o];if(i.isA("sap.ui.layout.cssgrid.IGridItemLayoutData")){return i}}}};o.prototype.applyGridLayout=function(t){if(!t){return}t.forEach(this._applySingleGridLayout,this)};o.prototype._applySingleGridLayout=function(t){if(!t){return}t=t instanceof window.HTMLElement?t:t.getDomRef();var e=this.getActiveGridSettings();if(t.style.getPropertyValue("display")!=="grid"){t.style.setProperty("display","grid")}if(e){this._setGridLayout(t,e)}else{this._removeGridLayout(t)}};o.prototype._setGridLayout=function(t,e){var o=e.getMetadata().getProperties(),a,n;for(a in r){if(o[a]){n=e.getProperty(a);if(a==="gridAutoFlow"){n=i[n]}if(n===""&&(a==="gridRowGap"||a==="gridColumnGap")){continue}t.style.setProperty(r[a],n)}}};o.prototype._removeGridLayout=function(t){for(var e in r){t.style.removeProperty(r[e])}};o.prototype.getActiveGridSettings=function(){throw new Error("GridLayoutBase getActiveGridSettings not implemented in child class")};o.prototype.onGridAfterRendering=function(t){};o.prototype.onGridResize=function(t){};o.prototype.isResponsive=function(){return false};o.prototype.addGridStyles=function(t){var e=this.getActiveGridSettings();t.style("display","grid");if(!e||this.isResponsive()){return}var o=e.getMetadata().getProperties();for(var a in r){if(o[a]){var n=e.getProperty(a);if(a==="gridAutoFlow"){n=i[n]}t.style(r[a],n)}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridLayoutDelegate", ["sap/ui/base/Object","sap/ui/core/ResizeHandler"],function(e,i){"use strict";var r=e.extend("sap.ui.layout.cssgrid.GridLayoutDelegate");r.prototype.onBeforeRendering=function(){r.deregisterResizeListener(this)};r.prototype.onAfterRendering=function(){var e=this.getGridLayoutConfiguration();if(!e){return}e.onGridAfterRendering(this);if(e.isResponsive()){e.applyGridLayout(this.getGridDomRefs());r.registerResizeListener(this)}};r.prototype.exit=function(){r.deregisterResizeListener(this)};r.registerResizeListener=function(e){e.__grid__sResizeListenerId=i.register(e,r.onResize.bind(e))};r.deregisterResizeListener=function(e){if(e.__grid__sResizeListenerId){i.deregister(e.__grid__sResizeListenerId);e.__grid__sResizeListenerId=null}};r.onResize=function(e){var i=this.getGridLayoutConfiguration();if(!i){return}i.onGridResize(e);i.applyGridLayout(this.getGridDomRefs())};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridSettings", ["sap/ui/base/ManagedObject","sap/ui/layout/library"],function(a){"use strict";var u=a.extend("sap.ui.layout.cssgrid.GridSettings",{metadata:{library:"sap.ui.layout",properties:{gridTemplateColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridTemplateRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridRowGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridColumnGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridGap:{type:"sap.ui.core.CSSGapShortHand",defaultValue:""},gridAutoRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoFlow:{type:"sap.ui.layout.cssgrid.CSSGridAutoFlow",defaultValue:"Row"}}}});return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/Form", ["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","./FormRenderer","./FormHelper"],function(e,t,i,o){"use strict";var r=e.extend("sap.ui.layout.form.Form",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"formContainers",aggregations:{formContainers:{type:"sap.ui.layout.form.FormContainer",multiple:true,singularName:"formContainer"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},layout:{type:"sap.ui.layout.form.FormLayout",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/Form.designtime"},renderer:i});r.prototype.init=function(){this._oInitPromise=o.init();this._oObserver=new t(a.bind(this));this._oObserver.observe(this,{properties:["editable"],aggregations:["formContainers"]})};r.prototype.exit=function(){this._oObserver.disconnect();this._oObserver=undefined};r.prototype.toggleContainerExpanded=function(e){var t=this.getLayout();if(t){t.toggleContainerExpanded(e)}};r.prototype.contentOnAfterRendering=function(e,t){var i=this.getLayout();if(i&&i.contentOnAfterRendering){i.contentOnAfterRendering(e,t)}};r.prototype.onLayoutDataChange=function(e){var t=this.getLayout();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype.onBeforeFastNavigationFocus=function(e){var t=this.getLayout();if(t&&t.onBeforeFastNavigationFocus){t.onBeforeFastNavigationFocus(e)}};r.prototype.setEditable=function(e){const t=this.getLayout();const i=!t?.invalidateEditableChange();this.setProperty("editable",e,i);return this};function n(e,t){if(e!=t&&this.getDomRef()){if(e){this.$().addClass("sapUiFormEdit").addClass("sapUiFormEdit-CTX");this.$().removeAttr("aria-readonly")}else{this.$().removeClass("sapUiFormEdit").removeClass("sapUiFormEdit-CTX");this.$().attr("aria-readonly","true")}}var i=this.getFormContainers();for(var o=0;o<i.length;o++){var r=i[o];r._setEditable(e)}}r.prototype.setToolbar=function(e){const t=this.getToolbar();this.setAggregation("toolbar",e);if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;e=o.setToolbar(e,t)}.bind(this))}else{e=o.setToolbar(e,t)}return this};r.prototype.invalidate=function(t){if(!this._bNoInvalidate){e.prototype.invalidate.apply(this,arguments)}};r.prototype.getContainerRenderedDomRef=function(e){var t=this.getLayout();if(t&&t.getContainerRenderedDomRef){return t.getContainerRenderedDomRef(e)}else{return null}};r.prototype.getElementRenderedDomRef=function(e){var t=this.getLayout();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype.getVisibleFormContainers=function(){var e=this.getFormContainers();var t=[];for(var i=0;i<e.length;i++){var o=e[i];if(o.isVisible()){t.push(o)}}return t};r.prototype._suggestTitleId=function(e){this._sSuggestedTitleId=e;if(this.getDomRef()){this.invalidate()}return this};function a(e){if(e.name==="editable"){n.call(this,e.current,e.old)}else if(e.name==="formContainers"){s.call(this,e.mutation,e.child)}}function s(e,t){if(e==="insert"){t._setEditable(this.getEditable())}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormContainer", ["sap/ui/core/Element","sap/ui/base/ManagedObjectObserver","sap/ui/core/Lib","sap/ui/core/theming/Parameters","./FormHelper","sap/base/Log"],function(e,t,i,n,o,r){"use strict";var a=e.extend("sap.ui.layout.form.FormContainer",{metadata:{library:"sap.ui.layout",properties:{expanded:{type:"boolean",group:"Misc",defaultValue:true},expandable:{type:"boolean",group:"Misc",defaultValue:false},visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"formElements",aggregations:{formElements:{type:"sap.ui.layout.form.FormElement",multiple:true,singularName:"formElement"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},_expandButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/FormContainer.designtime"}});a.prototype.init=function(){this._oInitPromise=o.init();this._rb=i.getResourceBundleFor("sap.ui.layout");this._oObserver=new t(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["expanded","expandable"],aggregations:["formElements"]})};a.prototype.exit=function(){if(this._oExpandButton){delete this._oExpandButton}this._rb=undefined;this._oObserver.disconnect();this._oObserver=undefined};function s(e){if(e){if(!this._oExpandButton){if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;l.call(this,o.createButton(this.getId()+"--Exp",h,this))}.bind(this))}else{l.call(this,o.createButton(this.getId()+"--Exp",h,this))}}else{d.call(this)}}}function l(e){if(!this._bIsBeingDestroyed){this._oExpandButton=e;this.setAggregation("_expandButton",this._oExpandButton);d.call(this)}}function u(e){d.call(this);var t=this.getParent();if(t&&t.toggleContainerExpanded){t.toggleContainerExpanded(this)}}a.prototype.setToolbar=function(e){const t=this.getToolbar();this.setAggregation("toolbar",e);if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;e=o.setToolbar(e,t)}.bind(this))}else{e=o.setToolbar(e,t)}return this};a.prototype.contentOnAfterRendering=function(e,t){var i=this.getParent();if(i&&i.contentOnAfterRendering){i.contentOnAfterRendering(e,t)}};a.prototype.onLayoutDataChange=function(e){var t=this.getParent();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};a.prototype._checkProperties=function(){var e=0;if(this.getExpandable()&&(!this.getTitle()||this.getToolbar())){r.warning("Expander only displayed if title is set",this.getId(),"FormContainer");e=1}return e};a.prototype.getRenderedDomRef=function(){var e=this;var t=this.getParent();if(t&&t.getContainerRenderedDomRef){return t.getContainerRenderedDomRef(e)}else{return null}};a.prototype.getElementRenderedDomRef=function(e){var t=this.getParent();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};a.prototype.getVisibleFormElements=function(){var e=this.getFormElements();var t=[];for(var i=0;i<e.length;i++){var n=e[i];if(n.isVisible()){t.push(n)}}return t};a.prototype._setEditable=function(e){var t=this.getProperty("_editable");this.setProperty("_editable",e,true);if(e!==t){var i=this.getFormElements();for(var n=0;n<i.length;n++){var o=i[n];o._setEditable(e)}}};a.prototype.isVisible=function(){return this.getVisible()};a.prototype.onThemeChanged=function(){d.call(this)};function p(e){return n.get({name:[e],_restrictedParseUrls:true})}function d(){if(!this._oExpandButton){return}var e,t,i,n;if(this.getExpanded()){e=p("_sap_ui_layout_Form_FormContainerColImageURL");t=p("_sap_ui_layout_Form_FormContainerColImageDownURL");i="-";n=this._rb.getText("FORM_COLLAPSE")}else{e=p("_sap_ui_layout_Form_FormContainerExpImageURL");t=p("_sap_ui_layout_Form_FormContainerExpImageDownURL");i="+";n=this._rb.getText("FORM_EXPAND")}if(e){i=""}o.setButtonContent(this._oExpandButton,i,n,e,t)}function h(e){this.setExpanded(!this.getExpanded())}a.prototype._observeChanges=function(e){if(e.name=="formElements"){g.call(this,e.mutation,e.child)}else if(e.name=="expanded"){u.call(this,e.current)}else if(e.name=="expandable"){s.call(this,e.current)}};function g(e,t){if(e==="insert"){var i=this.getProperty("_editable");t._setEditable(i)}}return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormElement", ["sap/ui/core/Element","sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","./FormHelper","sap/base/Log"],function(e,t,i,s,a){"use strict";var r=e.extend("sap.ui.layout.form.FormElement",{metadata:{library:"sap.ui.layout",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"fields",aggregations:{label:{type:"sap.ui.core.Label",altTypes:["string"],multiple:false},_label:{type:"sap.ui.core.Label",multiple:false,visibility:"hidden"},fields:{type:"sap.ui.core.Control",multiple:true,singularName:"field"}},designtime:"sap/ui/layout/designtime/form/FormElement.designtime"}});r.prototype.init=function(){this._oInitPromise=s.init();this._oFieldDelegate={oElement:this,onAfterRendering:f};this._oObserver=new i(this._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["fields"]})};r.prototype.exit=function(){if(this._oLabel){delete this._oLabel}this._oFieldDelegate=undefined;this._oObserver.disconnect();this._oObserver=undefined};r.prototype.setLabel=function(e){if(!this._oLabel){var t=this.getLabel();if(t){if(t.setAlternativeLabelFor){t.setAlternativeLabelFor(null)}if(t.isRequired){t.isRequired=t._sapuiIsRequired;t._sapuiIsRequired=undefined;t.disableRequiredChangeCheck(false)}if(t.isDisplayOnly){t.isDisplayOnly=t._sapuiIsDisplayOnly;t._sapuiIsDisplayOnly=undefined}if(t.isWrapping){t.isWrapping=t._sapuiIsWrapping;t._sapuiIsWrapping=undefined}}}this.setAggregation("label",e);var i=e;if(typeof i==="string"){if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;var e=this.getLabel();if(typeof e==="string"){this._setInternalLabel(e)}}.bind(this))}else{this._setInternalLabel(i)}}else{if(this._oLabel){this._oLabel.destroy();delete this._oLabel}if(i&&i.isRequired){i._sapuiIsRequired=i.isRequired;i.isRequired=o;i.disableRequiredChangeCheck(true)}if(i&&i.isDisplayOnly){i._sapuiIsDisplayOnly=i.isDisplayOnly;i.isDisplayOnly=u}if(i&&i.isWrapping){i._sapuiIsWrapping=i.isWrapping;i.isWrapping=p}h.call(this)}return this};r.prototype._setInternalLabel=function(e){if(!this._oLabel){this._oLabel=s.createLabel(e,this.getId()+"-label");this.setAggregation("_label",this._oLabel);this._oLabel.disableRequiredChangeCheck(true);if(this._oLabel.isRequired){this._oLabel.isRequired=o}if(this._oLabel.isDisplayOnly){this._oLabel.isDisplayOnly=u}if(this._oLabel.setWrapping){this._oLabel.setWrapping(true)}}else{this._oLabel.setText(e)}h.call(this)};r.prototype.destroyLabel=function(){this.destroyAggregation("label");if(this._oLabel){this._oLabel.destroy();delete this._oLabel}return this};r.prototype.getLabelControl=function(){if(this._oLabel){return this._oLabel}else{var e=this.getLabel();if(typeof e==="string"){e=null}return e}};r.prototype.updateFields=function(){var e=this.getFields();var t;var i=0;for(i=0;i<e.length;i++){t=e[i];g.call(this,t)}this.updateAggregation("fields");e=this.getFields();for(i=0;i<e.length;i++){t=e[i];d.call(this,t)}h.call(this);return this};r.prototype.enhanceAccessibilityState=function(e,t){var i=this.getLabelControl();if(i&&i!=e&&e.getMetadata().getAllAssociations().ariaLabelledBy){var s=t["labelledby"];if(!s){s=i.getId()}else{var a=s.split(" ");if(a.indexOf(i.getId())<0){a.splice(0,0,i.getId());s=a.join(" ")}}t["labelledby"]=s}};r.prototype.onLayoutDataChange=function(e){var t=this.getParent();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype.getRenderedDomRef=function(){var e=this;var t=this.getParent();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype._setEditable=function(e){var t=this._getEditable();this.setProperty("_editable",e,true);if(e!==t){this.invalidateLabel()}};r.prototype._getEditable=function(){return this.getProperty("_editable")};r.prototype.invalidateLabel=function(){var e=this.getLabelControl();if(e&&e.getDomRef()){e.invalidate()}};r.prototype.isVisible=function(){return this.getVisible()};r.prototype.getFieldsForRendering=function(){return this.getFields()};r.prototype._observeChanges=function(e){if(e.object==this){if(e.name=="fields"){l.call(this,e.child,e.mutation)}}else{n.call(this,e)}};function l(e,t){if(t=="insert"){if(!e.isA("sap.ui.core.IFormContent")){a.warning(e+" is not valid Form content",this)}d.call(this,e)}else{g.call(this,e)}h.call(this)}function n(e){if(e.name=="required"||e.name=="editable"){this.invalidateLabel()}}function o(){if(this.getRequired&&this.getRequired()){return true}var e=this.getParent();var t=e.getFields();for(var i=0;i<t.length;i++){var s=t[i];if(s.getRequired&&s.getRequired()===true&&(!s.getEditable||s.getEditable())){return true}}return false}function u(){if(this.getDisplayOnly){if(!this.isPropertyInitial("displayOnly")){return this.getDisplayOnly()}var e=this.getParent();return!e._getEditable()}return false}function p(){if(this.getWrapping&&!this.isPropertyInitial("wrapping")){return this.getWrapping()}return true}function h(){var e=this.getFields();var i=e.length>0?e[0]:null;var s=this._oLabel;if(s){s.setLabelFor(i)}else{s=this.getLabel();if(s instanceof t){s.setAlternativeLabelFor(i)}}}function d(e){e.addDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){if(e.getMetadata().getProperty("required")){this._oObserver.observe(e,{properties:["required"]})}if(e.getMetadata().getProperty("editable")){this._oObserver.observe(e,{properties:["editable"]})}}}function g(e){e.removeDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){this._oObserver.unobserve(e)}}function f(e){var t=this.oElement.getParent();if(t&&t.contentOnAfterRendering){t.contentOnAfterRendering(this.oElement,e.srcControl)}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormHelper", ["sap/ui/core/Lib","sap/ui/core/library","sap/base/util/merge"],function(t,e,n){"use strict";const i={Label:undefined,Button:undefined,Text:undefined,Library:undefined,init:function(){this.Label=sap.ui.require("sap/m/Label");this.Text=sap.ui.require("sap/m/Text");this.Button=sap.ui.require("sap/m/Button");this.Library=sap.ui.require("sap/m/library");if(!this.Label||!this.Text||!this.Button||!this.Library){if(!this.oInitPromise){this.oInitPromise=new Promise(function(t,e){sap.ui.require(["sap/m/Label","sap/m/Text","sap/m/Button","sap/m/library"],function(e,n,i,r){this.Label=e;this.Text=n;this.Button=i;this.Library=r;t(true)}.bind(this))}.bind(this))}return this.oInitPromise}else if(this.oInitPromise){delete this.oInitPromise}return null},createLabel:function(t,e){return new this.Label(e,{text:t})},createButton:function(t,e,n){const i=new this.Button(t,{type:this.Library.ButtonType.Transparent});i.attachEvent("press",e,n);return i},setButtonContent:function(t,e,n,i,r){t.setText(e);t.setTooltip(n);t.setIcon(i);t.setActiveIcon(r)},addFormClass:function(){return"sapUiFormM"},setToolbar:function(t,e){if(e&&e.setDesign){e.setDesign(e.getDesign(),true)}if(t&&t.setDesign){const e=t.getMetadata().getManagedProperty("design");if(e&&e.type==="sap.m.ToolbarDesign"){t.setDesign(this.Library.ToolbarDesign.Transparent,true)}}return t},getToolbarTitle:function(t){if(t){const e=t.getContent?t.getContent():[];for(let t=0;t<e.length;t++){const n=e[t];if(n.isA("sap.m.Title")){return n.getId()}}return t.getId()}},createDelimiter:function(t,n){return new this.Text(n,{text:t,textAlign:e.TextAlign.Center})},createSemanticDisplayControl:function(t,e){return new this.Text(e,{text:t})},updateDelimiter:function(t,e){t.setText(e)},updateSemanticDisplayControl:function(t,e){t.setText(e)},isArrowKeySupported:function(){return false}};const r={init:function(){return null},createLabel:function(t,e){return new sap.ui.commons.Label(e,{text:t})},createButton:function(t,e,n){const i=new sap.ui.commons.Button(t,{lite:true});i.attachEvent("press",e,n);return i},setButtonContent:function(t,e,n,i,r){t.setText(e);t.setTooltip(n);t.setIcon(i);t.setIconHovered(r)},getToolbarTitle:function(t){return t&&t.getId()}};const o={init:function(){if(t.isLoaded("sap.m")){n(o,i);return this.init()}if(t.isLoaded("sap.ui.commons")&&!t.isLoaded("sap.m")){n(o,r);return this.init()}return null},createLabel:function(t){throw new Error("no Label control available!")},createButton:function(t,e,n){throw new Error("no Button control available!")},setButtonContent:function(t,e,n,i,r){throw new Error("no Button control available!")},addFormClass:function(){return null},setToolbar:function(t,e){return t},getToolbarTitle:function(t){return t&&t.getId()},createDelimiter:function(t,e){throw new Error("no delimiter control available!")},createSemanticDisplayControl:function(t,e){throw new Error("no display control available!")},updateDelimiter:function(t,e){throw new Error("no delimiter control available!")},updateSemanticDisplayControl:function(t,e){throw new Error("no display control available!")},isArrowKeySupported:function(){return true}};return o},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormLayout", ["sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/core/Element","sap/ui/layout/library","./FormLayoutRenderer","./FormHelper","sap/ui/core/theming/Parameters","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/Selectors"],function(e,t,r,i,n,o,a,jQuery){"use strict";var l=i.BackgroundDesign;var s=t.extend("sap.ui.layout.form.FormLayout",{metadata:{library:"sap.ui.layout",properties:{backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:l.Translucent}}},renderer:n});s.prototype.init=function(){this._oInitPromise=o.init();this._sFormTitleSize="H4";this._sFormSubTitleSize="H5"};s.prototype.onBeforeRendering=function(e){this.loadTitleSizes()};s.prototype.contentOnAfterRendering=function(e,t){if(o.isArrowKeySupported()){jQuery(t.getFocusDomRef()).data("sap.InNavArea",true)}if(this.renderControlsForSemanticElement()&&e.isA("sap.ui.layout.form.SemanticFormElement")&&!e._getEditable()){t.$().css("max-width","100%")}else if(t.getWidth&&(!t.getWidth()||t.getWidth()=="auto")&&(!t.getFormDoNotAdjustWidth||!t.getFormDoNotAdjustWidth())){t.$().css("width","100%")}};s.prototype.toggleContainerExpanded=function(e){var t=e.getExpanded();if(this.getDomRef()){if(t){e.$("content").css("display","")}else{e.$("content").css("display","none")}}};s.prototype.getLayoutDataForElement=function(e,t){var r=e.getLayoutData();if(!r){return undefined}else if(r.isA(t)){return r}else if(r.isA("sap.ui.core.VariantLayoutData")){var i=r.getMultipleLayoutData();for(var n=0;n<i.length;n++){var o=i[n];if(o.isA(t)){return o}}}};s.prototype.onsapright=function(t){if(o.isArrowKeySupported()){var r=e.getRTL();if(!r){this.navigateForward(t)}else{this.navigateBack(t)}}};s.prototype.onsapleft=function(t){if(o.isArrowKeySupported()){var r=e.getRTL();if(!r){this.navigateBack(t)}else{this.navigateForward(t)}}};s.prototype.onsapdown=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r;var i=this.findElement(t);var n=i.element;t=i.rootControl;if(n&&n.isA("sap.ui.layout.form.FormElement")){r=this.findFieldBelow(t,n)}else if(n&&n.isA("sap.ui.layout.form.FormContainer")){r=this.findFirstFieldOfNextElement(n,0)}if(r){r.focus();e.preventDefault()}}};s.prototype.onsapup=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var a=n.element;t=n.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){i=this.findFieldAbove(t,a)}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){var l=a.getParent();r=l.indexOfFormContainer(a);i=this.findLastFieldOfLastElementInPrevContainer(l,r-1)}if(i){i.focus();e.preventDefault()}}};s.prototype.onsaphome=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var a=n.element;var l=a.getParent();var s=l.getParent();r=s.indexOfFormContainer(l);i=this.findFirstFieldOfFirstElementInNextContainer(s,r);if(i){i.focus();e.preventDefault()}}};s.prototype.onsaptop=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;var a;if(i&&i.isA("sap.ui.layout.form.FormElement")){a=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){a=i}var l=a.getParent();n=this.findFirstFieldOfForm(l);if(n){n.focus();e.preventDefault()}}};s.prototype.onsapend=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var a=n.element;var l=a.getParent();var s=l.getParent();r=s.indexOfFormContainer(l);i=this.findLastFieldOfLastElementInPrevContainer(s,r);if(i){i.focus();e.preventDefault()}}};s.prototype.onsapbottom=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;var a;if(i&&i.isA("sap.ui.layout.form.FormElement")){a=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){a=i}var l=a.getParent();var s=l.getFormContainers();var f=s.length;n=this.findLastFieldOfLastElementInPrevContainer(l,f-1);if(n){n.focus();e.preventDefault()}}};s.prototype.onsapexpand=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;if(i.isA("sap.ui.layout.form.FormContainer")){n=i}else{n=i.getParent()}if(n.getExpandable()&&t===n._oExpandButton){n.setExpanded(true)}};s.prototype.onsapcollapse=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;if(i.isA("sap.ui.layout.form.FormContainer")){n=i}else{n=i.getParent()}if(n.getExpandable()&&t===n._oExpandButton){n.setExpanded(false)}};s.prototype.onsapskipforward=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;t=r.rootControl;var n;var o;if(i&&i.isA("sap.ui.layout.form.FormElement")){o=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){o=i}var a=o.getParent();var l=a.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(a,l+1);if(n){n.focus();e.preventDefault()}};s.prototype.onsapskipback=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;t=r.rootControl;var n;var o;if(i&&i.isA("sap.ui.layout.form.FormElement")){o=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){o=i}var a=o.getParent();var l=a.getFormContainers();var s=a.indexOfFormContainer(o);while(!n&&s>0){var f=l[s-1];if(!f.getExpandable()||f.getExpanded()){n=this.findFirstFieldOfFirstElementInPrevContainer(a,s-1)}s=s-1}if(n&&n!==t.getFocusDomRef()){n.focus();e.preventDefault()}};s.prototype.onBeforeFastNavigationFocus=function(e){if(jQuery.contains(this.getDomRef(),e.source)){e.srcControl=r.closestTo(e.source);if(e.forward){this.onsapskipforward(e)}else{this.onsapskipback(e)}}else{var t=e.forward?this.findFirstFieldOfForm(this.getParent()):this.findFirstFieldOfLastContainerOfForm(this.getParent());if(t){t.focus();e.preventDefault()}}};s.prototype.findElement=function(e){var t=e.getParent();var r=e;while(t&&!t.isA("sap.ui.layout.form.FormElement")&&!t.isA("sap.ui.layout.form.FormContainer")&&!t.isA("sap.ui.layout.form.Form")){r=t;t=t.getParent()}return{rootControl:r,element:t}};s.prototype.navigateForward=function(e){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var o=n.element;t=n.rootControl;if(o&&o.isA("sap.ui.layout.form.FormElement")){if(t==o.getLabelControl()){r=-1}else{r=o.indexOfField(t)}i=this.findNextFieldOfElement(o,r+1);if(!i){var a=o.getParent();r=a.indexOfFormElement(o);i=this.findFirstFieldOfNextElement(a,r+1);if(!i){var l=a.getParent();r=l.indexOfFormContainer(a);i=this.findFirstFieldOfFirstElementInNextContainer(l,r+1)}}}else if(o&&o.isA("sap.ui.layout.form.FormContainer")){i=this.findFirstFieldOfNextElement(o,0)}if(i){i.focus();e.preventDefault()}};s.prototype.tabForward=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=-1}else{i=a.indexOfField(r)}n=this.findNextFieldOfElement(a,i+1,true);if(!n){var l=a.getParent();i=l.indexOfFormElement(a);n=this.findFirstFieldOfNextElement(l,i+1,true);if(!n){t=l.getParent();i=t.indexOfFormContainer(l);n=this.findFirstFieldOfFirstElementInNextContainer(t,i+1,true)}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){n=this.findFirstFieldOfNextElement(a,0,true);if(!n){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findFirstFieldOfFirstElementInNextContainer(t,i+1,true)}}if(n){n.focus();e.preventDefault()}};s.prototype.findNextFieldOfElement=function(e,t,r){var i=e.getFieldsForRendering();var n=i.length;var o;for(var a=t;a<n;a++){var l=i[a];var s=this._getDomRef(l);if(r==true){if((!l.getEditable||l.getEditable())&&(!l.getEnabled||l.getEnabled())&&s){o=s;break}}else{if((!l.getEnabled||l.getEnabled())&&s){o=s;break}}}return o};s.prototype.findFirstFieldOfNextElement=function(e,t,r){var i=e.getFormElements();var n=i.length;var o;var a=t;while(!o&&a<n){var l=i[a];if(r==true){o=this.findNextFieldOfElement(l,0,true)}else{o=this.findNextFieldOfElement(l,0)}a++}return o};s.prototype.findFirstFieldOfForm=function(e){var t=this.findFirstFieldOfFirstElementInNextContainer(e,0);return t};s.prototype.findFirstFieldOfLastContainerOfForm=function(e){var t;var r=e.getFormContainers();var i=r.length;while(!t&&i>0){var n=r[i-1];if(!n.getExpandable()||n.getExpanded()){t=this.findFirstFieldOfFirstElementInPrevContainer(e,i-1)}i=i-1}return t};s.prototype.findFirstFieldOfFirstElementInNextContainer=function(e,t,r){var i=e.getFormContainers();var n=i.length;var o;var a=t;while(!o&&a<n){var l=i[a];if(l.getExpandable()&&r){o=l._oExpandButton.getFocusDomRef();if(o){break}}if(!l.getExpandable()||l.getExpanded()){if(r==true){o=this.findFirstFieldOfNextElement(l,0,true)}else{o=this.findFirstFieldOfNextElement(l,0)}}a++}return o};s.prototype.findFirstFieldOfFirstElementInPrevContainer=function(e,t){var r=e.getFormContainers();var i=r.length;var n;var o=t;while(!n&&o<i&&o>=0){var a=r[o];if(!a.getExpandable()||a.getExpanded()){n=this.findFirstFieldOfNextElement(a,0)}o++}return n};s.prototype.navigateBack=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=0}else{i=a.indexOfField(r)}n=this.findPrevFieldOfElement(a,i-1);if(!n){var l=a.getParent();i=l.indexOfFormElement(a);n=this.findLastFieldOfPrevElement(l,i-1);if(!n){t=l.getParent();i=t.indexOfFormContainer(l);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1)}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1)}if(n){n.focus();e.preventDefault()}};s.prototype.tabBack=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=0}else{i=a.indexOfField(r)}n=this.findPrevFieldOfElement(a,i-1,true);if(!n){var l=a.getParent();i=l.indexOfFormElement(a);n=this.findLastFieldOfPrevElement(l,i-1,true);if(!n){t=l.getParent();i=t.indexOfFormContainer(l);if(l.getExpandable()){n=l._oExpandButton.getFocusDomRef()}if(!n){n=this.findLastFieldOfLastElementInPrevContainer(t,i-1,true)}}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1,true)}if(n){n.focus();e.preventDefault()}};s.prototype.findPrevFieldOfElement=function(e,t,r){var i=e.getFieldsForRendering();var n;for(var o=t;o>=0;o--){var a=i[o];var l=this._getDomRef(a);if(r==true){if((!a.getEditable||a.getEditable())&&(!a.getEnabled||a.getEnabled())&&l){n=l;break}}else{if((!a.getEnabled||a.getEnabled())&&l){n=l;break}}}return n};s.prototype.findLastFieldOfPrevElement=function(e,t,r){var i=e.getFormElements();var n;var o=t;while(!n&&o>=0){var a=i[o];var l=a.getFieldsForRendering().length;if(r==true){n=this.findPrevFieldOfElement(a,l-1,true)}else{n=this.findPrevFieldOfElement(a,l-1)}o--}return n};s.prototype.findLastFieldOfLastElementInPrevContainer=function(e,t,r){var i=e.getFormContainers();var n;var o=t;while(!n&&o>=0){var a=i[o];if(a.getExpandable()&&!a.getExpanded()&&r){n=a._oExpandButton.getFocusDomRef();if(n){break}}if(!a.getExpandable()||a.getExpanded()){var l=a.getFormElements().length;if(r==true){n=this.findLastFieldOfPrevElement(a,l-1,true)}else{n=this.findLastFieldOfPrevElement(a,l-1,0)}}o--}return n};s.prototype.findFieldBelow=function(e,t){var r=t.getParent();var i=r.indexOfFormElement(t);var n=this.findFirstFieldOfNextElement(r,i+1);if(!n){var o=r.getParent();i=o.indexOfFormContainer(r);n=this.findFirstFieldOfFirstElementInNextContainer(o,i+1)}return n};s.prototype.findFieldAbove=function(e,t){var r=t.getParent();var i=r.indexOfFormElement(t);var n=r.getFormElements();var o;var a=i-1;while(!o&&a>=0){var l=n[a];o=this.findPrevFieldOfElement(l,0);a--}if(!o){var s=r.getParent();i=s.indexOfFormContainer(r);o=this.findLastFieldOfLastElementInPrevContainer(s,i-1)}return o};s.prototype._getDomRef=function(e){var t=e.getFocusDomRef();if(!jQuery(t).is(":sapFocusable")){t=undefined}return t};s.prototype.getContainerRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef()}else{return null}};s.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef()}else{return null}};s.prototype.getLayoutDataForDelimiter=function(){};s.prototype.getLayoutDataForSemanticField=function(e,t,r){};s.prototype.renderControlsForSemanticElement=function(){return false};s.prototype.loadTitleSizes=function(){var e=a.get({name:["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize","sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"],callback:this.applyTitleSizes.bind(this)});if(e&&e.hasOwnProperty("sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize")){this.applyTitleSizes(e,true)}};s.prototype.applyTitleSizes=function(e,t){if(e&&(this._sFormTitleSize!==e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"]||this._sFormSubTitleSize!==e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"])){this._sFormTitleSize=e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"];this._sFormSubTitleSize=e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"];if(!t){this.invalidate()}}};s.prototype.hasLabelledContainers=function(e){const t=e.getFormContainers();let r=false;for(let e=0;e<t.length;e++){if(this.isContainerLabelled(t[e])){r=true;break}}return r};s.prototype.isContainerLabelled=function(e){return!!e.getTitle()||!!e.getToolbar()||e.getAriaLabelledBy().length>0||e.getExpandable()};s.prototype.invalidateEditableChange=function(){return false};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormLayoutRenderer", ["sap/ui/core/library","sap/ui/layout/library","sap/ui/layout/form/Form","./FormHelper","sap/ui/core/IconPool"],function(e,t,i,r,n){"use strict";var o=e.TitleLevel;var a=t.BackgroundDesign;var s={apiVersion:2};s.render=function(e,t){var r=t.getParent();if(r&&r instanceof i){this.renderForm(e,t,r)}};s.renderForm=function(e,t,i){var r=i.getToolbar();e.openStart("div",t);e.class(this.getMainClass());if(r){e.class("sapUiFormToolbar")}this.addBackgroundClass(e,t);e.openEnd();this.renderHeader(e,r,i.getTitle(),undefined,false,t._sFormTitleSize,i.getId());this.renderContainers(e,t,i);e.close("div")};s.getMainClass=function(){return"sapUiFormLayout"};s.addBackgroundClass=function(e,t){var i=t.getBackgroundDesign();if(i!=a.Transparent){e.class("sapUiFormBackgr"+i)}};s.renderContainers=function(e,t,i){var r=i.getVisibleFormContainers();for(var n=0,o=r.length;n<o;n++){var a=r[n];this.renderContainer(e,t,a)}};s.renderContainer=function(e,t,i){var r=i.getExpandable();var n=i.getToolbar();var o=i.getTitle();e.openStart("div",i);e.class("sapUiFormContainer");if(n){e.class("sapUiFormContainerToolbar")}else if(o){e.class("sapUiFormContainerTitle")}if(i.getTooltip_AsString()){e.attr("title",i.getTooltip_AsString())}this.writeAccessibilityStateContainer(e,i,t.isContainerLabelled(i)?"form":"");e.openEnd();this.renderHeader(e,n,o,i._oExpandButton,r,t._sFormSubTitleSize,i.getId());if(r){e.openStart("div",i.getId()+"-content");if(!i.getExpanded()){e.style("display","none")}e.openEnd()}var a=i.getVisibleFormElements();for(var s=0,l=a.length;s<l;s++){var d=a[s];if(d.isA("sap.ui.layout.form.SemanticFormElement")&&!d._getEditable()){this.renderSemanticElement(e,t,d)}else{this.renderElement(e,t,d)}}if(r){e.close("div")}e.close("section")};s.renderElement=function(e,t,i){var r=i.getLabelControl();e.openStart("div",i);e.class("sapUiFormElement");if(r){e.class("sapUiFormElementLbl")}e.openEnd();if(r){e.renderControl(r)}var n=i.getFieldsForRendering();if(n&&n.length>0){for(var o=0,a=n.length;o<a;o++){var s=n[o];e.renderControl(s)}}e.close("div")};s.renderSemanticElement=function(e,t,i){this.renderElement(e,t,i)};s.renderTitle=function(e,t,i,r,n,a){if(t){if(typeof t!=="string"&&t.getLevel()!=o.Auto){n=t.getLevel()}if(!n){n="H5"}const c=r&&i;if(c){e.openStart("div",a+"--head");e.class("sapUiFormTitle");e.class("sapUiFormTitleExpandable");e.openEnd();e.renderControl(i)}if(typeof t!=="string"){e.openStart(n.toLowerCase(),t);if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getEmphasized()){e.class("sapUiFormTitleEmph")}}else{e.openStart(n.toLowerCase(),a+"--title")}if(!c){e.class("sapUiFormTitle")}e.class("sapUiFormTitle"+n);e.openEnd();if(typeof t==="string"){t.split(/\n/).forEach(function(t,i){if(i>0){e.voidStart("br").voidEnd()}e.text(t)})}else{var s=t.getIcon();if(s){var l=[];var d={title:null};d["id"]=t.getId()+"-ico";e.icon(s,l,d)}t.getText().split(/\n/).forEach(function(t,i){if(i>0){e.voidStart("br").voidEnd()}e.text(t)})}e.close(n.toLowerCase());if(c){e.close("div")}}};s.renderHeader=function(e,t,i,r,n,o,a){if(t){e.renderControl(t)}else{this.renderTitle(e,i,r,n,o,a)}};s.writeAccessibilityStateContainer=function(e,t,i){const r={};const n=this.getTitleId(t);if(n){r["labelledby"]={value:n,append:true}}if(i){r["role"]=i}e.accessibilityState(t,r)};s.getTitleId=function(e){const t=e.getTitle();const i=e.getToolbar();let n="";if(i){if(!e.getAriaLabelledBy()||e.getAriaLabelledBy().length==0){n=r.getToolbarTitle(i)}}else if(t){if(typeof t=="string"){n=e.getId()+"--title"}else{n=t.getId()}}return n};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormRenderer", ["./FormHelper","sap/base/Log"],function(e,t){"use strict";var s={apiVersion:2};s.render=function(s,i){const r=i.getLayout();const a={role:r&&r.hasLabelledContainers(i)?"region":"form"};s.openStart("div",i).class("sapUiForm").class("sapUiFormLblColon").attr("data-sap-ui-customfastnavgroup","true");var o=e.addFormClass();if(o){s.class(o)}if(i.getEditable()){s.class("sapUiFormEdit");s.class("sapUiFormEdit-CTX")}else{a.readonly=""}if(i.getWidth()){s.style("width",i.getWidth())}if(i.getTooltip_AsString()){s.attr("title",i.getTooltip_AsString())}const n=r?.getRenderer().getTitleId(i)||i._sSuggestedTitleId;if(n){a["labelledby"]={value:n,append:true}}s.accessibilityState(i,a);s.openEnd();if(r){s.renderControl(r)}else{t.warning('Form "'+i.getId()+'" - Layout missing!',"Renderer","Form")}s.close("div")};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveGridLayout", ["sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/ResizeHandler","sap/ui/layout/library","sap/ui/layout/Grid","sap/ui/layout/GridData","./Form","./FormContainer","./FormElement","./FormLayout","./ResponsiveGridLayoutRenderer","sap/ui/thirdparty/jquery"],function(e,t,a,i,n,r,s,o,l,f,u,jQuery){"use strict";var d=f.extend("sap.ui.layout.form.ResponsiveGridLayout",{metadata:{library:"sap.ui.layout",properties:{labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600}}},renderer:u});var p=e.extend("sap.ui.layout.form.ResponsiveGridLayoutPanel",{metadata:{library:"sap.ui.layout",aggregations:{content:{type:"sap.ui.layout.Grid",multiple:false}},associations:{container:{type:"sap.ui.layout.form.FormContainer",multiple:false},layout:{type:"sap.ui.layout.form.ResponsiveGridLayout",multiple:false}}},getLayoutData:function(){var e=t.getElementById(this.getContainer());var a=t.getElementById(this.getLayout());var i;if(a&&e){i=a.getLayoutDataForElement(e,"sap.ui.layout.GridData")}if(i){return i}else{return this.getAggregation("layoutData")}},getCustomData:function(){var e=t.getElementById(this.getContainer());if(e){return e.getCustomData()}},refreshExpanded:function(){var e=t.getElementById(this.getContainer());if(e){if(e.getExpanded()){this.$().removeClass("sapUiRGLContainerColl")}else{this.$().addClass("sapUiRGLContainerColl")}}},renderer:{apiVersion:2,render:function(e,a){var i=t.getElementById(a.getContainer());var n=t.getElementById(a.getLayout());var r=a.getContent();var s=i.getExpandable();var o=i.getTooltip_AsString();var l=i.getToolbar();var f=i.getTitle();e.openStart("div",a);e.class("sapUiRGLContainer");if(s&&!i.getExpanded()){e.class("sapUiRGLContainerColl")}if(l){e.class("sapUiFormContainerToolbar")}else if(f){e.class("sapUiFormContainerTitle")}if(o){e.attr("title",o)}n.getRenderer().writeAccessibilityStateContainer(e,i,"form");e.openEnd();n.getRenderer().renderHeader(e,l,f,i._oExpandButton,s,n._sFormSubTitleSize,i.getId());if(r){e.openStart("div");e.class("sapUiRGLContainerCont");e.openEnd();e.renderControl(r);e.close("div")}e.close("div")}}});d.prototype.init=function(){f.prototype.init.apply(this,arguments);this.mContainers={};this.oDummyLayoutData=new r(this.getId()+"--Dummy")};d.prototype.exit=function(){for(var e in this.mContainers){_.call(this,e,true)}if(this._mainGrid){this._mainGrid.destroy();delete this._mainGrid}this.oDummyLayoutData.destroy();this.oDummyLayoutData=undefined};d.prototype.onBeforeRendering=function(e){f.prototype.onBeforeRendering.apply(this,arguments);var t=this.getParent();if(!t||!(t instanceof s)){return}t._bNoInvalidate=true;g.call(this,t);c.call(this,t);t._bNoInvalidate=false};d.prototype.onAfterRendering=function(e){if(this._mainGrid&&this._mainGrid.__bIsUsed){for(var t in this.mContainers){if(this.mContainers[t][1]._sContainerResizeListener){a.deregister(this.mContainers[t][1]._sContainerResizeListener);this.mContainers[t][1]._sContainerResizeListener=null}}}};d.prototype.toggleContainerExpanded=function(e){var t=e.getId();if(this.mContainers[t]&&this.mContainers[t][0]){var a=this.mContainers[t][0];a.refreshExpanded()}};d.prototype.onLayoutDataChange=function(e){var t=e.srcControl;if(t instanceof o){if(this._mainGrid){this._mainGrid.onLayoutDataChange(e);this.invalidate()}}else if(!(t instanceof l)){var a=t.getParent();if(a instanceof l){var i=a.getParent();var n=i.getId();if(this.mContainers[n]&&this.mContainers[n][1]){this.mContainers[n][1].onLayoutDataChange(e)}}}};d.prototype.onsapup=function(e){this.onsapleft(e)};d.prototype.onsapdown=function(e){this.onsapright(e)};d.prototype.getContainerRenderedDomRef=function(e){if(this.getDomRef()){var t=e.getId();if(this.mContainers[t]){if(this.mContainers[t][0]){var a=this.mContainers[t][0];return a.getDomRef()}else if(this.mContainers[t][1]){var i=this.mContainers[t][1];return i.getDomRef()}}}return null};d.prototype.getElementRenderedDomRef=function(e){return null};function g(e){var t=e.getVisibleFormContainers();var a=t.length;var i=0;var n;var r;var s;var o;var l=0;for(l=0;l<a;l++){s=t[l];s._checkProperties();if(s.isVisible()){i++;o=s.getId();n=undefined;r=undefined;var f=t[l+1];if(this.mContainers[o]&&this.mContainers[o][1]){r=this.mContainers[o][1]}else{r=h.call(this,s)}var u=s.getTitle();var d=s.getToolbar();if(d||u||s.getExpandable()){if(this.mContainers[o]&&this.mContainers[o][0]){n=this.mContainers[o][0]}else{n=m.call(this,s,r);v(r,true)}C(n,s,i,f,a)}else{if(this.mContainers[o]&&this.mContainers[o][0]){y(this.mContainers[o][0])}v(r,false);C(r,s,i,f,a)}this.mContainers[o]=[n,r]}}var p=Object.keys(this.mContainers).length;if(a<p){for(o in this.mContainers){var g=false;for(l=0;l<a;l++){s=t[l];if(o==s.getId()){g=true;break}}if(!g){_.call(this,o)}}}}function m(e,t){var a=e.getId();var i=new p(a+"---Panel",{container:e,layout:this,content:t});return i}function y(e,t){e.setLayout(null);e.setContainer(null);if(!t||!e.getParent()){e.setContent(null);e.destroy()}}function h(e){var a=e.getId()+"--Grid";var i=new n(a,{vSpacing:0,hSpacing:0,containerQuery:true});i.__myParentLayout=this;i.__myParentContainerId=e.getId();i.addStyleClass("sapUiFormResGridCont").addStyleClass("sapUiRespGridOverflowHidden");i.getContent=function(){var e=t.getElementById(this.__myParentContainerId);if(e){var a=[];var i=e.getVisibleFormElements();var n;var r;for(var s=0;s<i.length;s++){var o=i[s];r=o.getLabelControl();if(r){a.push(r)}n=o.getFieldsForRendering();for(var l=0;l<n.length;l++){a.push(n[l])}}return a}else{return false}};i.getAriaLabelledBy=function(){var e=t.getElementById(this.__myParentContainerId);if(e&&!e.getToolbar()&&!e.getTitle()&&!e.getExpandable()){return e.getAriaLabelledBy()}return[]};var r={labelSpan:0,span:0,firstField:false,defaultFields:0,row:0,myRow:false,freeFields:0,finished:false};var s={id:"XL",getEffectiveSpan:function(e){var t=e._getEffectiveSpanXLarge();if(!t){t=e._getEffectiveSpanLarge()}return t},getEmptySpan:function(e){var t=e.getEmptySpanXL();if(t<0){t=e.getEmptySpanL()}return t},getLabelSpan:function(e){return e.getLabelSpanXL()},setIndent:function(e,t){e.setIndentXL(t)},setLinebreak:function(e,t){e.setLinebreakXL(t)}};jQuery.extend(s,r);var o={id:"L",getEffectiveSpan:function(e){return e._getEffectiveSpanLarge()},getEmptySpan:function(e){return e.getEmptySpanL()},getLabelSpan:function(e){return e.getLabelSpanL()},setIndent:function(e,t){e.setIndentL(t)},setLinebreak:function(e,t){e.setLinebreakL(t)}};jQuery.extend(o,r);var l={id:"M",getEffectiveSpan:function(e){return e._getEffectiveSpanMedium()},getEmptySpan:function(e){return e.getEmptySpanM()},getLabelSpan:function(e){return e.getLabelSpanM()},setIndent:function(e,t){e.setIndentM(t)},setLinebreak:function(e,t){e.setLinebreakM(t)}};jQuery.extend(l,r);var f={id:"S",getEffectiveSpan:function(e){return e._getEffectiveSpanSmall()},getEmptySpan:function(e){return e.getEmptySpanS()},getLabelSpan:function(e){return e.getLabelSpanS()},setIndent:function(e,t){e.setIndentS(t)},setLinebreak:function(e,t){e.setLinebreakS(t)}};jQuery.extend(f,r);var u=[s,o,l,f];i._getLayoutDataForControl=function(e){var a=this.__myParentLayout;var i=a.getLayoutDataForElement(e,"sap.ui.layout.GridData");var n=e.getParent();var d=n.getLabelControl();if(i){if(d==e){i._setStylesInternal("sapUiFormElementLbl")}return i}else{var p=t.getElementById(this.__myParentContainerId);var g=a.getLayoutDataForElement(p,"sap.ui.layout.GridData");var m=p.getParent();var y;var h=0;for(h=0;h<u.length;h++){y=u[h];jQuery.extend(y,r);y.labelSpan=y.getLabelSpan(a)}if(a.getAdjustLabelSpan()){if(m.getVisibleFormContainers().length>=1&&a.getColumnsM()>1){l.labelSpan=a.getLabelSpanL()}if(g){if(g._getEffectiveSpanLarge()==12){o.labelSpan=a.getLabelSpanM();l.labelSpan=a.getLabelSpanM()}}if(m.getVisibleFormContainers().length==1||a.getColumnsL()==1){o.labelSpan=a.getLabelSpanM();l.labelSpan=a.getLabelSpanM()}}if(s.labelSpan<0){s.labelSpan=o.labelSpan}if(d==e){a.oDummyLayoutData.setSpan("XL"+s.labelSpan+" L"+o.labelSpan+" M"+l.labelSpan+" S"+f.labelSpan);a.oDummyLayoutData.setLinebreak(true);a.oDummyLayoutData.setIndentXL(0).setIndentL(0).setIndentM(0).setIndentS(0);a.oDummyLayoutData._setStylesInternal("sapUiFormElementLbl");return a.oDummyLayoutData}else{var L;if(d){L=a.getLayoutDataForElement(d,"sap.ui.layout.GridData")}var v=n.getFieldsForRendering();var C=v.length;var _;var c;var b=1;var S=false;var D;var F=0;for(h=0;h<u.length;h++){y=u[h];y.span=12-y.getEmptySpan(a);if(d){if(L){D=y.getEffectiveSpan(L);if(D){y.labelSpan=D}}if(y.labelSpan<12){y.span=y.span-y.labelSpan}}y.spanFields=y.span}for(F=0;F<C;F++){_=v[F];if(_!=e){c=a.getLayoutDataForElement(_,"sap.ui.layout.GridData");if(c){for(h=0;h<u.length;h++){y=u[h];D=y.getEffectiveSpan(c);if(D&&D<y.span){y.span=y.span-D}}}else{b++}}else{if(b==1){S=true}}}var G=[];for(h=0;h<u.length;h++){y=u[h];y.firstField=S;y.defaultFields=b;if(y.span<b){y.defaultFields=0;y.row=0;y.myRow=false;y.freeFields=y.spanFields;y.span=y.spanFields;y.finished=false;G.push(y)}}if(G.length>0){for(F=0;F<C;F++){_=v[F];c=undefined;if(_!=e){c=a.getLayoutDataForElement(_,"sap.ui.layout.GridData")}for(h=0;h<G.length;h++){y=G[h];if(y.finished){continue}if(c){D=y.getEffectiveSpan(c);y.span=y.span-D}else{D=1}if(y.freeFields>=D){y.freeFields=y.freeFields-D;if(!c){y.defaultFields++}}else{if(y.myRow){y.finished=true}else{y.freeFields=y.spanFields-D;y.row++;if(c){y.defaultFields=0;y.span=y.spanFields-D}else{y.defaultFields=1;y.span=y.spanFields}if(_==e){y.firstField=true}}}if(_==e){y.myRow=true}}}}var I=0;var R="";var E;for(h=0;h<u.length;h++){y=u[h];if(y.id!="S"||y.labelSpan<12){if(y.firstField){I=y.span-Math.floor(y.span/y.defaultFields)*y.defaultFields;E=Math.floor(y.span/y.defaultFields)+I}else{E=Math.floor(y.span/y.defaultFields)}}else{E=12}if(R){R=R+" "}R=R+y.id+E;y.setLinebreak(a.oDummyLayoutData,y.firstField&&y.row>0);y.setIndent(a.oDummyLayoutData,y.firstField&&y.row>0?y.labelSpan:0)}a.oDummyLayoutData.setSpan(R);a.oDummyLayoutData.setLinebreak(S&&!d);a.oDummyLayoutData._setStylesInternal(undefined);return a.oDummyLayoutData}}};i._onParentResizeOrig=i._onParentResize;i._onParentResize=function(){if(!this.getDomRef()){this._cleanup();return}if(!jQuery(this.getDomRef()).is(":visible")){return}var e=this.__myParentLayout;if(!e._mainGrid||!e._mainGrid.__bIsUsed){var t=e.getParent().getVisibleFormContainers()[0];if(!t||!e.mContainers[t.getId()]||t.getId()!=this.__myParentContainerId){return}if(e.mContainers[this.__myParentContainerId][0]){var a=e.mContainers[this.__myParentContainerId][0].getDomRef();var i=a.clientWidth;if(i<=e.getBreakpointM()){this._toggleClass("Phone")}else if(i>e.getBreakpointM()&&i<=e.getBreakpointL()){this._toggleClass("Tablet")}else if(i>e.getBreakpointL()&&i<=e.getBreakpointXL()){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}}else{this._setBreakPointTablet(e.getBreakpointM());this._setBreakPointDesktop(e.getBreakpointL());this._setBreakPointLargeDesktop(e.getBreakpointXL());this._onParentResizeOrig()}}else{var n=e._mainGrid.$();if(n.hasClass("sapUiRespGridMedia-Std-Phone")){this._toggleClass("Phone")}else if(n.hasClass("sapUiRespGridMedia-Std-Tablet")){this._toggleClass("Tablet")}else if(n.hasClass("sapUiRespGridMedia-Std-Desktop")){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}}};i._getAccessibleRole=function(){var e=t.getElementById(this.__myParentContainerId);var a=this.__myParentLayout;if(a._mainGrid&&a._mainGrid.__bIsUsed&&!e.getToolbar()&&!e.getTitle()&&!e.getExpandable()&&e.getAriaLabelledBy().length>0){return"form"}};i.getUIArea=function(){var e=this.__myParentLayout;if(e){return e.getUIArea()}else{return null}};return i}function L(e,t){if(e.__myParentContainerId){e.__myParentContainerId=undefined}e.__myParentLayout=undefined;if(!t||!e.getParent()){e.destroy()}}function v(e,a){if(a){if(e.__originalGetLayoutData){e.getLayoutData=e.__originalGetLayoutData;delete e.__originalGetLayoutData}}else if(!e.__originalGetLayoutData){e.__originalGetLayoutData=e.getLayoutData;e.getLayoutData=function(){var e=this.__myParentLayout;var a=t.getElementById(this.__myParentContainerId);var i;if(a){i=e.getLayoutDataForElement(a,"sap.ui.layout.GridData")}if(i){return i}else{return this.getAggregation("layoutData")}}}}function C(e,a,i,n,s){var o;if(e instanceof p){o=t.getElementById(e.getLayout())}else{o=e.__myParentLayout}var l=o.getLayoutDataForElement(a,"sap.ui.layout.GridData");if(!l){var f=o.getColumnsM();var u=o.getColumnsL();var d=o.getColumnsXL();var g=i%u==1;var m=i%u==0;var y=i>u*(Math.ceil(s/u)-1);var h=i<=u;var L=i%f==1;var v=i%f==0;var C=i>f*(Math.ceil(s/f)-1);var _=i<=f;var c=false;var b=m;var S=y;var D=h;if(d>0){c=i%d==1;b=i%d==0;S=i>d*(Math.ceil(s/d)-1);D=i<=d}if(n){var F=o.getLayoutDataForElement(n,"sap.ui.layout.GridData");if(F&&(F.getLinebreak()||F.getLinebreakXL())){b=true;S=false}if(F&&(F.getLinebreak()||F.getLinebreakL())){m=true;y=false}if(F&&(F.getLinebreak()||F.getLinebreakM())){v=true;C=false}}var G="";if(b){G="sapUiFormResGridLastContXL"}if(m){if(G){G=G+" "}G=G+"sapUiFormResGridLastContL"}if(v){if(G){G=G+" "}G=G+"sapUiFormResGridLastContM"}if(S){if(G){G=G+" "}G=G+"sapUiFormResGridLastRowXL"}if(y){if(G){G=G+" "}G=G+"sapUiFormResGridLastRowL"}if(C){if(G){G=G+" "}G=G+"sapUiFormResGridLastRowM"}if(D){if(G){G=G+" "}G=G+"sapUiFormResGridFirstRowXL"}if(h){if(G){G=G+" "}G=G+"sapUiFormResGridFirstRowL"}if(_){if(G){G=G+" "}G=G+"sapUiFormResGridFirstRowM"}l=e.getLayoutData();if(!l){l=new r(e.getId()+"--LD",{linebreakL:g,linebreakM:L});e.setLayoutData(l)}else{l.setLinebreakL(g);l.setLinebreakM(L)}if(d>0){l.setLinebreakXL(c)}l._setStylesInternal(G)}}function _(e,t){var a=this.mContainers[e];var i=a[1];if(i){L(i,t)}var n=a[0];if(n){y(n,t)}delete this.mContainers[e]}function c(e){var a=e.getVisibleFormContainers();var i;var r;var s=a.length;var o=0;var l=0;var f=0;if(s>1||!this.getSingleContainerFullSize()){var u=Math.floor(12/this.getColumnsM());var d=Math.floor(12/this.getColumnsL());var p;var g="";var m=this.getColumnsXL();if(m>=0){p=Math.floor(12/m);g=g+"XL"+p+" "}g=g+"L"+d+" M"+u+" S12";if(!this._mainGrid){this._mainGrid=new n(e.getId()+"--Grid",{defaultSpan:g,hSpacing:0,vSpacing:0,containerQuery:true}).setParent(this);this._mainGrid.addStyleClass("sapUiFormResGridMain").addStyleClass("sapUiRespGridOverflowHidden");this._mainGrid._onParentResizeOrig=this._mainGrid._onParentResize;this._mainGrid._onParentResize=function(){this._onParentResizeOrig();var e=this.getParent();for(var t in e.mContainers){e.mContainers[t][1]._onParentResize()}}}else{this._mainGrid.setDefaultSpan(g);var y=this._mainGrid.getContent();o=y.length;var h=false;for(l=0;l<o;l++){var L=y[l];i=undefined;if(L.getContainer){i=t.getElementById(L.getContainer())}else{i=t.getElementById(L.__myParentContainerId)}if(i&&i.isVisible()){var v=a[f];if(i!=v){h=true;break}var C=this.mContainers[i.getId()];if(C[0]&&C[0]!=L){h=true;break}if(!C[0]&&C[1]&&C[1]!=L){h=true;break}f++}else{this._mainGrid.removeContent(L)}}if(h){this._mainGrid.removeAllContent();o=0}}this._mainGrid._setBreakPointTablet(this.getBreakpointM());this._mainGrid._setBreakPointDesktop(this.getBreakpointL());this._mainGrid._setBreakPointLargeDesktop(this.getBreakpointXL());this._mainGrid.__bIsUsed=true;if(o<s){var _=0;if(o>0){_=o--}for(l=_;l<s;l++){i=a[l];r=i.getId();if(this.mContainers[r]){if(this.mContainers[r][0]){this._mainGrid.addContent(this.mContainers[r][0])}else if(this.mContainers[r][1]){this._mainGrid.addContent(this.mContainers[r][1])}}}}}else{if(this._mainGrid){this._mainGrid.__bIsUsed=false}for(l=0;l<s;l++){i=a[l];r=i.getId();if(this.mContainers[r]){if(this.mContainers[r][0]){if(this.mContainers[r][0].getParent()!==this){this.addDependent(this.mContainers[r][0])}}else if(this.mContainers[r][1]){if(this.mContainers[r][1].getParent()!==this){this.addDependent(this.mContainers[r][1])}}}}}}d.prototype.getLayoutDataForDelimiter=function(){return new r({spanS:1,spanM:1,spanL:1,spanXL:1})};d.prototype.getLayoutDataForSemanticField=function(e,t,a){var i=8-(e-1);i=Math.floor(i/e);if(e===t){i=i+8-(e-1+e*i)}if(a){if(a.isA("sap.ui.layout.GridData")){a.setSpanS(11).setSpanM(i).setSpanL(i).setSpanXL(i);return a}else{a.destroy()}}return new r({spanS:11,spanM:i,spanL:i,spanXL:i})};return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveGridLayoutRenderer", ["sap/ui/core/Renderer","./FormLayoutRenderer"],function(e,r){"use strict";var n=e.extend(r);n.apiVersion=2;n.getMainClass=function(){return"sapUiFormResGrid"};n.renderContainers=function(e,r,n){var i=n.getVisibleFormContainers();var t=i.length;if(t>0){if(t>1||!r.getSingleContainerFullSize()){e.renderControl(r._mainGrid)}else if(r.mContainers[i[0].getId()][0]){e.renderControl(r.mContainers[i[0].getId()][0])}else{e.renderControl(r.mContainers[i[0].getId()][1])}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SimpleForm", ["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/core/Element","sap/ui/layout/library","./Form","./FormContainer","./FormElement","./FormLayout","./SimpleFormRenderer","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,a,i,s,r,n,o,l,u,jQuery){"use strict";var h=i.BackgroundDesign;var g=i.form.SimpleFormLayout;var f;var d;var y;var p;var m;var v;var c;var L;var b=e.extend("sap.ui.layout.form.SimpleForm",{metadata:{library:"sap.ui.layout",properties:{maxContainerCols:{type:"int",group:"Appearance",defaultValue:2},minWidth:{type:"int",group:"Appearance",defaultValue:-1},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false},labelMinWidth:{type:"int",group:"Misc",defaultValue:192},layout:{type:"sap.ui.layout.form.SimpleFormLayout",group:"Misc",defaultValue:g.ResponsiveGridLayout},labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600},backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:h.Translucent}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Element",multiple:true,singularName:"content"},form:{type:"sap.ui.layout.form.Form",multiple:false,visibility:"hidden"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false,forwarding:{idSuffix:"--Form",aggregation:"toolbar"}}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/SimpleForm.designtime"},renderer:l});b.prototype.init=function(){this._iMaxWeight=8;this._iLabelWeight=3;this._iCurrentWidth=0;var e=new s(this.getId()+"--Form");e.getTitle=function(){return this.getParent().getTitle()};e._origInvalidate=e.invalidate;e.invalidate=function(e){if(this.bOutput){this._origInvalidate(e)}if(this._bIsBeingDestroyed){return}var t=this.getParent();if(t){t._formInvalidated(e)}};e.getAriaLabelledBy=function(){var e=this.getParent();if(e){return e.getAriaLabelledBy()}else{return null}};e._origOnLayoutDataChange=e.onLayoutDataChange;e.onLayoutDataChange=function(e){this._origOnLayoutDataChange(e);var t=this.getParent();if(t){t._onLayoutDataChange(e)}};this.setAggregation("form",e);this._aElements=null;this._aLayouts=[];this._changedFormContainers=[];this._changedFormElements=[];this._oObserver=new t(N.bind(this))};b.prototype.exit=function(){var e=this.getAggregation("form");e.invalidate=e._origInvalidate;j.call(this);for(var t=0;t<this._aLayouts.length;t++){var i=a.getElementById(this._aLayouts[t]);if(i&&i.destroy){i.destroy()}}this._aLayouts=[];this._aElements=null;this._changedFormContainers=[];this._changedFormElements=[];this._oObserver.disconnect();this._oObserver=undefined};b.prototype.onBeforeRendering=function(){j.call(this);var e=this.getAggregation("form");var t=this.getLayout();if(!this._bResponsiveLayoutRequested&&t===g.ResponsiveLayout||!this._bGridLayoutRequested&&t===g.GridLayout||!this._bResponsiveGridLayoutRequested&&t===g.ResponsiveGridLayout||!this._bColumnLayoutRequested&&t===g.ColumnLayout){var a=true;if(!e.getLayout()){a=_.call(this)}if(a){A.call(this)}}};b.prototype.onAfterRendering=function(){if(this.getLayout()==g.ResponsiveLayout){this._bChangedByMe=true;this.$().css("visibility","hidden");this._applyLinebreaks();if(!this._bResponsiveLayoutRequested&&L){this._sResizeListenerId=L.register(this.getDomRef(),jQuery.proxy(this._resize,this))}this._bChangedByMe=false}};b.prototype.setEditable=function(e){this._bChangedByMe=true;this.setProperty("editable",e,true);var t=this.getAggregation("form");t.setEditable(e);this._bChangedByMe=false;return this};b.prototype.setToolbar=function(e){this._bChangedByMe=true;this.setAggregation("toolbar",e);this._bChangedByMe=false;return this};b.prototype.destroyToolbar=function(){this._bChangedByMe=true;this.destroyAggregation("toolbar");this._bChangedByMe=false;return this};b.prototype.setLabelMinWidth=function(e){this.setProperty("labelMinWidth",e,true);if(this.getLayout()==g.ResponsiveLayout){this._bLayoutDataChangedByMe=true;var t=this.getContent();for(var a=0;a<t.length;a++){var i=t[a];if(i.isA("sap.ui.core.Label")){var s=w.call(this,i);if(s&&s.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&S.call(this,s)){s.setMinWidth(e)}}}this._bLayoutDataChangedByMe=false}return this};b.prototype.indexOfContent=function(e){var t=this._aElements;if(t){for(var a=0;a<t.length;a++){if(t[a]==e){return a}}}return-1};b.prototype.addContent=function(e){e=this.validateAggregation("content",e,true);if(this.indexOfContent(e)>=0){u.warning("SimpleForm.addContent: Content element '"+e+"' already assigned. Please remove before adding!",this);this.removeContent(e)}if(!this._aElements){this._aElements=[]}this._bChangedByMe=true;var t=this._aElements.length;var a;var i=this.getAggregation("form");var s;var o;var l;var h;var f=this.getLayout();if(e.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){s=W.call(this,e);i.addFormContainer(s);this._changedFormContainers.push(s)}else if(e.isA("sap.ui.core.Label")){if(t>0){a=this._aElements[t-1];l=a.getParent();if(l instanceof n){s=l.getParent()}else if(l instanceof r){s=l}}if(!s){s=W.call(this);i.addFormContainer(s);this._changedFormContainers.push(s)}o=O.call(this,s,e)}else{if(t>0){a=this._aElements[t-1];l=a.getParent();if(l instanceof n){s=l.getParent();o=l;h=w.call(this,e);if(h&&h.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&f===g.ResponsiveLayout&&!S.call(this,h)&&h.getLinebreak()){o=O.call(this,s)}}else if(l instanceof r){s=l;o=O.call(this,s)}}else{s=W.call(this);i.addFormContainer(s);this._changedFormContainers.push(s);o=O.call(this,s)}T.call(this,e,5,false,true);o.addField(e);H(this._changedFormElements,o)}this._aElements.push(e);this._oObserver.observe(e,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this};b.prototype.insertContent=function(e,t){e=this.validateAggregation("content",e,true);if(this.indexOfContent(e)>=0){u.warning("SimpleForm.insertContent: Content element '"+e+"' already assigned. Please remove before insert!",this);this.removeContent(e)}if(!this._aElements){this._aElements=[]}var a=this._aElements.length;var i;if(t<0){i=0}else if(t>a){i=a}else{i=t}if(i!==t){u.warning("SimpleForm.insertContent: index '"+t+"' out of range [0,"+a+"], forced to "+i)}if(i==a){this.addContent(e);return this}this._bChangedByMe=true;var s=this._aElements[i];var r=this.getAggregation("form");var n;var o;var l;var h;var f;var d=0;var y;var p;var m;var v;var c=0;var L;var b;var _=this.getLayout();if(e.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){n=W.call(this,e);if(t==0&&!s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent().getParent();m=l.getFormElements();for(c=0;c<m.length;c++){n.addFormElement(m[c])}l.destroy();f=0}else if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l)}else{h=s.getParent();l=h.getParent();f=r.indexOfFormContainer(l)+1;d=l.indexOfFormElement(h);if(!s.isA("sap.ui.core.Label")){y=h.indexOfField(s);if(y>0||h.getLabel()){o=O.call(this,n);this._changedFormElements.push(o);H(this._changedFormElements,h);p=h.getFields();for(c=y;c<p.length;c++){L=p[c];o.addField(L)}d++}}m=l.getFormElements();for(c=d;c<m.length;c++){n.addFormElement(m[c])}}r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else if(e.isA("sap.ui.core.Label")){if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l);v=r.getFormContainers();if(f==0){n=W.call(this);r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else{n=v[f-1]}o=O.call(this,n,e)}else if(s.isA("sap.ui.core.Label")){l=s.getParent().getParent();d=l.indexOfFormElement(s.getParent());o=x.call(this,l,e,d)}else{h=s.getParent();l=h.getParent();d=l.indexOfFormElement(h)+1;y=h.indexOfField(s);p=h.getFields();o=x.call(this,l,e,d);for(c=y;c<p.length;c++){L=p[c];o.addField(L)}if(y==0&&!h.getLabel()){h.destroy()}else{H(this._changedFormElements,h)}}this._changedFormElements.push(o)}else{b=w.call(this,e);if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l);if(f==0){n=W.call(this);r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else{v=r.getFormContainers();n=v[f-1]}m=n.getFormElements();if(m.length==0){o=O.call(this,n)}else if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!S.call(this,b)&&b.getLinebreak()){o=O.call(this,n)}else{o=m[m.length-1]}o.addField(e)}else if(s.isA("sap.ui.core.Label")){h=s.getParent();n=h.getParent();d=n.indexOfFormElement(h);if(d==0){o=x.call(this,n,null,0)}else if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!S.call(this,b)&&b.getLinebreak()){o=x.call(this,n,null,d)}else{m=n.getFormElements();o=m[d-1]}o.addField(e)}else{o=s.getParent();y=o.indexOfField(s);if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!S.call(this,b)&&b.getLinebreak()&&y>0){n=o.getParent();d=n.indexOfFormElement(o);H(this._changedFormElements,o);p=o.getFields();o=x.call(this,n,undefined,d+1);o.addField(e);for(c=y;c<p.length;c++){L=p[c];o.addField(L)}}else{o.insertField(e,y)}}H(this._changedFormElements,o);T.call(this,e,5,false,true)}this._aElements.splice(i,0,e);this._oObserver.observe(e,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this};b.prototype.removeContent=function(e){var t=null;var i=-1;var s=0;if(this._aElements){if(typeof e=="string"){e=a.getElementById(e)}if(typeof e=="object"){for(s=0;s<this._aElements.length;s++){if(this._aElements[s]==e){e=s;break}}}if(typeof e=="number"){if(e<0||e>=this._aElements.length){u.warning("Element.removeAggregation called with invalid index: Items, "+e)}else{i=e;t=this._aElements[i]}}}if(t){this._bChangedByMe=true;var r=this.getAggregation("form");var n;var o;var l;var h;if(t.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){n=t.getParent();n.setTitle(null);n.setToolbar(null);l=n.getFormElements();if(i>0||l.length>0){var g=r.indexOfFormContainer(n);var f;if(i===0){f=W.call(this);r.insertFormContainer(f,g)}else{f=r.getFormContainers()[g-1];if(l.length>0&&!l[0].getLabel()){var d=f.getFormElements();var y=d[d.length-1];h=l[0].getFields();for(s=0;s<h.length;s++){y.addField(h[s])}H(this._changedFormElements,y);n.removeFormElement(l[0]);l[0].destroy();l.splice(0,1)}}for(s=0;s<l.length;s++){f.addFormElement(l[s])}H(this._changedFormContainers,f);r.removeFormContainer(n);n.destroy()}else{r.removeFormContainer(n);n.destroy()}}else if(t.isA("sap.ui.core.Label")){o=t.getParent();n=o.getParent();o.setLabel(null);h=o.getFields();var p=n.indexOfFormElement(o);var m;if(p===0){if(h.length===0){n.removeFormElement(o);o.destroy();if(n.getFormElements().length==0&&!n.getTitle()&&!n.getToolbar()){r.removeFormContainer(n);n.destroy()}}else{m=x.call(this,n,null,0)}}else{l=n.getFormElements();m=l[p-1];H(this._changedFormElements,m)}for(s=0;s<h.length;s++){m.addField(h[s])}n.removeFormElement(o);o.destroy()}else{o=t.getParent();o.removeField(t);if(o.getFields().length==0&&!o.getLabel()){n=o.getParent();n.removeFormElement(o);o.destroy();if(n.getFormElements().length==0&&!n.getTitle()&&!n.getToolbar()){r.removeFormContainer(n);n.destroy()}}else{H(this._changedFormElements,o)}}this._aElements.splice(i,1);t.setParent(null);this._oObserver.unobserve(t);q.call(this,t);this.invalidate();this._bChangedByMe=false;return t}return null};b.prototype.removeAllContent=function(){var e=0;if(this._aElements){this._bChangedByMe=true;var t=this.getAggregation("form");var a=t.getFormContainers();for(e=0;e<a.length;e++){var i=a[e];i.setTitle(null);i.setToolbar(null);var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];n.setLabel(null);n.removeAllFields()}i.destroyFormElements()}t.destroyFormContainers();for(e=0;e<this._aElements.length;e++){var o=this._aElements[e];q.call(this,o);this._oObserver.unobserve(o)}var l=this._aElements;this._aElements=null;this.invalidate();this._bChangedByMe=false;return l}else{return[]}};b.prototype.destroyContent=function(){var e=this.removeAllContent();if(e){this._bChangedByMe=true;for(var t=0;t<e.length;t++){e[t].destroy()}this.invalidate();this._bChangedByMe=false}return this};b.prototype.getContent=function(){if(!this._aElements){this._aElements=this.getAggregation("content",[])}return this._aElements.slice()};b.prototype.setLayout=function(e){var t=this.getLayout();var a=this.isPropertyInitial("layout");if(e!=t){D.call(this)}this.setProperty("layout",e);if(e!=t||a){var i=_.call(this);if(i){B.call(this)}}return this};b.prototype.clone=function(t){this._bChangedByMe=true;var a=e.prototype.clone.apply(this,arguments);var i=this.getContent();for(var s=0;s<i.length;s++){var r=i[s];var n=r.getLayoutData();this._oObserver.unobserve(r);var o=r.clone(t);this._oObserver.observe(r,{properties:["visible"]});if(n){if(n.isA("sap.ui.core.VariantLayoutData")){var l=n.getMultipleLayoutData();for(var u=0;u<l.length;u++){if(S.call(this,l[u])){a._aLayouts.push(o.getLayoutData().getMultipleLayoutData()[u].getId())}}}else if(S.call(this,n)){a._aLayouts.push(o.getLayoutData().getId())}}a.addContent(o)}this._bChangedByMe=false;return a};function _(){var e=this.getAggregation("form");if(e.getLayout()){this._bChangedByMe=true;e.destroyLayout();j.call(this);this._bChangedByMe=false}var t;switch(this.getLayout()){case g.ResponsiveLayout:if((!f||!d||!L)&&!this._bResponsiveLayoutRequested){f=sap.ui.require("sap/ui/layout/form/ResponsiveLayout");d=sap.ui.require("sap/ui/layout/ResponsiveFlowLayoutData");L=sap.ui.require("sap/ui/core/ResizeHandler");if(!f||!d||!L){sap.ui.require(["sap/ui/layout/form/ResponsiveLayout","sap/ui/layout/ResponsiveFlowLayoutData","sap/ui/core/ResizeHandler"],C.bind(this));this._bResponsiveLayoutRequested=true}}if(f&&d){t=new f(this.getId()+"--Layout")}break;case g.GridLayout:if((!p||!m||!v)&&!this._bGridLayoutRequested){p=sap.ui.require("sap/ui/layout/form/GridLayout");m=sap.ui.require("sap/ui/layout/form/GridContainerData");v=sap.ui.require("sap/ui/layout/form/GridElementData");if(!p||!m||!v){sap.ui.require(["sap/ui/layout/form/GridLayout","sap/ui/layout/form/GridContainerData","sap/ui/layout/form/GridElementData"],F.bind(this));this._bGridLayoutRequested=true}}if(p&&m&&v){t=new p(this.getId()+"--Layout")}break;case g.ResponsiveGridLayout:if(!y&&!this._bResponsiveGridLayoutRequested){y=sap.ui.require("sap/ui/layout/form/ResponsiveGridLayout");if(!y){sap.ui.require(["sap/ui/layout/form/ResponsiveGridLayout"],E.bind(this));this._bResponsiveGridLayoutRequested=true}}if(y){t=new y(this.getId()+"--Layout")}break;case g.ColumnLayout:if(!c&&!this._bColumnLayoutRequested){c=sap.ui.require("sap/ui/layout/form/ColumnLayout");if(!c){sap.ui.require(["sap/ui/layout/form/ColumnLayout"],M.bind(this));this._bColumnLayoutRequested=true}}if(c){t=new c(this.getId()+"--Layout")}break}if(t){this._bChangedByMe=true;e.setLayout(t);this._bChangedByMe=false;return true}return false}function C(e,t,a){f=e;d=t;L=a;this._bResponsiveLayoutRequested=false;if(this.getLayout()==g.ResponsiveLayout){R.call(this);if(this.getDomRef()&&!this._sResizeListenerId){this._sResizeListenerId=L.register(this.getDomRef(),jQuery.proxy(this._resize,this))}}}function F(e,t,a){p=e;m=t;v=a;this._bGridLayoutRequested=false;if(this.getLayout()==g.GridLayout){R.call(this)}}function E(e){y=e;this._bResponsiveGridLayoutRequested=false;if(this.getLayout()==g.ResponsiveGridLayout){R.call(this)}}function M(e){c=e;this._bColumnLayoutRequested=false;if(this.getLayout()==g.ColumnLayout){R.call(this)}}function R(){if(!this._bIsBeingDestroyed){_.call(this);B.call(this);if(this.getDomRef()){A.call(this);var e=this.getAggregation("form");if(!e.getDomRef()){this.invalidate()}}}}function D(){this._bChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();for(var a=0;a<t.length;a++){var i=t[a];H(this._changedFormContainers,i);if(i.getLayoutData()){i.destroyLayoutData()}var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];H(this._changedFormElements,n);if(n.getLayoutData()){n.destroyLayoutData()}var o=n.getLabel();if(o){q.call(this,o)}var l=n.getFields();for(var u=0;u<l.length;u++){var h=l[u];q.call(this,h)}}}this._bChangedByMe=false}function B(){this._bChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();for(var a=0;a<t.length;a++){var i=t[a];H(this._changedFormContainers,i);P.call(this,i);var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];H(this._changedFormElements,n);I.call(this,n);var o=n.getLabel();if(o){T.call(this,o,this._iLabelWeight,false,true,this.getLabelMinWidth())}var l=n.getFields();for(var u=0;u<l.length;u++){var h=l[u];T.call(this,h,5,false,true)}}}this._bChangedByMe=false}function A(){this._bChangedByMe=true;this._changedFormContainers=[];var e=this.getLayout();var t=this.getAggregation("form").getLayout();t.setBackgroundDesign(this.getBackgroundDesign());switch(e){case g.ResponsiveLayout:this._applyLinebreaks();for(var a=0;a<this._changedFormElements.length;a++){var i=this._changedFormElements[a];z.call(this,i)}break;case g.GridLayout:X.call(this);break;case g.ResponsiveGridLayout:t.setLabelSpanXL(this.getLabelSpanXL());t.setLabelSpanL(this.getLabelSpanL());t.setLabelSpanM(this.getLabelSpanM());t.setLabelSpanS(this.getLabelSpanS());t.setAdjustLabelSpan(this.getAdjustLabelSpan());t.setEmptySpanXL(this.getEmptySpanXL());t.setEmptySpanL(this.getEmptySpanL());t.setEmptySpanM(this.getEmptySpanM());t.setEmptySpanS(this.getEmptySpanS());t.setColumnsXL(this.getColumnsXL());t.setColumnsL(this.getColumnsL());t.setColumnsM(this.getColumnsM());t.setSingleContainerFullSize(this.getSingleContainerFullSize());t.setBreakpointXL(this.getBreakpointXL());t.setBreakpointL(this.getBreakpointL());t.setBreakpointM(this.getBreakpointM());break;case g.ColumnLayout:t.setColumnsXL(this.getColumnsXL()>0?this.getColumnsXL():this.getColumnsL());t.setColumnsL(this.getColumnsL());t.setColumnsM(this.getColumnsM());t.setLabelCellsLarge(this.getLabelSpanL());t.setEmptyCellsLarge(this.getEmptySpanL());break}this._changedFormElements=[];this._bChangedByMe=false}function S(e){var t=e.getId(),a=" "+this._aLayouts.join(" ")+" ";return a.indexOf(" "+t+" ")>-1}function k(e,t,a,i){var s=new d({weight:e,linebreak:t===true,linebreakable:a===true});if(i){s.setMinWidth(i)}this._aLayouts.push(s.getId());return s}function w(e){var t;switch(this.getLayout()){case g.ResponsiveLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.ResponsiveFlowLayoutData");break;case g.GridLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.form.GridElementData");break;case g.ResponsiveGridLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.GridData");break;case g.ColumnLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.form.ColumnElementData");break}return t}function G(){var e=this.getLayout();if(e===g.ResponsiveLayout&&this._bResponsiveLayoutRequested||e===g.GridLayout&&this._bGridLayoutRequested||e===g.ResponsiveGridLayout&&this._bResponsiveGridLayoutRequested||e===g.ColumnLayout&&this._bColumnLayoutRequested){return false}if(!this.getAggregation("form").getLayout()){var t=this._bChangedByMe;var a=_.call(this);this._bChangedByMe=t;if(!a){return false}}return true}function T(e,t,a,i,s){if(this.getLayout()!=g.ResponsiveLayout){return}if(!G.call(this)){return}this._bLayoutDataChangedByMe=true;var r=w.call(this,e);if(!r||!S.call(this,r)){r=e.getLayoutData();if(r&&r.isA("sap.ui.core.VariantLayoutData")){r.addMultipleLayoutData(k.call(this,t,a,i,s))}else if(!r){e.setLayoutData(k.call(this,t,a,i,s))}else{u.warning("ResponsiveFlowLayoutData can not be set on Field "+e.getId(),"_createFieldLayoutData","SimpleForm")}}this._bLayoutDataChangedByMe=false}function I(e){if(this.getLayout()!=g.ResponsiveLayout){return}if(!G.call(this)){return}this._bLayoutDataChangedByMe=true;e.setLayoutData(new d({linebreak:true,margin:false}));this._bLayoutDataChangedByMe=false}function P(e){var t=this.getLayout();if(t!=g.ResponsiveLayout&&t!=g.GridLayout){return}if(!G.call(this)){return}this._bLayoutDataChangedByMe=true;switch(t){case g.ResponsiveLayout:e.setLayoutData(new d({minWidth:280}));break;case g.GridLayout:if(this.getMaxContainerCols()>1){e.setLayoutData(new m({halfGrid:true}))}else{e.setLayoutData(new m({halfGrid:false}))}break}this._bLayoutDataChangedByMe=false}function q(e){this._bLayoutDataChangedByMe=true;var t=w.call(this,e);if(t){var a=t.getId();for(var i=0;i<this._aLayouts.length;i++){var s=this._aLayouts[i];if(a==s){t.destroy();this._aLayouts.splice(i,1);break}}}this._bLayoutDataChangedByMe=false}function O(e,t){var a=V.call(this,t,e);e.addFormElement(a);return a}function x(e,t,a){var i=V.call(this,t,e);e.insertFormElement(i,a);return i}function V(e,t){var i;var s={};if(e){i=this.getId()+"--"+e.getId()+"--FE";e.addStyleClass("sapUiFormLabel-CTX");if(!w.call(this,e)){T.call(this,e,this._iLabelWeight,false,true,this.getLabelMinWidth())}s["label"]=e}else{i=t.getId()+"--FE-NoLabel";if(a.getElementById(i)){i=undefined}}var r=new n(i,s);I.call(this,r);r.isVisible=function(){var e=this.getFields();var t=false;for(var a=0;a<e.length;a++){var i=e[a];if(i.getVisible()){t=true;break}}return t};return r}function W(e){var t;var a={};if(e){t=this.getId()+"--"+e.getId()+"--FC";if(e.isA("sap.ui.core.Title")){a["title"]=e}else if(e.isA("sap.ui.core.Toolbar")){a["toolbar"]=e}}else{t=this.getId()+"--FC-NoHead"}var i=new r(t,a);P.call(this,i);i.getAriaLabelledBy=function(){var e=this.getToolbar();if(e){return e.getAriaLabelledBy()}else{return[]}};return i}function z(e){var t=this._iMaxWeight;var a=e.getFields();var i;var s=a.length;var r=e.getLabel();var n;var o=0;this._bLayoutDataChangedByMe=true;if(r&&w.call(this,r)){t=t-w.call(this,r).getWeight()}for(o=0;o<a.length;o++){i=a[o];n=w.call(this,i);if(n&&n.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!S.call(this,n)){t=t-n.getWeight();s--}}var l=Math.floor(t/s);var u=t%s;for(o=0;o<a.length;o++){i=a[o];n=w.call(this,i);var h=l;if(!n){T.call(this,i,h,false,o==0)}else if(S.call(this,n)&&n.isA("sap.ui.layout.ResponsiveFlowLayoutData")){if(u>0){h++;u--}n.setWeight(h)}}this._bLayoutDataChangedByMe=false}b.prototype._applyLinebreaks=function(){if(!f||this._bResponsiveLayoutRequested){return}this._bLayoutDataChangedByMe=true;var e=this.getAggregation("form"),t=e.getFormContainers();var a=this.getDomRef();var i=this.$();for(var s=1;s<t.length;s++){var r=t[s],n=r.getLayoutData();if(!a||i.outerWidth(true)>this.getMinWidth()){if(s%this.getMaxContainerCols()==0){n.setLinebreak(true)}else{n.setLinebreak(false)}}else{n.setLinebreak(true)}}if(a&&i.css("visibility")=="hidden"){var o=this;setTimeout(function(){if(o.getDomRef()){o.$().css("visibility","")}},10)}this._bLayoutDataChangedByMe=false};function X(){this._bLayoutDataChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();var a=t.length;for(var i=0;i<a;i++){var s=t[i];if(this.getMaxContainerCols()<=1||i==a-1&&a%2>0){s.getLayoutData().setHalfGrid(false)}else if(!s.getLayoutData().getHalfGrid()){s.getLayoutData().setHalfGrid(true)}}this._bLayoutDataChangedByMe=false}b.prototype._resize=function(e){this._bChangedByMe=true;if(this._iCurrentWidth==e.size.width){return}this._iCurrentWidth=e.size.width;this._applyLinebreaks();this._bChangedByMe=false};function j(){if(this._sResizeListenerId){L.deregister(this._sResizeListenerId);this._sResizeListenerId=null}}function H(e,t){var a=false;for(var i=0;i<e.length;i++){var s=e[i];if(s==t){a=true;break}}if(!a){e.push(t)}}function N(e){if(e.name=="visible"){var t=e.object.getParent();t.invalidate()}}function $(e){var t=[];var a=e.getFormContainers();for(var i=0;i<a.length;i++){var s=a[i];var r=s.getTitle();if(r){t.push(r)}else{var n=s.getToolbar();if(n){t.push(n)}}var o=s.getFormElements();for(var l=0;l<o.length;l++){var u=o[l];var h=u.getLabel();if(h){t.push(h)}var g=u.getFields();for(var f=0;f<g.length;f++){var d=g[f];t.push(d)}}}return t}b.prototype._formInvalidated=function(e){if(!this._bChangedByMe){var t=$(this.getAggregation("form"));var a=0;var i=0;var s=false;if(!this._aElements||t.length<this._aElements.length){s=true}else{for(a=0;a<t.length;a++){var r=t[a];var n=this._aElements[i];if(r===n){i++}else{var o=t[a+1];if(o===n){this.insertContent(r,a);break}o=this._aElements[i+1];if(o===r){s=true;break}break}}}if(s){this.removeAllContent();for(a=0;a<t.length;a++){var l=t[a];this.addContent(l)}}}};b.prototype._onLayoutDataChange=function(e){if(!this._bLayoutDataChangedByMe&&!this._bIsBeingDestroyed){switch(this.getLayout()){case g.ResponsiveLayout:var t=e.srcControl;var a=t.getParent();if(a instanceof n){var i=this.indexOfContent(t);this.removeContent(t);this.insertContent(t,i)}break}}};b.prototype._suggestTitleId=function(e){var t=this.getAggregation("form");t._suggestTitleId(e);return this};return b});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SimpleFormRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){t._bChangedByMe=true;e.openStart("div",t).class("sapUiSimpleForm").style("width",t.getWidth()).openEnd();var r=t.getAggregation("form");if(r.getLayout()){e.renderControl(r)}e.close("div");t._bChangedByMe=false};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/library", ["sap/ui/base/DataType","sap/ui/core/Lib","sap/ui/core/library"],function(o,e,t){"use strict";var a=e.init({apiVersion:2,name:"sap.ui.layout",version:"1.136.0",dependencies:["sap.ui.core"],designtime:"sap/ui/layout/designtime/library.designtime",types:["sap.ui.layout.BackgroundDesign","sap.ui.layout.BlockBackgroundType","sap.ui.layout.BlockLayoutCellColorSet","sap.ui.layout.BlockLayoutCellColorShade","sap.ui.layout.BlockRowColorSets","sap.ui.layout.BoxesPerRowConfig","sap.ui.layout.GridIndent","sap.ui.layout.GridPosition","sap.ui.layout.GridSpan","sap.ui.layout.SideContentFallDown","sap.ui.layout.SideContentPosition","sap.ui.layout.SideContentVisibility","sap.ui.layout.form.ColumnsXL","sap.ui.layout.form.ColumnsL","sap.ui.layout.form.ColumnsM","sap.ui.layout.form.ColumnCells","sap.ui.layout.form.EmptyCells","sap.ui.layout.form.GridElementCells","sap.ui.layout.form.SimpleFormLayout","sap.ui.layout.cssgrid.CSSGridAutoFlow","sap.ui.layout.cssgrid.CSSGridTrack","sap.ui.layout.cssgrid.CSSGridLine","sap.ui.layout.cssgrid.CSSGridGapShortHand"],interfaces:["sap.ui.layout.cssgrid.IGridConfigurable","sap.ui.layout.cssgrid.IGridItemLayoutData"],controls:["sap.ui.layout.AlignedFlowLayout","sap.ui.layout.DynamicSideContent","sap.ui.layout.FixFlex","sap.ui.layout.Grid","sap.ui.layout.HorizontalLayout","sap.ui.layout.ResponsiveFlowLayout","sap.ui.layout.ResponsiveSplitter","sap.ui.layout.ResponsiveSplitterPage","sap.ui.layout.Splitter","sap.ui.layout.VerticalLayout","sap.ui.layout.BlockLayoutCell","sap.ui.layout.BlockLayoutRow","sap.ui.layout.BlockLayout","sap.ui.layout.form.Form","sap.ui.layout.form.FormLayout","sap.ui.layout.form.GridLayout","sap.ui.layout.form.ColumnLayout","sap.ui.layout.form.ResponsiveGridLayout","sap.ui.layout.form.ResponsiveLayout","sap.ui.layout.form.SimpleForm","sap.ui.layout.cssgrid.CSSGrid"],elements:["sap.ui.layout.BlockLayoutCellData","sap.ui.layout.GridData","sap.ui.layout.ResponsiveFlowLayoutData","sap.ui.layout.SplitterLayoutData","sap.ui.layout.form.FormContainer","sap.ui.layout.form.FormElement","sap.ui.layout.form.GridContainerData","sap.ui.layout.PaneContainer","sap.ui.layout.SplitPane","sap.ui.layout.form.GridElementData","sap.ui.layout.form.ColumnElementData","sap.ui.layout.form.ColumnContainerData","sap.ui.layout.cssgrid.GridItemLayoutData"],extensions:{flChangeHandlers:{"sap.ui.layout.BlockLayout":{moveControls:"default"},"sap.ui.layout.BlockLayoutRow":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.BlockLayoutCell":"sap/ui/layout/flexibility/BlockLayoutCell","sap.ui.layout.DynamicSideContent":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.form.SimpleForm":"sap/ui/layout/flexibility/SimpleForm","sap.ui.layout.Grid":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.FixFlex":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.form.Form":"sap/ui/layout/flexibility/Form","sap.ui.layout.form.FormContainer":"sap/ui/layout/flexibility/FormContainer","sap.ui.layout.form.FormElement":"sap/ui/layout/flexibility/FormElement","sap.ui.layout.HorizontalLayout":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.Splitter":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.VerticalLayout":{moveControls:"default",hideControl:"default",unhideControl:"default"}},"sap.ui.support":{publicRules:true,internalRules:true}}});a.BackgroundDesign={Solid:"Solid",Transparent:"Transparent",Translucent:"Translucent"};a.GridIndent=o.createType("sap.ui.layout.GridIndent",{isValid:function(o){return/^(([Xx][Ll](?:[0-9]|1[0-1]))? ?([Ll](?:[0-9]|1[0-1]))? ?([Mm](?:[0-9]|1[0-1]))? ?([Ss](?:[0-9]|1[0-1]))?)$/.test(o)}},o.getType("string"));a.GridPosition={Left:"Left",Right:"Right",Center:"Center"};a.GridSpan=o.createType("sap.ui.layout.GridSpan",{isValid:function(o){return/^(([Xx][Ll](?:[1-9]|1[0-2]))? ?([Ll](?:[1-9]|1[0-2]))? ?([Mm](?:[1-9]|1[0-2]))? ?([Ss](?:[1-9]|1[0-2]))?)$/.test(o)}},o.getType("string"));a.BlockBackgroundType={Default:"Default",Light:"Light",Mixed:"Mixed",Accent:"Accent",Dashboard:"Dashboard"};a.BlockRowColorSets={ColorSet1:"ColorSet1",ColorSet2:"ColorSet2",ColorSet3:"ColorSet3",ColorSet4:"ColorSet4"};a.BlockLayoutCellColorSet={ColorSet1:"ColorSet1",ColorSet2:"ColorSet2",ColorSet3:"ColorSet3",ColorSet4:"ColorSet4",ColorSet5:"ColorSet5",ColorSet6:"ColorSet6",ColorSet7:"ColorSet7",ColorSet8:"ColorSet8",ColorSet9:"ColorSet9",ColorSet10:"ColorSet10",ColorSet11:"ColorSet11"};a.BlockLayoutCellColorShade={ShadeA:"ShadeA",ShadeB:"ShadeB",ShadeC:"ShadeC",ShadeD:"ShadeD",ShadeE:"ShadeE",ShadeF:"ShadeF"};a.form=a.form||{};a.form.GridElementCells=o.createType("sap.ui.layout.form.GridElementCells",{isValid:function(o){return/^(auto|full|([1-9]|1[0-6]))$/.test(o)}},o.getType("string"));a.form.SimpleFormLayout={ResponsiveLayout:"ResponsiveLayout",GridLayout:"GridLayout",ResponsiveGridLayout:"ResponsiveGridLayout",ColumnLayout:"ColumnLayout"};a.SideContentVisibility={AlwaysShow:"AlwaysShow",ShowAboveL:"ShowAboveL",ShowAboveM:"ShowAboveM",ShowAboveS:"ShowAboveS",NeverShow:"NeverShow"};a.SideContentFallDown={BelowXL:"BelowXL",BelowL:"BelowL",BelowM:"BelowM",OnMinimumWidth:"OnMinimumWidth"};a.SideContentPosition={End:"End",Begin:"Begin"};a.form.ColumnsXL=o.createType("sap.ui.layout.form.ColumnsXL",{isValid:function(o){if(o>0&&o<=6){return true}else{return false}}},o.getType("int"));a.form.ColumnsL=o.createType("sap.ui.layout.form.ColumnsL",{isValid:function(o){if(o>0&&o<=4){return true}else{return false}}},o.getType("int"));a.form.ColumnsM=o.createType("sap.ui.layout.form.ColumnsM",{isValid:function(o){if(o>0&&o<=3){return true}else{return false}}},o.getType("int"));a.form.ColumnCells=o.createType("sap.ui.layout.form.ColumnCells",{isValid:function(o){if(o===-1){return true}else if(o>0&&o<=12){return true}else{return false}}},o.getType("int"));a.form.EmptyCells=o.createType("sap.ui.layout.form.EmptyCells",{isValid:function(o){if(o>=0&&o<12){return true}else{return false}}},o.getType("int"));if(!a.GridHelper){a.GridHelper={getLibrarySpecificClass:function(){return""},bFinal:false}}a.cssgrid=a.cssgrid||{};a.cssgrid.CSSGridTrack=o.createType("sap.ui.layout.cssgrid.CSSGridTrack",{isValid:function(o){var e=/(auto|inherit|(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%))|calc\(\s*(\(\s*)*[-+]?(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%)?)(\s*(\)\s*)*(\s[-+]\s|[*\/])\s*(\(\s*)*([-+]?(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%)?)))*\s*(\)\s*)*\))/g;o=o.replace(/(minmax|repeat|fit-content|max-content|min-content|auto-fill|auto-fit|fr|min|max)/g,"");o=o.replace(e,"");o=o.replace(/\(|\)|\+|\-|\*|\/|calc|\%|\,/g,"");o=o.replace(/[0-9]/g,"");o=o.replace(/\s/g,"");return o.length===0},parseValue:function(o){return o.trim().split(/\s+/).join(" ")}},o.getType("string"));a.cssgrid.CSSGridGapShortHand=o.createType("sap.ui.layout.cssgrid.CSSGridGapShortHand",{},o.getType("sap.ui.core.CSSGapShortHand"));a.cssgrid.CSSGridLine=o.createType("sap.ui.layout.cssgrid.CSSGridLine",{isValid:function(o){return/^(auto|inherit|((span)?(\s)?-?[0-9]+(\s\/\s(span)?(\s)?-?[0-9]*)?)?)$/.test(o)}},o.getType("string"));a.cssgrid.CSSGridAutoFlow={Row:"Row",Column:"Column",RowDense:"RowDense",ColumnDense:"ColumnDense"};a.BoxesPerRowConfig=o.createType("sap.ui.layout.BoxesPerRowConfig",{isValid:function(o){return/^(([Xx][Ll](?:[1-9]|1[0-2]))? ?([Ll](?:[1-9]|1[0-2]))? ?([Mm](?:[1-9]|1[0-2]))? ?([Ss](?:[1-9]|1[0-2]))?)$/.test(o)}},o.getType("string"));o.registerEnum("sap.ui.layout.BackgroundDesign",a.BackgroundDesign);o.registerEnum("sap.ui.layout.BlockBackgroundType",a.BlockBackgroundType);o.registerEnum("sap.ui.layout.BlockLayoutCellColorSet",a.BlockLayoutCellColorSet);o.registerEnum("sap.ui.layout.BlockLayoutCellColorShade",a.BlockLayoutCellColorShade);o.registerEnum("sap.ui.layout.BlockRowColorSets",a.BlockRowColorSets);o.registerEnum("sap.ui.layout.GridPosition",a.GridPosition);o.registerEnum("sap.ui.layout.SideContentFallDown",a.SideContentFallDown);o.registerEnum("sap.ui.layout.SideContentPosition",a.SideContentPosition);o.registerEnum("sap.ui.layout.SideContentVisibility",a.SideContentVisibility);o.registerEnum("sap.ui.layout.form.SimpleFormLayout",a.form.SimpleFormLayout);o.registerEnum("sap.ui.layout.cssgrid.CSSGridAutoFlow",a.cssgrid.CSSGridAutoFlow);return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/ClientTreeBindingAdapter", ["sap/ui/model/TreeBinding","sap/ui/model/ClientTreeBinding","./TreeBindingAdapter","sap/ui/model/ChangeReason","sap/base/assert","sap/base/Log"],function(e,t,i,o,r,n){"use strict";var p=function(){if(!(this instanceof e)||this._bIsAdapted){return}i.apply(this);for(var t in p.prototype){if(p.prototype.hasOwnProperty(t)){this[t]=p.prototype[t]}}this._invalidTree=true;this.setNumberOfExpandedLevels(this.mParameters.numberOfExpandedLevels||0)};p.prototype.setNumberOfExpandedLevels=function(e){this._iNumberOfExpandedLevels=parseInt(e)};p.prototype.getNumberOfExpandedLevels=function(){return this._iNumberOfExpandedLevels};p.prototype.nodeHasChildren=function(e){r(e,"TreeBindingAdapter.nodeHasChildren: No node given!");if(!e){return false}else if(e.isArtificial){return true}else{return t.prototype.hasChildren.call(this,e.context)}};p.prototype.resetData=function(e,i){var r=t.prototype.resetData.call(this,e,i);this._aRowIndexMap=[];this._oRootNode=undefined;this._iPageSize=0;this._iThreshold=0;if(!i||i.reason!==o.Sort){this.clearSelection();this._createTreeState(true)}return r};p.prototype._calculateGroupID=function(e){var t=this.getPath();var i;if(e.context){var o=e.context.getPath();if(t!="/"){var r=o.match(t+"(.*)");if(r!=null&&r[1]){i=r[1]}else{n.warning("CTBA: BindingPath/ContextPath matching problem!")}}if(!i){i=o}if(i.startsWith("/")){i=i.substring(1,i.length)}var p;if(!e.parent){p=this._calculateGroupID({context:e.context._parentContext||null})}else{p=e.parent.groupID}i=p+i.replace(/\//g,"_")+"/"}else if(e.context===null){i="/"}return i};p.prototype.expand=function(){this._buildTree();i.prototype.expand.apply(this,arguments)};p.prototype.collapse=function(){this._buildTree();i.prototype.collapse.apply(this,arguments)};p.prototype._buildTree=function(e,t){if(this._invalidTree){e=e||0;t=t||this.getRootContexts().length;this._invalidTree=false;this._aRowIndexMap=[];i.prototype._buildTree.call(this,e,t)}};p.prototype.findNode=function(e){this._buildTree();return i.prototype.findNode.apply(this,arguments)};p.prototype.setSelectedIndex=function(e){this._buildTree();i.prototype.setSelectedIndex.apply(this,arguments)};p.prototype.setSelectionInterval=function(e,t){this._buildTree();i.prototype.setSelectionInterval.apply(this,arguments)};p.prototype.addSelectionInterval=function(){this._buildTree();i.prototype.addSelectionInterval.apply(this,arguments)};p.prototype.removeSelectionInterval=function(){this._buildTree();i.prototype.removeSelectionInterval.apply(this,arguments)};p.prototype.clearSelection=function(){this._buildTree();i.prototype.clearSelection.apply(this,arguments)};p.prototype.selectAll=function(){this._buildTree();i.prototype.selectAll.apply(this,arguments)};p.prototype._calculateRequestLength=function(e,t){return e};p.prototype.getLength=function(){this._buildTree();return i.prototype.getLength.apply(this,arguments)};p.prototype._fireChange=function(){this._invalidTree=true;this.constructor.prototype._fireChange.apply(this,arguments)};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeAutoExpandMode", [],function(){"use strict";var e={Sequential:"Sequential",Bundled:"Bundled"};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingAdapter", ["sap/ui/model/TreeBinding","sap/ui/model/TreeAutoExpandMode","sap/ui/model/ChangeReason","sap/ui/model/TreeBindingUtils","sap/base/assert","sap/base/Log","sap/base/util/each","sap/base/util/isEmptyObject"],function(e,t,i,o,n,r,a,s){"use strict";var d=function(){if(!(this instanceof e)||this._bIsAdapted){return}for(var i in d.prototype){if(d.prototype.hasOwnProperty(i)){this[i]=d.prototype[i]}}this.mParameters=this.mParameters||{};this._aRowIndexMap=[];this._iThreshold=0;this._iPageSize=0;this.setAutoExpandMode(this.mParameters.autoExpandMode||t.Sequential);if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive}this._createTreeState();this._bIsAdapted=true};d.prototype.getCurrentTreeState=function(){var e=";",t;var i={};for(t in this._mTreeState.expanded){i[t]=true}var o={};for(t in this._mTreeState.collapsed){o[t]=true}var n={};for(t in this._mTreeState.selected){n[t]=true}return{_getExpandedList:function(){return Object.keys(i).join(e)},_getCollapsedList:function(){return Object.keys(o).join(e)},_getSelectedList:function(){return Object.keys(n).join(e)},_isExpanded:function(e){return!!i[e]},_isCollapsed:function(e){return!!o[e]},_remove:function(e){delete i[e];delete o[e];delete n[e]}}};d.prototype.setTreeState=function(e){this._oInitialTreeState=e};d.prototype.setAutoExpandMode=function(e){this._autoExpandMode=e};d.prototype.getLength=function(){if(!this._oRootNode){return 0}return this._oRootNode.magnitude};d.prototype.getContextByIndex=function(e){if(this.isInitial()){return undefined}var t=this.findNode(e);return t?t.context:undefined};d.prototype.getNodeByIndex=function(e){if(this.isInitial()){return undefined}if(e>=this.getLength()){return undefined}return this.findNode(e)};d.prototype.findNode=function(e){if(this.isInitial()){return undefined}var t=typeof e;var i;var o=[];if(t==="number"){i=this._aRowIndexMap[e];if(!i){var n=-1;this._match(this._oRootNode,o,1,function(t){if(n===e){return true}n+=1;return false});i=o[0]}}return i};d.prototype._createTreeState=function(e){if(!this._mTreeState||e){this._mTreeState={expanded:{},collapsed:{},selected:{},deselected:{}}}};d.prototype._updateTreeState=function(e){e=e||{};var t=e.expanded?this._mTreeState.expanded:this._mTreeState.collapsed;var i=e.expanded?this._mTreeState.collapsed:this._mTreeState.expanded;var o=this._getNodeState(e.groupID);if(!o){o=e.fallbackNodeState||this._createNodeState({groupID:e.groupID,expanded:e.expanded,sum:e.sum})}delete i[e.groupID];t[e.groupID]=o;o.expanded=e.expanded;return o};d.prototype._createNodeState=function(e){if(!e.groupID){n(false,"To create a node state a group ID is mandatory!");return undefined}var t;var i;if(this._oInitialTreeState){t=this._oInitialTreeState._isExpanded(e.groupID);i=this._oInitialTreeState._isCollapsed(e.groupID);this._oInitialTreeState._remove(e.groupID)}var o=e.expanded||t||false;var r=e.selected||false;var a={groupID:e.groupID,expanded:o,sections:e.sections||[{startIndex:0,length:this._iPageSize}],sum:e.sum||false,selected:r};if(t||i){this._updateTreeState({groupID:e.groupID,fallbackNodeState:a,expanded:t,collapsed:i})}return a};d.prototype._getNodeState=function(e){var t=this._mTreeState.expanded[e];var i=this._mTreeState.collapsed[e];var o=this._mTreeState.selected[e];var n=this._mTreeState.deselected[e];return t||i||o||n};d.prototype._updateNodeSections=function(e,t){var i=this._getNodeState(e);if(!i){n(false,"No Node State for Group ID '"+e+"' found!");return undefined}else if(!t){n(false,"No Section given!");return undefined}else if(t.length<=0){n(false,"The length of the given section must be positive greater than 0.");return undefined}else if(t.startIndex<0){n(false,"The sections start index must be greater/equal to 0.");return undefined}i.sections=o.mergeSections(i.sections,t);return i.sections};d.prototype._increaseSections=function(){var e=function(e){if(!e){return}var t=this._getMaxGroupSize(e);var i=e.nodeState;if(t===undefined){var n=[];for(var r=0;r<i.sections.length;r++){var a=i.sections[r];a.length=Math.max(a.length,this._iPageSize);n=o.mergeSections(n,a)}i.sections=n}};this._map(this._oRootNode,e)};d.prototype._getMaxGroupSize=function(e){var t=0;if(e.isArtificial){var i=this.oModel.isList(this.sPath,this.getContext());if(this.bDisplayRootNode&&!i&&!this._bRootMissing){t=1}else{t=this._getGroupSize(e)||0}}else{t=this.nodeHasChildren(e)?this._getGroupSize(e):0}return t};d.prototype.getContexts=function(e,t,i){return this._getContextsOrNodes(false,e,t,i)};d.prototype._getContextsOrNodes=function(e,t,i,o){var n,r,s=[],d=[];if(!this.isResolved()||this.isInitial()){return[]}t=t||0;i=i||this.oModel.iSizeLimit;o=o||0;if(i>this._iPageSize){this._iPageSize=i;this._increaseSections()}this._iThreshold=Math.max(this._iThreshold,o);this._aRowIndexMap=[];this._buildTree(t,i);if(this._oRootNode){d=this._retrieveNodeSection(this._oRootNode,t,i)}this._updateRowIndexMap(d,t);for(var l=0;l<d.length;l++){r=d[l];if(!r.context){n=n||{};var u=r.parent;n[u.groupID]=u;this._updateNodeSections(u.groupID,{startIndex:r.positionInParent,length:1})}s.push(r.context)}if(n){var h=this;a(n,function(e,t){t.magnitude=0;t.numberOfTotals=0;h._loadChildContexts(t)});s=[];for(var p=0;p<d.length;p++){r=d[p];s.push(r.context)}}if(e){return d}else{return s}};d.prototype.getNodes=function(e,t,i){return this._getContextsOrNodes(true,e,t,i)};d.prototype._updateRowIndexMap=function(e,t){this._aRowIndexMap=[];for(var i=0;i<e.length;i++){this._aRowIndexMap[t+i]=e[i]}};d.prototype._retrieveNodeSection=function(e,t,i){var o=-1;var n=[];this._match(this._oRootNode,[],i,function(e,r,a){if(!e||!e.isArtificial){o++}if(o>=t&&o<t+i){if(!e){e=this._createNode({parent:a,positionInParent:r});a.children[r]=e}n.push(e);return true}return false});return n};d.prototype._buildTree=function(e,t){this._oRootNode=undefined;var i=null;var o=this._calculateGroupID({context:i,parent:null});var n=this._getNodeState(o);if(!n){n=this._createNodeState({groupID:o,sum:true,sections:[{startIndex:e,length:t}]});this._updateTreeState({groupID:n.groupID,fallbackNodeState:n,expanded:true})}this._oRootNode=this._createNode({context:i,parent:null,level:this.bDisplayRootNode&&!(i===null)?0:-1,nodeState:n,isLeaf:false,autoExpand:this.getNumberOfExpandedLevels()+1});this._oRootNode.isArtificial=true;if(this._mTreeState.expanded[this._oRootNode.groupID]){this._loadChildContexts(this._oRootNode)}};d.prototype._calculateRequestLength=function(e,t){var i;if(!e){i=t.length}else{i=Math.max(Math.min(t.length,e-t.startIndex),0)}return i};d.prototype._loadChildContexts=function(e){var i=e.nodeState;var o=this._getMaxGroupSize(e);if(o>0){if(!e.children[o-1]){e.children[o-1]=undefined}i.leafCount=o}if(this.bClientOperation){i.sections=[{startIndex:0,length:o}]}for(var n=0;n<i.sections.length;n++){var r=i.sections[n];var a=this._calculateRequestLength(o,r);if(e.autoExpand>=0&&this._autoExpandMode===t.Bundled){a=Math.max(0,o)}var s;if(e.isArtificial){s=this.getRootContexts(r.startIndex,a,this._iThreshold)}else{s=this.nodeHasChildren(e)?this.getNodeContexts(e.context,r.startIndex,a,this._iThreshold):[]}for(var d=0;d<s.length;d++){var l=s[d];if(!l){continue}var u=d+r.startIndex;var h=e.children[u];var p={context:s[d],parent:e,level:e.level+1,positionInParent:u,autoExpand:Math.max(e.autoExpand-1,-1)};if(h){h.context=p.context;h.parent=p.parent;h.level=p.level;h.positionInParent=p.positionInParent;h.magnitude=0;h.numberOfTotals=0;h.autoExpand=p.autoExpand;var f;if(l){f=this._calculateGroupID(h)}h.groupID=f}else{h=this._createNode(p)}h.nodeState=this._getNodeState(h.groupID);if(!h.nodeState){h.nodeState=this._createNodeState({groupID:h.groupID,expanded:false})}h.nodeState.parentGroupID=e.groupID;h.isLeaf=!this.nodeHasChildren(h);e.children[u]=h;if(h.isLeaf){e.numberOfLeafs+=1}if(h.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[h.groupID]){this.setNodeSelection(h.nodeState,true)}if((h.autoExpand>0||h.nodeState.expanded)&&this.isGrouped()){if(!this._mTreeState.collapsed[h.groupID]&&!h.isLeaf){this._updateTreeState({groupID:h.nodeState.groupID,fallbackNodeState:h.nodeState,expanded:true});this._loadChildContexts(h)}e.magnitude+=Math.max(h.magnitude||0,0);e.numberOfLeafs+=h.numberOfLeafs}}}e.magnitude+=Math.max(o||0,0)};d.prototype.isGrouped=function(){return true};d.prototype._calculateGroupID=function(e){r.error("TreeBindingAdapter#_calculateGroupID: Not implemented. Needs to be implemented in respective sub-classes.")};d.prototype._createNode=function(e){e=e||{};var t=e.context;var i=e.level||0;var o={context:t,level:i,children:e.children||[],parent:e.parent,nodeState:e.nodeState,isLeaf:e.isLeaf||false,positionInParent:e.positionInParent,magnitude:e.magnitude||0,numberOfTotals:e.numberOfTotals||0,numberOfLeafs:e.numberOfLeafs||0,autoExpand:e.autoExpand||0,absoluteNodeIndex:e.absoluteNodeIndex||0,totalNumberOfLeafs:0};if(t!==undefined){o.groupID=this._calculateGroupID(o)}return o};d.prototype.expand=function(e,t){var o=this.findNode(e);if(!o){n(false,"No node found for index "+e);return}this._updateTreeState({groupID:o.nodeState.groupID,fallbackNodeState:o.nodeState,expanded:true});if(!t){this._fireChange({reason:i.Expand})}};d.prototype.expandToLevel=function(e){this._mTreeState.collapsed={};this.setNumberOfExpandedLevels(e);this._fireChange({reason:i.Expand})};d.prototype.isExpanded=function(e){var t=this.findNode(e);return t&&t.nodeState?t.nodeState.expanded:false};d.prototype.collapse=function(e,t){var o;var r=this;if(typeof e==="object"){o=e}else if(typeof e==="number"){var s=this.findNode(e);if(!s){n(false,"No node found for index "+e);return}o=s.nodeState}this._updateTreeState({groupID:o.groupID,fallbackNodeState:o,expanded:false});o.selectAllMode=false;if(this.bCollapseRecursive){var d=o.groupID;a(this._mTreeState.expanded,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)){r._updateTreeState({groupID:e,expanded:false})}});var l=[];a(this._mTreeState.selected,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)&&e!==d){t.selectAllMode=false;r.setNodeSelection(t,false);l.push(e)}});if(l.length){var u={rowIndices:[]};var h=-1;this._map(this._oRootNode,function(e){if(!e||!e.isArtificial){h++}if(e&&l.indexOf(e.groupID)!==-1){if(e.groupID===this._sLeadSelectionGroupID){u.oldIndex=h;u.leadIndex=-1}u.rowIndices.push(h)}});this._publishSelectionChanges(u)}}if(!t){this._fireChange({reason:i.Collapse})}};d.prototype.collapseToLevel=function(e){if(!e||e<0){e=0}var t=this;a(this._mTreeState.expanded,function(i,o){var n=t._getGroupIdLevel(i)-1;if(n===e){t.collapse(o,true)}});if(this.bCollapseRecursive){this.setNumberOfExpandedLevels(e)}this._fireChange({reason:i.Collapse})};d.prototype._map=function(e,t){t.call(this,e);if(!e){return}for(var i=0;i<e.children.length;i++){var o=e.children[i];this._map(o,t)}if(this._afterMapHook){this._afterMapHook(e,t)}};d.prototype._match=function(e,t,i,o,n,r){if(t.length===i){return true}var a=o.call(this,e,n,r);if(a){t.push(e)}if(!e){return false}for(var s=0;s<e.children.length;s++){var d=e.children[s];var l=this._match(d,t,i,o,s,e);if(l){return true}}return this._afterMatchHook?this._afterMatchHook(e,t,i,o,n,r):false};d.prototype.toggleIndex=function(e){var t=this.findNode(e);if(!t){n(false,"There is no node at index "+e+".");return}if(t.nodeState.expanded){this.collapse(e)}else{this.expand(e)}};d.prototype._getGroupIdLevel=function(e){if(e==null){r.warning("assertion failed: no need to determine level of group ID = null");return-1}return e.split("/").length-2};d.prototype._getGroupSize=function(e){return this.getChildCount(e.context)};d.prototype.setNodeSelection=function(e,t){if(!e.groupID){n(false,"NodeState must have a group ID!");return}e.selected=t;if(t){this._mTreeState.selected[e.groupID]=e;delete this._mTreeState.deselected[e.groupID]}else{delete this._mTreeState.selected[e.groupID];this._mTreeState.deselected[e.groupID]=e}};d.prototype.isIndexSelected=function(e){var t=this.getNodeByIndex(e);return t&&t.nodeState?t.nodeState.selected:false};d.prototype.isIndexSelectable=function(e){var t=this.getNodeByIndex(e);return this._isNodeSelectable(t)};d.prototype._isNodeSelectable=function(e){return!!e&&!e.isArtificial};d.prototype.setSelectedIndex=function(e){var t=this.findNode(e);if(t&&this._isNodeSelectable(t)){var i=this._clearSelection();var o=i.rowIndices.indexOf(e);if(o>=0){i.rowIndices.splice(o,1)}else{i.rowIndices.push(e)}i.leadGroupID=t.groupID;i.leadIndex=e;this.setNodeSelection(t.nodeState,true);this._publishSelectionChanges(i)}else{r.warning("TreeBindingAdapter: The selection was ignored. Please make sure to only select rows, for which data has been fetched to the client. For AnalyticalTables, some rows might not be selectable at all.")}};d.prototype.getSelectedIndex=function(){if(!this._sLeadSelectionGroupID||s(this._mTreeState.selected)){return-1}var e=-1;var t=false;var i=function(i){if(!i||!i.isArtificial){e++}if(i){if(i.groupID===this._sLeadSelectionGroupID){t=true;return true}}return false};this._match(this._oRootNode,[],1,i);if(t){return e}return-1};d.prototype.getSelectedIndices=function(){var e=[];var t=this;if(s(this._mTreeState.selected)){return e}var i=Object.keys(this._mTreeState.selected).length;var o=-1;var n=function(i){if(!i||!i.isArtificial){o++}if(i){if(i.nodeState&&i.nodeState.selected&&!i.isArtificial){e.push(o);t._aRowIndexMap[o]=i;return true}}return false};this._match(this._oRootNode,[],i,n);return e};d.prototype.getSelectedNodesCount=function(){var e;if(this._oRootNode&&this._oRootNode.nodeState.selectAllMode){var t,i,o,n;var r,a=[];if(this.filterInfo&&this.oCombinedFilter){for(var s=this.filterInfo.aFilteredContexts.length-1;s>=0;s--){r=this.filterInfo.aFilteredContexts[s];a.push(this._calculateGroupID({context:r}))}}i=0;for(t in this._mTreeState.expanded){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.expanded[t];if(!n.selectAllMode&&n.leafCount!==undefined){i+=n.leafCount}}}for(t in this._mTreeState.selected){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.selected[t];o=this._mTreeState.expanded[n.parentGroupID];if(o&&!o.selectAllMode){i--}}}for(t in this._mTreeState.deselected){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.deselected[t];o=this._mTreeState.expanded[n.parentGroupID];if(o&&o.selectAllMode){i++}}}e=this._getSelectableNodesCount(this._oRootNode)-i}else{e=Object.keys(this._mTreeState.selected).length}return e};d.prototype._getSelectableNodesCount=function(e){if(e){return e.magnitude}else{return 0}};d.prototype.getSelectedContexts=function(){var e=[];var t=this;if(s(this._mTreeState.selected)){return e}var i=Object.keys(this._mTreeState.selected).length;var o=-1;var n=function(i){if(!i||!i.isArtificial){o++}if(i){if(i.nodeState&&i.nodeState.selected&&!i.isArtificial){e.push(i.context);t._aRowIndexMap[o]=i;return true}}return false};this._match(this._oRootNode,[],i,n);return e};d.prototype.setSelectionInterval=function(e,t){var i,o,n=this._clearSelection(),r={},a=[],s=this._setSelectionInterval(e,t,true);for(i=0;i<n.rowIndices.length;i++){o=n.rowIndices[i];r[o]=true}for(i=0;i<s.rowIndices.length;i++){o=s.rowIndices[i];if(r[o]){delete r[o]}else{r[o]=true}}for(o in r){if(r[o]){a.push(parseInt(o))}}this._publishSelectionChanges({rowIndices:a,oldIndex:n.oldIndex,leadIndex:s.leadIndex,leadGroupID:s.leadGroupID})};d.prototype._setSelectionInterval=function(e,t,i){var o=Math.min(e,t);var n=Math.max(e,t);var r=[];var a=[];var s=Math.abs(n-o)+1;var d;var l=-1;var u=function(e){if(!e||!e.isArtificial){l++}if(e){if(l>=o&&l<=n){if(this._isNodeSelectable(e)){if(e.nodeState.selected!==!!i){a.push(l)}if(e.groupID===this._sLeadSelectionGroupID){d=l}this.setNodeSelection(e.nodeState,!!i)}return true}}return false};this._match(this._oRootNode,r,s,u);var h={rowIndices:a,oldIndex:d,leadIndex:d&&!i?-1:undefined};if(r.length>0&&i){var p=r[r.length-1];h.leadGroupID=p.groupID;h.leadIndex=n}return h};d.prototype.addSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,true);this._publishSelectionChanges(i)};d.prototype.removeSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,false);this._publishSelectionChanges(i)};d.prototype.selectAll=function(){this._mTreeState.deselected={};var e={rowIndices:[],oldIndex:-1,selectAll:true};var t=-1;this._map(this._oRootNode,function(i){if(!i||!i.isArtificial){t++}if(i){if(i.groupID===this._sLeadSelectionGroupID){e.oldIndex=t}if(this._isNodeSelectable(i)){if(i.nodeState.selected!==true){e.rowIndices.push(t)}this.setNodeSelection(i.nodeState,true);e.leadGroupID=i.groupID;e.leadIndex=t}if(i.nodeState.expanded){i.nodeState.selectAllMode=true}}});this._publishSelectionChanges(e)};d.prototype._clearSelection=function(){var e=-1;var t=-1;var i;var o=[];if(this._oRootNode&&!this._oRootNode.nodeState.selectAllMode){i=0;for(var n in this._mTreeState.selected){if(n){i++}}}var r=function(i){if(!i||!i.isArtificial){e++}if(i){i.nodeState.selectAllMode=false;if(this._mTreeState.selected[i.groupID]){if(!i.isArtificial){o.push(e)}this.setNodeSelection(i.nodeState,false);if(i.groupID===this._sLeadSelectionGroupID){t=e}return true}}return false};this._match(this._oRootNode,[],i,r);if(this._oRootNode&&this._oRootNode.nodeState&&this._oRootNode.isArtificial){this._oRootNode.nodeState.selectAllMode=false}return{rowIndices:o,oldIndex:t,leadIndex:-1}};d.prototype.clearSelection=function(e){var t=this._clearSelection();if(!e){this._publishSelectionChanges(t)}};d.prototype._publishSelectionChanges=function(e){e.oldIndex=e.oldIndex||this.getSelectedIndex();e.rowIndices.sort(function(e,t){return e-t});if(e.leadIndex>=0&&e.leadGroupID){this._sLeadSelectionGroupID=e.leadGroupID}else if(e.leadIndex===-1){this._sLeadSelectionGroupID=undefined}else{e.leadIndex=e.oldIndex}if(e.rowIndices.length>0||e.leadIndex!=undefined&&e.leadIndex!==-1){this.fireSelectionChanged(e)}};d.prototype.setCollapseRecursive=function(e){this.bCollapseRecursive=!!e};d.prototype.getCollapseRecursive=function(){return this.bCollapseRecursive};d.prototype.attachSelectionChanged=function(e,t,i){this.attachEvent("selectionChanged",e,t,i);return this};d.prototype.detachSelectionChanged=function(e,t){this.detachEvent("selectionChanged",e,t);return this};d.prototype.fireSelectionChanged=function(e){this.fireEvent("selectionChanged",e);return this};return d},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingCompatibilityAdapter", ["sap/base/util/each"],function(t){"use strict";var e=function(e,n){Object.assign(e,{_init:function(t){this._bExpandFirstLevel=t;this.mContextInfo={};this._initContexts();if(t&&!this._bFirstLevelExpanded){this._expandFirstLevel()}},_initContexts:function(t){this.aContexts=this.getRootContexts(0,Number.MAX_VALUE);for(var e=0,n=this.aContexts.length;e<n;e++){var i=this._getContextInfo(this.aContexts[e]);this._setContextInfo({oContext:this.aContexts[e],iLevel:0,bExpanded:i?i.bExpanded:false})}if(this._bExpandFirstLevel&&!this._bFirstLevelExpanded){this._expandFirstLevel(t)}},_expandFirstLevel:function(e){var n=this;if(this.aContexts&&this.aContexts.length>0){t(this.aContexts.slice(),function(t,i){if(!e){n._loadChildContexts(i)}n._getContextInfo(i).bExpanded=true});this._bFirstLevelExpanded=true}},_fnFireFilter:e._fireFilter,_fireFilter:function(){this._fnFireFilter.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts)},_fnFireChange:e._fireChange,_fireChange:function(){this._fnFireChange.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts)},_restoreContexts:function(e){var n=this;var i=[];t(e.slice(),function(t,e){var o=n._getContextInfo(e);if(o&&o.bExpanded){i.push.apply(i,n._loadChildContexts(e))}});if(i.length>0){this._restoreContexts(i)}},_loadChildContexts:function(t){var e=this._getContextInfo(t);var n=this.aContexts?this.aContexts.indexOf(t):-1;var i=this.getNodeContexts(t,0,Number.MAX_VALUE);for(var o=0,s=i.length;o<s;o++){this.aContexts.splice(n+o+1,0,i[o]);var a=this._getContextInfo(i[o]);this._setContextInfo({oParentContext:t,oContext:i[o],iLevel:e.iLevel+1,bExpanded:a?a.bExpanded:false})}return i},_getContextInfo:function(t){return t?this.mContextInfo[t.getPath()]:undefined},_setContextInfo:function(t){if(t&&t.oContext){this.mContextInfo[t.oContext.getPath()]=t}},getLength:function(){return this.aContexts?this.aContexts.length:0},getContexts:function(t,e){return this.aContexts.slice(t,t+e)},getNodes:function(t,e){var n=this.getContexts(t,t+e);var i=[];for(var o=0;o<n.length;o++){var s=this._getContextInfo(n[o])||{};var a=n[o];i.push({context:a,level:s.iLevel,parent:s.oParentContext,nodeState:{expanded:s.bExpanded,collapsed:!s.bExpanded,selected:false}})}return i},hasChildren:function(){return true},nodeHasChildren:function(){return true},getContextByIndex:function(t){return this.aContexts[t]},getLevel:function(t){var e=this._getContextInfo(t);return e?e.iLevel:-1},isExpanded:function(t){var e=this.getContextByIndex(t);var n=this._getContextInfo(e);return n?n.bExpanded:false},expandContext:function(t){var e=this._getContextInfo(t);if(e&&!e.bExpanded){this.storeSelection();this._loadChildContexts(t);e.bExpanded=true;this._fireChange();this.restoreSelection()}},expand:function(t){this.expandContext(this.getContextByIndex(t))},collapseContext:function(t,e){var n=this._getContextInfo(t);if(n&&n.bExpanded){this.storeSelection();for(var i=this.aContexts.length-1;i>0;i--){if(this._getContextInfo(this.aContexts[i]).oParentContext===t){this.aContexts.splice(i,1)}}n.bExpanded=false;if(!e){this._fireChange()}this.restoreSelection()}},collapse:function(t){this.collapseContext(this.getContextByIndex(t))},collapseToLevel:function(t){if(!t||t<0){t=0}var e=this.aContexts.slice();for(var n=e.length-1;n>=0;n--){var i=this.getLevel(e[n]);if(i!=-1&&i>=t){this.collapseContext(e[n],true)}}this._fireChange()},toggleContext:function(t){var e=this._getContextInfo(t);if(e){if(e.bExpanded){this.collapseContext(t)}else{this.expandContext(t)}}},toggleIndex:function(t){this.toggleContext(this.getContextByIndex(t))},storeSelection:function(){var e=n.getSelectedIndices();var i=[];t(e,function(t,e){i.push(n.getContextByIndex(e))});this._aSelectedContexts=i},restoreSelection:function(){n.clearSelection();var e=this._aSelectedContexts;t(this.aContexts,function(t,i){if((e?e.indexOf(i):-1)>=0){n.addSelectionInterval(t,t)}});this._aSelectedContexts=undefined},attachSelectionChanged:function(){return undefined},detachSelectionChanged:function(){},clearSelection:function(){n._oSelection.clearSelection()},attachSort:function(){},detachSort:function(){}});e._init(n.getExpandFirstLevel())};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingUtils", function(){"use strict";var i=function(){};i.mergeSections=function(i,e){var t=[];for(var r=0;r<i.length;r++){var n=i[r];var s=n.startIndex+n.length;var a=e.startIndex+e.length;if(e.startIndex<=s&&a>=s&&e.startIndex>=n.startIndex){e.startIndex=n.startIndex;e.length=a-n.startIndex}else if(e.startIndex<=n.startIndex&&a>=n.startIndex&&a<=s){e.length=s-e.startIndex}else if(e.startIndex>=n.startIndex&&a<=s){e.startIndex=n.startIndex;e.length=n.length}else if(a<n.startIndex||e.startIndex>s){t.push(n)}}t.push(e);return t};i._determineRequestDelta=function(i,e){var t=i.iSkip+i.iTop;var r=e.iSkip+e.iTop;if(i.iSkip===e.iSkip&&i.iTop===e.iTop){return false}else if(i.iSkip<e.iSkip&&t>e.iSkip&&t<=r){i.iTop=e.iSkip-i.iSkip;if(i.iThreshold){i.iTop=i.iTop+i.iThreshold;i.iSkip=Math.max(0,i.iSkip-i.iThreshold);i.iThreshold=0}}else if(i.iSkip<r&&t>r&&i.iSkip>=e.iSkip){i.iSkip=r;i.iTop=t-i.iSkip;if(i.iThreshold){i.iTop+=i.iThreshold;i.iThreshold=0}}else if(i.iSkip>=e.iSkip&&t<=r){return false}else if(i.iSkip<=e.iSkip&&t>=r){e.oRequestHandle.abort()}else if(t<=e.iSkip||i.iSkip>=r){}return undefined};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/_Helper", ["sap/base/security/encodeURL","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/extend","sap/base/util/isPlainObject","sap/base/util/merge"],function(e,a,s,i,t,l){"use strict";var n={deepClone:a,deepEqual:s,encodeURL:e,extend:i,isPlainObject:t,merge:l};return n},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/base/ManagedObjectModel", ["../json/JSONModel","../json/JSONPropertyBinding","../json/JSONListBinding","sap/ui/base/ManagedObject","sap/ui/base/ManagedObjectObserver","../Context","../ChangeReason","sap/base/util/uid","sap/base/Log","sap/base/util/isPlainObject","sap/base/util/deepClone","sap/base/util/deepEqual"],function(e,t,i,r,n,s,a,o,g,f,p,h){"use strict";var u="@custom",d="--";function l(e,t,i,n){var s=i.get(t)||[],a,o;if(s&&!Array.isArray(s)&&!i.multiple){s=[s]}for(var g=0;g<s.length;g++){a=s[g];if(!(a instanceof r)){continue}o=true;if(n){e._oObserver.observe(a,{properties:true,aggregations:true})}else{e._oObserver.unobserve(a,{properties:true,aggregations:true})}var f=a.getMetadata().getAllAggregations();for(var p in f){l(e,a,f[p],n)}}if(o){var p=t.getId()+"/@"+i.name;if(n){if(!e._mObservedCount.aggregations[p]){e._mObservedCount.aggregations[p]=0}e._mObservedCount.aggregations[p]++}else{delete e._mObservedCount.aggregations[p]}}}function c(e){var t,i=e.length-1,n=[];while(!(e[i].node instanceof r)){if(t){n.splice(0,0,t)}t=e[i].path;i--}return[e[i].node,e[i+1],n,t]}function v(e){var t="",i;var n=typeof e;if(e==null||n!="object"&&n!="function"){t=e}else if(f(e)){t=JSON.stringify(e)}else if(e instanceof r){t=e.getId();for(i in e.mProperties){t=t+"$"+v(e.mProperties[i])}}else if(Array.isArray(e)){for(var s=0;e.length;s++){t=t+"$"+v(e)}}else{g.warning("Could not stringify object "+e);t="$"}return t}var b=i.extend("sap.ui.model.base.ManagedObjectModelAggregationBinding",{constructor:function(e,t,r,n,s,a){i.apply(this,arguments);this._getOriginOfManagedObjectModelBinding()},_mightBeAffectedByChangesInside:function(e){while(e){if(e.getParent()===this._oOriginMO){return true}e=e.getParent()}return false},getEntryKey:function(e){var t=e.getObject();if(t instanceof r){return t.getId()}return i.prototype.getEntryData.apply(this,arguments)},getEntryData:function(e){var t=e.getObject();if(t instanceof r){return v(t)}return i.prototype.getEntryData.apply(this,arguments)},_getContexts:function(e,t){var r;if(e<0){var n=this.getLength();e=n+e;if(e<0){e=0}}if(this._oAggregation){var s=this._oOriginMO.getBinding(this._sMember);if(s){var a=s.getModel();r=a.iSizeLimit}var o=this._oOriginMO.getBindingInfo(this._sMember);if(o&&e>=0&&t&&r&&t>r){var g=false;if(e!=o.startIndex){o.startIndex=e;g=true}if(t!=o.length){o.length=t;g=true}if(g){this._oAggregation.update(this._oOriginMO,"change")}}}return i.prototype._getContexts.apply(this,[e,t])},_getOriginOfManagedObjectModelBinding:function(){if(!this._oOriginMO){var e=this.oModel,t=[];e._getObject(this.sPath,this.oContext,t);var i=c(t);this._oOriginMO=i[0];this._aPartsInJSON=i[2];this._sMember=i[3];this._oAggregation=this._oOriginMO.getMetadata().getAggregation(this._sMember)}},getLength:function(){if(this._aPartsInJSON.length==0){var e=this._oOriginMO.getBinding(this._sMember);if(e&&e.isA("sap.ui.model.ListBinding")){return e.getLength()}}return i.prototype.getLength.apply(this,arguments)},isLengthFinal:function(){if(this._aPartsInJSON.length==0){var e=this._oOriginMO.getBinding(this._sMember);if(e&&e.isA("sap.ui.model.ListBinding")){return e.isLengthFinal()}}return true}});var y=t.extend("sap.ui.model.base.ManagedObjectModelPropertyBinding");var O=e.extend("sap.ui.model.base.ManagedObjectModel",{constructor:function(t,i){if(!i&&typeof i!="object"){i={}}i[u]={};this._oObject=t;this._mObservedCount={properties:{},aggregations:{}};this.mListBinding={};e.apply(this,[i]);this._oObserver=new n(this.observerChanges.bind(this));this.setSizeLimit(1e6)}});O.prototype.getAggregation=e.prototype.getProperty;O.prototype.setData=function(t,i){var r={};r[u]=t;e.prototype.setData.apply(this,[r,i])};O.prototype.getJSON=function(){return JSON.stringify(this.oData[u])};O.prototype.setProperty=function(t,i,n,s){var a=this.resolve(t,n),o,f,d;if(!a){return false}if(a.indexOf("/"+u)===0){return e.prototype.setProperty.apply(this,arguments)}o=a.lastIndexOf("/");f=a.substring(0,o||1);d=a.substr(o+1);var l=[],v=this._getObject(f,null,l);if(v){if(v instanceof r){var b=v.getMetadata().getManagedProperty(d);if(b){if(!h(b.get(v),i)){b.set(v,i);var y=function(e){var t=this.resolve(e.sPath,e.oContext);return t?t.startsWith(a):false}.bind(this);this.checkUpdate(false,s,y);return true}}else{g.warning("The setProperty method only supports properties, the path "+a+" does not point to a property",null,"sap.ui.model.base.ManagedObjectModel")}}else if(v[d]!==i){var O=c(l);var _=p(O[1].node),m=O[2];var M=_;for(var C=0;C<m.length;C++){M=M[m[C]]}M[d]=i;var j="/"+d;if(m.length>0){j="/"+m.join("/")+j}var A=a.lastIndexOf(j);var B=a.substr(0,A);return this.setProperty(B,_,n)}}return false};O.prototype.addBinding=function(t){e.prototype.addBinding.apply(this,arguments);if(t instanceof b){var i=t.sPath.replace("/","");this.mListBinding[i]=t}t.checkUpdate(false)};O.prototype.removeBinding=function(t){e.prototype.removeBinding.apply(this,arguments);if(t instanceof b){var i=t.sPath.replace("/","");delete this.mListBinding[i]}this._observeBeforeEvaluating(t,false)};O.prototype.firePropertyChange=function(t){if(t.reason===a.Binding){t.resolvedPath=this.resolve(t.path,t.context)}e.prototype.firePropertyChange.call(this,t)};O.prototype.bindAggregation=function(t,i,r){return e.prototype.bindProperty.apply(this,arguments)};O.prototype.bindProperty=function(e,t,i){var r=new y(this,e,t,i);return r};O.prototype.bindList=function(e,t,i,r,n){var s=new b(this,e,t,i,r,n);return s};O.prototype.getManagedObject=function(e,t){if(e instanceof s){t=e;e=t.getPath()}var i=this.getProperty(e,t);if(i instanceof r){return i}return null};O.prototype.getRootObject=function(){return this._oObject};O.prototype._observePropertyChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;if(!this._oObserver.isObserved(e,{properties:[t.name]})){this._oObserver.observe(e,{properties:[t.name]});this._mObservedCount.properties[i]=1}else{this._mObservedCount.properties[i]++}};O.prototype._unobservePropertyChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;this._mObservedCount.properties[i]--;if(this._mObservedCount.properties[i]==0){this._oObserver.unobserve(e,{properties:[t.name]});delete this._mObservedCount.properties[i]}};O.prototype._observeAggregationChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;if(!this._oObserver.isObserved(e,{aggregations:[t.name]})){this._oObserver.observe(e,{aggregations:[t.name]});this._mObservedCount.aggregations[i]=1;l(this,e,t,true)}else{this._mObservedCount.aggregations[i]++}};O.prototype._unobserveAggregationChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;this._mObservedCount.aggregations[i]--;if(this._mObservedCount.aggregations[i]==0){this._oObserver.unobserve(e,{aggregations:[t.name]});delete this._mObservedCount.aggregations[i]}};O.prototype._createId=function(e){var t=this._oObject;if(typeof t.createId==="function"){return t.createId(e)}if(!e){return t.getId()+d+o()}if(e.indexOf(t.getId()+d)!=0){return t.getId()+d+e}return e};O.prototype._getSpecialNode=function(e,t,i,n){if(e instanceof r){if(t==="className"){if(e.getMetadata){return e.getMetadata().getName()}else{return typeof e}}else if(t==="id"){return e.getId()}else if(t==="metadataContexts"){return e._oProviderData}}else if(t==="binding"&&i&&n){return i.getBinding(n)}else if(t==="bound"&&i&&n){return i.isBound(n)}else if(t==="bindingInfo"&&i&&n){return i.getBindingInfo(n)}else if(Array.isArray(e)){if(t==="length"){return e.length}else if(t.indexOf("id=")===0){var s=t.substring(3),a=null;for(var o=0;o<e.length;o++){if(e[o].getId()===this._createId(s)||e[o].getId()===s){a=e[o];break}}return a}}return null};O.prototype._getObject=function(t,i,n){var a=this._oObject,o="",g=this;if(n){n.push({path:"/",node:a})}this.aBindings.forEach(function(e){if(!e._bAttached){g._observeBeforeEvaluating(e,true)}});if(typeof t==="string"&&t.indexOf("/")!=0&&!i){return null}if(i instanceof r){a=i;o=t}else if(!i||i instanceof s){o=this.resolve(t,i);if(!o){return a}if(o.indexOf("/"+u)===0){return e.prototype._getObject.apply(this,[t,i])}}else{a=i;o=t}if(!a){return null}var p=o.split("/"),h=0;if(!p[0]){h++}var d=null,l=null,c;while(a!==null&&p[h]){c=p[h];if(c=="id"){c="@id"}if(c.indexOf("@")===0){a=this._getSpecialNode(a,c.substring(1),d,l)}else if(a instanceof r){var v=a.getMetadata();if(v.isInstanceOf("sap.ui.core.IDScope")&&c.indexOf("#")===0){a=a.byId(c.substring(1))}else{d=a;l=c;var b=v.getManagedProperty(c);if(b){a=b.get(a)}else{var y=v.getManagedAggregation(c);if(y){a=y.get(a)}else{if(a&&a[c]&&typeof a[c]==="function"){a=a[c]()}else{a=null}}}}}else if(Array.isArray(a)||f(a)){a=a[c]}else{if(a&&a[c]&&typeof a[c]==="function"){a=a[c]()}else{a=null}}if(n){n.push({path:c,node:a})}h++}return a};O.prototype.destroy=function(){for(var t in this._mAggregationObjects){var i=this._mAggregationObjects[t];if(i.object.invalidate.fn){i.object.invalidate=i.object.invalidate.fn}}e.prototype.destroy.apply(this,arguments)};O.prototype._observeBeforeEvaluating=function(e,t){if(!e.isResolved()){return}var i=e.getPath();var n=e.getContext(),a=this._oObject,o;if(n instanceof r){a=n;o=i}else if(!n||n instanceof s){o=this.resolve(i,n);if(!o){return}if(o.indexOf("/"+u)===0){return}}else{return}var g=o.split("/");if(!g[0]){g.shift()}var f=g[0];if(a.getMetadata().isInstanceOf("sap.ui.core.IDScope")&&f.indexOf("#")===0){a=a.byId(f.substring(1));f=g[1]}if(a instanceof r){var p=a.getMetadata(),h=p.getManagedProperty(f);if(h){if(t===true){this._observePropertyChange(a,h)}else if(t===false){this._unobservePropertyChange(a,h)}}else{var d=p.getAggregation(f)||p.getAllPrivateAggregations()[f];if(d){if(t===true){this._observeAggregationChange(a,d)}else if(t===false){this._unobserveAggregationChange(a,d)}}}e._bAttached=t}};O.prototype.observerChanges=function(e){if(e.type=="aggregation"){var t={};if(e.child instanceof r){t=e.child.getMetadata().getAllAggregations()}if(e.mutation=="insert"){if(e.child instanceof r){this._oObserver.observe(e.child,{properties:true,aggregations:true})}for(var i in t){l(this,e.child,t[i],true)}if(this.mListBinding[e.name]){var n=this._oObject.getBinding(e.name);var s=this._oObject.getAggregation(e.name);if(n&&n.getCurrentContexts().length!=s.length){return}}}else{if(e.child instanceof r){this._oObserver.unobserve(e.child,{properties:true,aggregations:true})}for(var i in t){l(this,e.child,t[i],false)}}}else if(e.type==="property"){this.aBindings.forEach(function(t){if(t._mightBeAffectedByChangesInside&&t._mightBeAffectedByChangesInside(e.object)){t.checkUpdate(true)}})}var a;if(e.object===this._oObject){a=function(t){var i=this.resolve(t.sPath,t.oContext);return i?i.startsWith("/"+e.name):true}.bind(this)}this.checkUpdate(false,false,a)};O.prototype.checkUpdate=function(e,t,i){if(t){this.bForceUpdate=this.bForceUpdate||e;if(!this.sUpdateTimer){this.fnFilter=this.fnFilter||i;this.sUpdateTimer=setTimeout(function(){this.checkUpdate(this.bForceUpdate,false,this.fnFilter)}.bind(this),0)}else if(this.fnFilter&&this.fnFilter!==i){this.fnFilter=undefined}return}e=this.bForceUpdate||e;if(this.sUpdateTimer){clearTimeout(this.sUpdateTimer);this.sUpdateTimer=null;this.bForceUpdate=undefined;i=this.fnFilter===i?i:undefined;this.fnFilter=undefined}var r=this.getBindings();r.forEach(function(t){if(!i||i(t)){t.checkUpdate(e)}})};return O});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/controlhelper/TreeBindingProxy", ["sap/base/assert","sap/base/Log"],function(e,t){"use strict";var n=function(e,t){this._oControl=e;this._sAggregation=t;var n=new URLSearchParams(window.location.search);this._bEnableV4=n.get("sap-ui-xx-v4tree")==="true"};n.prototype.isTreeBinding=function(){var e=this._oControl.getModel(this._oControl.getBindingInfo(this._sAggregation).model);if(e.isA("sap.ui.model.odata.v4.ODataModel")){return false}return true};n.prototype.isLeaf=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return true;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return false}var r=this.getContextByIndex(e);return r?r.getProperty("@$ui5.node.isExpanded")===undefined:true;default:var o=this.getNodeByIndex(e);return!n.nodeHasChildren(o)}};n.prototype.getNodeByIndex=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);var r=null;if(e<0){return r}switch(i){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported")}else{r=this.getContextByIndex(e)}break;default:r=n.getNodeByIndex(e)}return r||null};n.prototype.getContextByIndex=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);var r=null;if(e<0){return r}switch(i){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported")}else{r=n.getContexts(e,1,0,true)[0]}break;default:r=n.getContextByIndex(e)}return r||null};n.prototype.isExpanded=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return false;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return false}var r=this.getContextByIndex(e);return r?!!r.getProperty("@$ui5.node.isExpanded"):false;default:return n?n.isExpanded(e):false}};n.prototype.expand=function(e){var n=this._oControl.getBinding();var o=this._getBindingName(n);var a={proxy:this,binding:n,indices:e,expanded:true};if(typeof a.indices==="number"){a.indices=[e]}switch(o){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}r(a);break;default:i(a)}};n.prototype.collapse=function(e){var n=this._oControl.getBinding();var o=this._getBindingName(n);var a={proxy:this,binding:n,indices:e,expanded:false};if(typeof a.indices==="number"){a.indices=[e]}switch(o){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}r(a);break;default:i(a)}};function i(e){var t=e.indices.filter(function(t){return t>=0&&t<e.binding.getLength()&&!e.proxy.isLeaf(t)&&e.expanded!==e.proxy.isExpanded(t)}).sort(function(e,t){return e-t});if(t.length===0){return}for(var n=t.length-1;n>0;n--){if(e.expanded){e.binding.expand(t[n],true)}else{e.binding.collapse(t[n],true)}}if(e.expanded){e.binding.expand(t[0],false)}else{e.binding.collapse(t[0],false)}}function r(e){for(var t=0;t<e.indices.length;t++){var n=e.proxy.getContextByIndex(e.indices[t]);if(n){if(e.expanded){n.expand()}else{n.collapse()}}}}n.prototype.toggleExpandedState=function(e){if(this.isExpanded(e)){this.collapse(e)}else{this.expand(e)}};n.prototype.getContexts=function(e,n,i,r){var a=this._oControl.getBinding();var s=this._getBindingName(a);var d=[];switch(s){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return[]}d=a.getContexts(e,n,i,r);d.forEach(function(e){if(!e){return}e._mProxyInfo={};e._mProxyInfo.level=o(e,false);e._mProxyInfo.isLeaf=e.getProperty("@$ui5.node.isExpanded")===undefined;e._mProxyInfo.isExpanded=!!e.getProperty("@$ui5.node.isExpanded")},this);break;default:var p=a?a.getNodes(e,n,i):[];p.forEach(function(t,n){if(!t){return}var i=n+e;var r=t.context;if(r){r._mProxyInfo={};if(t.nodeState){r._mProxyInfo.nodeState=t.nodeState}r._mProxyInfo.level=o(t,true);r._mProxyInfo.isLeaf=!a.nodeHasChildren(t);r._mProxyInfo.isExpanded=a.isExpanded(i);d.push(t.context)}},this);break}return d};function o(e,t){if(e){return t?e.level+1:e.getProperty("@$ui5.node.level")}}function a(e,t){const n=e.getAggregation()?.expandTo===t;if(n){e.refresh()}else{e.setAggregation({...e.getAggregation(),...{expandTo:t}})}}n.prototype.collapseAll=function(){var e=this._oControl.getBinding();var n=this._getBindingName(e);switch(n){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}a(e,1);break;default:e.collapseToLevel(0)}};n.prototype.expandToLevel=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}a(i,n);break;default:if(i.expandToLevel){i.expandToLevel(n)}else{e(i.expandToLevel,"Expanding all nodes to a certain level"+" is not supported with your current binding.")}}};n.prototype.setRootLevel=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}throw Error("Setting the root level is not supported with your current binding.");default:if(i.setRootLevel){i.setRootLevel(n)}else{e(i.setRootLevel,"Setting the root level is not supported with"+" your current binding.")}}};n.prototype.setCollapseRecursive=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}throw Error("Setting 'collapseRecursive' is not supported with your"+" current binding.");default:if(i.setCollapseRecursive){i.setCollapseRecursive(n)}else{e(i.setCollapseRecursive,"Setting 'collapseRecursive' is"+" not supported with your current binding.")}}};n.prototype.getLevel=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return undefined;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return 0}var r=this.getContextByIndex(e);return o(r,false);default:var a=this.getNodeByIndex(e);return o(a,true)}};n.prototype.getSiblingCount=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return 0;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return 0}throw Error("The number of siblings of a node cannot be determined"+" with your current binding.");default:var r=this.getNodeByIndex(e);return r&&r.parent?r.parent.children.length:0}};n.prototype.getPositionInParent=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return-1;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return-1}throw Error("The position of a node in its parent cannot be determined"+" with your current binding.");default:var r=this.getNodeByIndex(e);return r?r.positionInParent:-1}};n.prototype.isSelectionSupported=function(){var e=this._oControl.getBinding();var t=this._getBindingName(e);switch(t){case undefined:case"sap.ui.model.odata.v4.ODataListBinding":return false;default:return true}};n.prototype.applyLegacySettingsToBindingInfo=function(e,t){if(!e.parameters){e.parameters={}}if(!("rootLevel"in e.parameters)&&t.rootLevel!==undefined){e.parameters.rootLevel=t.rootLevel}if(!("collapseRecursive"in e.parameters)&&t.collapseRecursive!==undefined){e.parameters.collapseRecursive=t.collapseRecursive}if(!("numberOfExpandedLevels"in e.parameters)&&t.numberOfExpandedLevels!==undefined){e.parameters.numberOfExpandedLevels=t.numberOfExpandedLevels}};n.prototype._getBindingName=function(t){e(t,"Control does not have a binding.");return t?t.getMetadata().getName():undefined};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONListBinding", ["sap/base/Log","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/base/util/each","sap/base/util/extend","sap/ui/model/ChangeReason","sap/ui/model/ClientListBinding"],function(t,e,s,i,a,h,n){"use strict";var o=n.extend("sap.ui.model.json.JSONListBinding");o.prototype.updateIndices=function(){var t;this.aIndices=[];if(Array.isArray(this.oList)){for(t=0;t<this.oList.length;t++){this.aIndices.push(t)}}else{for(t in this.oList){this.aIndices.push(t)}}};o.prototype.update=function(){var t=this.oModel._getObject(this.sPath,this.oContext);if(t){if(Array.isArray(t)){if(this.bUseExtendedChangeDetection){this.oList=s([],t)}else{this.oList=t.slice(0)}}else{this.oList=this.bUseExtendedChangeDetection?s({},t):a({},t)}this.updateIndices();this.applyFilter();this.applySort();this.iLength=this._getLength()}else{this.oList=[];this.aIndices=[];this.iLength=0}};o.prototype.checkUpdate=function(t){var s;if(this.bSuspended&&!this.bIgnoreSuspend&&!t){return}if(!this.bUseExtendedChangeDetection){s=this.oModel._getObject(this.sPath,this.oContext)||[];if(!e(this.oList,s)||t){this.update();this._fireChange({reason:h.Change})}}else{var a=false;var n=this;s=this.oModel._getObject(this.sPath,this.oContext)||[];if(this.oList.length!=s.length){a=true}if(!e(this.oList,s)){this.update()}var o=this._getContexts(this.iLastStartIndex,this.iLastLength);if(this.aLastContexts){if(this.aLastContexts.length!=o.length){a=true}else{i(this.aLastContextData,function(t,e){var s=n.getContextData(o[t]);if(s!==e){a=true;return false}return true})}}else{a=true}if(a||t){this._fireChange({reason:h.Change})}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONModel", ["./JSONListBinding","./JSONPropertyBinding","./JSONTreeBinding","sap/base/Log","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/ui/model/ClientModel","sap/ui/model/Context"],function(e,t,r,i,s,o,n,a){"use strict";var u=n.extend("sap.ui.model.json.JSONModel",{constructor:function(e,t){this.pSequentialImportCompleted=Promise.resolve();n.apply(this,arguments);this.bObserve=t;if(e&&typeof e=="object"){this.setData(e)}},metadata:{publicMethods:["setJSON","getJSON"]}});u.prototype.setData=function(e,t){if(t){this.oData=s(Array.isArray(this.oData)?[]:{},this.oData,e)}else{this.oData=e}if(this.bObserve){this.observeData()}this.checkUpdate()};u.prototype.observeData=function(){var e=this;function t(e){return function(){return e}}function r(t,r){return function(i){s(i,t,r);e.checkUpdate()}}function i(e,i,s){if(typeof s=="function"){e[i]=s}else{Object.defineProperty(e,i,{get:t(s),set:r(e,i)})}}function s(e,t,r){var n;if(Array.isArray(e)){for(n=0;n<e.length;n++){s(e[n],e,n)}}else if(o(e)){for(n in e){s(e[n],e,n)}}if(t){i(t,r,e)}}s(this.oData)};u.prototype.setJSON=function(e,t){var r;try{r=JSON.parse(e+"");this.setData(r,t)}catch(e){i.fatal("The following problem occurred: JSON parse Error: "+e);this.fireParseError({url:"",errorCode:-1,reason:"",srcText:e,line:-1,linepos:-1,filepos:-1})}};u.prototype.getJSON=function(){return JSON.stringify(this.oData)};u.prototype.loadData=function(e,t,r,s,o,n,a){var u;r=r!==false;s=s||"GET";n=n===undefined?this.bCache:n;this.fireRequestSent({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o}});var c=function(t){if(!t){i.fatal("The following problem occurred: No data was retrieved by service: "+e)}this.setData(t,o);this.fireRequestCompleted({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o},success:true})}.bind(this);var f=function(t,u){var c=u||t.textStatus;var f=r?t.request:t;var p=f.status;var h=f.statusText;var l=f.responseText;var d={message:c,statusCode:p,statusText:h,responseText:l};i.fatal("The following problem occurred: "+c,l+","+p+","+h);this.fireRequestCompleted({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o},success:false,errorobject:d});this.fireRequestFailed(d);if(r){return Promise.reject(d)}return undefined}.bind(this);var p=function(i,o){this._ajax({url:e,async:r,dataType:"json",cache:n,data:t,headers:a,jsonp:false,type:s,success:i,error:o})}.bind(this);if(r){u=new Promise(function(e,t){var r=function(e,r,i){t({request:e,textStatus:r,error:i})};p(e,r)});var h=this.pSequentialImportCompleted.then(function(){return u.then(c,f)});this.pSequentialImportCompleted=h.catch(function(e){i.error("Loading of data failed: "+e.stack)});return h}else{p(c,f);return undefined}};u.prototype.dataLoaded=function(){return this.pSequentialImportCompleted};u.prototype.bindProperty=function(e,r,i){var s=new t(this,e,r,i);return s};u.prototype.bindList=function(t,r,i,s,o){var n=new e(this,t,r,i,s,o);return n};u.prototype.bindTree=function(e,t,i,s,o){var n=new r(this,e,t,i,s,o);return n};u.prototype.setProperty=function(e,t,r,i){var s=this.resolve(e,r),o,n,a;if(!s){return false}if(s=="/"){this.setData(t);return true}o=s.lastIndexOf("/");n=s.substring(0,o||1);a=s.substr(o+1);var u=this._getObject(n);if(u){u[a]=t;this.checkUpdate(false,i);return true}return false};u.prototype.getProperty=function(e,t){return this._getObject(e,t)};u.prototype._getObject=function(e,t){let r=null;if(this.isLegacySyntax()){r=this.oData}if(t instanceof a){r=this._getObject(t.getPath())}else if(t!=null){r=t}if(!e){return r}var i=e.split("/"),s=0;if(!i[0]){r=this.oData;s++}while(r&&i[s]){r=r[i[s]];s++}return r};u.prototype.isList=function(e,t){var r=this.resolve(e,t);return Array.isArray(this._getObject(r))};u.prototype._setMetaModel=function(e){this._oMetaModel=e};u.prototype.getMetaModel=function(){return this._oMetaModel};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONPropertyBinding", ["sap/ui/model/ChangeReason","sap/ui/model/ClientPropertyBinding","sap/base/util/deepEqual"],function(t,e,i){"use strict";var a=e.extend("sap.ui.model.json.JSONPropertyBinding");a.prototype.setValue=function(e){if(this.bSuspended){return}if(!i(this.oValue,e)){if(this.oModel.setProperty(this.sPath,e,this.oContext,true)){this.oValue=e;this.getDataState().setValue(this.oValue);this.oModel.firePropertyChange({reason:t.Binding,path:this.sPath,context:this.oContext,value:e})}}};a.prototype.checkUpdate=function(e){if(this.bSuspended&&!e){return}var a=this._getValue();if(!i(a,this.oValue)||e){this.oValue=a;this.getDataState().setValue(this.oValue);this.checkDataState();this._fireChange({reason:t.Change})}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONTreeBinding", ["sap/ui/model/ClientTreeBinding"],function(e){"use strict";var t=e.extend("sap.ui.model.json.JSONTreeBinding");t.prototype._saveSubContext=function(e,t,i,n){if(e&&typeof e=="object"){var o=this.oModel.getContext(i+n);if(this.oCombinedFilter&&!this.bIsFiltering){if(this.filterInfo.aFilteredContexts&&this.filterInfo.aFilteredContexts.indexOf(o)!=-1){t.push(o)}}else{t.push(o)}}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataUtils", ["sap/base/assert","sap/base/Log","sap/base/i18n/date/CalendarType","sap/base/security/encodeURL","sap/base/util/each","sap/ui/core/format/DateFormat","sap/ui/model/_Helper","sap/ui/model/FilterProcessor","sap/ui/model/Sorter"],function(e,t,r,n,i,a,s,o,u){"use strict";let f,l,c,d,m;const g="sap.ui.model.odata.ODataUtils";const p=/^([-+]?)0*(\d+)(\.\d+|)$/;const y=/\/(Annotations|ServiceNames|ServiceCollection)(\(|%28)/;const h=/\.$/;const v=/'$/;const b=/0+$/;function S(){if(!f){f=a.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''",calendarType:r.Gregorian});l=a.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss.SSS''",calendarType:r.Gregorian});c=a.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''",calendarType:r.Gregorian});d=a.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss.SSS'Z'''",calendarType:r.Gregorian});m=a.getTimeInstance({pattern:"'time''PT'HH'H'mm'M'ss'S'''",calendarType:r.Gregorian})}}var _=function(){};_.createSortParams=function(e){var r;if(!e||e.length==0){return undefined}r="$orderby=";for(var n=0;n<e.length;n++){var i=e[n];if(i instanceof u){r+=i.sPath;r+=i.bDescending?"%20desc":"%20asc";r+=","}else{t.error("Trying to use "+i+" as a Sorter, but it is a "+typeof i)}}r=r.slice(0,-1);return r};function E(e){if(e&&typeof e.convert==="function"){e=e.convert()}return e}_.createFilterParams=function(e,t,r){var n;if(Array.isArray(e)){e=e.map(E);n=o.groupFilters(e)}else{n=E(e)}if(!n){return undefined}return"$filter="+this._createFilterParams(n,t,r)};_._createFilterParams=function(e,t,r){const n=Array.isArray(e)?o.groupFilters(e):e;if(!n){return undefined}return _._processSingleFilter(n,t,r,true)};_._processSingleFilter=function(e,t,r,n){e=E(e);if(e.aFilters){return _._processMultiFilter(e,t,r,n)}return _._createFilterSegment(e,t,r)};_._processMultiFilter=function(e,t,r,n){const i=e.aFilters;const a=!!e.bAnd;if(i.length===0){return a?"true":"false"}if(i.length===1){if(i[0]._bMultiFilter){return _._processSingleFilter(i[0],t,r)}return _._processSingleFilter(i[0],t,r,true)}return(!n?"(":"")+i.map(e=>_._processSingleFilter(e,t,r)).join(a?"%20and%20":"%20or%20")+(!n?")":"")};_._createUrlParamsArray=function(e){var t,r=typeof e,n;if(Array.isArray(e)){return e}t=[];if(r==="string"||e instanceof String){if(e){t.push(e)}}else if(r==="object"){n=this._encodeURLParameters(e);if(n){t.push(n)}}return t};_._encodeURLParameters=function(e){if(!e){return""}var t=[];i(e,function(e,r){if(typeof r==="string"||r instanceof String){r=encodeURIComponent(r)}e=e.startsWith("$")?e:encodeURIComponent(e);t.push(e+"="+r)});return t.join("&")};_.setOrigin=function(e,r){var n,i,a;if(!e||!r||e.indexOf(";mo")>0){return e}if(typeof r=="string"){n=r}else{n=r.alias;if(!n){i=r.system;a=r.client;if(!i||!a){t.warning("ODataUtils.setOrigin: No Client or System ID given for Origin");return e}n="sid("+i+"."+a+")"}}var s=e.split("?");var o=s[0];var u=s[1]?"?"+s[1]:"";var f="";if(o[o.length-1]==="/"){o=o.substring(0,o.length-1);f="/"}var l=/(\/[^\/]+)$/g;var c=/(;o=[^\/;]+)/g;var d=o.match(l)[0];var m=d.match(c);var g=m?m[0]:null;if(g){if(r.force){var p=d.replace(g,";o="+n);o=o.replace(d,p);return o+f+u}return e}o=o+";o="+n+f;return o+u};_.setAnnotationOrigin=function(e,r){var n;var i=e.search(y);var a=r&&r.preOriginBaseUri?r.preOriginBaseUri.indexOf(".xsodata"):-1;if(i>=0){if(e.indexOf("/$value",i)===-1){t.warning("ODataUtils.setAnnotationOrigin: Annotation url is missing $value segment.");n=e}else{var s=e.substring(0,i);var o=e.substring(i,e.length);var u=_.setOrigin(s,r);n=u+o}}else if(a>=0){n=_.setOrigin(e,r)}else{n=e.replace(r.preOriginBaseUri,r.postOriginBaseUri)}return n};_._resolveMultiFilter=function(e,t,r){const n=e.aFilters;if(n){return"("+n.map(e=>{let n="";if(e._bMultiFilter){n=_._resolveMultiFilter(e,t,r)}else if(e.sPath){n=_._createFilterSegment(e,t,r)}return n}).join(e.bAnd?"%20and%20":"%20or%20")+")"}return""};_._createFilterSegment=function(e,r,n){let{sPath:i,oValue1:a,oValue2:o}=e;const{sOperator:u,bCaseSensitive:f=true,sFractionalSeconds1:l,sFractionalSeconds2:c}=e;let d;if(n){const e=r._getPropertyMetadata(n,i);if(e){d=e.type;if(d){a=_._formatValue(a,d,f,l);o=o===null||o===undefined?null:_._formatValue(o,d,f,c)}else{t.error("Type for property '"+i+"' of EntityType '"+n.name+"' not found!",undefined,g)}}else{t.error("Property type for property '"+i+"' of EntityType '"+n.name+"' not found!",undefined,g)}}if(a){a=s.encodeURL(String(a))}if(o){o=s.encodeURL(String(o))}if(!f&&d==="Edm.String"){i="toupper("+i+")"}switch(u){case"EQ":case"NE":case"GT":case"GE":case"LT":case"LE":return i+"%20"+u.toLowerCase()+"%20"+a;case"BT":return"("+i+"%20ge%20"+a+"%20and%20"+i+"%20le%20"+o+")";case"NB":return"not%20("+i+"%20ge%20"+a+"%20and%20"+i+"%20le%20"+o+")";case"Contains":return"substringof("+a+","+i+")";case"NotContains":return"not%20substringof("+a+","+i+")";case"StartsWith":return"startswith("+i+","+a+")";case"NotStartsWith":return"not%20startswith("+i+","+a+")";case"EndsWith":return"endswith("+i+","+a+")";case"NotEndsWith":return"not%20endswith("+i+","+a+")";default:t.error("Unknown filter operator '"+u+"'",undefined,g);return"true"}};_.formatValue=function(e,t,r){return _._formatValue(e,t,r)};_._formatValue=function(e,t,r,n){var i,a;if(r===undefined){r=true}if(e===null||e===undefined){return"null"}S();switch(t){case"Edm.String":e=r?e:e.toUpperCase();a="'"+String(e).replace(/'/g,"''")+"'";break;case"Edm.Time":if(typeof e==="object"){a=m.format(new Date(e.ms),true)}else{a="time'"+e+"'"}break;case"Edm.DateTime":i=e instanceof Date?e:new Date(e);if(i.getMilliseconds()>0){a=l.format(i,true);if(n){a=a.replace(v,n+"'")}}else{a=f.format(i,true);if(n){a=a.replace(v,".000"+n+"'")}}break;case"Edm.DateTimeOffset":i=e instanceof Date?e:new Date(e);if(i.getMilliseconds()>0){a=d.format(i,true);if(n){a=a.replace("Z'",n+"Z'")}}else{a=c.format(i,true);if(n){a=a.replace("Z'",".000"+n+"Z'")}}break;case"Edm.Guid":a="guid'"+e+"'";break;case"Edm.Decimal":a=e+"m";break;case"Edm.Int64":a=e+"l";break;case"Edm.Double":a=e+"d";break;case"Edm.Float":case"Edm.Single":a=e+"f";break;case"Edm.Binary":a="binary'"+e+"'";break;default:a=String(e);break}return a};_.parseValue=function(e){var t=e[0],r=e[e.length-1];S();if(t==="'"){return e.slice(1,-1).replace(/''/g,"'")}else if(e.startsWith("time'")){return{__edmType:"Edm.Time",ms:m.parse(e,true).getTime()}}else if(e.startsWith("datetime'")){return e.includes(".")?l.parse(e,true):f.parse(e,true)}else if(e.startsWith("datetimeoffset'")){return e.includes(".")?d.parse(e,true):c.parse(e,true)}else if(e.startsWith("guid'")){return e.slice(5,-1)}else if(e==="null"){return null}else if(r==="m"||r==="l"||r==="d"||r==="f"){return e.slice(0,-1)}else if(!isNaN(t)||t==="-"){return parseInt(e)}else if(e==="true"||e==="false"){return e==="true"}else if(e.startsWith("binary'")){return e.slice(7,-1)}throw new Error("Cannot parse value '"+e+"', no Edm type found")};function T(e,t){if(e===t){return 0}if(e===null||t===null||e===undefined||t===undefined){return NaN}return e>t?1:-1}function F(e){var t;if(typeof e!=="string"){return undefined}t=p.exec(e);if(!t){return undefined}return{sign:t[1]==="-"?-1:1,integerLength:t[2].length,abs:t[2]+t[3].replace(b,"").replace(h,"")}}function M(e,t){var r,n,i;if(e===t){return 0}r=F(e);n=F(t);if(!r||!n){return NaN}if(r.sign!==n.sign){return r.sign>n.sign?1:-1}i=T(r.integerLength,n.integerLength)||T(r.abs,n.abs);return r.sign*i}var D=/^PT(\d\d)H(\d\d)M(\d\d)S$/;function O(e){if(typeof e==="string"&&D.test(e)){e=parseInt(RegExp.$1)*36e5+parseInt(RegExp.$2)*6e4+parseInt(RegExp.$3)*1e3}if(e instanceof Date){return e.getTime()}if(e&&e.__edmType==="Edm.Time"){return e.ms}return e}_.compare=function(e,t,r){return r?M(e,t):T(O(e),O(t))};_.getComparator=function(e){switch(e){case"Edm.Date":case"Edm.DateTime":case"Edm.DateTimeOffset":case"Edm.Time":return _.compare;case"Edm.Decimal":case"Edm.Int64":return M;default:return T}};var I=/([(=,])('.*?')([,)])/g,U=/[MLDF](?=[,)](?:[^']*'[^']*')*[^']*$)/g,w=/([(=,])(X')/g,R=function(e,t,r,n){return t+encodeURIComponent(decodeURIComponent(r))+n},P=function(e){return e.toLowerCase()},$=function(e,t){return t+"binary'"};_._normalizeKey=function(e){return e.replace(I,R).replace(U,P).replace(w,$)};_._mergeIntervals=function(e){if(e.length){return{start:e[0].start,end:e[e.length-1].end}}return undefined};_._getReadIntervals=function(e,t,r,n,i){var a,s,o,u=-1,f=[],l=_._getReadRange(e,t,r,n);if(i===undefined){i=Infinity}s=Math.min(l.start+l.length,i);o=Math.min(s,Math.max(l.start,e.length)+1);for(a=l.start;a<o;a+=1){if(e[a]!==undefined){if(u>=0){f.push({start:u,end:a});u=-1}}else if(u<0){u=a}}if(u>=0){f.push({start:u,end:s})}return f};_._getReadRange=function(e,t,r,n,i){function a(t,r){const n=Math.sign(r-t);for(let a=t;a!==r;a+=n){if(e[a]===undefined||i?.(e[a])){return a}}return-1}const s=Math.ceil(n/2);let o=a(t+r,t+r+s);if(o!==-1){const e=o-(t+r);r+=e+n}o=a(t-1,Math.max(t-1-s,-1));if(o!==-1){const e=t-1-o;const i=e+n;r+=i;t-=i;if(t<0){r+=t;if(isNaN(r)){r=Infinity}t=0}}return{length:r,start:t}};_.removeOriginSegmentParameters=function(e){return e.replaceAll(/(;o=[^\/;]+|;mo)(?=\/|;|$)/g,"")};return _},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Boolean", ["sap/base/Log","sap/ui/core/Lib","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(e,t,n,o,a,r){"use strict";function i(){return u("EnterYesOrNo",[l(true),l(false)])}function u(e,n){return t.getResourceBundleFor("sap.ui.core").getText(e,n)}function l(e){return u(e?"YES":"NO")}function s(t,n){var o;t.oConstraints=undefined;if(n){o=n.nullable;if(o===false||o==="false"){t.oConstraints={nullable:false}}else if(o!==undefined&&o!==true&&o!=="true"){e.warning("Illegal nullable: "+o,null,t.getName())}}}var f=r.extend("sap.ui.model.odata.type.Boolean",{constructor:function(e,t){r.apply(this,arguments);s(this,t)}});f.prototype.formatValue=function(e,t){if(e===null||e===undefined){return null}switch(this.getPrimitiveType(t)){case"any":case"boolean":return e;case"string":return l(e);default:throw new n("Don't know how to format "+this.getName()+" to "+t)}};f.prototype.parseValue=function(e,t){var n;if(e===null||e===""){return null}switch(this.getPrimitiveType(t)){case"boolean":return e;case"string":n=e.trim().toLowerCase();if(n===l(true).toLowerCase()){return true}if(n===l(false).toLowerCase()){return false}throw new o(i());default:throw new o("Don't know how to parse "+this.getName()+" from "+t)}};f.prototype.validateValue=function(e){if(e===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new a(i())}return}if(typeof e!=="boolean"){throw new a("Illegal "+this.getName()+" value: "+e)}};f.prototype.getName=function(){return"sap.ui.model.odata.type.Boolean"};return f});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTime", ["sap/base/Log","sap/ui/core/date/UI5Date","sap/ui/model/odata/type/DateTimeBase"],function(t,e,a){"use strict";function n(e,a){var n={};if(a){switch(a.displayFormat){case"Date":n.isDateOnly=true;break;case undefined:break;default:t.warning("Illegal displayFormat: "+a.displayFormat,null,e.getName())}n.nullable=a.nullable}return n}var r=a.extend("sap.ui.model.odata.type.DateTime",{constructor:function(t,e){a.call(this,t,n(this,e))}});r.prototype.getConstraints=function(){var t=a.prototype.getConstraints.call(this);if(t.isDateOnly){t.displayFormat="Date";delete t.isDateOnly}return t};r.prototype.getISOStringFromModelValue=function(t){if(!t){return null}var e=t.toISOString();return this.oConstraints&&this.oConstraints.isDateOnly?e.split("T")[0]:e};r.prototype.getModelValue=function(t){var e=this._getModelValue(t);this.validateValue(e);return e};r.prototype.getModelValueFromISOString=function(t){if(!t){return null}return e.getInstance(t)};r.prototype.getName=function(){return"sap.ui.model.odata.type.DateTime"};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTimeBase", ["sap/base/Log","sap/base/util/extend","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,a,n,o,r,s,i,l){"use strict";function u(t){return t.oConstraints&&t.oConstraints.isDateOnly}function g(e,a){var n,o;e.oConstraints=undefined;if(a){n=a.nullable;if(n===false||n==="false"){e.oConstraints={nullable:false}}else if(n!==undefined&&n!==true&&n!=="true"){t.warning("Illegal nullable: "+n,null,e.getName())}if(a.isDateOnly===true){e.oConstraints=e.oConstraints||{};e.oConstraints.isDateOnly=true}o=a.precision;if(o!==undefined){if(o===Math.floor(o)&&o>=1&&o<=12){e.oConstraints=e.oConstraints||{};e.oConstraints.precision=o}else if(o!==0){t.warning("Illegal precision: "+o,null,e.getName())}}}e._handleLocalizationChange()}var h=l.extend("sap.ui.model.odata.type.DateTimeBase",{constructor:function(t,e){l.apply(this,arguments);g(this,e);this.oFormat=null;this.oFormatOptions=t},metadata:{abstract:true}});h.prototype.getDateValue=function(t){var e;if(!t){return null}e=n.getInstance(t);if(u(this)){e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(0,0,0,0)}else if(this.oFormatOptions&&this.oFormatOptions.UTC){e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}return e};h.prototype.formatValue=function(t,e){if(t===null||t===undefined){return null}switch(this.getPrimitiveType(e)){case"any":return t;case"object":if(u(this)){return this.getDateValue(t)}return t;case"string":if(!(t instanceof Date)){throw new r("Illegal "+this.getName()+" value: "+t)}return this.getFormat().format(t);default:throw new r("Don't know how to format "+this.getName()+" to "+e)}};h.prototype.getFormat=function(){if(!this.oFormat){var t=e({strictParsing:true},this.oFormatOptions);if(u(this)){t.UTC=true;this.oFormat=o.getDateInstance(t)}else{this.oFormat=o.getDateTimeInstance(t)}}return this.oFormat};h.prototype._getErrorMessage=function(){var t=n.getInstance().getFullYear(),e=u(this)?new Date(Date.UTC(t,11,31)):n.getInstance(t,11,31,23,59,58),o=u(this)?"EnterDate":"EnterDateTime",r=a.getResourceBundleFor("sap.ui.core");return r.getText(o,[this.formatValue(e,"string")])};h.prototype.parseValue=function(t,e){var a;if(t===null||t===""){return null}switch(this.getPrimitiveType(e)){case"object":if(u(this)){return this._getModelValue(t)}return t;case"string":a=this.getFormat().parse(t);if(!a){throw new s(this._getErrorMessage())}return a;default:throw new s("Don't know how to parse "+this.getName()+" from "+e)}};h.prototype._handleLocalizationChange=function(){this.oFormat=null};h.prototype.validateValue=function(t){if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new i(this._getErrorMessage())}return}else if(t instanceof Date){if(t.getFullYear()===0){throw new i(this._getErrorMessage())}return}throw new i("Illegal "+this.getName()+" value: "+t)};h.prototype._getModelValue=function(t){var e;if(t===null){return null}n.checkDate(t);e=n.getInstance(t);if(u(this)){e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());e.setUTCHours(0,0,0,0)}else if(this.oFormatOptions&&this.oFormatOptions.UTC){e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());e.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}return e};return h});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/ODataType", ["sap/base/Log","sap/ui/model/SimpleType"],function(t,e){"use strict";var o=e.extend("sap.ui.model.odata.type.ODataType",{constructor:function(t,e){},metadata:{abstract:true}});o.prototype.checkParseEmptyValueToZero=function(){if(this.oFormatOptions&&this.oFormatOptions.parseEmptyValueToZero&&(!this.oConstraints||this.oConstraints.nullable!==false)){t.warning("The parseEmptyValueToZero format option is ignored as the nullable constraint"+" is not false.",null,this.getName())}};o.prototype.getEmptyValue=function(t,e){if(t!==null&&t!==""){return undefined}if(this.oFormatOptions&&this.oFormatOptions.parseEmptyValueToZero&&this.oConstraints&&this.oConstraints.nullable===false){return e?0:"0"}return null};o.prototype.getPlaceholderText=function(){return this.getFormat&&this.getFormat().getPlaceholderText&&this.getFormat().getPlaceholderText()};o.prototype.setConstraints=function(t){};o.prototype.setFormatOptions=function(t){};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/String", ["sap/base/Log","sap/ui/core/Lib","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType","sap/ui/model/type/String"],function(e,t,i,n,s){"use strict";var r=/^\d+$/,a=/^0*(?=\d)/;function o(e,t){return t&&t.isDigitSequence&&e&&e.match(r)}function l(t,i){var n,s,r;t.oConstraints=undefined;if(i){s=i.maxLength;if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"&&!isNaN(s)&&s>0){t.oConstraints={maxLength:s}}else if(s!==undefined){e.warning("Illegal maxLength: "+i.maxLength,null,t.getName())}n=i.isDigitSequence;if(n===true||n==="true"){t.oConstraints=t.oConstraints||{};t.oConstraints.isDigitSequence=true}else if(n!==undefined&&n!==false&&n!=="false"){e.warning("Illegal isDigitSequence: "+n,null,t.getName())}r=i.nullable;if(r===false||r==="false"){t.oConstraints=t.oConstraints||{};t.oConstraints.nullable=false}else if(r!==undefined&&r!==true&&r!=="true"){e.warning("Illegal nullable: "+r,null,t.getName())}}}var u=n.extend("sap.ui.model.odata.type.String",{constructor:function(t,i){var s=t?t.parseKeepsEmptyString:undefined;n.apply(this,arguments);this.oFormatOptions=t;l(this,i);this._sParsedEmptyString=null;if(this.oConstraints&&this.oConstraints.nullable===false&&this.oConstraints.isDigitSequence){this._sParsedEmptyString="0"}else if(s!==undefined){if(s===true){this._sParsedEmptyString=""}else if(s!==false){e.warning("Illegal parseKeepsEmptyString: "+s,null,this.getName())}}}});u.prototype.formatValue=function(e,t){if(e===null&&this.getPrimitiveType(t)==="string"){return""}if(o(e,this.oConstraints)){e=e.replace(a,"");if(this.oConstraints.maxLength&&e==="0"&&this.getPrimitiveType(t)==="string"){return""}}return s.prototype.formatValue.call(this,e,t)};u.prototype.parseValue=function(e,t){var i;i=e===""?this._sParsedEmptyString:s.prototype.parseValue.apply(this,arguments);if(o(i,this.oConstraints)){i=i.replace(a,"");if(this.oConstraints.maxLength){i=i.padStart(this.oConstraints.maxLength,"0")}}return i};u.prototype.validateValue=function(e){var n=this.oConstraints||{},s=n.maxLength;if(e===null){if(n.nullable!==false){return}}else if(e===""&&this._sParsedEmptyString===""){return}else if(typeof e!=="string"){throw new i("Illegal "+this.getName()+" value: "+e)}else if(n.isDigitSequence){if(!e.match(r)){throw new i(t.getResourceBundleFor("sap.ui.core").getText("EnterDigitsOnly"))}if(s&&e.length>s){throw new i(t.getResourceBundleFor("sap.ui.core").getText("EnterMaximumOfDigits",[s]))}return}else if(!s||e.length<=s){return}throw new i(t.getResourceBundleFor("sap.ui.core").getText(s?"EnterTextMaxLength":"EnterText",[s]))};u.prototype.getName=function(){return"sap.ui.model.odata.type.String"};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/resource/ResourceModel", ["sap/base/Log","sap/base/i18n/ResourceBundle","sap/ui/base/SyncPromise","sap/ui/core/Supportability","sap/ui/model/BindingMode","sap/ui/model/Model","./ResourcePropertyBinding"],function(e,n,t,i,o,r,s){"use strict";var a="sap.ui.model.resource.ResourceModel",u=/^(?:\/|\.)*/;var c=r.extend("sap.ui.model.resource.ResourceModel",{constructor:function(t){var i;r.apply(this,arguments);this.aCustomBundles=[];this.bReenhance=false;this.bAsync=!!(t&&t.async);if(!this.bAsync){e.warning("Usage of synchronous loading is deprecated. For performance reasons, asynchronous loading"+" is strongly recommended.",undefined,a)}this.sDefaultBindingMode=t.defaultBindingMode||o.OneWay;this.mSupportedBindingModes={OneWay:true,TwoWay:false,OneTime:!this.bAsync};if(this.bAsync&&this.sDefaultBindingMode==o.OneTime){e.warning("Using binding mode OneTime for asynchronous ResourceModel is not supported!")}this.oData=Object.assign({},t);i=Array.isArray(this.oData.enhanceWith)&&this.oData.enhanceWith.some(function(e){return e instanceof n});if(t&&t.bundle){this._oResourceBundle=t.bundle;i=true}else if(t&&(t.bundleUrl||t.bundleName)){if(i){delete this.oData.enhanceWith;if(t.terminologies||t.activeTerminologies){throw new Error("'terminologies' parameter and 'activeTerminologies' parameter are not"+" supported in configuration when enhanceWith contains ResourceBundles")}}l(this)}else{throw new Error("At least bundle, bundleName or bundleUrl must be provided!")}if(i&&Array.isArray(t.enhanceWith)){if(this.bAsync){this._pEnhanced=t.enhanceWith.reduce(function(e,n){return e.then(this.enhance.bind(this,n))}.bind(this),Promise.resolve())}else{t.enhanceWith.forEach(this.enhance.bind(this))}}}});c._sanitizeBundleName=function(n){if(n&&(n[0]==="/"||n[0]===".")){e.error('Incorrect resource bundle name "'+n+'"',"Leading slashes or dots in resource bundle names are ignored, since such names are"+' invalid UI5 module names. Please check whether the resource bundle "'+n+'" is actually needed by your application.',a);n=n.replace(u,"")}return n};c.loadResourceBundle=function(e,t){var o=e.bundleLocale,r;e.bundleName=c._sanitizeBundleName(e.bundleName);r=Object.assign({async:t,includeInfo:i.collectOriginInfo(),locale:o},e);return n.create(r)};c.prototype.enhance=function(e){var t=this,i,o=this.bAsync?new Promise(function(e){i=e}):null;function r(){if(e instanceof n){t._oResourceBundle._enhance(e);t.checkUpdate(true);if(o){i(true)}}else{if(e.terminologies){throw new Error("'terminologies' parameter is not"+" supported for enhancement")}var r=c.loadResourceBundle(e,t.bAsync);if(r instanceof Promise){r.then(function(e){t._oResourceBundle._enhance(e);t.checkUpdate(true);i(true)},function(){i(true)})}else if(r){t._oResourceBundle._enhance(r);t.checkUpdate(true)}}}if(this._oPromise){Promise.resolve(this._oPromise).then(r)}else{r()}if(!this.bReenhance){this.aCustomBundles.push(e)}return o};c.prototype.bindProperty=function(e){return new s(this,e)};c.prototype.getProperty=function(e){return this._oResourceBundle?this._oResourceBundle.getText(e):null};c.prototype.getResourceBundle=function(){if(!this.bAsync){return this._oResourceBundle}else{var e=this._oPromise;if(e){return new Promise(function(n,t){function i(e){n(e)}e.then(i,i)})}else{return Promise.resolve(this._oResourceBundle)}}};c.prototype._handleLocalizationChange=function(){var i=this;t.resolve(this.getResourceBundle()).then(function(e){var o;if(i.bAsync){o={url:n._getUrl(i.oData.bundleUrl,c._sanitizeBundleName(i.oData.bundleName)),async:true};i.fireRequestSent(o)}var r=e._recreate();if(r instanceof Promise){i._oPromise=r}return t.resolve(r).then(function(e){i._oResourceBundle=e;i._reenhance();delete i._oPromise;i.checkUpdate(true)}).finally(function(){if(i.bAsync){i.fireRequestCompleted(o)}})}).catch(function(n){e.error("Failed to reload bundles after localization change",n,a)})};c.prototype._reenhance=function(){this.bReenhance=true;this.aCustomBundles.forEach(function(e){this.enhance(e)}.bind(this));this.bReenhance=false};function l(e){var t=e.oData;if(t&&(t.bundleUrl||t.bundleName)){var i=c.loadResourceBundle(t,t.async);if(i instanceof Promise){var o={url:n._getUrl(t.bundleUrl,c._sanitizeBundleName(t.bundleName)),async:true};e.fireRequestSent(o);e._oPromise=i;e._oPromise.then(function(n){e._oResourceBundle=n;e._reenhance();delete e._oPromise;e.checkUpdate(true);e.fireRequestCompleted(o)})}else{e._oResourceBundle=i;e._reenhance();e.checkUpdate(true)}}}return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/resource/ResourcePropertyBinding", ["sap/ui/model/PropertyBinding","sap/ui/model/ChangeReason"],function(e,t){"use strict";var o=e.extend("sap.ui.model.resource.ResourcePropertyBinding",{constructor:function(t,o){e.apply(this,arguments);this.oValue=this.oModel.getProperty(o)}});o.prototype.getValue=function(){return this.oValue};o.prototype.checkUpdate=function(e){if(!this.bSuspended){var o=this.oModel.getProperty(this.sPath);if(e||o!=this.oValue){this.oValue=o;this._fireChange({reason:t.Change})}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Date", ["sap/base/util/each","sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,o,a,r,i,s,n,u){"use strict";var p=n.extend("sap.ui.model.type.Date",{constructor:function(){n.apply(this,arguments);this.sName="Date"}});p.prototype.formatValue=function(t,e){var o;switch(this.getPrimitiveType(e)){case"string":case"any":if(t==null){return""}if(this.oFormatOptions.source&&this.oFormatOptions.source.pattern!=="timestamp"&&t===""){return""}o=this.getModelFormat();t=o.parse(t);return this.oOutputFormat.format(t);default:throw new i("Don't know how to format Date to "+e)}};p.prototype.parseValue=function(t,e){var a,r;switch(this.getPrimitiveType(e)){case"string":if(t===""){return null}a=this.oOutputFormat.parse(t);if(!a){r=o.getResourceBundleFor("sap.ui.core");throw new s(r.getText("Enter"+this.getName(),[this.oOutputFormat.format(this.oOutputFormat.getSampleValue()[0])]))}if(this.oInputFormat){if(this.oFormatOptions.source.pattern=="timestamp"){a=a.getTime()}else{a=this.oInputFormat.format(a)}}return a;default:throw new s("Don't know how to parse Date from "+e)}};p.prototype.validateValue=function(e){if(this.oConstraints){var a=o.getResourceBundleFor("sap.ui.core"),r=[],i=[],s=this.oInputFormat,n,p=this;if(s&&this.oFormatOptions.source.pattern!="timestamp"){e=s.parse(e)}t(this.oConstraints,function(t,o){if(s){o=s.parse(o)}n=p.oOutputFormat.format(o);switch(t){case"minimum":if(e<o){r.push("minimum");i.push(a.getText(p.sName+".Minimum",[n]))}break;case"maximum":if(e>o){r.push("maximum");i.push(a.getText(p.sName+".Maximum",[n]))}break;default:break}});if(r.length>0){throw new u(this.combineMessages(i),r)}}};var m={format:function(t){if(t instanceof Date){return t.getTime()}return null},parse:function(t){if(typeof t!="number"){if(isNaN(t)){throw new i("Cannot format date: "+t+" is not a valid Timestamp")}else{t=parseInt(t)}}t=a.getInstance(t);return t}};p.prototype.getModelFormat=function(){if(this.oInputFormat){if(this.oFormatOptions.source.pattern=="timestamp"){return m}else{return this.oInputFormat}}else{return n.prototype.getModelFormat.call(this)}};p.prototype.setFormatOptions=function(t){this.oFormatOptions=t;this._createFormats()};p.prototype.getOutputPattern=function(){return this.oOutputFormat.oFormatOptions.pattern};p.prototype._handleLocalizationChange=function(){this._createFormats()};p.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=r.getInstance(this.oFormatOptions);if(t){if(e(t)){t={pattern:"yyyy-MM-dd"}}this.oInputFormat=r.getInstance(t)}};p.prototype.getPlaceholderText=function(){return this.oOutputFormat.getPlaceholderText()};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/DateTime", ["./Date","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var o=t.extend("sap.ui.model.type.DateTime",{constructor:function(){t.apply(this,arguments);this.sName="DateTime"}});o.prototype._createFormats=function(){this.oOutputFormat=e.getDateTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=e.getDateTimeInstance(this.oFormatOptions.source)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Float", ["sap/base/util/each","sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,o,e,a,i,r,s,n){"use strict";var u=s.extend("sap.ui.model.type.Float",{constructor:function(){s.apply(this,arguments);this.sName="Float"}});u.prototype.formatValue=function(t,o){var e=t;if(t==undefined||t==null){return null}if(this.oInputFormat){e=this.oInputFormat.parse(t);if(e==null){throw new i("Cannot format float: "+t+" has the wrong format")}}switch(this.getPrimitiveType(o)){case"string":return this.oOutputFormat.format(e);case"int":return Math.floor(e);case"float":case"any":return e;default:throw new i("Don't know how to format Float to "+o)}};u.prototype.parseValue=function(t,o){var a,i;switch(this.getPrimitiveType(o)){case"string":a=this.oOutputFormat.parse(t);if(isNaN(a)){i=e.getResourceBundleFor("sap.ui.core");throw new r(i.getText("Float.Invalid"))}break;case"int":case"float":a=t;break;default:throw new r("Don't know how to parse Float from "+o)}if(this.oInputFormat){a=this.oInputFormat.format(a)}return a};u.prototype.validateValue=function(o){if(this.oConstraints){var a=e.getResourceBundleFor("sap.ui.core"),i=[],r=[],s=o,u=this;if(this.oInputFormat){s=this.oInputFormat.parse(o)}t(this.oConstraints,function(t,o){switch(t){case"minimum":if(s<o){i.push("minimum");r.push(a.getText("Float.Minimum",[u.oOutputFormat.format(o)]))}break;case"maximum":if(s>o){i.push("maximum");r.push(a.getText("Float.Maximum",[u.oOutputFormat.format(o)]))}break;default:break}});if(i.length>0){throw new n(this.combineMessages(r),i)}}};u.prototype.setFormatOptions=function(t){this.oFormatOptions=Object.assign(t.style!=="short"&&t.style!=="long"?{preserveDecimals:true}:{},t);this._createFormats()};u.prototype._handleLocalizationChange=function(){this._createFormats()};u.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=a.getFloatInstance(this.oFormatOptions);if(t){if(o(t)){t={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."}}this.oInputFormat=a.getFloatInstance(t)}};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/String", ["sap/base/Log","sap/base/util/each","sap/ui/core/Lib","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,s,n,a,i,r){"use strict";var o=i.extend("sap.ui.model.type.String",{constructor:function(){i.apply(this,arguments);this.sName="String";if(this.oConstraints.search&&typeof this.oConstraints.search=="string"){this.oConstraints.search=new RegExp(this.oConstraints.search)}}});o.prototype.formatValue=function(t,e){if(t==undefined||t==null){return null}switch(this.getPrimitiveType(e)){case"string":case"any":return t;case"int":var s=parseInt(t);if(isNaN(s)){throw new n(t+" is not a valid int value")}return s;case"float":var a=parseFloat(t);if(isNaN(a)){throw new n(t+" is not a valid float value")}return a;case"boolean":if(t.toLowerCase()=="true"||t=="X"){return true}if(t.toLowerCase()=="false"||t==""){return false}throw new n(t+" is not a valid boolean value");default:throw new n("Don't know how to format String to "+e)}};o.prototype.parseValue=function(t,e){switch(this.getPrimitiveType(e)){case"string":return t;case"boolean":case"int":case"float":return t.toString();default:throw new a("Don't know how to parse String from "+e)}};o.prototype.validateValue=function(n){if(this.oConstraints){var a=s.getResourceBundleFor("sap.ui.core"),i=[],o=[];if(n===null){n=""}e(this.oConstraints,function(e,s){switch(e){case"maxLength":if(n.length>s){i.push("maxLength");o.push(a.getText("String.MaxLength",[s]))}break;case"minLength":if(n.length<s){i.push("minLength");o.push(a.getText("String.MinLength",[s]))}break;case"startsWith":if(!(typeof s=="string"&&s.length>0&&n.startsWith(s))){i.push("startsWith");o.push(a.getText("String.StartsWith",[s]))}break;case"startsWithIgnoreCase":if(!(typeof s=="string"&&s!=""?n.toLowerCase().startsWith(s.toLowerCase()):false)){i.push("startsWithIgnoreCase");o.push(a.getText("String.StartsWith",[s]))}break;case"endsWith":if(!(typeof s=="string"&&s.length>0&&n.endsWith(s))){i.push("endsWith");o.push(a.getText("String.EndsWith",[s]))}break;case"endsWithIgnoreCase":if(!(typeof s=="string"&&s!=""?n.toLowerCase().endsWith(s.toLowerCase()):false)){i.push("endsWithIgnoreCase");o.push(a.getText("String.EndsWith",[s]))}break;case"contains":if(n.indexOf(s)==-1){i.push("contains");o.push(a.getText("String.Contains",[s]))}break;case"equals":if(n!=s){i.push("equals");o.push(a.getText("String.Equals",[s]))}break;case"search":if(n.search(s)==-1){i.push("search");o.push(a.getText("String.Search",[s]))}break;default:t.warning("Ignoring unknown constraint: '"+e+"'",null,"sap.ui.model.type.String")}});if(i.length>0){throw new r(this.combineMessages(o),i)}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Time", ["./Date","sap/ui/core/format/DateFormat"],function(t,o){"use strict";var e=t.extend("sap.ui.model.type.Time",{constructor:function(){t.apply(this,arguments);this.sName="Time"}});e.prototype._createFormats=function(){this.oOutputFormat=o.getTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=o.getTimeInstance(this.oFormatOptions.source)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/performance/trace/FESRHelper", [],function(){"use strict";var t={FESR_NAMESPACE:"http://schemas.sap.com/sapui5/extension/sap.ui.core.FESR/1",setSemanticStepname:function(t,s,i){var a=t.data("sap-ui-custom-settings");if(a===null){a={}}if(!a[this.FESR_NAMESPACE]){a[this.FESR_NAMESPACE]={}}a[this.FESR_NAMESPACE][s]=i;t.data("sap-ui-custom-settings",a)},getSemanticStepname:function(t,s){var i=t&&t.data("sap-ui-custom-settings")&&t.data("sap-ui-custom-settings")[this.FESR_NAMESPACE];if(!i){return}return i[s]}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Calendar", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/DateTypeRange","./calendar/Header","./calendar/Month","./calendar/MonthPicker","./calendar/YearPicker","./calendar/YearRangePicker","./calendar/CalendarDate","sap/ui/core/date/UniversalDate","sap/ui/core/date/UI5Date","./library","sap/ui/Device","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","sap/ui/events/KeyCodes","./CalendarRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/base/i18n/date/CalendarWeekNumbering"],function(e,t,a,i,r,s,n,o,h,g,l,d,u,c,_,p,f,D,y,m,M,P,v,S,C,T,k){"use strict";var b=i.extend("sap.ui.unified.Calendar",{metadata:{library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/Calendar.designtime",properties:{intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:1},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},showCurrentDateButton:{type:"boolean",group:"Behavior",defaultValue:false},_currentPicker:{type:"string",group:"Appearance",visibility:"hidden"},calendarWeekNumbering:{type:"sap.base.i18n.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null},initialFocusedDate:{type:"object",group:"Data",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"},header:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},secondMonthHeader:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},month:{type:"sap.ui.unified.calendar.Month",multiple:true,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"},yearRangePicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:v});var Y={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};b.prototype.init=function(){this._iBreakPointTablet=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._iColumns=1;this.setProperty("_currentPicker",Y.MONTH_PICKER);this._oYearFormat=y.getDateInstance({format:"y",calendarType:this._getPrimaryCalendarType()});this.data("sap-ui-fastnavgroup","true",true);this._oMinDate=n._minDate(this._getPrimaryCalendarType());this._oMaxDate=n._maxDate(this._getPrimaryCalendarType());this._initializeHeader();this._initializeSecondMonthHeader();var e=this._createMonth(this.getId()+"--Month0");e.attachEvent("focus",this._handleFocus,this);e.attachEvent("select",L,this);e.attachEvent("_renderMonth",F,this);e.attachEvent("_bindMousemove",I,this);e.attachEvent("_unbindMousemove",N,this);e._bNoThemeChange=true;this.addAggregation("month",e);this._initializeMonthPicker();this._initializeYearPicker();this._initializeYearRangePicker();this._resizeProxy=w.bind(this);this._oSelectedMonth;this._bSkipCancelButtonRendering=false;this._bActionTriggeredFromSecondHeader=false};b.prototype.exit=function(){if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}if(this._afterHeaderRenderAdjustCSS){this.removeDelegate(this._afterHeaderRenderAdjustCSS);this._afterHeaderRenderAdjustCSS=null}if(this._afterSecondHeaderRenderAdjustCSS){this.removeDelegate(this._afterSecondHeaderRenderAdjustCSS);this._afterSecondHeaderRenderAdjustCSS=null}if(this._sResizeListener){m.deregister(this._sResizeListener);this._sResizeListener=undefined}this._oSelectedMonth=null};b.prototype._initializeHeader=function(){var e=new h(this.getId()+"--Head");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressCurrentDate",this._handleCurrentDate,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);e.attachEvent("pressButton3",this._handleButton1,this);e.attachEvent("pressButton4",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};b.prototype._createOnAfterRenderingDelegate=function(e){return{onAfterRendering:function(){if(e.getVisible()&&!e.getVisibleButton1()){e.$().find(".sapUiCalHeadB2").addClass("sapUiCalSingleYearButton")}if(e.getVisible()&&!e._getVisibleButton3()){this._isTwoMonthsInTwoColumns()&&e.$().find(".sapUiCalHeadB4").addClass("sapUiCalSingleYearButton")}}.bind(this)}};b.prototype._initializeSecondMonthHeader=function(){var e=new h(this.getId()+"--SecondMonthHead",{visible:false});e.addStyleClass("sapUiCalHeadSecondMonth");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterSecondHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterSecondHeaderRenderAdjustCSS);this.setAggregation("secondMonthHeader",e)};b.prototype._initializeMonthPicker=function(){var e=new l(this.getId()+"--MP");e._bCalendar=true;e.attachEvent("select",this._selectMonth,this);e.attachEvent("pageChange",E,this);e._bNoThemeChange=true;this.setAggregation("monthPicker",e);e._setSelectedDatesControlOrigin(this)};b.prototype._initializeYearPicker=function(){var e=new d(this.getId()+"--YP");e._bCalendar=true;e.attachEvent("select",this._selectYear,this);e.attachEvent("pageChange",J,this);this.setAggregation("yearPicker",e);e._setSelectedDatesControlOrigin(this)};b.prototype._initializeYearRangePicker=function(){var e=new u(this.getId()+"--YRP");e.attachEvent("select",this._selectYearRange,this);e.setPrimaryCalendarType(this._getPrimaryCalendarType());this.setAggregation("yearRangePicker",e);e._setSelectedDatesControlOrigin(this)};b.prototype._createMonth=function(e){var t=new g(e,{width:"100%"});this._setMonthCalendarWeekNumbering(t);t._bCalendar=true;t.attachEvent("datehovered",this._handleDateHovered,this);t.attachEvent("weekNumberSelect",this._handleWeekNumberSelect,this);return t};b.prototype._handleWeekNumberSelect=function(e){const t=e.getParameter("weekDays"),a=this.fireWeekNumberSelect({weekNumber:e.getParameter("weekNumber"),weekDays:t}),i=t?.getStartDate()&&t?.getStartDate().getMonth(),r=e.getSource().getDate()&&e.getSource().getDate().getMonth(),s=this.getAggregation("month"),o=c.fromLocalJSDate(s[0].getDate()),h=c.fromLocalJSDate(s[s.length-1].getDate());o.setDate(1);h.setDate(1);h.setMonth(h.getMonth()+1);h.setDate(0);const g=s.length>=2?!n._isBetween(c.fromLocalJSDate(e.getSource().getDate()),o,h,true):i!==r;t&&this._focusDate(c.fromLocalJSDate(t.getStartDate(),this._getPrimaryCalendarType()),g,false,false);if(!a){e.preventDefault()}return this};b.prototype._handleDateHovered=function(e){var t=this.getAggregation("month"),a=e.getParameter("date1"),i=e.getParameter("date2"),r;for(r=0;r<t.length;r++){t[r]._markDatesBetweenStartAndHoveredDate(a,i)}};b.prototype.onBeforeRendering=function(){var e=this.getAggregation("month"),t,a=e[0].getDate(),i=this._getFocusedDate();if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){T.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}if(e.length>1&&a){t=c.fromLocalJSDate(a,this._getPrimaryCalendarType())}else if(e.length>1){t=H.call(this,this._getFocusedDate())}else{t=i}for(var r=0;r<e.length;r++){a=new c(t);if(r>0){a.setMonth(a.getMonth()+r,1)}var s=a;if(i.getYear()===a.getYear()&&i.getMonth()===a.getMonth()){s=i}e[r].displayDate(s.toLocalJSDate());e[r].setShowWeekNumbers(this.getShowWeekNumbers())}if(this._getMonthPicker()){this._setDisabledMonths(i.getYear(),this._getMonthPicker())}this._updateHeader(t);this._updateHeadersButtons();this._adjustYearRangeDisplay();this._updateLegendParent();if(this.getInitialFocusedDate()){this._oFocusedDate=c.fromLocalJSDate(this.getInitialFocusedDate(),this._getPrimaryCalendarType())}};b.prototype.onAfterRendering=function(e){if(!this._getSucessorsPickerPopup()){x.call(this)}if(B.call(this)>1||this._bInitMonth){e.size={width:this.getDomRef().offsetWidth};w.call(this,e,true);if(!this._sResizeListener){this._sResizeListener=m.register(this,this._resizeProxy)}this._bInitMonth=undefined}};b.prototype.removeSelectedDate=function(e){this._bDateRangeChanged=true;return this.removeAggregation("selectedDates",e)};b.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};b.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};b.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};b.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};b.prototype._setSpecialDatesControlOrigin=function(e){this._oSpecialDatesControlOrigin=e};b.prototype._getCalendarWeekNumbering=function(){if(this.isPropertyInitial("calendarWeekNumbering")){return}return this.getCalendarWeekNumbering()};b.prototype.getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin.getSpecialDates()}if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};b.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};b.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};b.prototype.setLocale=function(e){if(this._sLocale!=e){this._sLocale=e;this._oLocaleData=undefined;this.invalidate();this._toggleTwoMonthsInColumnsCSS()}return this};b.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=new M(e.getLanguageTag()).toString()}return this._sLocale};b.prototype._getFocusedDate=function(){if(!this._oFocusedDate){A.call(this)}return this._oFocusedDate};b.prototype._setFocusedDate=function(e){n._checkCalendarDate(e);this._oFocusedDate=new c(e,this._getPrimaryCalendarType())};b.prototype.focusDate=function(e){R.call(this,e,false);this._addMonthFocusDelegate();return this};b.prototype.displayDate=function(e){R.call(this,e,true);return this};b.prototype.getStartDate=function(){var e;if(this.getDomRef()){var t=this.getAggregation("month");e=c.fromLocalJSDate(t[0].getDate(),this._getPrimaryCalendarType())}else{e=new c(this._getFocusedDate())}e.setDate(1);return e.toLocalJSDate()};b.prototype.setCalendarWeekNumbering=function(e){var t=this.getAggregation("month");this.setProperty("calendarWeekNumbering",e);for(var a=0;a<t.length;a++){this._setMonthCalendarWeekNumbering(t[a])}return this};b.prototype._setMonthCalendarWeekNumbering=function(e){if(this.isPropertyInitial("calendarWeekNumbering")){return this}return e.setCalendarWeekNumbering(this.getCalendarWeekNumbering())};b.prototype.setMonths=function(e){this._bDateRangeChanged=undefined;this.setProperty("months",e);e=B.call(this);var t=this.getAggregation("month");var a=0;var i;if(t.length<e){for(a=t.length;a<e;a++){i=this._createMonth(this.getId()+"--Month"+a);i.attachEvent("focus",this._handleFocus,this);i.attachEvent("select",L,this);i.attachEvent("_renderMonth",F,this);i.attachEvent("_bindMousemove",I,this);i.attachEvent("_unbindMousemove",N,this);i._bNoThemeChange=true;i.setSecondaryCalendarType(this._getSecondaryCalendarType());this._setMonthCalendarWeekNumbering(i);this.addAggregation("month",i)}this._toggleTwoMonthsInColumnsCSS()}else if(t.length>e){for(a=t.length;a>e;a--){i=this.removeAggregation("month",a-1);i.destroy()}if(e==1){this._bInitMonth=true}this._toggleTwoMonthsInColumnsCSS()}if(e>1&&t[0].getDate()){t[0].setProperty("date",null,true)}t=this.getAggregation("month");t.forEach(t=>t.setProperty("_renderMonthWeeksOnly",e>1));return this};b.prototype.setPrimaryCalendarType=function(e){var t=this.getAggregation("month"),a,i,r,s,n;this.setProperty("primaryCalendarType",e);this._oYearFormat=y.getDateInstance({format:"y",calendarType:e});if(this._oFocusedDate){this._oFocusedDate=new c(this._oFocusedDate,e)}this._oMinDate=new c(this._oMinDate,e);this._oMaxDate=new c(this._oMaxDate,e);for(n=0;n<t.length;n++){a=t[n];a.setPrimaryCalendarType(e)}if(!this._getSucessorsPickerPopup()){i=this._getMonthPicker();i.setPrimaryCalendarType(e);r=this._getYearPicker();r.setPrimaryCalendarType(e);s=this.getAggregation("yearRangePicker");s.setPrimaryCalendarType(e)}return this};b.prototype.setSecondaryCalendarType=function(e){var t=e?2:3,a=this._getMonthPicker();this.setProperty("secondaryCalendarType",e);this._oYearFormatSecondary=y.getDateInstance({format:"y",calendarType:e});var i=this.getAggregation("month");for(var r=0;r<i.length;r++){var s=i[r];s.setSecondaryCalendarType(e)}a.setSecondaryCalendarType(e);a.setColumns(t);this._getYearPicker().setSecondaryCalendarType(e);this._getYearRangePicker().setSecondaryCalendarType(e);return this};b.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||e.getCalendarType()};b.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};b.prototype._getActiveHeaderAggregation=function(){if(this._bActionTriggeredFromSecondHeader&&this._isTwoMonthsInOneColumn()){return this.getAggregation("secondMonthHeader")}else{return this.getAggregation("header")}};b.prototype._saveTriggeredHeader=function(e){if(e.getSource().sParentAggregationName==="secondMonthHeader"||e.sId==="pressButton3"||e.sId==="pressButton4"){this._bActionTriggeredFromSecondHeader=true}else{this._bActionTriggeredFromSecondHeader=false}};b.prototype.setMinDate=function(e){var t=this.getAggregation("month"),a=this._getPrimaryCalendarType(),i;if(C(e,this.getMinDate())){return this}if(!e){this._oMinDate=n._minDate(a)}else{n._checkJSDateObject(e);this._oMinDate=c.fromLocalJSDate(e,a);var r=this._oMinDate.getYear();n._checkYearInValidRange(r,a);if(this._oMaxDate.isBefore(this._oMinDate)){T.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=c.fromLocalJSDate(e,a);this._oMaxDate.setDate(n._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(c.fromLocalJSDate(e,a))}this.setProperty("minDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMinDate.getYear();this._getYearPicker()._oMinDate.setYear(i);this._getYearRangePicker()._oMinDate.setYear(i)}for(var s=0;s<t.length;s++){t[s]._oMinDate=new c(this._oMinDate)}return this};b.prototype.setMaxDate=function(e){var t=this.getAggregation("month"),a=this._getPrimaryCalendarType(),i;if(C(e,this.getMaxDate())){return this}if(!e){this._oMaxDate=n._maxDate(a)}else{n._checkJSDateObject(e);this._oMaxDate=c.fromLocalJSDate(e,a);var r=this._oMaxDate.getYear();n._checkYearInValidRange(r,a);if(this._oMinDate.isAfter(this._oMaxDate)){T.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=c.fromLocalJSDate(e,a);this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(c.fromLocalJSDate(e,a))}this.setProperty("maxDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMaxDate.getYear();this._getYearPicker()._oMaxDate.setYear(i);this._getYearRangePicker()._oMaxDate.setYear(i)}for(var s=0;s<t.length;s++){t[s]._oMaxDate=new c(this._oMaxDate)}return this};b.prototype.setShowCurrentDateButton=function(e){this.getAggregation("header").setVisibleCurrentDateButton(e);return this.setProperty("showCurrentDateButton",e)};b.prototype.setIntervalSelection=function(e){const t=this._getMonthPicker();if(t){t._setShowSelectedRange(e)}const a=this._getYearPicker();if(a){a._setShowSelectedRange(e)}const i=this._getYearRangePicker();if(i){i._setShowSelectedRange(e)}return this.setProperty("intervalSelection",e)};b.prototype.setSingleSelection=function(e){const t=this._getMonthPicker();if(t){t.setProperty("_singleSelection",e)}const a=this._getYearPicker();if(a){a.setProperty("_singleSelection",e)}const i=this._getYearRangePicker();if(i){i.setProperty("_singleSelection",e)}return this.setProperty("singleSelection",e)};b.prototype._setMinMaxDateExtend=function(e){if(this._oFocusedDate){if(n._isOutside(this._oFocusedDate,this._oMinDate,this._oMaxDate)){T.warning("focused date is not between [minDate - maxDate] -> refocus to the new max/min date: "+e.toString(),this);this.focusDate(e.toLocalJSDate())}}};b.prototype._getLocaleData=function(){if(!this._oLocaleData){var e=this.getLocale();var t=new M(e);this._oLocaleData=s.getInstance(t)}return this._oLocaleData};b.prototype._getShowMonthHeader=function(){var e=B.call(this);if(e>2){return true}else{return false}};b.prototype._getMonthPicker=function(){return this.getAggregation("monthPicker")};b.prototype._getYearPicker=function(){return this.getAggregation("yearPicker")};b.prototype._getYearRangePicker=function(){return this.getAggregation("yearRangePicker")};b.prototype.onclick=function(e){var t=e.target;if(e.isMarked("delayedMouseEvent")){return}if(t.id==this.getId()+"-cancel"){this.onsapescape(e)}};b.prototype.onmousedown=function(e){if(e.cancelable){e.preventDefault()}e.setMark("cancelAutoClose")};b.prototype.onsapescape=function(e){this.fireCancel();this._closePickers();this._addMonthFocusDelegate();if(!this._getSucessorsPickerPopup()){this._setHeaderText(this._getFocusedDate())}};b.prototype.onsapshow=function(e){var t=e.which||e.keyCode;if(this._bPoupupMode&&t!==P.F4){this._closePickers();this._addMonthFocusDelegate();this.fireCancel();e.preventDefault()}};b.prototype.onkeydown=function(e){var t=e.which||e.keyCode,a=e.shiftKey;if(t!==P.F4){return}e.preventDefault();switch(this._iMode){case 0:if(a){this._showYearPicker()}else{this._showMonthPicker()}break;case 1:if(a){this._showYearPicker()}break;case 2:if(a){this._showYearRangePicker()}break;default:}};b.prototype.onsaphide=b.prototype.onsapshow;b.prototype.getFocusDomRef=function(){var e=this._oSelectedMonth?this._oSelectedMonth:this.getAggregation("month")[0],t=this._getMonthPicker(),a=this._getYearPicker(),i=this._getYearRangePicker();switch(this._iMode){case 0:return e.getFocusDomRef();case 1:return t.getFocusDomRef();case 2:return a.getFocusDomRef();case 3:return i.getFocusDomRef();default:return}};b.prototype.onThemeChanged=function(){var e,t=arguments;if(!this.getDomRef()){return}this._bNamesLengthChecked=undefined;if(!this._getSucessorsPickerPopup()){var a={onAfterRendering:function(){e.onThemeChanged(t);e._bNoThemeChange=true;x.call(this);this._bLongMonth=e._bLongMonth;this._closePickers();e.removeEventDelegate(a)}};e=this._getMonthPicker();this._showMonthPicker(true);e._bNoThemeChange=false;e.addEventDelegate(a,this)}var i=this.getAggregation("month");for(var r=0;r<i.length;r++){var s=i[r];s._bNoThemeChange=false;s.onThemeChanged(arguments);s._bNoThemeChange=true}var n;if(i.length>1){n=c.fromLocalJSDate(i[0].getDate(),this._getPrimaryCalendarType())}else{n=this._getFocusedDate()}this._setHeaderText(n);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInColumnsCSS()};b.prototype._updateLegendParent=function(){var e=this.getLegend(),t=r.getElementById(e);t&&t._setParent(this)};b.prototype._updateHeader=function(e){this._setHeaderText(e);switch(this._iMode){case 0:this._togglePrevNext(e,true);break;case 1:this._togglePrevNext(e,false);break;case 2:case 3:this._togglePrevNexYearPicker();break}};b.prototype._togglePrevNext=function(e,t){var a=this._oMaxDate.getYear();var i=this._oMinDate.getYear();var r=this._oMaxDate.getMonth();var s=this._oMinDate.getMonth();var o=this.getAggregation("header");var h=B.call(this);var g=new c(e,this._getPrimaryCalendarType());if(this._iMode===1&&h>1){g=H.call(this,e);g.setMonth(g.getMonth()+h-1);g.setDate(n._daysInMonth(g))}else{g.setDate(n._daysInMonth(g))}var l=g.getYear();var d=g.getMonth();if((this._iMode===0||this._iMode===1)&&h>1){d+=h-1}if(l>a||l===a&&(!t||d>=r)||(this._iMode===0||this._iMode===1)&&this._getSucessorsPickerPopup()){o.setEnabledNext(false)}else{o.setEnabledNext(true)}if(this._iMode===1&&h>1){g.setMonth(g.getMonth()-h+1,1)}else{g.setDate(1)}l=g.getYear();d=g.getMonth();if(l<i||l==i&&(!t||d<=s)||this._iMode==1&&this._getSucessorsPickerPopup()){o.setEnabledPrevious(false)}else{o.setEnabledPrevious(true)}};b.prototype._togglePrevNexYearPicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=this._getPrimaryCalendarType(),i=new c(this._oMinDate,a),r=new c(this._oMaxDate,a),s=this.getAggregation("header"),n=1,o,h,g,l;if(this._iMode===3){g=e.getYears();n=e.getRangeSize();o=new c(e.getProperty("_middleDate"));h=new c(o);o.setYear(o.getYear()-n*g/2);h.setYear(h.getYear()+n*g/2-1)}else{g=t.getYears();l=t.getProperty("_middleDate")?t.getProperty("_middleDate"):c.fromLocalJSDate(p.getInstance());o=new c(l);h=new c(l);o.setYear(o.getYear()-g/2);h.setYear(h.getYear()+g/2-1)}s.setEnabledNext(h.getYear()<r.getYear());s.setEnabledPrevious(o.getYear()>i.getYear())};b.prototype._handlePrevious=function(){var e=this._getFocusedDate(),t=B.call(this),a,i=false;switch(this._iMode){case 0:if(t>1){a=c.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this._getPrimaryCalendarType());a.setDate(1);this._setFocusedDate(a);e=this._getFocusedDate()}else{e.setDate(1)}e.setDate(e.getDate()-1);this._renderMonth(i,false);this._addMonthFocusDelegate();break;case 1:e.setYear(e.getYear()-1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(e.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(e);this._setDisabledMonths(e.getYear());var r=this._getMonthPicker();r._setYear(e.getYear());r._setDate(e);r.invalidate();this.setProperty("_currentPicker",Y.MONTH_PICKER);break;case 2:this._getYearPicker().previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};b.prototype._handleNext=function(){var e=this._getFocusedDate(),t=B.call(this),a;switch(this._iMode){case 0:if(t>1){a=c.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this._getPrimaryCalendarType());a.setMonth(a.getMonth(),1);this._setFocusedDate(a);e=this._getFocusedDate()}e.setMonth(e.getMonth()+1,1);this._renderMonth(false,false);this._addMonthFocusDelegate();break;case 1:e.setYear(e.getYear()+1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(e.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(e);this._setDisabledMonths(e.getYear());var i=this._getMonthPicker();i._setYear(e.getYear());i._setDate(e);i.invalidate();this.setProperty("_currentPicker",Y.MONTH_PICKER);break;case 2:this._getYearPicker().nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};b.prototype._updateHeadersYearAdditionalTextHelper=function(){if(!this._getSecondaryCalendarType()){return}var e=this._getDisplayedSecondaryYears();if(e.start.getYear()===e.end.getYear()){this._updateHeadersYearAdditionalText(this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true))}else{var t=this._getLocaleData();var a=t.getIntervalPattern();var i=a.replace(/\{0\}/,this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true)).replace(/\{1\}/,this._oYearFormatSecondary.format(e.end.toUTCJSDate(),true));this._updateHeadersYearAdditionalText(i)}};b.prototype._handleCurrentDate=function(){var e=p.getInstance(),t=this.getMaxDate(),a=this.getMinDate();this.setProperty("_currentPicker",Y.MONTH);if(t&&t.getTime()<e.getTime()){this.focusDate(t)}else if(a&&a.getTime()>e.getTime()){this.focusDate(a)}else{this.focusDate(e)}};b.prototype._getYearString=function(){var e=this._getYearPicker(),t=e.getDomRef(),a=this._getFocusedDate();if(e&&t&&t.style.display===""){a=e.getProperty("_middleDate");a.setDate(1)}return this._oYearFormat.format(_.getInstance(a.toUTCJSDate(),a.getCalendarType()),true)};b.prototype._getDisplayedMonths=function(e){var t=[];var a=e.getMonth();var i=B.call(this);if(i>1){for(var r=0;r<i;r++){t.push((a+r)%12)}}else{t.push(a)}return t};b.prototype._getDisplayedSecondaryMonths=function(){var e=this._getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a=this.getAggregation("month"),i=c.fromLocalJSDate(a[0].getDate(),e),r=c.fromLocalJSDate(a[a.length-1].getDate(),e),s,o;i.setDate(1);i=new c(i,t);s=i.getMonth();r=c.fromLocalJSDate(a[a.length-1].getDate(),e);r.setDate(n._daysInMonth(r));r=new c(r,t);o=r.getMonth();return{start:s,end:o}};b.prototype._getDisplayedSecondaryYears=function(){var e=this._getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a,i,r,s,o,h,g;switch(this._iMode){case 0:o=this.getAggregation("month");a=c.fromLocalJSDate(o[0].getDate(),e);a.setDate(1);a=new c(a,t);i=c.fromLocalJSDate(o[o.length-1].getDate(),e);i.setDate(n._daysInMonth(i));i=new c(i,t);break;case 1:r=this._getFocusedDate();s=new c(r,e);s.setMonth(0,1);a=new c(s,e);a=new c(a,t);s.setYear(s.getYear()+1);s.setDate(s.getDate()-1);i=new c(s,e);i=new c(i,t);break;case 2:h=this._getYearPicker();g=h.getYears()/2-1;r=h.getProperty("_middleDate");a=new c(r,e);a.setYear(r.getYear()-g-1);a.setMonth(0,1);a=new c(a,t);i=new c(r,e);i.setYear(i.getYear()+g+1);a.setMonth(0,1);i.setDate(i.getDate()-1);i=new c(i,t);break;default:}return{start:a,end:i}};b.prototype._closePickers=function(){this.setProperty("_currentPicker",Y.MONTH);this._togglePrevNext(this._getFocusedDate(),true);if(this.getAggregation("month").length>1){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=0})}};b.prototype._setDisabledMonths=function(e,t){var a=0;var i=11;if(e===this._oMinDate.getYear()){a=this._oMinDate.getMonth()}if(e===this._oMaxDate.getYear()){i=this._oMaxDate.getMonth()}if(!t){t=this._getMonthPicker()}t.setMinMax(a,i)};b.prototype._handleFocus=function(e){var t=c.fromLocalJSDate(e.getParameter("date"),this._getPrimaryCalendarType()),a=e.getParameter("otherMonth"),i=e.getParameter("restoreOldDate");if(this.getIntervalSelection()){this.getAggregation("month").forEach(function(e){e.setProperty("_focusedDate",t)})}if(i){if(!C(this._getFocusedDate(),t)){this._renderMonth(false,true)}}else{this._focusDate(t,a,false,true)}};b.prototype._getVisibleDays=function(){var e=this.getAggregation("month")[0];return e._getVisibleDays(e._getDate(),false)};b.prototype._renderMonth=function(e,t){var a=this._getFocusedDate(),i=this.getAggregation("month"),r,s,o=H.call(this,new c(a,this._getPrimaryCalendarType())),h=0,g=i[0].checkDateFocusable(a.toLocalJSDate()),l=!t&&!g;for(h=0;h<i.length;h++){r=i[h];s=new c(o,this._getPrimaryCalendarType());s.setMonth(o.getMonth()+h);if(!e&&n._isSameMonthAndYear(s,a)){r.setDate(a.toLocalJSDate())}else{r.displayDate(s.toLocalJSDate())}}this._updateHeader(o);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInColumnsCSS();if(l){this.fireStartDateChange()}};b.prototype._updateMonthButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(false)}return this};b.prototype._showMonthPicker=function(e){var t=this._getFocusedDate(),a=this._getMonthPicker(),i=new c(this._getFocusedDate());this._updateActiveHeaderYearButtonVisibility();this._updateMonthButtonVisibility();this.setProperty("_currentPicker",Y.MONTH_PICKER);if(this._bActionTriggeredFromSecondHeader){i.setDate(1);i.setMonth(i.getMonth()+1);a._setYear(i.getYear());a._setDate(i)}else{a._setYear(t.getYear());a._setDate(t)}if(!e&&this._bActionTriggeredFromSecondHeader){a.setMonth(i.getMonth());this._setDisabledMonths(i.getYear(),a)}else if(!e){a.setMonth(t.getMonth());this._setDisabledMonths(t.getYear(),a)}if(this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==Y.MONTH_PICKER){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=-1})}this._togglePrevNext(t,true);this._setHeaderText(this._getFocusedDate())};b.prototype._showYearPicker=function(){var e=this._getFocusedDate(),t=this._getYearPicker();this.setProperty("_currentPicker",Y.YEAR_PICKER);t.setDate(e.toLocalJSDate());this._togglePrevNexYearPicker();if(this._isTwoMonthsInOneColumn()){this._updateActiveHeaderYearButtonVisibility()}else{this._updateActiveHeaderYearButtonVisibility()}if(this._bActionTriggeredFromSecondHeader&&this.getAggregation("month")[1].getDate().getFullYear()>this._getFocusedDate().getYear()){var a=e.toLocalJSDate();a.setFullYear(a.getFullYear()+1);t.setDate(a);this._updateHeadersYearPrimaryText(this._getYearString())}else{t.setDate(e.toLocalJSDate());this._updateHeadersYearPrimaryText(this._getYearString())}if(this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==Y.YEAR_PICKER){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=-1})}};b.prototype._focusDate=function(e,t,a,i){var r,s=false,n=false,o=this.getAggregation("month"),h;if(e.isBefore(this._oMinDate)){r=this._oMinDate;s=true}else if(e.isAfter(this._oMaxDate)){r=this._oMaxDate;s=true}else{r=e}if(this._focusDateExtend){n=this._focusDateExtend(e,t,a)}this._setFocusedDate(r);if(i&&!this._focusDateExtend){for(h=0;h<o.length;++h){if(o[h].checkDateFocusable(r.toLocalJSDate())){o[h].setDate(r.toLocalJSDate());o[h]._focusDate(r);return}}}if(s||t){this._renderMonth(false,a);this._addMonthFocusDelegate()}if(n){this.fireStartDateChange()}};b.prototype._setHeaderText=function(e){var t=this.getAggregation("header");var a=this.getAggregation("secondMonthHeader");var i=this._getLocaleData();var r=[];var s=[];var n=[];var o=[];var h;var g=false;var l;var d;var u;var _;var p;var f=this._getPrimaryCalendarType();var D=this._getSecondaryCalendarType();var y="";if(this._bLongMonth||!this._bNamesLengthChecked){r=i.getMonthsStandAlone("wide",f)}else{g=true;r=i.getMonthsStandAlone("abbreviated",f);s=i.getMonthsStandAlone("wide",f)}if(D){n=i.getMonthsStandAlone("abbreviated",D);o=i.getMonthsStandAlone("wide",D);var m=this._getDisplayedSecondaryMonths();if(m.start===m.end){u=n[m.start];y=o[m.start]}else{p=i.getIntervalPattern();u=p.replace(/\{0\}/,n[m.start]).replace(/\{1\}/,n[m.end]);y=p.replace(/\{0\}/,o[m.start]).replace(/\{1\}/,o[m.end])}}t.setAdditionalTextButton1(u);t._setAdditionalTextButton3(u);a.setAdditionalTextButton1(u);var M=this._getDisplayedMonths(e);this._sFirstMonthName=l=r[M[0]];d=r[M[M.length-1]];if(M.length>1&&!this._bShowOneMonth){if(!p){p=i.getIntervalPattern()}u=p.replace(/\{0\}/,l).replace(/\{1\}/,d);h=s.length?p.replace(/\{0\}/,s[M[0]]).replace(/\{1\}/,s[M[M.length-1]]):u;if(this._isTwoMonthsInTwoColumns()||this._isTwoMonthsInOneColumn()){u=l}}else{u=l;h=s[M[0]]||u}if(!this._getSucessorsPickerPopup()&&y){h+=", "+y}t.setTextButton1(u);t.setAriaLabelButton1(h);t._setTextButton3(d);t._setAriaLabelButton3(d);a.setTextButton1(d);a.setAriaLabelButton1(d);var P=new c(e,f);P.setDate(1);_=this._oYearFormat.format(P.toUTCJSDate(),true);if(P.getMonth()===11){this._updateHeadersYearPrimaryText(_,(parseInt(_)+1).toString())}else{this._updateHeadersYearPrimaryText(_,_)}if(D&&this._iMode!==3){this._updateHeadersYearAdditionalTextHelper()}else{this._updateHeadersYearAdditionalText()}return{sMonth:u,sYear:_,sAriaLabel:h,bShort:g}};b.prototype._handleButton1=function(e){if(this._iMode!=1){this._saveTriggeredHeader(e);this._showMonthPicker()}else{this.setProperty("_currentPicker",Y.MONTH);this._addMonthFocusDelegate()}};b.prototype._addMonthFocusDelegate=function(){var e=this.getAggregation("month"),t=e[0].getDate(),a=this._getFocusedDate(),i={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex(),undefined,true);this.removeDelegate(i)}},r,s;if(e.length>1&&r){t=c.fromLocalJSDate(r,this._getPrimaryCalendarType())}else if(e.length>1){t=H.call(this,this._getFocusedDate())}else{t=a}for(var n=0;n<e.length;n++){r=new c(t);if(n>0){r.setMonth(r.getMonth()+n,1)}if(a.getYear()===r.getYear()&&a.getMonth()===r.getMonth()){s=this.getAggregation("month")[n];s.addDelegate(i,s)}}};b.prototype._handleButton2=function(e){if(this._iMode<=1){this._saveTriggeredHeader(e);this._showYearPicker()}else{this._showYearRangePicker()}};b.prototype._selectMonth=function(){var e=new c(this._getFocusedDate(),this._getPrimaryCalendarType()),t=this._getMonthPicker(),a=t.getProperty("_focusedMonth"),i=a||a===0?a:t.getMonth(),r=c.fromLocalJSDate(p.getInstance(),this._getPrimaryCalendarType());r=t._iYear?r.setYear(t._iYear).setMonth(i-1,1):new c(this._getFocusedDate().getYear(),i-1,1);if(B.call(this)>1){if(this._bActionTriggeredFromSecondHeader&&r.getYear()>=n._minDate(this._getPrimaryCalendarType()).getYear()){e.setYear(r.getYear());i=r.getMonth()}else if(e.getYear()===n._maxDate(this._getPrimaryCalendarType()).getYear()&&i===11){i-=1}}e.setMonth(i);if(i!=e.getMonth()){e.setDate(0)}this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate()};b.prototype._getSucessorsPickerPopup=function(){return this.getPickerPopup&&this.getPickerPopup()};b.prototype._selectYear=function(){var e=new c(this._getFocusedDate(),this._getPrimaryCalendarType()),t=e.getMonth(),a=this._getYearPicker(),i=c.fromLocalJSDate(a.getDate(),this._getPrimaryCalendarType());if(!this._bActionTriggeredFromSecondHeader){i.setMonth(t,e.getDate())}else{i.setYear(t===11?i.getYear()-1:i.getYear());i.setMonth(t,e.getDate())}e=i;this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate();this._setHeaderText(this._getFocusedDate())};b.prototype.setProperty=function(){var e=arguments[0],t=arguments[1];i.prototype.setProperty.apply(this,arguments);if(e==="_currentPicker"){switch(t){case"month":this._iMode=0;break;case"monthPicker":this._iMode=1;break;case"yearPicker":this._iMode=2;break;case"yearRangePicker":this._iMode=3;break;default:return}}return this};b.prototype._selectYearRange=function(){var e=this.getAggregation("yearRangePicker"),t=this.getAggregation("header"),a=e.getRangeSize(),i=this._getPrimaryCalendarType(),r=c.fromLocalJSDate(e.getDate(),i),s=new c(r.getYear()+a-1,0,1,i),n=this._getFocusedDate(),o,h;n.setYear(r.getYear()+a/2);r.setMonth(0,1);if(n.isBefore(this._oMinDate)){n=new c(this._oMinDate,this._getPrimaryCalendarType())}else if(n.isAfter(this._oMaxDate)){n=new c(this._oMaxDate,this._getPrimaryCalendarType())}this._setFocusedDate(n);this._showYearPicker();o=this._oYearFormat.format(_.getInstance(r.toUTCJSDate(),r.getCalendarType()),true);h=this._oYearFormat.format(_.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);t.setTextButton2(o+" - "+h);t._setTextButton4(o+" - "+h)};b.prototype._showYearRangePicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=c.fromLocalJSDate(t.getFirstRenderedDate(),this._getPrimaryCalendarType());this.setProperty("_currentPicker",Y.YEAR_RANGE_PICKER);e.getColumns()%2!==0?a.setYear(a.getYear()+Math.floor(e.getRangeSize()/2)):a.setYear(a.getYear());e.setDate(a.toLocalJSDate());this._togglePrevNexYearPicker()};b.prototype._setColumns=function(e){this._iColumns=e;return this};b.prototype._getColumns=function(){return this._iColumns};b.prototype._updateActiveHeaderYearButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(!e.getVisibleButton1())}return this};b.prototype._updateHeadersButtonsHelper=function(e,t,a,i){var r=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader");r.setVisibleButton1(e);r.setVisibleButton2(t);r._setVisibleButton3(a);r._setVisibleButton4(i);if(s.getVisible()){s.setVisibleButton1(e);s.setVisibleButton2(t);s._setVisibleButton3(a);s._setVisibleButton4(i)}};b.prototype._updateHeadersButtons=function(){var e=this.getAggregation("secondMonthHeader");if(this._isTwoMonthsInOneColumn()){e.setVisible(true);if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}else if(this._isTwoMonthsInTwoColumns()){e.setVisible(false);if(this._iMode===2){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else if(this._iMode===1){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else{this._updateHeadersButtonsHelper(true,true,true,true)}}else{e.setVisible(false);if(this._iMode===1){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}if(this._getSucessorsPickerPopup()){this.getAggregation("header").setVisibleButton2(false)}};b.prototype._setPrimaryHeaderMonthButtonText=function(){var e=this.getAggregation("header");if(this._isTwoMonthsInOneColumn()||this._isTwoMonthsInTwoColumns()){e.setTextButton1(this._sFirstMonthName)}};b.prototype._toggleTwoMonthsInColumnsCSS=function(){if(this._isTwoMonthsInTwoColumns()){if(new M(t.getLanguageTag()).getLanguage().toLowerCase()==="ja"||new M(t.getLanguageTag()).getLanguage().toLowerCase()==="zh"){this.addStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}else{this.addStyleClass("sapUiCalTwoMonthsTwoColumns");this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh")}}else{this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}if(this._isTwoMonthsInOneColumn()){this.addStyleClass("sapUiCalTwoMonthsInOneColumn")}else{this.removeStyleClass("sapUiCalTwoMonthsInOneColumn")}};b.prototype._isTwoMonthsInOneColumn=function(){var e=B.call(this);return this._getColumns()===1&&e===2};b.prototype._isTwoMonthsInTwoColumns=function(){var e=B.call(this);return this._getColumns()===2&&e===2};b.prototype._updateHeadersYearPrimaryText=function(e,t){var a=this._getYearPicker(),i=this.getAggregation("header"),r=this.getAggregation("secondMonthHeader"),s=e,o=t||e,h=this._getPrimaryCalendarType();if(this._iMode===2&&a){var g=a.getProperty("_middleDate")?a.getProperty("_middleDate"):a._getDate(),l=new c(g,h),d=n._minDate(this._getPrimaryCalendarType()).getYear(),u=n._maxDate(this._getPrimaryCalendarType()).getYear(),p,f,D;l.setDate(1);l.setYear(l.getYear()-Math.floor(a.getYears()/2));if(l.getYear()<d){l.setYear(d)}else if(l.getYear()+a.getYears()>u){l.setYear(u-a.getYears()+1)}p=new c(l,h);p.setYear(p.getYear()+a.getYears()-1);f=this._oYearFormat.format(_.getInstance(l.toUTCJSDate(),l.getCalendarType()),true);D=this._oYearFormat.format(_.getInstance(p.toUTCJSDate(),p.getCalendarType()),true);if(this._bActionTriggeredFromSecondHeader){o=f+" - "+D}else{s=f+" - "+D}}i._setTextButton4(o);i._setAriaLabelButton4(o);r.setTextButton2(o);i.setTextButton2(s)};b.prototype._updateHeadersYearAdditionalText=function(e){var t=this.getAggregation("header"),a=this.getAggregation("secondMonthHeader");t.setAdditionalTextButton2(e);t._setAdditionalTextButton4(e);a.setAdditionalTextButton2(e)};b.prototype._adjustYearRangeDisplay=function(){var e=this.getAggregation("yearRangePicker"),t=this._getPrimaryCalendarType(),i=this._getSecondaryCalendarType(),r=t===a.Japanese||i===a.Japanese;if(!this._getSucessorsPickerPopup()){if(r){e.setColumns(1);e.setYears(4)}else{e.setColumns(2);e.setYears(8)}}};b.prototype._getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin._getSpecialDates()}if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===f.CalendarDayType.NonWorking&&t[a].getType()!==f.CalendarDayType.NonWorking;if(i){var r=new o;r.setType(t[a].getSecondaryType());r.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){r.setEndDate(t[a].getEndDate())}t.push(r)}}return t}};function A(){var e=this.getSelectedDates();var t=this._getPrimaryCalendarType();if(e&&e[0]&&e[0].getStartDate()){this._oFocusedDate=c.fromLocalJSDate(e[0].getStartDate(),t)}else{this._oFocusedDate=c.fromLocalJSDate(p.getInstance(),t)}if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new c(this._oMinDate,t)}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new c(this._oMaxDate,t)}}function w(e){var t=e.size.width;if(t<=0){return}if(t===this._iPrevWidth){return}this._iPrevWidth=t;var a=this._iSize;if(t<this._iBreakPointTablet){this._iSize=0}else if(t<this._iBreakPointDesktop){this._iSize=1}else if(t<this._iBreakPointLargeDesktop){this._iSize=2}else{this._iSize=3}var i=B.call(this);if(a!=this._iSize||this._bInitMonth){switch(this._iSize){case 1:this._setColumns(2);break;case 2:this._setColumns(3);break;case 3:this._setColumns(4);break;default:this._setColumns(1);break}if(i<this._getColumns()){this._setColumns(i)}if(this._getColumns()>2&&i>this._getColumns()){var r=this._getColumns();var s=0;var n=this._getColumns();while(r>=2){var o=i%r;if(o==0){n=r;break}else{var h=o/r;if(h>s){s=h;n=r}}r--}this._setColumns(n)}var g;var l=this.getAggregation("month");if(this._getColumns()>1){g=100/this._getColumns()+"%";this.$("content").removeClass("sapUiCalContentSingle")}else{g="100%";this.$("content").addClass("sapUiCalContentSingle")}for(var d=0;d<l.length;d++){var u=l[d];u.setWidth(g)}this.invalidate()}this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInColumnsCSS()}function H(e){var t=new c(e,this._getPrimaryCalendarType());t.setDate(1);var a=B.call(this);if(a<=12){var i=e.getMonth();if(12%a>0&&i+a>11){i=12-a}t.setMonth(i)}return t}function x(){var e,t,a;if(!this._bNamesLengthChecked){e=this._getMonthPicker();this._bLongMonth=e._bLongMonth;this._bNamesLengthChecked=true;this.setProperty("_currentPicker",Y.MONTH);if(!this._bLongMonth){t=this.getAggregation("month");if(t.length>1){a=c.fromLocalJSDate(t[0].getDate(),this._getPrimaryCalendarType())}else{a=this._getFocusedDate()}this._setHeaderText(a);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInColumnsCSS()}}}function R(e,t){var a,i=this._getPrimaryCalendarType(),r;if(!e){return}a=c.fromLocalJSDate(e,i);r=a.getYear();n._checkYearInValidRange(r,i);if(n._isOutside(a,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this)}this._setFocusedDate(a);if(this.getDomRef()&&this._iMode==0){this._renderMonth(t,true)}}function B(){if(D.system.phone){return 1}else{return this.getMonths()}}function F(e){this.fireEvent("_renderMonth",{days:e.getParameter("days")})}function L(e){this._oSelectedMonth=e.oSource;this.fireSelect()}function I(e){var t,a,i;if(B.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._bindMousemove()}}}}function N(e){var t,a,i;if(B.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._unbindMousemove()}}}}function E(e){var t=e.getParameter("offset");if(t>0){this._handleNext(e)}if(t<0){this._handlePrevious(e)}}function J(){this._updateHeadersYearPrimaryText(this._getYearString())}return b});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarAppointment", ["./DateTypeRange","sap/base/i18n/Formatting","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","./calendar/CalendarUtils","./library","sap/base/Log","sap/ui/core/date/UI5Date"],function(t,e,a,n,i,r,o,g,u,s){"use strict";var p=t.extend("sap.ui.unified.CalendarAppointment",{metadata:{library:"sap.ui.unified",properties:{title:{type:"string",group:"Data"},text:{type:"string",group:"Data"},description:{type:"string",group:"Data"},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},tentative:{type:"boolean",group:"Data",defaultValue:false},selected:{type:"boolean",group:"Data",defaultValue:false},key:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}},aggregations:{customContent:{type:"sap.ui.core.Control",multiple:true}}}});p.prototype.init=function(){this._sAppointmentPartSuffix=null};p.prototype.applyFocusInfo=function(t){var e=this.getParent();if(e){e.applyFocusInfo(t)}return this};p.prototype._getDateRangeIntersectionText=function(t,o){var g=this.getStartDate(),u=this.getEndDate()?this.getEndDate():s.getInstance(864e12),p=o?"h:mm a":"HH:mm",l,m,f=s.getInstance(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),c=s.getInstance(f.getFullYear(),f.getMonth(),f.getDate()+1),d=i.getTimeInstance({pattern:p}),T=a.getResourceBundleFor("sap.m"),h=r.getUnitInstance({allowedUnits:["duration-hour"]},new n(e.getLanguageTag())),A=r.getUnitInstance({allowedUnits:["duration-minute"]},new n(e.getLanguageTag())),D,I,y,N;if(g.getTime()>c.getTime()||u.getTime()<f.getTime()){l=""}else if(g.getTime()<=f.getTime()&&u.getTime()>=c.getTime()){l=T.getText("PLANNINGCALENDAR_ALLDAY")}else if(g.getTime()<f.getTime()){l=T.getText("PLANNINGCALENDAR_UNTIL");m=d.format(u)}else if(u.getTime()>c.getTime()){l=T.getText("PLANNINGCALENDAR_FROM");m=d.format(g)}else{l=d.format(g);if(u.getTime()-g.getTime()<36e5){I=(u.getTime()-g.getTime())/6e4;m=A.format(I,"duration-minute")}else if((u.getTime()-g.getTime())%36e5===0){D=(u.getTime()-g.getTime())/36e5;m=h.format(D,"duration-hour")}else{D=Math.floor((u.getTime()-g.getTime())/36e5);y=h.format(D,"duration-hour");I=(u.getTime()-g.getTime())/6e4%60;N=A.format(I,"duration-minute");m=T.getText("PLANNINGCALENDAR_APP_DURATION",[y,N])}}return{start:l,end:m}};p._getComparer=function(t){var e=24*60*60*1e3,a=s.getInstance(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0).getTime(),n=a+e;return function(t,e){var i=t.appointment.getStartDate().getTime(),r=e.appointment.getStartDate().getTime(),o=t.appointment.getEndDate()?t.appointment.getEndDate().getTime():864e12,g=e.appointment.getEndDate()?e.appointment.getEndDate().getTime():864e12,u=i<=a&&o>=n,s=r<=a&&g>=n,p;if(u&&s||!u&&!s){p=i-r;if(p===0){p=g-o}}else if(u){p=-1}else{p=1}return p}};p.prototype.setColor=function(t){if(t&&!t.match(/^#[0-9a-f]{6}$/i)){u.warning("setColor accepts only full hex color value with pound symbol, but value is '"+t+"'")}return this.setProperty("color",t)};p.prototype._getCSSColorForBackground=function(t){if(t.length===4){t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)}return"rgba("+[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)].join(", ")+", 0.2)"};p.prototype._setAppointmentPartSuffix=function(t){this._sAppointmentPartSuffix=t;return this};p.prototype.getDomRef=function(t){if(document.getElementById(this.getId())){return document.getElementById(t?this.getId()+"-"+t:this.getId())}else if(this._sAppointmentPartSuffix){return document.getElementById(t?this.getId()+"-"+this._sAppointmentPartSuffix+"-"+t:this.getId()+"-"+this._sAppointmentPartSuffix)}var e=document.querySelectorAll(".sapUiCalendarRowApps[id^='"+this.getId()+"-']");return e.length>0?e[0]:null};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegend", ["sap/ui/core/Control","./library","./CalendarLegendRenderer","sap/base/Log","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarLegendItem","sap/ui/Device","sap/ui/core/delegate/ItemNavigation"],function(e,t,i,a,n,r,jQuery,o,s,d){"use strict";var p=r.getResourceBundleFor("sap.ui.unified");var g=t.CalendarDayType;var l=t.StandardCalendarLegendItem;var u=e.extend("sap.ui.unified.CalendarLegend",{metadata:{library:"sap.ui.unified",properties:{standardItems:{type:"string[]",group:"Misc",defaultValue:["Today","Selected","WorkingDay","NonWorkingDay"]},columnWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"120px"}},aggregations:{items:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,singularName:"item"},_standardItems:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,visibility:"hidden"}},designtime:"sap/ui/unified/designtime/CalendarLegend.designtime"},constructor:function(t,i){e.prototype.constructor.apply(this,arguments);if(typeof t!=="string"){i=t}if(!i||i&&!i.standardItems){this._addStandardItems(this.getStandardItems())}this._bShouldRenderStandardItems=true;this._oItemNavigation=null},renderer:i});u.prototype.onAfterRendering=function(){if(!s.system.phone&&this._oParentControl){this._initItemNavigation()}};u.prototype.setStandardItems=function(e){var t;if(e&&e.length===1&&e[0]===""){e=[]}if(e&&e.length){e=this.validateProperty("standardItems",e);for(t=0;t<e.length;t++){if(!l[e[t]]){throw new Error("Invalid value '"+e[t]+"'. Property standardItems must contain values from sap.ui.unified.StandardCalendarLegendItem.")}}}this.setProperty("standardItems",e);this._addStandardItems(this.getStandardItems(),true);return this};u.prototype._initItemNavigation=function(){var e=this.getAggregation("_standardItems")||[],t=this.getItems()||[],i,a=[],n,r;i=e.concat(t);if(!i.length){return}r=i[0].getDomRef().parentElement;i.forEach(function(e,t){n=e.getFocusDomRef();n.setAttribute("tabindex","-1");a.push(n)});if(!this._oItemNavigation){this._oItemNavigation=(new d).setCycling(false).attachEvent(d.Events.AfterFocus,this._onItemNavigationAfterFocus,this).attachEvent(d.Events.FocusLeave,this._onItemNavigationFocusLeave,this).setDisabledModifiers({sapnext:["alt","meta","ctrl"],sapprevious:["alt","meta","ctrl"],saphome:["alt","meta","ctrl"],sapend:["meta","ctrl"]});this.addDelegate(this._oItemNavigation)}this._oItemNavigation.setRootDomRef(r).setItemDomRefs(a).setPageSize(i.length).setFocusedIndex(0)};u.prototype._onItemNavigationAfterFocus=function(e){var t=e.getSource(),i=t.getItemDomRefs()[t.getFocusedIndex()],a=n.getElementById(i.id).getType(),r=n.getElementById(i.id).getColor(),o=this._getParent();this._setSpecialDateTypeFilter(a);this._setSpecialDateColorFilter(r);o&&o.invalidate()};u.prototype._onItemNavigationFocusLeave=function(e){var t=this._getParent();this._setSpecialDateColorFilter();this._setSpecialDateTypeFilter();t&&t.invalidate()};u.prototype._setSpecialDateTypeFilter=function(e){this._sSpecialDateTypeFilter=e||""};u.prototype._setSpecialDateColorFilter=function(e){this._sSpecialDateColorFilter=e||""};u.prototype._getSpecialDateTypeFilter=function(){return this._sSpecialDateTypeFilter||""};u.prototype._getSpecialDateColorFilter=function(){return this._sSpecialDateColorFilter||""};u.prototype._setParent=function(e){this._oParentControl=e};u.prototype._getParent=function(){return this._oParentControl};u.prototype._getLegendAriaLabel=function(){return p.getText("LEGEND_ARIA_LABEL")};u.prototype._addStandardItems=function(e,t){var i,a=this.getId();if(t){this.destroyAggregation("_standardItems")}for(i=0;i<e.length;i++){var n=new o(a+"-"+e[i],{text:p.getText(u._Standard_Items_TextKeys[e[i]])});this.addAggregation("_standardItems",n)}};u._Standard_Items_TextKeys={Today:"LEGEND_TODAY",Selected:"LEGEND_SELECTED",WorkingDay:"LEGEND_NORMAL_DAY",NonWorkingDay:"LEGEND_NON_WORKING_DAY"};u.prototype._getItemType=function(e,t){var i=e.getType(),n,r;if(i&&i!==g.None){return i}r=this._getUnusedItemTypes(t);n=t.filter(function(e){return!e.getType()||e.getType()===g.None}).indexOf(e);if(n<0){a.error("Legend item is not in the legend",this);return i}if(r[n]){i=r[n]}else{i="Type"+(Object.keys(g).length+n-r.length-1)}return i};u.prototype._getItemByType=function(e){var t,i=this.getItems(),a;for(a=0;a<i.length;a++){if(this._getItemType(i[a],i)===e){t=i[a];break}}return t};u.prototype._getUnusedItemTypes=function(e){var t=jQuery.extend({},g),i,a;delete t[g.None];delete t[g.NonWorking];delete t[g.Working];for(a=0;a<e.length;a++){i=e[a].getType();if(t[i]){delete t[i]}}return Object.keys(t)};u.prototype._extractItemIdsString=function(e){return e.map(function(e){return e.getId()}).join(" ")};u.prototype._getAllItems=function(){var e=this.getAggregation("_standardItems")||[],t=this.getItems()||[];return e.concat(t)};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendItem", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=a.CalendarDayType;var u=e.extend("sap.ui.unified.CalendarLegendItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:r.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return u});
/*
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendRenderer", ["sap/ui/core/InvisibleText","sap/ui/core/Lib","sap/ui/unified/library"],function(e,t,i){"use strict";var n={apiVersion:2};n.render=function(e,t){var n=t.getAggregation("_standardItems"),r=t.getItems(),d=this.defineItemsLength(t,r.length),a=(n?n.length:0)+(r?r.length:0),s="",o=4,l,g,p,c,f=1;e.openStart("div",t);e.class("sapUiUnifiedLegend");e.attr("aria-label",t._getLegendAriaLabel());e.attr("role","list");s=t._extractItemIdsString(t._getAllItems());e.attr("aria-owns",s);e.openEnd();this.renderItemsHeader(e,t);if(n||r){e.openStart("div");e.class("sapUiUnifiedLegendItems");p=t.getColumnWidth();e.style("column-width",p);e.style("-moz-column-width",p);e.style("-webkit-column-width",p);e.openEnd();if(n){g=t.getId().length+1;for(l=0;l<n.length;++l){var u="sapUiUnifiedLegend"+n[l].getId().slice(g);this.renderLegendItem(e,u,n[l],["sapUiUnifiedLegendSquareColor"],f++,a)}}if(r){for(l=0;l<d;l++){c=t._getItemType(r[l],r);if(c===i.CalendarDayType.NonWorking){o=0}this.renderLegendItem(e,"sapUiCalLegDayType"+c.slice(o),r[l],["sapUiUnifiedLegendSquareColor"],f++,a)}}this.renderAdditionalItems(e,t);e.close("div")}this.renderAdditionalContent(e,t);e.close("div")};n.renderLegendItem=function(e,t,i,n,r,d){var a=i.getText();var s=i.getTooltip_AsString();e.openStart("div",i);if(s){e.attr("title",s)}e.attr("role","listitem");e.attr("aria-posinset",r);e.attr("aria-setsize",d);e.class("sapUiUnifiedLegendItem");e.class(t);e.openEnd();e.openStart("div");e.class("sapUiUnifiedLegendSquare");e.openEnd();this.renderColor(e,i.getColor(),n);e.close("div");e.openStart("div",i.getId()+"-Text");e.class("sapUiUnifiedLegendDescription");e.openEnd();e.text(a);e.close("div");e.close("div")};n.renderItemsHeader=function(e,t){};n.renderAdditionalContent=function(e,t){};n.defineItemsLength=function(e,t){return t};n.renderAdditionalItems=function(e,t){};n.renderColor=function(e,t,i){e.openStart("div");for(var n=0;n<i.length;n++){e.class(i[n])}if(t){e.style("background-color",t)}e.openEnd();e.close("div")};n.addCalendarTypeAccInfo=function(e,t,i){var r,d;if(i){var a=i._getItemByType(t);if(a){r=a.getText()}}if(r){e["label"]=e["label"]?e["label"]+"; "+r:r}else{d=n.getTypeAriaText(t);if(d){e["describedby"]=e["describedby"]?e["describedby"]+" "+d.getId():d.getId()}}};n.typeARIATexts={};n.getTypeAriaText=function(i){var r,d;if(i.indexOf("Type")!==0){return}if(!n.typeARIATexts[i]){r=t.getResourceBundleFor("sap.ui.unified");d=r.getText("LEGEND_UNNAMED_TYPE",[parseInt(i.slice(4)).toString()]);n.typeARIATexts[i]=new e({text:d});n.typeARIATexts[i].toStatic()}return n.typeARIATexts[i]};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRenderer", ["sap/ui/core/Lib"],function(e){"use strict";var t={apiVersion:2};var n={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};t.render=function(t,r){var a=r.getId(),i=r.getTooltip_AsString(),o=r.getAggregation("month"),s=r.getProperty("_currentPicker"),l=r.getWidth(),c=e.getResourceBundleFor("sap.ui.unified"),d={labelledby:{value:"",append:!r._oSpecialDatesControlOrigin},role:r._oSpecialDatesControlOrigin?"":"group",roledescription:r._oSpecialDatesControlOrigin?"":c.getText("CALENDAR_DIALOG")};t.openStart("div",r);t.class("sapUiCal");if(o.length>1){t.class("sapUiCalMulti")}t.accessibilityState(r,d);if(i){t.attr("title",i)}if(l){t.class("sapUiCalWidth");t.style("width",l)}if(r._getSecondaryCalendarType()){t.class("sapUiCalSecType")}if(this.addAttributes){this.addAttributes(t,r)}t.openEnd();var C=r.getAggregation("header");t.renderControl(C);t.openStart("div",a+"-content");t.class("sapUiCalContent");t.openEnd();if(r.getMonths()>1){switch(s){case n.MONTH_PICKER:case n.YEAR_PICKER:case n.YEAR_RANGE_PICKER:this.renderMonths(t,r,o);this.renderCalContentOverlay(t,r,a);break}}switch(s){case n.MONTH:this.renderMonths(t,r,o);break;case n.MONTH_PICKER:t.renderControl(r._getMonthPicker());break;case n.YEAR_PICKER:t.renderControl(r._getYearPicker());break;case n.YEAR_RANGE_PICKER:t.renderControl(r._getYearRangePicker());break}t.close("div");if(!r._bSkipCancelButtonRendering){t.openStart("button",a+"-cancel");t.class("sapUiCalCancel");t.attr("tabindex","-1");t.openEnd();t.text(c.getText("CALENDAR_CANCEL"));t.close("button")}this.renderCalContentAndArrowsOverlay(t,r,a);t.close("div")};t.renderMonths=function(e,t,n){n.forEach(function(r,a){e.renderControl(r);if(n.length===2&&a===0){e.renderControl(t.getAggregation("secondMonthHeader"))}})};t.renderCalContentOverlay=function(e,t,n){e.openStart("div",n+"-contentOver");e.class("sapUiCalContentOver");e.openEnd();e.close("div")};t.renderCalContentAndArrowsOverlay=function(e,t,n){};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRow", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","./library","sap/ui/core/InvisibleText","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","./CalendarRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarAppointment","sap/ui/core/library","sap/ui/core/date/UI5Date"],function(e,t,i,n,a,r,s,o,p,l,u,g,h,d,c,jQuery,f,m,v){"use strict";var T=p.CalendarDayType;var C=p.CalendarAppointmentVisualization;var A=p.GroupAppointmentsMode;var _=p.CalendarIntervalType;var U=p.CalendarAppointmentHeight;var y=p.CalendarAppointmentRoundWidth;var D=i.extend("sap.ui.unified.CalendarRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},intervals:{type:"int",group:"Appearance",defaultValue:12},intervalSize:{type:"int",group:"Appearance",defaultValue:1},intervalType:{type:"sap.ui.unified.CalendarIntervalType",group:"Appearance",defaultValue:_.Hour},showSubIntervals:{type:"boolean",group:"Appearance",defaultValue:false},showIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},showEmptyIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},nonWorkingDays:{type:"int[]",group:"Misc",defaultValue:null},nonWorkingHours:{type:"int[]",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},checkResize:{type:"boolean",group:"Behavior",defaultValue:true},updateCurrentTime:{type:"boolean",group:"Behavior",defaultValue:true},groupAppointmentsMode:{type:"sap.ui.unified.GroupAppointmentsMode",group:"Appearance",defaultValue:A.Collapsed},appointmentsReducedHeight:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},appointmentsVisualization:{type:"sap.ui.unified.CalendarAppointmentVisualization",group:"Appearance",defaultValue:C.Standard},appointmentHeight:{type:"sap.ui.unified.CalendarAppointmentHeight",group:"Appearance",defaultValue:U.Regular},appointmentRoundWidth:{type:"sap.ui.unified.CalendarAppointmentRoundWidth",group:"Appearance",defaultValue:y.None},multipleAppointmentsSelection:{type:"boolean",group:"Data",defaultValue:false}},aggregations:{appointments:{type:"sap.ui.unified.CalendarAppointment",defaultClass:f,multiple:true,singularName:"appointment"},nonWorkingPeriods:{type:"sap.ui.unified.NonWorkingPeriod",multiple:true},intervalHeaders:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"intervalHeader"},groupAppointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"groupAppointment",visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{parameters:{appointment:{type:"sap.ui.unified.CalendarAppointment"},appointments:{type:"sap.ui.unified.CalendarAppointment[]"},multiSelect:{type:"boolean"},domRefId:{type:"string"}}},startDateChange:{},leaveRow:{parameters:{type:{type:"string"}}},intervalSelect:{parameters:{startDate:{type:"object"},endDate:{type:"object"},subInterval:{type:"boolean"}}}}},renderer:d});D.prototype.init=function(){this._bRTL=t.getRTL();this._oRb=a.getResourceBundleFor("sap.ui.unified");var e=this._oRb.getText("APPOINTMENT_DATE_TIME_DESCRIPTION",[I.call(this).getDatePattern("long"),I.call(this).getTimePattern("medium")]);this._oFormatAria=u.getDateTimeInstance({pattern:"EEEE "+e});this._aVisibleAppointments=[];this._aVisibleIntervalHeaders=[];this.setStartDate(v.getInstance());this._resizeProxy=jQuery.proxy(this.handleResize,this);this.aSelectedAppointments=[];this._fnCustomSortedAppointments=undefined};D.prototype.exit=function(){if(this._sResizeListener){g.deregister(this._sResizeListener);this._sResizeListener=undefined}if(this._sUpdateCurrentTime){clearTimeout(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined}this._fnCustomSortedAppointments=undefined};D.prototype.onBeforeRendering=function(){this._aVisibleAppointments=[];M.call(this);H.call(this);z.call(this);if(this._sUpdateCurrentTime){clearTimeout(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined}if(!this.getAppointments().length){this.aSelectedAppointments=[]}else{this.getAppointments().forEach(function(e){this._updateSelectedAppointmentsArray(e)}.bind(this))}};D.prototype.onAfterRendering=function(){F.call(this);this.updateCurrentTimeVisualization();if(this.getCheckResize()&&!this._sResizeListener){this._sResizeListener=g.register(this,this._resizeProxy)}};D.prototype.onThemeChanged=function(e){if(this.getDomRef()){for(var t=0;t<this._aVisibleAppointments.length;t++){var i=this._aVisibleAppointments[t];i.level=-1}this.handleResize(e)}};D.prototype.invalidate=function(e){if(e&&e instanceof f){var t=false;for(var n=0;n<this._aVisibleAppointments.length;n++){if(this._aVisibleAppointments[n].appointment==e){t=true;break}}if(t){this._aVisibleAppointments=[]}this._updateSelectedAppointmentsArray(e)}i.prototype.invalidate.apply(this,arguments)};D.prototype.setStartDate=function(e){if(!e){e=v.getInstance()}s._checkJSDateObject(e);var t=e.getFullYear();s._checkYearInValidRange(t);this._oUTCStartDate=s._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);return this};D.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=s._createUniversalUTCDate(this.getStartDate(),undefined,true)}return this._oUTCStartDate};D.prototype.setIntervalType=function(e){this.setProperty("intervalType",e);this._aVisibleAppointments=[];return this};D.prototype._getAppointmentReducedHeight=function(e){var t=!n.system.phone&&this.getAppointmentsReducedHeight()&&e.size===U.Regular;return t};D.prototype.onfocusin=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){N.call(this,e.target.id)}else{var t=this._getVisibleAppointments();var i=false;var n;for(var a=0;a<t.length;a++){n=t[a].appointment;if(c(n.getDomRef(),e.target)){i=true;n.focus();break}}if(!i){n=this.getFocusedAppointment();if(n){n.focus()}}}};D.prototype.applyFocusInfo=function(e){if(this._sFocusedAppointmentId){this.getFocusedAppointment().focus()}return this};D.prototype.onsapleft=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){Y.call(this,this._bRTL,1)}e.preventDefault();e.stopPropagation()};D.prototype.onsapright=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){Y.call(this,!this._bRTL,1)}e.preventDefault();e.stopPropagation()};D.prototype.onsapup=function(e){this.fireLeaveRow({type:e.type})};D.prototype.onsapdown=function(e){this.fireLeaveRow({type:e.type})};D.prototype.onsaphome=function(e){x.call(this,e);e.preventDefault();e.stopPropagation()};D.prototype.onsapend=function(e){x.call(this,e);e.preventDefault();e.stopPropagation()};D.prototype.onsapselect=function(e){var t=this._getVisibleAppointments(),i;for(var n=0;n<t.length;n++){i=t[n].appointment;if(c(i.getDomRef(),e.target)){var a=!(this.getMultipleAppointmentsSelection()||e.ctrlKey||e.metaKey);P.call(this,i,a);break}}e.stopPropagation();e.preventDefault()};D.prototype.ontap=function(e){var t=this.$("Apps").children(".sapUiCalendarRowAppsInt");var i=0;var n=false;for(i=0;i<t.length;i++){var a=t[i];if(!this._isOneMonthsRowOnSmallSizes()&&c(a,e.target)){n=true;break}}if(n){B.call(this,i,e.target)}else{this.onsapselect(e)}};D.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};D.prototype.handleResize=function(e){if(e&&e.size&&e.size.width<=0){return this}var t=this.$("DummyApp");t.css("display","");F.call(this);return this};D.prototype.updateCurrentTimeVisualization=function(){var e=this.$("Now");var t=s._createUniversalUTCDate(v.getInstance(),undefined,true);var i=this.getIntervals();var n=this.getIntervalType();var a=this._getStartDate();var r=a.getTime();var o=this._oUTCEndDate;var p=o.getTime();this._sUpdateCurrentTime=undefined;if(t.getTime()<=p&&t.getTime()>=r){var l=V.call(this,n,i,a,o,r,t);var u=0;if(this._bRTL){e.css("right",l+"%")}else{e.css("left",l+"%")}e.css("display","");if(this.getUpdateCurrentTime()){switch(n){case _.Hour:u=6e4;break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":u=18e5;break;default:u=-1;break}if(u>0){this._sUpdateCurrentTime=setTimeout(this.updateCurrentTimeVisualization.bind(this),u)}}}else{e.css("display","none")}return this};D.prototype.getFocusedAppointment=function(){var e=this._getAppointmentsSorted();var t=this.getAggregation("groupAppointments",[]);var i;var n=0;for(n=0;n<t.length;n++){if(t[n].getId()==this._sFocusedAppointmentId){i=t[n];break}}if(!i){for(n=0;n<e.length;n++){if(e[n].getId()==this._sFocusedAppointmentId){i=e[n];break}}}return i};D.prototype.focusAppointment=function(e){if(!e||!(e instanceof f)){throw new Error("Appointment must be a CalendarAppointment; "+this)}var t=e.getId();if(this._sFocusedAppointmentId!=t){N.call(this,t)}else{e.focus()}return this};D.prototype.focusNearestAppointment=function(e){s._checkJSDateObject(e);var t=this._getAppointmentsSorted();var i;var n;var a;for(var r=0;r<t.length;r++){i=t[r];if(i.getStartDate()>e){if(r>0){n=t[r-1]}else{n=i}break}}if(i){if(n&&Math.abs(i.getStartDate()-e)>=Math.abs(n.getStartDate()-e)){a=n}else{a=i}this.focusAppointment(a)}return this};D.prototype._getVisibleAppointments=function(){return this._aVisibleAppointments};D.prototype._getVisibleIntervalHeaders=function(){return this._aVisibleIntervalHeaders};D.prototype._getNonWorkingDays=function(){if(this.getIntervalSize()!==1){return[]}var e=this.getNonWorkingDays();if(!e){var t=I.call(this);var i=t.getWeekendStart();var n=t.getWeekendEnd();e=[];for(var a=0;a<=6;a++){if(i<=n&&a>=i&&a<=n||i>n&&(a>=i||a<=n)){e.push(a)}}}else if(!Array.isArray(e)){e=[]}return e};D.prototype._isOneMonthsRowOnSmallSizes=function(){return(this.getIntervalType()===_.OneMonth||this.getIntervalType()==="OneMonth")&&this.getIntervals()===1};D.prototype._getAppointmentsSorted=function(){var e=this.getAppointments(),t=j;e.sort(this._fnCustomSortedAppointments?this._fnCustomSortedAppointments:t);return e};D.prototype._setCustomAppointmentsSorterCallback=function(e){this._fnCustomSortedAppointments=e;this.invalidate()};D.prototype._calculateAppoitnmentVisualCue=function(e){if(b(this,e)){return{appTimeUnitsDifRowStart:0,appTimeUnitsDifRowEnd:0}}var t=e.getStartDate(),i=e.getEndDate(),n=new o(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),a=new o(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes()),r=this.getIntervalType(),s=this.getStartDate(),p=r==="Hour"?new o(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours()):new o(s.getFullYear(),s.getMonth(),s.getDate()),l=this.getIntervals(),u;switch(r){case"Hour":u=new o(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours()+l);break;case"Day":case"Week":case"One Month":u=new o(s.getFullYear(),s.getMonth(),s.getDate()+l);break;case"Month":u=new o(s.getFullYear(),s.getMonth()+l,s.getDate());break;default:break}return{appTimeUnitsDifRowStart:p.getTime()-n.getTime(),appTimeUnitsDifRowEnd:a.getTime()-u.getTime()}};D.prototype._updateSelectedAppointmentsArray=function(e){if(e.getSelected()){if(this.aSelectedAppointments.indexOf(e.getId())===-1){this.aSelectedAppointments.push(e.getId())}}else{this.aSelectedAppointments=this.aSelectedAppointments.filter(function(t){return t!==e.getId()})}};function b(e,t){var i=e.getAggregation("groupAppointments",[]);var n;for(n=0;n<i.length;++n){if(t===i[n]){return true}}return false}function S(){if(!this._sLocale){this._sLocale=new h(e.getLanguageTag()).toString()}return this._sLocale}function I(){if(!this._oLocaleData){var e=S.call(this);var t=new h(e);this._oLocaleData=r.getInstance(t)}return this._oLocaleData}function M(){var e=this.getStartDate();var t;var i=this.getIntervals();var n=this.getIntervalType();this._oUTCStartDate=w.call(this,e);switch(n){case _.Hour:t=new o(this._oUTCStartDate.getTime());t.setUTCHours(t.getUTCHours()+i);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":t=new o(this._oUTCStartDate.getTime());t.setUTCDate(t.getUTCDate()+i*this.getIntervalSize());break;case _.Month:t=new o(this._oUTCStartDate.getTime());t.setUTCMonth(t.getUTCMonth()+i);break;default:throw new Error("Unknown IntervalType: "+n+"; "+this)}t.setUTCMilliseconds(-1);this._iRowSize=t.getTime()-this._oUTCStartDate.getTime();this._iIntervalSize=Math.floor(this._iRowSize/i);this._oUTCEndDate=t}function w(e){var t=this.getIntervalType();var i=s._createUniversalUTCDate(e,undefined,true);switch(t){case _.Hour:i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":i.setUTCHours(0);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;case _.Month:i.setUTCDate(1);i.setUTCHours(0);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;default:throw new Error("Unknown IntervalType: "+t+"; "+this)}return i}function k(){return n.system.phone||this.getGroupAppointmentsMode()===A.Collapsed}function H(){var e=this._getAppointmentsSorted();var t;var i;var n;var a=this.getIntervals();var r=this.getIntervalType();var p=this._getStartDate();var l=p.getTime();var u=this._oUTCEndDate;var g=u.getTime();var h=[];var d=false;var c=0;var f=0;var m=k.call(this);var T=this._needAppointmentHorizontalFit();this.destroyAggregation("groupAppointments",true);for(c=0;c<e.length;c++){t=e[c];if(!t||!t.getStartDate()){continue}var C=s._createUniversalUTCDate(t.getStartDate(),undefined,true);var A=C.getTime();C.setUTCSeconds(0);C.setUTCMilliseconds(0);var U=t.getEndDate()?s._createUniversalUTCDate(t.getEndDate(),undefined,true):s._createUniversalUTCDate(v.getInstance(864e12),undefined,true);var y=U.getTime();U.setUTCSeconds(0);U.setUTCMilliseconds(0);var D=false;if(C.getTime()<l&&U.getTime()>=l){C=new o(l);D=true}if(U.getTime()>g&&C.getTime()<=g){U=new o(g);D=true}var b=(U.getTime()-C.getTime())/6e4;if(D&&b==0){continue}var S=0;var I=0;var M=-1;i=undefined;n=undefined;if(C&&C.getTime()<=g&&U&&U.getTime()>=l&&A<=y){if(m&&r==_.Month&&U.getTime()-C.getTime()<6048e5){i=R.call(this,C,t,r,a,p,u,l,h);var w=s._createUniversalUTCDate(i.getEndDate(),undefined,true);if(U.getTime()>w.getTime()){n=R.call(this,U,t,r,a,p,u,l,h)}}if(T){this._setHorizontalRoundingWidth(t,C,U)}S=V.call(this,r,a,p,u,l,C);I=E.call(this,r,a,p,u,l,U);if(i){i._iBegin=S;i._iEnd=I;i._iLevel=M;if(n){n._iBegin=S;n._iEnd=I;n._iLevel=M}continue}h.push({appointment:t,begin:S,end:I,calculatedEnd:I,level:M,size:this.getProperty("appointmentHeight")});if(this._sFocusedAppointmentId&&this._sFocusedAppointmentId==t.getId()){d=true}}}var H=this.getAggregation("groupAppointments",[]);if(H.length>0){for(c=0;c<h.length;c++){t=h[c];if(t.appointment._aAppointments&&t.appointment._aAppointments.length<=1){i=t.appointment;var z=false;if(i._aAppointments.length==0){z=true}else{for(f=0;f<h.length;f++){if(h[f].appointment==i._aAppointments[0]){z=true;break}}}if(!z){for(f=0;f<H.length;f++){n=H[f];if(i!=n){for(var F=0;F<n._aAppointments.length;F++){if(i._aAppointments[0]==n._aAppointments[F]){n._aAppointments.splice(F,1);if(n._aAppointments.length==1){this.removeAggregation("groupAppointments",n);n.destroy();H=this.getAggregation("groupAppointments",[])}else{n.setProperty("title",n._aAppointments.length,true)}break}}}}t.begin=i._iBegin;t.end=i._iEnd;t.calculatedEnd=i._iEnd;t.level=i._iLevel;t.appointment=i._aAppointments[0]}else{h.splice(c,1);c--}this.removeAggregation("groupAppointments",i);i.destroy();H=this.getAggregation("groupAppointments",[])}}}if(!d){if(h.length>0){this._sFocusedAppointmentId=h[0].appointment.getId()}else{this._sFocusedAppointmentId=undefined}}this._aVisibleAppointments=h;return this._aVisibleAppointments}function R(e,t,i,n,a,r,p,l){var u=this.getAggregation("groupAppointments",[]);var g;var h=I.call(this);var d=h.getFirstDayOfWeek();var c=e.getUTCDay();var m=new o(e.getTime());m.setUTCHours(0);m.setUTCMinutes(0);m.setUTCSeconds(0);m.setUTCMilliseconds(0);if(d<=c){m.setDate(m.getDate()-(c-d))}else{m.setDate(m.getDate()-(7-c-d))}for(var C=0;C<u.length;C++){g=u[C];var A=s._createUniversalUTCDate(g.getStartDate(),undefined,true);if(A.getTime()==m.getTime()){break}g=undefined}if(!g){var _=new o(m.getTime());_.setDate(_.getDate()+7);_.setMilliseconds(-1);g=new f(this.getId()+"-Group"+u.length,{type:t.getType(),startDate:s._createLocalDate(v.getInstance(m.getTime()),true),endDate:s._createLocalDate(v.getInstance(_.getTime()),true)});g._aAppointments=[];this.addAggregation("groupAppointments",g,true);var U=V.call(this,i,n,a,r,p,m);var y=E.call(this,i,n,a,r,p,_);l.push({appointment:g,begin:U,end:y,calculatedEnd:y,level:-1,size:this.getProperty("appointmentHeight")})}g._aAppointments.push(t);if(g.getType()!=T.None&&g.getType()!=t.getType()){g.setType(T.None)}g.setProperty("title",g._aAppointments.length,true);return g}function V(e,t,i,n,a,r){var s=0;if(e!=_.Month){s=100*(r.getTime()-a)/this._iRowSize}else{var p=new o(r.getTime());p.setUTCDate(1);p.setUTCHours(0);p.setUTCMinutes(0);p.setUTCSeconds(0);p.setUTCMilliseconds(0);var l=new o(p.getTime());l.setUTCMonth(l.getUTCMonth()+1);l.setMilliseconds(-1);var u=l.getTime()-p.getTime();var g=(p.getUTCFullYear()-i.getUTCFullYear())*12+p.getUTCMonth()-i.getUTCMonth();s=100*g/t+100*(r.getTime()-p.getTime())/u/t}if(s<0){s=0}s=Math.round(s*1e5)/1e5;return s}function E(e,t,i,n,a,r){var s=0;if(e!=_.Month){s=100-100*(r.getTime()-a)/this._iRowSize}else{var p=new o(r.getTime());p.setUTCDate(1);p.setUTCHours(0);p.setUTCMinutes(0);p.setUTCSeconds(0);p.setUTCMilliseconds(0);var l=new o(p.getTime());l.setUTCMonth(l.getUTCMonth()+1);l.setMilliseconds(-1);var u=l.getTime()-p.getTime();var g=(p.getUTCFullYear()-i.getUTCFullYear())*12+p.getUTCMonth()-i.getUTCMonth();s=100-(100*g/t+100*(r.getTime()-p.getTime())/u/t)}if(s<0){s=0}s=Math.round(s*1e5)/1e5;return s}function z(){var e=[];if(this.getShowIntervalHeaders()){var t=this.getIntervalHeaders();var i;var n=this.getIntervals();var a=this.getIntervalType();var r=this._getStartDate();var p=r.getTime();var l=this._oUTCEndDate;var u=l.getTime();var g=0;var h=0;for(g=0;g<t.length;g++){i=t[g];var d=s._createUniversalUTCDate(i.getStartDate(),undefined,true);d.setUTCSeconds(0);d.setUTCMilliseconds(0);var c=i.getEndDate()?s._createUniversalUTCDate(i.getEndDate(),undefined,true):s._createUniversalUTCDate(v.getInstance(864e12),undefined,true);c.setUTCSeconds(0);c.setUTCMilliseconds(0);if(d&&d.getTime()<=u&&c&&c.getTime()>=p){var f=new o(r.getTime());var m=new o(r.getTime());m.setUTCMinutes(m.getUTCMinutes()-1);var T=-1;var C=-1;for(h=0;h<n;h++){switch(a){case _.Hour:m.setUTCHours(m.getUTCHours()+1);if(h>0){f.setUTCHours(f.getUTCHours()+1)}break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":m.setUTCDate(m.getUTCDate()+1);if(h>0){f.setUTCDate(f.getUTCDate()+1)}break;case _.Month:m.setUTCDate(1);m.setUTCMonth(m.getUTCMonth()+2);m.setUTCDate(0);if(h>0){f.setUTCMonth(f.getUTCMonth()+1)}break;default:throw new Error("Unknown IntervalType: "+a+"; "+this)}if(d&&d.getTime()<=f.getTime()&&c&&c.getTime()>=m.getTime()){if(T<0){T=h}C=h}}if(T>=0){e.push({interval:T,appointment:i,last:C})}}}}this._aVisibleIntervalHeaders=e;return this._aVisibleIntervalHeaders}function F(){if(this._isOneMonthsRowOnSmallSizes()){return}var e=this.$("Apps");var t=e.innerWidth();if(t<=0){return}var i=this.$("DummyApp");var n=i.outerHeight(true);if(n<=0){return}var a=4;var r=i.outerWidth();var s=r/t*100;var o=Math.ceil(1e3*s)/1e3;var p;var l;var u=0;var g=0;var h=0;var d=false;var c;var f=this._needAppointmentHorizontalFit();if(this.getShowIntervalHeaders()&&(this.getShowEmptyIntervalHeaders()||this._getVisibleIntervalHeaders().length>0)){u=jQuery(this.$("AppsInt0").children(".sapUiCalendarRowAppsIntHead")[0]).outerHeight(true);d=true}for(h=0;h<this._aVisibleAppointments.length;h++){p=this._aVisibleAppointments[h];l=p.appointment.$();var m=Math.floor(1e3*(100-p.calculatedEnd-p.begin))/1e3;var v=false;if(m<o){p.end=100-p.begin-s;if(p.end<0){p.end=0}v=true;l.addClass("sapUiCalendarAppSmall")}else if(l.hasClass("sapUiCalendarAppSmall")){p.end=p.calculatedEnd;v=true;l.removeClass("sapUiCalendarAppSmall")}if(v){p.level=-1}if(v&&!f){if(this._bRTL){l.css("left",p.end+"%")}else{l.css("right",p.end+"%")}}if(f){p.end=p.calculatedEnd}}for(h=0;h<this._aVisibleAppointments.length;h++){p=this._aVisibleAppointments[h];l=p.appointment.$();var T={};if(p.level<0){for(var C=0;C<this._aVisibleAppointments.length;C++){var A=this._aVisibleAppointments[C];if(p!=A&&p.begin<Math.floor(1e3*(100-A.end))/1e3&&Math.floor(1e3*(100-p.end))/1e3>A.begin&&A.level>=0){this._setBlockedLevelsForAppointment(A,T)}}p.level=this._getAppointmetLevel(T,p);l.attr("data-sap-level",p.level)}c=n*p.level+u;if(!d){c+=a}l.css("top",c+"px");var _=p.level;_+=this._getAppointmentRowCount(p)-1;if(g<_){g=_}}g++;n=n*g+u;if(!d){n+=a}if(!this.getHeight()){e.outerHeight(n)}else{var U=this.$("Apps").children(".sapUiCalendarRowAppsInt");for(h=0;h<U.length;h++){var y=jQuery(U[h]);y.outerHeight(n)}}i.css("display","none")}function L(e,t){var i=e.getColor();if(!i){return}var n=t?"transparent":e._getCSSColorForBackground(i),a=e.getDomRef();if(a){var r=a.querySelector(".sapUiCalendarAppCont");if(r){r.style.backgroundColor=n}}}function P(e,t){var i=0;var n;var a;var r;var s;var o;var p;var u=l.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED");var g=!e.getSelected();var h=this.getAppointmentsVisualization()===C.Filled;if(t){var d=this.getAppointments();var c=this.getAggregation("groupAppointments",[]);jQuery.merge(d,c);for(i=0;i<d.length;i++){n=d[i];if(n.getId()!==e.getId()&&n.getSelected()){n.setProperty("selected",false,true);n.$().removeClass("sapUiCalendarAppSel");for(var f=0;f<this.aSelectedAppointments.length;f++){if(this.aSelectedAppointments[f]!==n.getId()){this.aSelectedAppointments.splice(f)}}a=n.$().attr("aria-describedby");r=a?a.replace(u,""):"";n.$().attr("aria-describedby",r)}}}s=e.$().attr("aria-describedby");p=(s?s.replace(u,""):"").trim();o=(p+" "+u).trim();if(e.getSelected()){e.setProperty("selected",false,true);h&&L(e,false);e.$().removeClass("sapUiCalendarAppSel");if(p){e.$().attr("aria-describedby",p)}else{e.$().removeAttr("aria-describedby")}W(this,t)}else{e.setProperty("selected",true,true);h&&L(e,true);e.$().addClass("sapUiCalendarAppSel");e.$().attr("aria-describedby",o);W(this,t)}this._updateSelectedAppointmentsArray(e);if(e._aAppointments){for(i=0;i<e._aAppointments.length;i++){n=e._aAppointments[i];n.setProperty("selected",g,true)}this.fireSelect({appointments:e._aAppointments,multiSelect:!t,domRefId:e.getId()})}else{this.fireSelect({appointment:e,multiSelect:!t,domRefId:e.getId()})}}function O(e){var t=this._getPlanningCalendar();if(t){t["_onRow"+e]()}}D.prototype._needAppointmentHorizontalFit=function(){var e=this._getPlanningCalendar(),t,i,n;if(!e||this.getAppointmentRoundWidth()===y.None){return false}t=e.getViewKey();i=e._getView(t);n=e._getIntervals(i);return n>=20};D.prototype._setHorizontalRoundingWidth=function(e,t,i){var n;switch(this.getAppointmentRoundWidth()){case y.HalfColumn:n=12;break}this._roundAppointment(e,t,i,n)};D.prototype._roundAppointment=function(e,t,i,n){var a,r;a=e.getStartDate().getHours()-e.getStartDate().getHours()%n;t.setUTCHours(a);t.setUTCMinutes(0);t.setUTCSeconds(0);t.setUTCMilliseconds(0);r=e.getEndDate().getHours()-e.getEndDate().getHours()%n+n;i.setUTCHours(r);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0)};D.prototype._setBlockedLevelsForAppointment=function(e,t){var i=this._getAppointmentRowCount(e);for(var n=0;n<i;n++){t[e.level+n]=true}return t};D.prototype._getAppointmentRowCount=function(e){var t,i=this._getAppointmentReducedHeight(e);switch(e.size){case U.HalfSize:t=1;break;case U.Regular:t=2;if(i&&!e.appointment.getText()&&!e.appointment.getDescription()){t=1}break;case U.Large:t=3;break;case U.Automatic:t=1;if(e.appointment.getText()){t+=1}if(e.appointment.getDescription()){t+=1}break}return t};D.prototype._getAppointmetLevel=function(e,t){var i=0;var n=this._getAppointmentRowCount(t);var a=true;while(a){a=this._isPosibleToPositionAppointment(i,e,n);if(!a){a=true;i+=1}else{a=false}}return i};D.prototype._isPosibleToPositionAppointment=function(e,t,i){for(var n=e;n<i+e;n++){if(t[n]){return false}}return true};D.prototype._getPlanningCalendar=function(){var e=this;while(e.getParent()!==null){if(e.isA("sap.m.PlanningCalendar")){return e}e=e.getParent()}};D.prototype._isNonWorkingInterval=function(e,t,i,n){return t.includes((e+i)%n)};function W(e,t){if(t){O.call(e,"DeselectAppointment")}}function $(e){var t=this.getAggregation("groupAppointments",[]);var i;var n=false;for(var a=0;a<t.length;a++){var r=t[a]._aAppointments;for(var s=0;s<r.length;s++){if(r[s].getId()==e){i=t[a];n=true;break}}if(n){break}}return i}function N(e){if(this._sFocusedAppointmentId!=e){var t=this._getAppointmentsSorted();var i=this._aVisibleAppointments;var n;var a=0;n=$.call(this,e);if(n){e=n.getId();n=undefined}for(a=0;a<i.length;a++){if(i[a].appointment.getId()==e){n=i[a].appointment;break}}if(n){var r=this.getFocusedAppointment().$();var o=n.$();this._sFocusedAppointmentId=n.getId();r.attr("tabindex","-1");o.attr("tabindex","0");o.trigger("focus")}else{for(a=0;a<t.length;a++){if(t[a].getId()==e){n=t[a];break}}if(n){this._sFocusedAppointmentId=n.getId();var p=w.call(this,n.getStartDate());this.setStartDate(s._createLocalDate(p,true));if(!c(this.getDomRef(),document.activeElement)){setTimeout(function(){this.getFocusedAppointment().focus()}.bind(this),0)}this.fireStartDateChange()}}}}function Y(e,t){var i=this._sFocusedAppointmentId;var n=this._getAppointmentsSorted();var a=this.getAggregation("groupAppointments",[]);var r;var s=0;var o=0;for(o=0;o<a.length;o++){if(a[o].getId()==i){var p=a[o]._aAppointments;if(e){i=p[p.length-1].getId()}else{i=p[0].getId()}break}}for(o=0;o<n.length;o++){if(n[o].getId()==i){s=o;break}}if(e){s=s+t}else{s=s-t}if(s<0){s=0}else if(s>=n.length){s=n.length-1}r=n[s];N.call(this,r.getId())}function x(e){var t=this._getAppointmentsSorted();var i;var n=new o(this._getStartDate());var a=new o(this._oUTCEndDate);var r=this.getIntervalType();var p;var l;n.setUTCHours(0);a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);switch(r){case _.Hour:a.setUTCDate(a.getUTCDate()+1);a.setUTCMilliseconds(-1);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":n.setUTCDate(1);a.setUTCMonth(a.getUTCMonth()+1);a.setUTCDate(1);a.setUTCMilliseconds(-1);break;case _.Month:n.setUTCMonth(0);n.setUTCDate(1);a.setUTCFullYear(a.getUTCFullYear()+1);a.setUTCMonth(1);a.setUTCDate(1);a.setUTCMilliseconds(-1);break;default:throw new Error("Unknown IntervalType: "+r+"; "+this)}var u=s._createLocalDate(n,true);var g=s._createLocalDate(a,true);for(var h=0;h<t.length;h++){if(t[h].getStartDate()>=u&&t[h].getStartDate()<=g){i=t[h];p=i.getId();if(e.type=="saphome"){break}}else if(t[h].getStartDate()>g){break}}l=$.call(this,p);if(l){i=l;p=i.getId()}if(p&&p!=this._sFocusedAppointmentId){N.call(this,p)}else if(e._bPlanningCalendar&&i){i.focus()}else{this.fireLeaveRow({type:e.type})}}function B(e,t){var i=this.getIntervalType();var n=this._getStartDate();var a=new o(n.getTime());var r;var p=false;var l=0;var u=0;if(jQuery(t).hasClass("sapUiCalendarRowAppsSubInt")){p=true;var g=jQuery(jQuery(t).parent()).children(".sapUiCalendarRowAppsSubInt");u=g.length;for(l=0;l<u;l++){var h=g[l];if(h==t){break}}}switch(i){case _.Hour:a.setUTCHours(a.getUTCHours()+e);if(p){a.setUTCMinutes(a.getUTCMinutes()+l*60/u);r=new o(a.getTime());r.setUTCMinutes(r.getUTCMinutes()+60/u)}else{r=new o(a.getTime());r.setUTCHours(r.getUTCHours()+1)}break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":a.setUTCDate(a.getUTCDate()+e);if(p){a.setUTCHours(a.getUTCHours()+l*24/u);r=new o(a.getTime());r.setUTCHours(r.getUTCHours()+24/u)}else{r=new o(a.getTime());r.setUTCDate(r.getUTCDate()+1)}break;case _.Month:a.setUTCMonth(a.getUTCMonth()+e);if(p){a.setUTCDate(a.getUTCDate()+l);r=new o(a.getTime());r.setUTCDate(r.getUTCDate()+1)}else{r=new o(a.getTime());r.setUTCMonth(r.getUTCMonth()+1)}break;default:throw new Error("Unknown IntervalType: "+i+"; "+this)}r.setUTCMilliseconds(r.getUTCMilliseconds()-1);a=s._createLocalDate(a,true);r=s._createLocalDate(r,true);this.fireIntervalSelect({startDate:a,endDate:r,subInterval:p})}function j(e,t){var i=e.getStartDate()-t.getStartDate();if(i==0){i=t.getEndDate()-e.getEndDate()}return i}return D});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRowRenderer", ["sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarAppointment","sap/ui/unified/CalendarLegendRenderer","sap/ui/Device","sap/ui/unified/library","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date","sap/ui/unified/calendar/RecurrenceUtils","sap/base/Log","sap/ui/core/IconPool"],function(e,t,a,n,i,r,s,o,l,p,d){"use strict";var g=s.CalendarDayType;var c=s.CalendarIntervalType;var v=s.CalendarAppointmentVisualization;var f=s.CalendarAppointmentHeight;var u={apiVersion:2};u.render=function(e,t){var a=t.getTooltip_AsString();var n=t.getAppointmentsVisualization();var i=this.getLegendItems(t);e.openStart("div",t);e.class("sapUiCalendarRow");if(!r.system.phone&&t.getAppointmentsReducedHeight()){e.class("sapUiCalendarRowAppsRedHeight")}if(n!=v.Standard){e.class("sapUiCalendarRowVis"+n)}if(a){e.attr("title",a)}var s=t.getWidth();if(s){e.style("width",s)}var o=t.getHeight();if(o){e.style("height",o)}e.openEnd();this.renderAppointmentsRow(e,t,i);e.close("div")};u.renderAppointmentsRow=function(e,t,a){var n=t.getId();e.openStart("div",n+"-Apps");e.class("sapUiCalendarRowApps");e.attr("role","list");e.openEnd();this.renderBeforeAppointments(e,t);this.renderAppointments(e,t,a);this.renderAfterAppointments(e,t);e.close("div")};u.renderBeforeAppointments=function(e,t){};u.renderAfterAppointments=function(e,t){};u.renderResizeHandle=function(e,t,a){};u.renderAppointments=function(e,t,n){var i=t._getVisibleAppointments();var r=t._getVisibleIntervalHeaders();var s=t._getStartDate();var o=[];var l=0;var p=0;var d=[];var g=0;var v=0;var f=t.getIntervals();var u=t.getIntervalType();var A=100/f;var C=0;var I=new a(s);var T=false;var h=false;switch(u){case c.Hour:o=t.getNonWorkingHours()||[];l=s.getUTCHours();p=24;break;case c.Day:case c.Week:case c.OneMonth:case"OneMonth":o=t._getNonWorkingDays();l=s.getUTCDay();p=7;d=t.getNonWorkingHours()||[];g=s.getUTCHours();v=24;break;case c.Month:d=t._getNonWorkingDays();g=s.getUTCDay();v=7;break;default:break}if(t._isOneMonthsRowOnSmallSizes()){this.renderSingleDayInterval(e,t,i,n,r,o,l,p,d,g,v,true,true)}else{for(C=0;C<f;C++){if(h){T=true}else{T=false}h=false;switch(u){case c.Hour:I.setUTCHours(I.getUTCHours()+1);if(I.getUTCHours()==0){h=true}break;case c.Day:case c.Week:case c.OneMonth:case"OneMonth":I.setUTCDate(I.getUTCDate()+1);if(I.getUTCDate()==1){h=true}break;case c.Month:g=I.getUTCDay();I.setUTCMonth(I.getUTCMonth()+1);if(I.getUTCMonth()==0){h=true}break;default:break}this.renderInterval(e,t,C,A,r,o,l,p,d,g,v,T,h)}this.renderIntervalHeaders(e,t,A,r,f);if(!(t._getRelativeInfo&&t._getRelativeInfo().bIsRelative)){e.openStart("div",t.getId()+"-Now");e.class("sapUiCalendarRowNow");e.openEnd();e.close("div")}for(C=0;C<i.length;C++){var m=i[C];this.renderAppointment(e,t,m,n)}e.openStart("div",t.getId()+"-DummyApp");e.class("sapUiCalendarApp");e.class("sapUiCalendarAppTitleOnly");e.class("sapUiCalendarAppDummy");e.class("sapUiCalendarAppHeight1");e.openEnd();e.close("div")}};u.writeCustomAttributes=function(e,t){};u.renderInterval=function(e,t,n,i,r,s,o,d,g,v,f,u,A){const C=t.getStartDate();const I=l.getInstance(C);I.setHours(n+o,0,0,0);var T=t.getId()+"-AppsInt"+n;var h;var m=t.getShowIntervalHeaders()&&(t.getShowEmptyIntervalHeaders()||r.length>0);var U=t.getStartDate().getMonth();var S=l.getInstance(t.getStartDate().getFullYear(),U+1,0).getDate();const R=t.getIntervalType()!==c.Hour?[]:t.getNonWorkingPeriods().filter(e=>{if(!e.isRecurring()){return e.hasNonWorkingAtDate(C)}const t=p.hasOccurrenceOnDate.bind(e);return t(C)});const y=R.filter(e=>e.hasNonWorkingAtHour(I));e.openStart("div",T);e.class("sapUiCalendarRowAppsInt");e.style("position","relative");e.style("width",i+"%");if(n>=S&&(t.getIntervalType()===c.OneMonth||t.getIntervalType()==="OneMonth")){e.class("sapUiCalItemOtherMonth")}if(t._isNonWorkingInterval(n,s,o,d)){e.class("sapUiCalendarRowAppsNoWork")}if(!m){e.class("sapUiCalendarRowAppsIntNoHead")}if(u){e.class("sapUiCalendarRowAppsIntFirst")}if(A){e.class("sapUiCalendarRowAppsIntLast")}this.writeCustomAttributes(e,t);e.openEnd();if(y.length){e.openStart("div");e.class("sapUiCalendarRowAppsIntNoWork");e.openEnd();p.getWorkingAndNonWorkingSegments(I,y).forEach(t=>{if(t.type==="working"){this.renderWorkingParts(e,t.duration)}else{this.renderNonWorkingParts(e,t.duration)}});e.close("div")}if(m){e.openStart("div");e.class("sapUiCalendarRowAppsIntHead");e.openEnd();e.close("div")}if(t.getShowSubIntervals()){var b=t.getIntervalType();var w=0;switch(b){case c.Hour:w=4;break;case c.Day:case c.Week:case c.OneMonth:case"OneMonth":w=24;break;case c.Month:var E=t._getStartDate();var D=new a(E);D.setUTCMonth(D.getUTCMonth()+n+1,0);w=D.getUTCDate();D.setUTCDate(1);o=D.getUTCDay();break;default:break}var _=100/w;for(h=0;h<w;h++){e.openStart("div");e.class("sapUiCalendarRowAppsSubInt");e.style("width",_+"%");if(t._isNonWorkingInterval(h,g,v,f)){e.class("sapUiCalendarRowAppsNoWork")}e.openEnd();e.close("div")}}e.close("div")};u.renderIntervalHeaders=function(e,t,a,n,i){var r=t.getShowIntervalHeaders()&&(t.getShowEmptyIntervalHeaders()||n.length>0);if(r){for(var s=0;s<n.length;s++){var o=n[s],l,p;if(t._bRTL){p=a*o.interval;l=a*(i-o.last-1)}else{l=a*o.interval;p=a*(i-o.last-1)}this.renderIntervalHeader(e,t,o,t._bRTL,l,p)}}};u.renderIntervalHeader=function(e,t,a,n,i,r){var s=a.appointment.getId(),o={role:"listitem",labelledby:{value:s+"-Descr",append:true}},l;var p=t._calculateAppoitnmentVisualCue(a.appointment);e.openStart("div",a.appointment);e.class("sapUiCalendarRowAppsIntHead");if(i!==undefined){e.style("left",i+"%")}if(r!==undefined){e.style("right",r+"%")}e.class("sapUiCalendarRowAppsIntHeadFirst");var d=a.appointment.getSelected();if(d){e.class("sapUiCalendarRowAppsIntHeadSel")}if(a.appointment.getTentative()){e.class("sapUiCalendarRowAppsIntHeadTent")}var c=a.appointment.getTooltip_AsString();if(c){e.attr("title",c)}var v=a.appointment.getType();var f=a.appointment.getColor();if(!f&&v&&v!=g.None){e.class("sapUiCalendarRowAppsIntHead"+v)}if(f){if(n){e.style("border-right-color",f)}else{e.style("border-left-color",f)}}e.accessibilityState(a.appointment,o);e.openEnd();e.openStart("div");e.class("sapUiCalendarIntervalHeaderCont");if(!d&&f){e.style("background-color",a.appointment._getCSSColorForBackground(f))}e.openEnd();if(p.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}var u=a.appointment.getIcon();if(u){var A=["sapUiCalendarRowAppsIntHeadIcon"];var C={};C["id"]=s+"-Icon";C["title"]=null;C["alt"]=null;C["role"]="presentation";e.icon(u,A,C)}var I=a.appointment.getTitle();if(I&&!a.appointment.getCustomContent().length){e.openStart("span",s+"-Title");e.class("sapUiCalendarRowAppsIntHeadTitle");e.openEnd();e.text(I);e.close("span")}var T=a.appointment.getText();if(T&&!a.appointment.getCustomContent().length){e.openStart("span",s+"-Text");e.class("sapUiCalendarRowAppsIntHeadText");e.openEnd();e.text(T);e.close("span")}if(p.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}l=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(a.appointment.getStartDate())+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(a.appointment.getEndDate());if(v&&v!==g.None){l+="; "+this.getAriaTextForType(v,this.getLegendItems(t))}e.openStart("span",s+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(l);e.close("span");e.close("div");e.close("div")};u.renderAppointment=function(e,t,a,n,i){var r=a.appointment;var s=r.getTooltip_AsString();var l=r.getType();var p=r.getColor();var d=r.getTitle();var c=r.getText();var u=r.getDescription();var A=r.getIcon();var C=r.getId();var I=t._getAppointmentReducedHeight(a);var T=r.getSelected();var h={role:"listitem",labelledby:{value:`${o.getStaticId("sap.m","ACC_CTR_TYPE_LISTITEM")} ${o.getStaticId("sap.ui.unified","APPOINTMENT")} ${C.concat("-Descr")}`,append:true},describedby:{value:T?o.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED"):"",append:true},selected:null};var m=t._getAppointmentRowCount(a,I);var U=t.getAriaLabelledBy();var S=t._calculateAppoitnmentVisualCue(r);if(U.length>0){h["labelledby"].value=h["labelledby"].value+" "+U.join(" ")}if(d&&!r.getCustomContent().length){h["labelledby"].value=h["labelledby"].value+" "+C+"-Title"}if(c&&!r.getCustomContent().length){h["labelledby"].value=h["labelledby"].value+" "+C+"-Text"}e.openStart("div",r);e.class("sapUiCalendarApp");e.class("sapUiCalendarAppHeight"+m);if(T){e.class("sapUiCalendarAppSel")}if(r.getTentative()){e.class("sapUiCalendarAppTent");h["labelledby"].value=h["labelledby"].value+" "+o.getStaticId("sap.ui.unified","APPOINTMENT_TENTATIVE")}if(m===1){e.class("sapUiCalendarAppTitleOnly")}if(A){e.class("sapUiCalendarAppWithIcon")}if(!i){if(t._bRTL){e.style("right",a.begin+"%");e.style("left",a.end+"%")}else{e.style("left",a.begin+"%");e.style("right",a.end+"%")}}e.attr("data-sap-level",a.level);if(t._sFocusedAppointmentId==C){e.attr("tabindex","0")}else{e.attr("tabindex","-1")}if(s){e.attr("title",s)}if(!p&&l&&l!=g.None){e.class("sapUiCalendarApp"+l)}if(p){if(t._bRTL){e.style("border-right-color",p)}else{e.style("border-left-color",p)}}e.accessibilityState(r,h);e.openEnd();e.openStart("div");e.class("sapUiCalendarAppCont");if(!T&&p&&t.getAppointmentsVisualization()===v.Filled){e.style("background-color",r._getCSSColorForBackground(p))}e.openEnd();if(r.getCustomContent().length){r.getCustomContent().forEach(function(t){e.renderControl(t)})}else{if(S.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}if(A){var R=["sapUiCalendarAppIcon"];var y={};y["id"]=C+"-Icon";y["title"]=null;y["alt"]=null;y["role"]="presentation";e.icon(A,R,y)}e.openStart("div");e.class("sapUiCalendarAppTitleWrapper");e.openEnd();if(d){e.openStart("span",C+"-Title");e.class("sapUiCalendarAppTitle");e.openEnd();e.text(d);e.close("span")}if(c&&a.size!==f.HalfSize){e.openStart("span",C+"-Text");e.class("sapUiCalendarAppText");e.openEnd();e.text(c);e.close("span")}if(u&&a.size!==f.HalfSize&&(a.size!==f.Regular||!c)){e.openStart("span",C+"-Info");e.class("sapUiCalendarAppDescription");e.openEnd();e.text(u);e.close("span")}e.close("div");if(S.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}}var b=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(r.getStartDate());b=b+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(r.getEndDate());if(t._getRelativeInfo&&t._getRelativeInfo().bIsRelative){var w=t._getRelativeInfo();b=t._oRb.getText("CALENDAR_START_TIME")+": "+w.intervalLabelFormatter(w._getIndexFromDate(r.getStartDate()));b=b+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+w.intervalLabelFormatter(w._getIndexFromDate(r.getEndDate()))}if(l&&l!=g.None){b=b+"; "+this.getAriaTextForType(l,n)}e.openStart("span",C+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(b);e.close("span");e.close("div");this.renderResizeHandle(e,t,r);e.close("div")};u.renderSingleDayInterval=function(i,r,s,o,p,d,g,v,f,u,A,C,I){var T=1,h=100,m=r.getId()+"-AppsInt"+T,U,S=r.getShowIntervalHeaders()&&(r.getShowEmptyIntervalHeaders()||p.length>0),R=l.getInstance(r.getStartDate()),y=R.getMonth(),b=l.getInstance(R.getFullYear(),y+1,0).getDate(),w,E=r._getPlanningCalendar(),D,_,N=[];R.setHours(0,0,0,0);D=s.concat(r.getIntervalHeaders().filter(function(e){var t=e.getStartDate().getTime(),a=e.getEndDate().getTime(),n=R.getTime(),i=n+1e3*60*60*24;return!(t>=i||a<=n)}).map(function(e){return{appointment:e,isHeader:true}})).sort(n._getComparer(R));if(E){N=E._getSelectedDates()}i.openStart("div",m);i.class("sapUiCalendarRowAppsInt");i.class("sapUiCalendarMonthRowAppsS");i.style("width",h+"%");if(T>=b&&(r.getIntervalType()===c.OneMonth||r.getIntervalType()==="OneMonth")){i.class("sapUiCalItemOtherMonth")}if(r._isNonWorkingInterval(T,d,g,v)){i.class("sapUiCalendarRowAppsNoWork")}if(!S){i.class("sapUiCalendarRowAppsIntNoHead")}if(C){i.class("sapUiCalendarRowAppsIntFirst")}if(I){i.class("sapUiCalendarRowAppsIntLast")}i.openEnd();if(S){i.openStart("div");i.class("sapUiCalendarRowAppsIntHead");i.openEnd();i.close("div")}if(N.length>0){var H=0,k=D.length;if(E.getRows()[0]._calculateVisibleAppointments){var x=E.getRows()[0]._calculateVisibleAppointments(N,D);H=x.iStart;k=x.iEnd}for(U=H;U<k;U++){_=D[U];i.openStart("div");i.class("sapUiCalendarAppContainer");i.openEnd();i.openStart("div");i.class("sapUiCalendarAppContainerLeft");i.openEnd();i.openStart("div");i.class("sapUiCalendarAppStart");i.openEnd();i.text(_.appointment._getDateRangeIntersectionText(R).start);i.close("div");i.openStart("div");i.class("sapUiCalendarAppEnd");i.openEnd();i.text(_.appointment._getDateRangeIntersectionText(R).end);i.close("div");i.close("div");i.openStart("div");i.class("sapUiCalendarAppContainerRight");i.openEnd();if(_.isHeader){this.renderIntervalHeader(i,r,_)}else{this.renderAppointment(i,r,_,o,true)}i.close("div");i.close("div")}}if(s.length===0||N.length===0){i.openStart("div");i.class("sapUiCalendarNoApps");i.openEnd();var M=e.getElementById(r.getAssociation("row"));w=M.getNoAppointmentsText()?M.getNoAppointmentsText():t.getResourceBundleFor("sap.m").getText("PLANNINGCALENDAR_ROW_NO_APPOINTMENTS");i.text(w);i.close("div")}if(!(r._getRelativeInfo&&r._getRelativeInfo().bIsRelative)){i.openStart("div",r.getId()+"-Now");i.class("sapUiCalendarRowNow");i.openEnd()}i.close("div");i.openStart("div",r.getId()+"-DummyApp");i.class("sapUiCalendarApp");i.class("sapUiCalendarAppTitleOnly");i.class("sapUiCalendarAppDummy");i.style("margin","0");i.style("height","0px");i.openEnd();i.close("div");if(r.getShowSubIntervals()){var W=r.getIntervalType();var L=0;switch(W){case c.Hour:L=4;break;case c.Day:case c.Week:case c.OneMonth:case"OneMonth":L=24;break;case c.Month:var O=new a(R);O.setUTCMonth(O.getUTCMonth()+T+1,0);L=O.getUTCDate();O.setUTCDate(1);g=O.getUTCDay();break;default:break}var F=100/L;for(U=0;U<L;U++){i.openStart("div");i.class("sapUiCalendarRowAppsSubInt");i.style("width",F+"%");if(r._isNonWorkingInterval(U,f,u,A)){i.class("sapUiCalendarRowAppsNoWork")}i.openEnd();i.close("div")}}i.close("div")};u.getLegendItems=function(t){var a=[],n,i=t.getLegend();if(i){n=e.getElementById(i);if(n){a=n.getItems()}else{d.error("CalendarLegend with id '"+i+"' does not exist!",t)}}return a};u.renderWorkingParts=function(e,t){const a=t/60*100;e.openStart("div");e.style("width",`${a}%`);e.style("height","inherit");e.style("display","inline-block");e.openEnd();e.close("div")};u.renderNonWorkingParts=function(e,t){const a=t/60*100;e.openStart("div");e.style("width",`${a}%`);e.class("sapUiCalendarRowAppsNoWork");e.style("height","inherit");e.style("display","inline-block");e.openEnd();e.close("div")};u.getAriaTextForType=function(e,t){var a,n,r,s;if(t&&t.length){for(var s=0;s<t.length;s++){r=t[s];if(r.getType()===e){a=r.getText();break}}}if(!a){n=i.getTypeAriaText(e);if(n){a=n.getText()}}return a};return u},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPicker", ["./library","sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/core/HTML","sap/ui/core/Lib","sap/ui/core/ResizeHandler","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/ui/core/theming/Parameters","sap/ui/core/InvisibleText","sap/ui/Device","sap/ui/core/library","./ColorPickerRenderer","./ColorPickerHelper","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/Global"],function(e,t,i,s,o,a,l,r,h,n,d,u,p,C,c,g,f,jQuery){"use strict";var S=C.ValueState,b=e.ColorPickerMode,_=e.ColorPickerDisplayMode;var y=i.extend("sap.ui.unified.ColorPicker",{metadata:{library:"sap.ui.unified",properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:b.HSV},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:_.Default}},aggregations:{_grid:{type:"sap.ui.layout.Grid",group:"Appearance",multiple:false,visibility:"hidden"},_invisibleTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_oCPBox:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHexField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRedField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oGreenField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oBlueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSatField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oLitField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oValField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField2:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRGBorHSLRBUnifiedGroup:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oButton:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:c});var R="",H=sap.ui.require.toUrl("sap/ui/unified/img/ColorPicker/Alphaslider_BG.png"),F=o.getResourceBundleFor("sap.ui.unified"),L={};Object.defineProperties(L,{RGB:{value:"RGB"},CPResponsiveClass:{value:"sapUnifiedColorPicker"},CPMatrixClass:{value:"sapUiColorPicker-ColorPickerMatrix"},HSLClass:{value:"sapUiColorPickerHSL"},LabelClass:{value:"sapUiColorPicker-ColorPickerLabels"},UnitLabelClass:{value:"sapUiCPUnitLabel"},HEXClass:{value:"sapUiColorPicker-ColorPickerHexField"},LeftColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsLeft"},RightColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsRight"},SliderClass:{value:"sapUiColorPicker-ColorPickerSlider"},AlphaSliderClass:{value:"sapUiColorPicker-ColorPickerAlphaSlider"},OutputSelectorClass:{value:"sapUiColorPickerHSL-RB"},OutputSelectorRowClass:{value:"sapUiColorPicker-RBRow"},CPBoxClass:{value:"sapUiColorPicker-ColorPickerBox"},CPCircleClass:{value:"sapUiColorPicker-ColorPickerCircle"},LastColumnClass:{value:"sapUiColorPicker-ColorPickerLastColumn"},HideForHSVClass:{value:"hideForHSV"},HideForHSLClass:{value:"hideForHSL"},OldColorClass:{value:"sapUiColorPicker-ColorPickerOldColor"},NewColorClass:{value:"sapUiColorPicker-ColorPickerNewColor"},SwatchesClass:{value:"sapUiColorPicker-swatches"},Colors:{value:{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"00000000"}}});y.prototype.init=function(){this.oColorPickerHelper=g.getHelper();if(p.browser.firefox){R="-moz-linear-gradient"}else if(p.browser.webkit){R="-webkit-linear-gradient"}else{R="linear-gradient"}this.Color={r:255,g:255,b:255,h:0,s:0,l:100,v:100,a:1,oldA:1,hex:"#ffffff",old:"#ffffff"};this.sHexString="ffffff";this.$CPBox=null;this.$CPCur=null;this.RGB={r:0,g:0,b:0};this.bRtl=t.getRTL();this.data("sap-ui-fastnavgroup","true",true);this.bResponsive=this.oColorPickerHelper.isResponsive();var e=this.bResponsive?"_sap_ui_unified_ColorPicker_CircleSize":"_sap_ui_unified_ColorPicker_commonsCircleSize";this._iCPCursorSize=0;var i=d.get({name:e,callback:function(e){this._iCPCursorSize=parseInt(e)}.bind(this)});if(i){this._iCPCursorSize=parseInt(i)}this._processChanges=this._processHSVChanges;this._bHSLMode=false;this.bPressed=false};var P=i.extend("sap.ui.unified._ColorPickerBox",{metadata:{events:{select:{parameters:{value:{type:"int"},saturation:{type:"int"}}},resize:{parameters:{size:{type:"int"}}}}},init:function(){this.bRtl=t.getRTL()},exit:function(){if(this._sResizeListener){a.deregister(this._sResizeListener)}},getWidth:function(){return this.$().width()},getOffset:function(){return this.$().offset()},onBeforeRendering:function(){if(this._sResizeListener){a.deregister(this._sResizeListener)}},onAfterRendering:function(){this._handle=this.$().find("> div."+L.CPCircleClass);this._sResizeListener=a.register(this.getDomRef(),this.handleResize.bind(this))},handleResize:function(e){this.fireResize({size:e.size.width})},getHandle:function(){return this._handle},ontouchstart:function(e){this.handleTouch(e)},ontouchend:function(e){this.handleTouch(e)},ontouchmove:function(e){this.handleTouch(e)},handleTouch:function(e){var t=this.calculateValuesFromEvent(e);if(t){this.fireSelect(t)}},calculateValuesFromEvent:function(e){var t=e.offsetX,i=e.offsetY,s,o=s=this.getWidth(),a,l;e.preventDefault&&e.preventDefault();if(!t){a=e.targetTouches?e.targetTouches[0]:e;if(!a||!a.pageX){a=e;if((!a||!a.pageX)&&e.changedTouches){a=e.changedTouches[0]}}if(!a.pageX){return false}l=this.getOffset();t=a.pageX-l.left;i=a.pageY-l.top}t=Math.min(Math.max(t,0),o);i=Math.min(Math.max(i,0),s);if(this.bRtl){t=o-t}return{value:t/o*100,saturation:(1-i/s)*100}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.class(L.CPBoxClass);e.openEnd();e.openStart("div",t.getId()+"-cpCur");e.class(L.CPCircleClass);e.openEnd().close("div");e.close("div")}}});y.prototype._createRowFromInput=function(e,t,i,s){var o=F.getText(t),a;a=new n({content:[this.oColorPickerHelper.factory.createLabel({text:i,tooltip:o,labelFor:e}).addStyleClass(L.LabelClass),e.setTooltip(o)]});if(s){a.addContent(this.oColorPickerHelper.factory.createLabel({text:s,labelFor:e}).addStyleClass(L.UnitLabelClass).addStyleClass(L.LabelClass))}return a};y.prototype._updateColorStringProperty=function(e,t){var i=this._getCSSColorString();this.setProperty("colorString",i,true);if(t){this.fireLiveChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}if(e){this.fireChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}};y.prototype._handleCPBoxSelectEvent=function(e){var t=e.getParameter("value"),i=e.getParameter("saturation");this.oSatField.setValue(i);if(this._bHSLMode){this.oLitField.setValue(t)}else{this.oValField.setValue(t)}this._processChanges();this._updateColorStringProperty(false,true)};y.prototype._handleCPBoxResizeEvent=function(e){this._iCPBoxSize=e.getParameter("size");this._updateCursorPosition()};y.prototype._handleCPBoxTouchEndEvent=function(e){this._updateColorStringProperty(true,false)};y.prototype._createInteractionControls=function(){var t=this.getId();this.oCPBox=new P(t+"-cpBox",{select:this._handleCPBoxSelectEvent.bind(this),resize:this._handleCPBoxResizeEvent.bind(this)});this.oCPBox.addDelegate({ontouchend:this._handleCPBoxTouchEndEvent.bind(this)});this.oHexField=this.oColorPickerHelper.factory.createInput(t+"-hxF",{value:this.Color.hex.substr(1),change:this._handleHexValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_HEX")}).addStyleClass(L.HEXClass);this.oRedField=this.oColorPickerHelper.factory.createInput(t+"-rF",{value:this.Color.r,change:this._handleRedValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_RED")}).addStyleClass(L.LeftColumnInputClass);this.oGreenField=this.oColorPickerHelper.factory.createInput(t+"-gF",{value:this.Color.g,change:this._handleGreenValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_GREEN")}).addStyleClass(L.LeftColumnInputClass);this.oBlueField=this.oColorPickerHelper.factory.createInput(t+"-bF",{value:this.Color.b,change:this._handleBlueValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_BLUE")}).addStyleClass(L.LeftColumnInputClass);this.oHueField=this.oColorPickerHelper.factory.createInput(t+"-hF",{value:this.Color.h,change:this._handleHueValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_HUE")}).addStyleClass(L.RightColumnInputClass);this.oSatField=this.oColorPickerHelper.factory.createInput(t+"-sF",{value:this.Color.s,change:this._handleSatValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_SAT")+" "+u.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(L.RightColumnInputClass);this.oLitField=this.oColorPickerHelper.factory.createInput(t+"-lF",{value:this.Color.l,change:this._handleLitValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_LIGHTNESS")+" "+u.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(L.RightColumnInputClass).addStyleClass(L.HideForHSVClass);this.oAlphaField=this.oColorPickerHelper.factory.createInput(t+"-aF",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(L.RightColumnInputClass).addStyleClass(L.HideForHSVClass).addStyleClass("sapUnifiedA");this.oAlphaField2=this.oColorPickerHelper.factory.createInput(t+"-aF2",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(L.RightColumnInputClass).addStyleClass(L.HideForHSVClass).addStyleClass("sapUnifiedA");this.oValField=this.oColorPickerHelper.factory.createInput(t+"-vF",{value:this.Color.v,change:this._handleValValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_VALUE")}).addStyleClass(L.RightColumnInputClass).addStyleClass(L.HideForHSLClass);this.oRGBorHSLRBGroup=this.oColorPickerHelper.factory.createRadioButtonGroup({columns:2,buttons:[this.oColorPickerHelper.factory.createRadioButtonItem({text:L.RGB}),this.oColorPickerHelper.factory.createRadioButtonItem({text:e.ColorPickerMode.HSL})],select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0}).addStyleClass(L.OutputSelectorClass);this.oHueInvisibleText=new u({text:F.getText("COLORPICKER_HUE_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oHueInvisibleText,true);this.oSlider=this.oColorPickerHelper.factory.createSlider(t+"-hSLD",{max:360,step:1,tooltip:F.getText("COLORPICKER_HUE"),value:parseInt(this.oHueField.getValue())}).addStyleClass(L.SliderClass).addAriaLabelledBy(this.oHueInvisibleText);this.oSlider.attachEvent("liveChange","liveChange",this._handleSliderChange.bind(this));this.oSlider.attachEvent("change","change",this._handleSliderChange.bind(this));this.oAlphaInvisibleText=new u({text:F.getText("COLORPICKER_ALPHA_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oAlphaInvisibleText,true);this.oAlphaSlider=this.oColorPickerHelper.factory.createSlider(t+"-aSLD",{max:1,value:1,step:.01,tooltip:F.getText("COLORPICKER_ALPHA")}).addStyleClass(L.AlphaSliderClass).addAriaLabelledBy(this.oAlphaInvisibleText);this.oAlphaSlider.attachEvent("liveChange","liveChange",this._handleAlphaSliderChange.bind(this));this.oAlphaSlider.attachEvent("change","change",this._handleAlphaSliderChange.bind(this))};y.prototype._createLayout=function(){var e=this.getId(),t;if(this._bLayoutControlsCreated){return}this._createInteractionControls();if(this.getDisplayMode()===_.Large){this._toggleInputsEnabled(this.Color.formatHSL)}this.oCPBoxGD=new r({span:"L6 M6 S12"});this.icOne=new r({span:"L3 M3 S6"});this.icTwo=new r({span:"L3 M3 S6"});this.swatches=new r({span:"L3 M3 S12"});this.rbg=new r({span:"L6 M8 S12"});if(this.bResponsive){this._createUnifiedColorPicker(e)}else{t=this._createCommonsColorPicker(t,e);this.setAggregation("_grid",t,true)}this._bLayoutControlsCreated=true;if(!this.bResponsive){this._adaptControlToLibrary()}};y.prototype._adaptControlToLibrary=function(){var e;if(!this._bLayoutControlsCreated){return}e=this.getAggregation("_grid");if(this.bResponsive){if(!p.system.phone&&!jQuery("html").hasClass("sapUiMedia-Std-Phone")){e._setBreakPointTablet(400)}e.addStyleClass(L.CPResponsiveClass)}else{e.setProperty("hSpacing",0,true);e.setProperty("vSpacing",0,true);this.oCPBoxGD.setSpanS(5);this.icOne.setSpanS(4);this.icTwo.setSpanS(3);this.rbg.setSpanS(8)}};y.prototype._updateControlVisualState=function(){var e=this.getAggregation("_grid");if(!e){return}if(this.bResponsive){if(this._bHSLMode){e.addStyleClass(L.HSLClass);this.swatches.setSpanM(4).setLinebreak(true)}else{e.removeStyleClass(L.HSLClass);this.swatches.setSpanM(3).setLinebreak(false)}}else{if(this._bHSLMode){e.addStyleClass(L.HSLClass);this.swatches.setSpanS(4).setLinebreak(true)}else{e.removeStyleClass(L.HSLClass);this.swatches.setSpanS(3).setLinebreak(false)}}};y.prototype._processChanges=function(){};y.prototype.setMode=function(t,i){this._bLayoutControlsCreated=false;switch(t){case e.ColorPickerMode.HSL:this._processChanges=this._processHSLChanges;break;case e.ColorPickerMode.HSV:this._processChanges=this._processHSVChanges;break;default:f.error("Control must have a valid mode set to work correct");break}this._bHSLMode=t===e.ColorPickerMode.HSL;return this.setProperty("mode",t,i)};y.prototype.setDisplayMode=function(e){this._bLayoutControlsCreated=false;return this.setProperty("displayMode",e,false)};y.prototype._cleanup=function(){var e=[this.getAggregation("_grid"),this.getAggregation("_oCPBox"),this.getAggregation("_oHexField"),this.getAggregation("_oRedField"),this.getAggregation("_oGreenField"),this.getAggregation("_oBlueField"),this.getAggregation("_oHueField"),this.getAggregation("_oSatField"),this.getAggregation("_oLitField"),this.getAggregation("_oAlphaField"),this.getAggregation("_oAlphaField2"),this.getAggregation("_oValField"),this.getAggregation("_oSlider"),this.getAggregation("_oAlphaSlider"),this.oRGBorHSLRBUnifiedGroup,this.oCPBoxGD,this.icOne,this.icTwo,this.rbg,this.swatches,this.oAlphaInvisibleText,this.oHueInvisibleText,this.getAggregation("_oButton"),this.getAggregation("_oRGBorHSLRBUnifiedGroup"),this.oRGBorHSLRBGroup];e.forEach(function(e){if(e){e.destroy()}},this);this._bLayoutControlsCreated=false};y.prototype.exit=function(){this._cleanup()};y.prototype.onBeforeRendering=function(){this._cleanup();this._createLayout();this._updateControlVisualState();this._updateColorString()};y.prototype._updateAlphaValue=function(e){this.Color.a=this._getValueInRange(e,0,1)};y.prototype._updateColorString=function(){this._parseColorString(this.getColorString());this.oHexField.setValue(this.Color.hex.substr(1));this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);if(this.bResponsive){this.oRGBorHSLRBUnifiedGroup.setSelectedIndex(this.Color.formatHSL?1:0)}else{this.oRGBorHSLRBGroup.setSelectedIndex(this.Color.formatHSL?1:0)}}else{this.oValField.setValue(this.Color.v);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a)}this._updateColorStringProperty(false,false)};y.prototype.isColor=function(e){return this._parseColorString(e,true)};y.prototype._handleSliderChange=function(e,t){var i=parseInt(this.oSlider.getValue());this.oHueField.setValue(i);this._processChanges();this._updateColorStringProperty(t==="change",t==="liveChange")};y.prototype._handleAlphaSliderChange=function(e,t){this.Color.a=this.oAlphaSlider.getValue();this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this._updateSelColorBackground();this._updateColorStringProperty(t==="change",t==="liveChange")};y.prototype._getValueInRange=function(e,t,i){if(isNaN(e)){e=0}return Math.min(Math.max(e,t),i)};y.prototype._handleAlphaValueChange=function(e){var t=e.getParameter("id")=="cp-aF2"?parseFloat(this.oAlphaField2.getValue(),10):parseFloat(this.oAlphaField.getValue(),10);t=this._getValueInRange(t,0,1);this.Color.a=t;this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t);this.oAlphaSlider.setValue(t);if(!this.Color.formatHSL){this._processRGBChanges()}else{this._processChanges()}this._updateColorStringProperty(true,true)};y.prototype._handleRGBorHSLValueChange=function(e){this.Color.formatHSL=e.getParameter("selectedIndex")===1;this._toggleInputsEnabled(this.Color.formatHSL);this._updateColorStringProperty(true,true)};y.prototype._toggleInputsEnabled=function(e){this.oRedField.setEnabled(!e);this.oGreenField.setEnabled(!e);this.oBlueField.setEnabled(!e);this.oHueField.setEnabled(!!e);this.oSatField.setEnabled(!!e);this.oLitField.setEnabled(!!e);this.oValField.setEnabled(!!e)};y.prototype._handleHueValueChange=function(){var e=parseInt(this.oHueField.getValue());e=this._getValueInRange(e,0,360);this.oHueField.setValue(e);this.oSlider.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};y.prototype._handleSatValueChange=function(){var e=parseInt(this.oSatField.getValue());e=this._getValueInRange(e,0,100);this.oSatField.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};y.prototype._handleValValueChange=function(){var e=parseInt(this.oValField.getValue());e=this._getValueInRange(e,0,100);this.oValField.setValue(e);this._processHSVChanges();this._updateColorStringProperty(true,true)};y.prototype._handleLitValueChange=function(){var e=parseInt(this.oLitField.getValue());e=this._getValueInRange(e,0,100);this.oLitField.setValue(e);this._processHSLChanges();this._updateColorStringProperty(true,true)};y.prototype._handleRedValueChange=function(){var e=parseInt(this.oRedField.getValue());e=this._getValueInRange(e,0,255);this.oRedField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};y.prototype._handleGreenValueChange=function(){var e=parseInt(this.oGreenField.getValue());e=this._getValueInRange(e,0,255);this.oGreenField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};y.prototype._handleBlueValueChange=function(){var e=parseInt(this.oBlueField.getValue());e=this._getValueInRange(e,0,255);this.oBlueField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};y.prototype._processHSVChanges=function(){var e=parseInt(this.oHueField.getValue());var t=parseInt(this.oSatField.getValue());var i=parseInt(this.oValField.getValue());this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.v=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oValField.setValue(this.Color.v);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground()};y.prototype._processHSLChanges=function(){var e=parseInt(this.oHueField.getValue()),t=parseInt(this.oSatField.getValue()),i=parseInt(this.oLitField.getValue());if(e>360){e%=360}this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.l=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oLitField.setValue(this.Color.l);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};y.prototype._processRGBChanges=function(){var e=Math.round(parseInt(this.oRedField.getValue())),t=Math.round(parseInt(this.oGreenField.getValue())),i=Math.round(parseInt(this.oBlueField.getValue())),s=e+t+i===765;this._calculateHEX(e,t,i);this.oHexField.setValue(this.sHexString);if(this._bHSLMode){this._calculateHSL(e,t,i);this.oLitField.setValue(this.Color.l)}else{if(!s){this._calculateHSV(e,t,i)}this.oValField.setValue(this.Color.v)}if(!s){this.oHueField.setValue(this.Color.h)}this.oSatField.setValue(this.Color.s);this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.Color.r=e;this.Color.g=t;this.Color.b=i;this.Color.hex="#"+this.oHexField.getValue();this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};y.prototype._handleHexValueChange=function(){var e=this.oHexField.getValue().toLowerCase(),t=1,i;if(e.substr(0,1)==="#"){e=e.substr(1)}i=/^([0-9a-fA-F]{8})$/;if(i.test(e)!==false){t=Number((parseInt(e.substr(6,2),16)/255).toFixed(2));e=e.substr(0,6)}i=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(i.test(e)===false){this.oHexField.setValueState(S.Error);this.oSlider.setEnabled(false);this.oAlphaSlider.setEnabled(false);this.oHueField.setEnabled(false);this.oRedField.setEnabled(false);this.oGreenField.setEnabled(false);this.oBlueField.setEnabled(false);this.oSatField.setEnabled(false);this.oAlphaField.setEnabled(false);this.oAlphaField2.setEnabled(false);if(this._bHSLMode){this.oLitField.setEnabled(false)}else{this.oValField.setEnabled(false)}return}else if(this.oHexField.getValueState()===S.Error){this.oHexField.setValueState(S.None);this.oSlider.setEnabled(true);this.oAlphaSlider.setEnabled(true);this.oHueField.setEnabled(true);this.oRedField.setEnabled(true);this.oGreenField.setEnabled(true);this.oBlueField.setEnabled(true);this.oSatField.setEnabled(true);this.oAlphaField.setEnabled(true);this.oAlphaField2.setEnabled(true);if(this._bHSLMode){this.oLitField.setEnabled(true)}else{this.oValField.setEnabled(true)}}if(e.length===3){e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)}this._processHexChanges(e);this.oHexField.setValue(e);this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(1);this.oAlphaField2.setValue(1)}else{this.oValField.setValue(this.Color.v)}this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.oAlphaSlider.setValue(t);this.Color.a=t;if(this._bHSLMode){this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t)}this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();this._updateColorStringProperty(true,true)};y.prototype._processHexChanges=function(e){this._convertRGB(e);if(this._bHSLMode){this._calculateHSL(this.Color.r,this.Color.g,this.Color.b)}else{this._calculateHSV(this.Color.r,this.Color.g,this.Color.b)}this.Color.hex="#"+e.toLowerCase()};y.prototype._updateAlphaBackground=function(){var e=[this.Color.r,this.Color.g,this.Color.b].join(","),t=R+"(left,rgba("+e+",0),rgba("+e+",1)),url("+H+")";this.oAlphaSlider.$().find(this.bResponsive?".sapMSliderInner":".sapUiSliBar").css("background-image",t)};y.prototype._updateCursorPosition=function(){var e,i;if(!this._iCPBoxSize){return}if(this._bHSLMode){e=Math.round(this.oLitField.getValue()*this._iCPBoxSize/100)}else{e=Math.round(this.oValField.getValue()*this._iCPBoxSize/100)}if(t.getRTL()){e=this._iCPBoxSize-e}i=Math.round((1-this.oSatField.getValue()/100)*this._iCPBoxSize);e=Math.round(Math.max(e,0)-this._iCPCursorSize/2-1);i=Math.round(Math.max(i,0)-this._iCPCursorSize/2-1);this.$CPCur.css("left",e).css("top",i)};y.prototype._calculateRGB=function(e,t,i){var s,o,a,l,r,h,n;if(this._bHSLMode){this._calculateRGBAdvanced(e,t,i);return}e%=360;e/=60;t/=100;i/=100;h=i*t;r=h*(1-Math.abs(e%2-1));l=i-h;s=0;o=0;a=0;n=Math.floor(e);switch(n){case 0:s=h;o=r;break;case 1:s=r;o=h;break;case 2:o=h;a=r;break;case 3:o=r;a=h;break;case 4:s=r;a=h;break;case 5:s=h;a=r;break;default:s=0;a=0;o=0;break}this.RGB.r=Math.floor((s+l)*255);this.RGB.g=Math.floor((o+l)*255);this.RGB.b=Math.floor((a+l)*255)};y.prototype._calculateRGBAdvanced=function(e,t,i){var s,o,a,l,r,h,n,d,u;e=this._getValueInRange(e,0,360);e%=360;if(t>100){t=1}else if(t<0){t=0}else{t=t/100}if(i>100){i=1}else if(i<0){i=0}else{i=i/100}d=t*(1-Math.abs(2*i-1));n=255*(i-.5*d);h=d*(1-Math.abs(e/60%2-1));u=Math.floor(e/60);r=n+255*h;l=n+255*d;switch(u){case 0:s=l;o=r;a=n;break;case 1:s=r;o=l;a=n;break;case 2:s=n;o=l;a=r;break;case 3:s=n;o=r;a=l;break;case 4:s=r;o=n;a=l;break;case 5:s=l;o=n;a=r;break;default:s=0;o=0;a=0;break}this.RGB.r=Math.round(s);this.RGB.g=Math.round(o);this.RGB.b=Math.round(a)};y.prototype._getCSSColorString=function(){if(this.Color.formatHSL){if(this.Color.a<1){return"hsla("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%, "+this.Color.a+")"}else{return"hsl("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%)"}}if(this.Color.a<1){return"rgba("+this.Color.r+","+this.Color.g+","+this.Color.b+", "+this.Color.a+")"}else{return"rgb("+this.Color.r+","+this.Color.g+","+this.Color.b+")"}};y.prototype._calculateHEX=function(e,t,i){var s=e.toString(16),o=t.toString(16),a=i.toString(16);if(s.length===1){s="0"+s}if(o.length===1){o="0"+o}if(a.length===1){a="0"+a}this.sHexString=(s+o+a).toLowerCase()};y.prototype._calculateHSV=function(e,t,i){var s=Math.max(Math.max(e,t),i),o=Math.min(Math.min(e,t),i),a=s-o,l=Math.round(s*100/255),r=s===0?0:100*a/s,h=0;if(r===0){h=0}else if(e===s){h=60*(t-i)/a}else if(t===s){h=120+60*(i-e)/a}else if(i===s){h=240+60*(e-t)/a}if(h<0){h+=359.9}h=Math.round(h);r=Math.round(r);this.Color.h=h;this.Color.s=r;this.Color.v=l};y.prototype._calculateHSL=function(e,t,i){var s=Math.max(e,t,i),o=Math.min(e,t,i),a=(s-o)/255,l=(s+o)/510,r=1-Math.abs(2*l-1),h=l===0?0:a/r,n=r!==0?h:0,d=0;l=Math.round(l*100);n=Math.round(n*100);if(l===0||n===0||e+t+i===765){d=0}else{var u=s-o;if(s===e){d=(t-i)/u%6}if(s===t){d=(i-e)/u+2}if(s===i){d=(e-t)/u+4}if(u===0){d=0}d*=60;if(d<0){d+=360}}if(d!==0||this.Color.h!==360){this.Color.h=Math.round(d)}this.Color.s=n;this.Color.l=l};y.prototype._convertRGB=function(e){this.Color.r=parseInt(e.substr(0,2),16);this.Color.g=parseInt(e.substr(2,2),16);this.Color.b=parseInt(e.substr(4,2),16)};y.prototype._updateGradientBoxBackground=function(e){if(this._bHSLMode){this._calculateRGBAdvanced(e,100,50)}else{this._calculateRGB(e,100,100)}this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.$CPBox.css("background-color","rgb("+[this.RGB.r,this.RGB.g,this.RGB.b].join(",")+")")};y.prototype._updateSelColorBackground=function(){this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",this._getCSSColorString())};y.prototype._parseColorString=function(e,t){var i;if(e.substr(0,1)==="#"){e=e.substr(1)}e=e.trim().toLowerCase();i=this._parseColorName(e);if(i){if(t){return true}if(i.length===8){this.Color.a=this.Color.oldA=Number((parseInt(i.substr(6,2),16)/255).toFixed(2));i=i.substring(0,6)}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e)){if(t){return true}if(e.length===3){i=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}else{i=e}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(e.substr(0,3)==="rgb"){return this._parseRGB(e,t)}if(this._bHSLMode){return this._parseHSL(e,t)}else if(e.substr(0,3)==="hsv"){return this._parseHSV(e,t)}return false};y.prototype._parseHSV=function(e,t){var i=/^(((\d{1,2})|([1,2]\d{2})|(3[0-5]\d)|(360)),)(((\d{1,2})|(100)),)((\d{1,2})|(100))$/,s,o,a,l;e=e.substr(3).replace("(","").replace(")","").split(" ").join("");if(i.test(e)===true){if(t){return true}s=e.split(",");o=parseInt(s[0]);a=parseInt(s[1]);l=parseInt(s[2]);this._calculateRGB(o,a,l);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=o;this.Color.s=a;this.Color.v=l;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;return true}return false};y.prototype._parseHSL=function(e,t){var i,s=e.substr(0,4),o,a,l,r,h;if(s==="hsla"){o=true}else if(s==="hsl("){o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");i=e.split(",");a=parseInt(i[0]);l=parseFloat(i[1]);r=parseFloat(i[2]);if(o){h=parseFloat(i[3])}else{if(i[3]&&parseFloat(i[3])>=0){return false}h=1}l=l<1&&l>0?l*100:l;r=r<1&&r>0?r*100:r;if(a>=0&&a<=360&&(l>=0&&l<=100)&&(r>=0&&r<=100)&&(h>=0&&h<=1)){if(t){return true}this._calculateRGB(a,l,r);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=a;this.Color.s=l;this.Color.l=r;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;this.Color.a=this.Color.oldA=h;this.Color.formatHSL=true}else{return false}return true};y.prototype._parseRGB=function(e,t){var i,s,o,a;s=e.substring(0,4);if(s==="rgba"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),)([0]|([0]\.[0-9]+)|(\.[0-9]+)|[1])$/;o=true}else if(s.substring(0,3)==="rgb"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])))$/;o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");if(a.test(e)){if(t){return true}i=e.split(",");this._calculateHEX(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]));this._processHexChanges(this.sHexString);this.Color.old=this.Color.hex;if(o){this.Color.a=this.Color.oldA=parseFloat(i[3])}return true}if(this._bHSLMode){this.Color.formatHSL=false}return false};y.prototype._parseColorName=function(e){return L.Colors[e]};y.prototype.onAfterRendering=function(){var e=this._getCSSColorString(),t=this.getParent();this.$CPBox=this.oCPBox.$();this.$CPCur=this.oCPBox.getHandle();this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",e);this.$().find(".sapUiColorPicker-ColorPickerOldColor").css("background-color",e);this._updateGradientBoxBackground(this.Color.h);this._iCPBoxSize=this.oCPBox.getWidth();this._updateCursorPosition();this._updateAlphaBackground();this.oSlider.iShiftGrip=Math.round(jQuery(this.oSlider.oGrip).outerWidth()/2);this.oAlphaSlider.iShiftGrip=Math.round(jQuery(this.oAlphaSlider.oGrip).outerWidth()/2);if(t&&t.getMetadata().getName()==="sap.m.Dialog"){t.addStyleClass("sapUiCPDialog")}this.addStyleClass("sapUiCPDisplayRGB");if(p.system.phone){this._toggleFields()}};y.prototype.getRGB=function(){return{r:this.Color.r,g:this.Color.g,b:this.Color.b}};y.prototype._getConstants=function(){return L};y.prototype._createCommonsColorPicker=function(e,t){e=new l({containerQuery:true,content:[this.oCPBox.setLayoutData(this.oCPBoxGD),new h({content:[this._createRowFromInput(this.oRedField,"COLORPICKER_RED","R:"),this._createRowFromInput(this.oGreenField,"COLORPICKER_GREEN","G:"),this._createRowFromInput(this.oBlueField,"COLORPICKER_BLUE","B:"),this._createRowFromInput(this.oHexField,"COLORPICKER_HEX","#:")],layoutData:this.icOne}),new h({content:[this._createRowFromInput(this.oHueField,"COLORPICKER_HUE","H:"),this._createRowFromInput(this.oSatField,"COLORPICKER_SAT","S:","%"),this._createRowFromInput(this.oLitField,"COLORPICKER_LIGHTNESS","L:","%").addStyleClass(L.HideForHSVClass),this._createRowFromInput(this.oAlphaField,"COLORPICKER_ALPHA","A:").addStyleClass(L.HideForHSVClass),this._createRowFromInput(this.oAlphaField2,"COLORPICKER_ALPHA","A:").addStyleClass(L.HideForHSVClass),this._createRowFromInput(this.oValField,"COLORPICKER_VALUE","V:").addStyleClass(L.HideForHSLClass)],layoutData:this.icTwo}).addStyleClass(L.LastColumnClass),new n({content:[new s({content:["<div id='",t,"-ocBox' class='",L.OldColorClass,"'></div>"].join("")}),new s({content:["<div id='",t,"-ncBox' class='",L.NewColorClass,"'></div>"].join("")})],layoutData:this.swatches}).addStyleClass(L.SwatchesClass),new n({content:[this.oColorPickerHelper.factory.createLabel({text:"Output:",labelFor:this.oRGBorHSLRBGroup}),this.oRGBorHSLRBGroup],layoutData:this.rbg}).addStyleClass(L.HideForHSVClass).addStyleClass(L.OutputSelectorRowClass),this.oSlider.setLayoutData(new r({span:"L6 M6 S12",linebreak:true})),this.oAlphaSlider.setLayoutData(new r({span:"L6 M6 S12"}))]}).addStyleClass(L.CPMatrixClass);return e};y.prototype._createUnifiedColorPicker=function(e){var t=this;this.oRbRGB=this.oColorPickerHelper.factory.createRadioButtonItem({tooltip:F.getText("COLORPICKER_SELECT_RGB_TOOLTIP")});this.oRbRGB.addStyleClass("sapUiCPRB");this.oRbHSLV=this.oColorPickerHelper.factory.createRadioButtonItem({tooltip:F.getText("COLORPICKER_SELECT_HSL_TOOLTIP")});this.oRbHSLV.addStyleClass("sapUiCPRB");this.oButton=this.oColorPickerHelper.factory.createButton(e+"-toggleMode",{type:p.system.phone?"Default":"Transparent",tooltip:F.getText("COLORPICKER_TOGGLE_BTN_TOOLTIP"),icon:"sap-icon://source-code",press:function(e){t._toggleFields()}});this.setAggregation("_oButton",this.oButton,true);this.oRGBorHSLRBUnifiedGroup=this.oColorPickerHelper.factory.createRadioButtonGroup({select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0});this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbRGB);this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbHSLV);this.setAggregation("_oRGBorHSLRBUnifiedGroup",this.oRGBorHSLRBUnifiedGroup,true);this.setAggregation("_oCPBox",this.oCPBox,true);this.setAggregation("_oHexField",this.oHexField,true);this.setAggregation("_oRedField",this.oRedField,true);this.setAggregation("_oGreenField",this.oGreenField,true);this.setAggregation("_oBlueField",this.oBlueField,true);this.setAggregation("_oHueField",this.oHueField,true);this.setAggregation("_oSatField",this.oSatField,true);this.setAggregation("_oLitField",this.oLitField,true);this.setAggregation("_oAlphaField",this.oAlphaField,true);this.setAggregation("_oAlphaField2",this.oAlphaField2,true);this.setAggregation("_oValField",this.oValField,true);this.setAggregation("_oSlider",this.oSlider,true);this.setAggregation("_oAlphaSlider",this.oAlphaSlider,true)};y.prototype._toggleFields=function(){if(!p.system.phone){this.toggleStyleClass("sapUiCPDisplayRGB",this.bPressed);this.bPressed=!this.bPressed}else{switch(this.sVisibleFiled){case"HSL":this.removeStyleClass("sapUiCPHexVisible");this.toggleStyleClass("sapUiCPDisplayRGB",false);this.addStyleClass("sapUiCPHideHex");this.sVisibleFiled="RGB";break;case"RGB":this.removeStyleClass("sapUiCPHexVisible");this.addStyleClass("sapUiCPHideHex");this.toggleStyleClass("sapUiCPDisplayRGB",true);this.sVisibleFiled="Hex";break;case"Hex":default:this.addStyleClass("sapUiCPHexVisible");this.removeStyleClass("sapUiCPHideHex");this.sVisibleFiled="HSL";break}}};return y});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerDisplayMode", ["sap/ui/base/DataType"],function(e){"use strict";var i={Default:"Default",Large:"Large",Simplified:"Simplified"};e.registerEnum("sap.ui.unified.ColorPickerDisplayMode",i);return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerHelper", ["sap/ui/core/Lib"],function(e){"use strict";var t;var n={isResponsive:function(){return true},factory:{createLabel:function(e){return new sap.m.Label(e)},createInput:function(e,t){return new sap.m.InputBase(e,t)},createSlider:function(e,t){return new sap.m.Slider(e,t)},createRadioButtonGroup:function(e){return new sap.m.RadioButtonGroup(e)},createRadioButtonItem:function(e){return new sap.m.RadioButton(e)},createButton:function(e,t){return new sap.m.Button(e,t)}}};var r={isResponsive:function(){return false},factory:{createLabel:function(e){return new sap.ui.commons.Label(e)},createInput:function(e,t){return new sap.ui.commons.TextField(e,t)},createSlider:function(e,t){if(t&&t.step){t.smallStepWidth=t.step;delete t.step}return new sap.ui.commons.Slider(e,t)},createRadioButtonGroup:function(e){if(e&&e.buttons){e.items=e.buttons;delete e.buttons}return new sap.ui.commons.RadioButtonGroup(e)},createRadioButtonItem:function(e){return new sap.ui.core.Item(e)}}};var o={isResponsive:function(){return false},factory:{createLabel:function(){throw new Error("no Label control available")},createInput:function(){throw new Error("no Input control available")},createSlider:function(){throw new Error("no Slider control available")},createRadioButtonGroup:function(){throw new Error("no RadioButtonGroup control available")},createRadioButtonItem:function(){throw new Error("no RadioButtonItem control available")}}};t={getHelper:function(){if(e.isLoaded("sap.m")){return n}else if(e.isLoaded("sap.ui.unified")){return r}return o}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerRenderer", ["./ColorPickerDisplayMode","sap/ui/Device","sap/ui/core/Lib"],function(e,o,t){"use strict";var r={apiVersion:2};var n=t.getResourceBundleFor("sap.ui.unified");r.render=function(t,r){var i=r.getDisplayMode(),s=r.bResponsive;t.openStart("div",r);t.accessibilityState(r,{role:"group",roledescription:n.getText("COLOR_PICKER_TITLE")});if(s){t.class("sapUiColorPicker-ColorPickerMatrix");t.class("sapUiColorPicker-"+i);t.class("sapUnifiedColorPicker");if(r._bHSLMode){t.class("sapUiColorPickerHSL")}}if(o.system.phone){t.class("sapUiCPPhone")}t.openEnd();if(!s){t.renderControl(r.getAggregation("_grid"))}else{switch(i){case e.Default:this.renderDefaultColorPicker(t,r);break;case e.Large:this.renderLargeColorPicker(t,r);break;case e.Simplified:this.renderSimplifiedColorPicker(t,r)}}t.close("div")};r.renderDefaultColorPicker=function(e,t){e.renderControl(t.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(t.getAggregation("_oSlider"));e.renderControl(t.getAggregation("_oAlphaSlider"));e.close("div");this.renderMobileSwatches(e,t);e.close("div")}else{e.renderControl(t.getAggregation("_oSlider"));e.renderControl(t.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,t)}e.openStart("div");e.class("sapUiCPDefaultWrapper");e.openEnd();if(o.system.phone){e.renderControl(t.getAggregation("_oHexField"));e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div")}e.openStart("div");e.class("sapUiCPDefaultRGB");e.openEnd();e.renderControl(t.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(t.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(t.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(t.getAggregation("_oAlphaField"));e.close("div");e.openStart("div");e.class("sapUiCPDefaultHSLV");e.openEnd();e.renderControl(t.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(t.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");e.renderControl(t.getAggregation("_oLitField"));e.renderControl(t.getAggregation("_oValField"));if(t.getMode()==="HSL"){e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div")}else{this.renderEmptyDiv(e)}e.renderControl(t.getAggregation("_oAlphaField2"));e.close("div");e.renderControl(t.getAggregation("_oButton"));this.renderRGBLabel(e,t);this.renderHSLVLabel(e,t);e.close("div")};r.renderLargeColorPicker=function(e,o){e.renderControl(o.getAggregation("_oCPBox"));e.renderControl(o.getAggregation("_oSlider"));e.renderControl(o.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,o);e.renderControl(o.oRGBorHSLRBUnifiedGroup);e.openStart("div");e.class("sapUiCPRGBA");e.openEnd();e.renderControl(o.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oAlphaField"));e.close("div");this.renderRGBLabel(e,o);e.openStart("div");e.class("sapUiCPHSLV");e.openEnd();e.renderControl(o.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");const t=o.getMode()==="HSL";if(t){e.renderControl(o.getAggregation("_oLitField"))}else{e.renderControl(o.getAggregation("_oValField"))}e.openStart("div");e.class("sapUiCPPercentSymbol");if(!t){e.style("visibility","hidden")}e.openEnd();e.text("%");e.close("div");e.renderControl(o.getAggregation("_oAlphaField2"));e.close("div");this.renderHSLVLabel(e,o)};r.renderSimplifiedColorPicker=function(e,t){e.renderControl(t.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(t.getAggregation("_oSlider"));e.close("div");e.renderControl(t.getAggregation("_oHexField"));this.renderMobileSwatches(e,t);e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div");e.close("div");e.close("div")}else{e.renderControl(t.getAggregation("_oSlider"));this.renderDesktopSwatchesAndHexFields(e,t)}};r.renderDesktopSwatchesAndHexFields=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.attr("title",n.getText("COLOR_PICKER_CURRENT_COLOR_TOOLTIP"));e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.attr("title",n.getText("COLOR_PICKER_NEW_COLOR_TOOLTIP"));e.openEnd();e.close("div");e.close("div");e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("span");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("span");e.close("div");e.renderControl(o.getAggregation("_oHexField"))};r.renderMobileSwatches=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.class("sapUiCPComparisonWrapperPhone");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.openEnd();e.close("div");e.close("div")};r.renderEmptyDiv=function(e){e.openStart("div");e.class("sapUiCPEmptyDiv");e.openEnd();e.close("div")};r.renderRGBLabel=function(e,o){e.openStart("div");e.class("sapUiCPRGBText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("R");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("G");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("B");e.close("span");this.renderEmptyDiv(e);if(o.getDisplayMode()==="Default"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.close("span")}e.close("div")};r.renderHSLVLabel=function(e,o){e.openStart("div");e.class("sapUiCPHSLVText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("H");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("S");e.close("span");this.renderEmptyDiv(e);if(o.getMode()==="HSL"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("L");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("V");e.close("span")}this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span");e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateRange", ["sap/ui/core/Element","./library","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a){"use strict";var r=e.extend("sap.ui.unified.DateRange",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Misc",defaultValue:null},endDate:{type:"object",group:"Misc",defaultValue:null}}}});r.prototype.setStartDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("startDate",e,t);return this};r.prototype.setEndDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("endDate",e,t);return this};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateTypeRange", ["./DateRange","./library"],function(e,a){"use strict";var p=a.CalendarDayType;var r=e.extend("sap.ui.unified.DateTypeRange",{metadata:{library:"sap.ui.unified",properties:{type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.Type01},secondaryType:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploader", ["sap/ui/core/Control","./library","sap/ui/core/ControlBehavior","sap/ui/core/Element","sap/ui/core/LabelEnablement","sap/ui/core/InvisibleText","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/StaticArea","sap/ui/Device","./FileUploaderRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/base/security/encodeXML","sap/ui/thirdparty/jquery","./FileUploaderHelper","sap/ui/dom/jquery/Aria"],function(e,t,i,s,o,r,a,l,n,p,h,u,f,d,g,jQuery,c){var y=l.ValueState;var m=t.FileUploaderHttpRequestMethod;var F=e.extend("sap.ui.unified.FileUploader",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.ui.unified.IProcessableBlobs"],library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/FileUploader.designtime",properties:{value:{type:"string",group:"Data",defaultValue:""},enabled:{type:"boolean",group:"Behavior",defaultValue:true},uploadUrl:{type:"sap.ui.core.URI",group:"Data",defaultValue:""},name:{type:"string",group:"Data",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:""},uploadOnChange:{type:"boolean",group:"Behavior",defaultValue:false},additionalData:{type:"string",group:"Data",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:false},buttonText:{type:"string",group:"Misc",defaultValue:null},fileType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:false},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},sendXHR:{type:"boolean",group:"Behavior",defaultValue:false},httpRequestMethod:{type:"sap.ui.unified.FileUploaderHttpRequestMethod",group:"Behavior",defaultValue:m.Post},placeholder:{type:"string",group:"Appearance",defaultValue:null},style:{type:"string",group:"Appearance",defaultValue:null},buttonOnly:{type:"boolean",group:"Appearance",defaultValue:false},useMultipart:{type:"boolean",group:"Behavior",defaultValue:true},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:y.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconHovered:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconSelected:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconFirst:{type:"boolean",group:"Appearance",defaultValue:true},iconOnly:{type:"boolean",group:"Appearance",defaultValue:false},directory:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{parameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"parameter"},headerParameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"headerParameter"},xhrSettings:{type:"sap.ui.unified.FileUploaderXHRSettings",multiple:false}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{newValue:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{fileName:{type:"string"},response:{type:"string"},readyStateXHR:{type:"string"},status:{type:"int"},responseRaw:{type:"string"},headers:{type:"object"},requestHeaders:{type:"object[]"}}},typeMissmatch:{parameters:{fileName:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"}}},fileSizeExceed:{parameters:{fileName:{type:"string"},fileSize:{type:"string"}}},fileEmpty:{parameters:{fileName:{type:"string"}}},fileAllowed:{},uploadProgress:{parameters:{lengthComputable:{type:"boolean"},loaded:{type:"float"},total:{type:"float"},fileName:{type:"string"},requestHeaders:{type:"object[]"}}},uploadAborted:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},filenameLengthExceed:{parameters:{fileName:{type:"string"}}},uploadStart:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},beforeDialogOpen:{},afterDialogClose:{}}},renderer:h});F.prototype.init=function(){var e=this;this.oFileUploaderHelper=c.getHelper();this.oFilePath=this.oFileUploaderHelper.createTextField(this.getId()+"-fu_input").addEventDelegate({onAfterRendering:function(){if(e.getWidth()){e._resizeDomElements()}}});this.oBrowse=this.oFileUploaderHelper.createButton(this.getId()+"-fu_button");this.oFilePath.setParent(this);this.oBrowse.setParent(this);this.oFileUpload=null;this.bMobileLib=this.oBrowse.getMetadata().getName()=="sap.m.Button";if(i.isAccessibilityEnabled()){if(!F.prototype._sAccText){var t=a.getResourceBundleFor("sap.ui.unified");F.prototype._sAccText=t.getText("FILEUPLOAD_ACC")}if(this.oBrowse.addAriaDescribedBy){this.oBrowse.addAriaDescribedBy(this.getId()+"-AccDescr")}if(this.oFilePath){this.oFilePath.addAriaLabelledBy(r.getStaticId("sap.ui.unified","FILEUPLOAD_FILENAME"))}}this._submitAfterRendering=false};F.prototype.setIcon=function(e){this.oBrowse.setIcon(e);this.setProperty("icon",e,false);return this};F.prototype.setIconHovered=function(e){this.setProperty("iconHovered",e,false);if(this.oBrowse.setIconHovered){this.oBrowse.setIconHovered(e)}return this};F.prototype.setIconSelected=function(e){this.setProperty("iconSelected",e,false);if(this.oBrowse.setIconSelected){this.oBrowse.setIconSelected(e)}else{this.oBrowse.setActiveIcon(e)}return this};F.prototype.setIconFirst=function(e){this.oBrowse.setIconFirst(e);this.setProperty("iconFirst",e,false);return this};F.prototype._ensureBackwardsReference=function(){var e=this.oBrowse,t=e.getAriaLabelledBy(),i=o.getReferencingLabels(this);if(t){i.forEach(function(i){if(t.indexOf(i)===-1){e.addAriaLabelledBy(i)}})}return this};F.prototype.setName=function(e){this.setProperty("name",e,false);this._rerenderInputField();return this};F.prototype.setFileType=function(e){var t=this._convertTypesToArray(e);this.setProperty("fileType",t,false);this._rerenderInputField();return this};F.prototype.setMimeType=function(e){var t=this._convertTypesToArray(e);this.setProperty("mimeType",t,false);this._rerenderInputField();return this};F.prototype.setMultiple=function(e){this.setProperty("multiple",e,false);this._rerenderInputField();return this};F.prototype.setDirectory=function(e){this.setProperty("directory",e,false);this._rerenderInputField();return this};F.prototype._rerenderInputField=function(){if(this.oFileUpload){var e=this.oFileUpload.files;this._clearInputField();this._prepareFileUpload();jQuery(this.oFileUpload).on("change",this.handlechange.bind(this));this.oFileUpload.files=e;this._cacheDOMEls()}};F.prototype.setTooltip=function(t){var i;e.prototype.setTooltip.call(this,t);if(this.oFileUpload){i=this.getTooltip_AsString();if(i){this.oFileUpload.setAttribute("title",i)}else{this.oFileUpload.setAttribute("title",this.getValue()?this.getValue():this._getNoFileChosenText())}}return this};F.prototype.addAriaLabelledBy=function(e){this.addAssociation("ariaLabelledBy",e);this.oBrowse.addAriaLabelledBy(e);return this};F.prototype.removeAriaLabelledBy=function(e){var t=this.removeAssociation("ariaLabelledBy",e);if(!t){return}this.oBrowse.removeAriaLabelledBy(t);return t};F.prototype.removeAllAriaLabelledBy=function(){var e=this.removeAllAssociation("ariaLabelledBy"),t=this.oBrowse.getAriaLabelledBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaLabelledBy(e)}}.bind(this));return e};F.prototype.addAriaDescribedBy=function(e){this.addAssociation("ariaDescribedBy",e);this.oBrowse.addAriaDescribedBy(e);return this};F.prototype.removeAriaDescribedBy=function(e){var t=this.removeAssociation("ariaDescribedBy",e);if(!t){return}this.oBrowse.removeAriaDescribedBy(t);return t};F.prototype.removeAllAriaDescribedBy=function(){var e=this.removeAllAssociation("ariaDescribedBy"),t=this.oBrowse.getAriaDescribedBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaDescribedBy(e)}}.bind(this));return e};F.prototype._generateAccDescriptionText=function(){var e=this.getTooltip_AsString(),t=this.getPlaceholder(),i=this.getValue(),s=o.isRequired(this),r="";if(s){r+=a.getResourceBundleFor("sap.ui.unified").getText("FILEUPLOAD_REQUIRED")+" "}if(e){r+=e+" "}if(i){r+=i+" "}else if(t){r+=t+" "}r+=this._sAccText;return r};F.prototype._convertTypesToArray=function(e){if(typeof e==="string"){if(e===""){return[]}else{return e.split(",").map(function(e){return e.trim()})}}return e};F.prototype.exit=function(){this.oFilePath.destroy();this.oBrowse.destroy();if(this.oIFrameRef){jQuery(this.oIFrameRef).off();n.getDomRef().removeChild(this.oIFrameRef);this.oIFrameRef=null}if(this.oFileUpload){this._clearInputField()}if(this.FUEl){this.FUEl=null}if(this.FUDataEl){this.FUDataEl=null}};F.prototype._clearInputField=function(){jQuery(this.oFileUpload).off();this.oFileUpload.parentElement.removeChild(this.oFileUpload);this.oFileUpload=null};F.prototype.onBeforeRendering=function(){var e=n.getDomRef();jQuery(this.oFileUpload).appendTo(e);if(!this.getName()){d.warning("Name property is not set. It would be used instead to identify the control on the server.",this)}jQuery(this.oFileUpload).off();if(this.getIconOnly()&&this.getButtonOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getTooltip_AsString()||this.getBrowseText())}else if(this.getIconOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getBrowseText())}else{this.oBrowse.setText(this.getButtonText()||this.getBrowseText());this.oBrowse.setTooltip("")}this.oFilePath.setPlaceholder(this.getPlaceholder())};F.prototype.onAfterRendering=function(){this.prepareFileUploadAndIFrame();this._cacheDOMEls();this._addLabelFeaturesToBrowse();jQuery(this.oFileUpload).on("change",this.handlechange.bind(this));if(!this.bMobileLib){this.oFilePath.$().attr("tabindex","-1")}else{this.oFilePath.$().find("input").attr("tabindex","-1")}setTimeout(this._recalculateWidth.bind(this),0);this.oFilePath.$().find("input").removeAttr("role").attr("aria-live","polite");if(this._submitAfterRendering){this._submitAndResetValue();this._submitAfterRendering=false}};F.prototype._cacheDOMEls=function(){this.FUEl=this.getDomRef("fu");this.FUDataEl=this.getDomRef("fu_data")};F.prototype.onfocusin=function(e){if(!this.oFilePath.shouldValueStateMessageBeOpened||this.oFilePath.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}};F.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!u(this.getDomRef(),s.getElementById(e.relatedControlId).getFocusDomRef())){this.closeValueStateMessage()}};F.prototype._recalculateWidth=function(){if(this.getWidth()){if(this.getButtonOnly()&&this.oBrowse.getDomRef()){this.oBrowse.getDomRef().style.width=this.getWidth()}this._resizeDomElements()}};F.prototype.getFocusDomRef=function(){return this.oBrowse.getDomRef()};F.prototype._resizeDomElements=function(){var e=this.getId();this._oBrowseDomRef=this.oBrowse.getDomRef();var t=jQuery(this._oBrowseDomRef);var i=t.parent().outerWidth(true);this._oFilePathDomRef=this.oFilePath.getDomRef();var s=this._oFilePathDomRef;var o=this.getWidth();if(o.substr(-1)=="%"&&s){while(s.id!=e){s.style.width="100%";s=s.parentNode}s.style.width=o}else{if(s){s.style.width=o;var r=jQuery(this._oFilePathDomRef);var a=r.outerWidth()-i;if(a<0){this.oFilePath.getDomRef().style.width="0px";if(this.oFileUpload){this.oFileUpload.style.width=t.outerWidth(true)}}else{this.oFilePath.getDomRef().style.width=a+"px"}}}};F.prototype.onresize=function(){this._recalculateWidth()};F.prototype.onThemeChanged=function(){this._recalculateWidth()};F.prototype.setEnabled=function(e){var t=jQuery(this.oFileUpload);this.setProperty("enabled",e,false);this.oFilePath.setEnabled(e);this.oBrowse.setEnabled(e);if(this.getEnabled()){t.removeAttr("disabled")}else{t.attr("disabled","disabled")}return this};F.prototype.setValueState=function(e){this.setProperty("valueState",e,false);if(this.oFilePath.setValueState){this.oFilePath.setValueState(e)}else{d.warning("Setting the valueState property with the combination of libraries used is not supported.",this)}var t=u(this.getDomRef(),document.activeElement);switch(e){case y.Error:case y.Warning:case y.Success:this.oBrowse.addAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.openValueStateMessage()}break;default:this.oBrowse.removeAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.closeValueStateMessage()}}return this};F.prototype.setValueStateText=function(e){if(this.oFilePath.setValueStateText){this.oFilePath.setValueStateText(e)}else{d.warning("Setting the valueStateText property with the combination of libraries used is not supported.",this)}return this.setProperty("valueStateText",e,false)};F.prototype.setStyle=function(e){this.setProperty("style",e,true);if(e){if(e=="Transparent"){if(this.oBrowse.setLite){this.oBrowse.setLite(true)}else{this.oBrowse.setType("Transparent")}}else{if(this.oBrowse.setType){this.oBrowse.setType(e)}else{if(e=="Emphasized"){e="Emph"}this.oBrowse.setStyle(e)}}}return this};F.prototype.setValue=function(e,t,i){var s=this.getValue();var o;if(s!=e||this.getSameFilenameAllowed()){var r=this.getUploadOnChange()&&e;this.setProperty("value",e,r);if(this.oFileUpload&&!this.getTooltip_AsString()){this.oFileUpload.setAttribute("title",e?e:this._getNoFileChosenText())}if(this.oFilePath){this.oFilePath.setValue(e);if(this.oBrowse.getDomRef()&&!i&&u(this.getDomRef(),document.activeElement)){this.oBrowse.focus()}}var a=this.getDomRef("fu_form"),l=this.getDomRef("fu_input-inner");if(this.oFileUpload&&a&&!e){a.reset();this.getDomRef("fu_input").value="";if(l){l.value=""}jQuery(this.FUDataEl).val(this.getAdditionalData())}if(t){if(window.File){o=this.FUEl.files}if(!this.getSameFilenameAllowed()||e&&s!=e){this.fireChange({id:this.getId(),newValue:e,files:o})}}if(r){this.upload()}}return this};F.prototype.clear=function(){var e=this.getDomRef("fu_form");if(e){e.reset()}else if(this.oFileUpload){this.oFileUpload.files=(new DataTransfer).files}return this.setValue("",false,true)};F.prototype.openFilePicker=function(){if(this.oFileUpload){this.oFileUpload.click()}return this};F.prototype.getInputReference=function(){return this.oFileUpload};F.prototype.onmousedown=function(e){if(!this.bMobileLib){this.oBrowse.onmousedown(e)}};F.prototype.onmouseup=function(e){if(!this.bMobileLib){this.oBrowse.onmouseup(e)}};F.prototype.onmouseover=function(e){if(!this.bMobileLib){jQuery(this.oBrowse.getDomRef()).addClass("sapUiBtnStdHover");this.oBrowse.onmouseover(e)}};F.prototype.onmouseout=function(e){if(!this.bMobileLib){jQuery(this.oBrowse.getDomRef()).removeClass("sapUiBtnStdHover");this.oBrowse.onmouseout(e)}};F.prototype.setAdditionalData=function(e){this.setProperty("additionalData",e,true);var t=this.FUDataEl;if(t){e=this.getAdditionalData()||"";t.value=e}return this};F.prototype.sendFiles=function(e,t){var i=this;var s=true;for(var o=0;o<e.length;o++){if(!e[o].bPosted){s=false;break}}if(s){if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){i.setValue("",true)}return}var r=e[t];var a=r.file.name?r.file.name:"MultipartFile";var l=r.requestHeaders;var n=function(e){var t={lengthComputable:!!e.lengthComputable,loaded:e.loaded,total:e.total};i.fireUploadProgress({lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total,fileName:a,requestHeaders:l})};r.xhr.upload.addEventListener("progress",n);r.xhr.onreadystatechange=function(){var e;var t;var s={};var o;var n;var p;var h;h=r.xhr.readyState;var u=r.xhr.status;if(r.xhr.readyState==4){if(r.xhr.responseXML){e=r.xhr.responseXML.documentElement.textContent}t=r.xhr.response;o=r.xhr.getAllResponseHeaders();if(o){n=o.split("\r\n");for(var f=0;f<n.length;f++){if(n[f]){p=n[f].indexOf(": ");s[n[f].substring(0,p)]=n[f].substring(p+2)}}}i.fireUploadComplete({fileName:a,headers:s,response:e,responseRaw:t,readyStateXHR:h,status:u,requestHeaders:l})}i._bUploading=false};if(r.xhr.readyState===0||r.bPosted){t++;i.sendFiles(e,t)}else{r.xhr.send(r.file);r.bPosted=true;t++;i.sendFiles(e,t)}};F.prototype.upload=function(e){var t,i;if(!this.getEnabled()){return}t=this.getDomRef("fu_form");try{this._bUploading=true;if(this.getSendXHR()&&window.File){var s=this.FUEl.files;if(e){this._sendProcessedFilesWithXHR(s)}else{this._sendFilesWithXHR(s)}}else if(t){i=t.getAttribute("action");if(i!==this.getUploadUrl()){this._submitAfterRendering=true}else{this._submitAndResetValue()}}}catch(e){d.error("File upload failed:\n"+e.message)}};F.prototype._submitAndResetValue=function(){var e=this.getDomRef("fu_form");e.submit();this.fireUploadStart();this._resetValueAfterUploadStart()};F.prototype.abort=function(e,t){if(!this.getUseMultipart()){var i=this._aXhr.length-1;for(var s=i;s>-1;s--){if(e&&t){for(var o=0;o<this._aXhr[s].requestHeaders.length;o++){var r=this._aXhr[s].requestHeaders[o].name;var a=this._aXhr[s].requestHeaders[o].value;if(r==e&&a==t){this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);d.info("File upload aborted.");break}}}else{this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);d.info("File upload aborted.")}}}else if(this._uploadXHR&&this._uploadXHR.abort){this._uploadXHR.abort();this.fireUploadAborted({fileName:null,requestHeaders:null});d.info("File upload aborted.")}};F.prototype.onclick=function(e){var t=e.target.getAttribute("type")==="file";if(t&&this.getSameFilenameAllowed()&&this.getEnabled()){this.setValue("",true)}if(this.oBrowse.getDomRef()&&(p.browser.safari||u(this.getDomRef(),document.activeElement))){this.oBrowse.focus()}if(e.target.getAttribute("type")==="file"){this.fireBeforeDialogOpen();document.body.onfocus=function(){this.fireAfterDialogClose();document.body.onfocus=null}.bind(this)}};F.prototype.onkeydown=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode;if(t===f.ENTER){if(this.oFileUpload){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}}this.oBrowse._bPressedSpace=false};F.prototype.onkeyup=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode,i=f;if(t===i.DELETE||t===i.BACKSPACE){if(this.oFileUpload){this.setValue("",true)}}else if(t===i.SPACE){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}else if(t!==i.TAB&&t!==i.SHIFT&&t!==i.F6&&t!==i.PAGE_UP&&t!==i.PAGE_DOWN&&t!==i.ESCAPE&&t!==i.END&&t!==i.HOME&&t!==i.ARROW_LEFT&&t!==i.ARROW_UP&&t!==i.ARROW_RIGHT&&t!==i.ARROW_DOWN){e.preventDefault();e.stopPropagation()}this.oBrowse._bPressedSpace=false};F.prototype._isFilenameTooLong=function(e){var t=this.getMaximumFilenameLength();if(t!==0&&e.length>t){d.info("The filename of "+e+" ("+e.length+" characters)  is longer than the maximum of "+t+" characters.");return true}return false};F.prototype.handlechange=function(e){if(this.oFileUpload&&this.getEnabled()){var t=this.getFileType();var i="";var s,o,r,a;var l=this.getDomRef("fu_form");if(window.File){var n=e.target.files;if(this._areFilesAllowed(n)){this.fireFileAllowed();i=this._generateInputValue(n)}else{l.reset();this.setValue("",true,true);return}}else if(t&&t.length>0){s=true;o=this.oFileUpload.value||"";r=o.lastIndexOf(".");a=r===-1?"":o.substring(r+1);for(var h=0;h<t.length;h++){if(a==t[h]){s=false}}if(s){d.info("File: "+o+" is of type "+a+". Allowed types are: "+t+".");this.fireTypeMissmatch({fileName:o,fileType:a});l.reset();this.setValue("",true,true);return}if(this._isFilenameTooLong(o)){this.fireFilenameLengthExceed({fileName:o});l.reset();this.setValue("",true,true);return}if(o){this.fireFileAllowed()}}var u=this.oFileUpload.value||"";var f=u.lastIndexOf("\\");if(f>=0){u=u.substring(f+1)}if(this.getMultiple()||this.getDirectory()){u=i}if(u||p.browser.chrome){this.setValue(u,true)}}};F.prototype._sendFilesWithXHR=function(e){var t,i,s,o,r=this.getXhrSettings();if(e.length>0){if(this.getUseMultipart()){t=1}else{t=e.length}this._aXhr=this._aXhr||[];for(var a=0;a<t;a++){this._uploadXHR=new window.XMLHttpRequest;o={xhr:this._uploadXHR,requestHeaders:[]};this._aXhr.push(o);o.xhr.open(this.getHttpRequestMethod(),this.getUploadUrl(),true);if(r){o.xhr.withCredentials=r.getWithCredentials()}if(this.getHeaderParameters()){var l=this.getHeaderParameters();for(var n=0;n<l.length;n++){i=l[n].getName();s=l[n].getValue();o.requestHeaders.push({name:i,value:s})}}var p=e[a].name;var h=o.requestHeaders;o.fileName=p;o.file=e[a];this.fireUploadStart({fileName:p,requestHeaders:h});for(var u=0;u<h.length;u++){if(o.xhr.readyState===0){break}i=h[u].name;s=h[u].value;o.xhr.setRequestHeader(i,s)}}if(this.getUseMultipart()){var f=new window.FormData;var d=this.FUEl.name;for(var g=0;g<e.length;g++){this._appendFileToFormData(f,d,e[g])}f.append("_charset_","UTF-8");var c=this.FUDataEl.name;if(this.getAdditionalData()){var y=this.getAdditionalData();f.append(c,y)}else{f.append(c,"")}if(this.getParameters()){var m=this.getParameters();for(var F=0;F<m.length;F++){var b=m[F].getName();s=m[F].getValue();f.append(b,s)}}o.file=f;this.sendFiles(this._aXhr,0)}else{this.sendFiles(this._aXhr,0)}this._bUploading=false;this._resetValueAfterUploadStart()}return this};F.prototype._appendFileToFormData=function(e,t,i){if(i instanceof window.Blob&&i.name){e.append(t,i,i.name)}else{e.append(t,i)}};F.prototype._sendProcessedFilesWithXHR=function(e){this.getProcessedBlobsFromArray(e).then(function(e){this._sendFilesWithXHR(e)}.bind(this)).catch(function(e){d.error("File upload failed: "+e&&e.message?e.message:"no details available")});return this};F.prototype._areFilesAllowed=function(e){var t,i,s,o,r,a=this.getMaximumFileSize(),l=this.getMimeType(),n=this.getFileType();for(var p=0;p<e.length;p++){t=e[p].name;r=e[p].type||"unknown";var h=e[p].size/1024/1024;if(a&&h>a){d.info("File: "+t+" is of size "+h+" MB which exceeds the file size limit of "+a+" MB.");this.fireFileSizeExceed({fileName:t,fileSize:h});return false}if(h===0){d.info("File: "+t+" is empty!");this.fireFileEmpty({fileName:t})}if(this._isFilenameTooLong(t)){this.fireFilenameLengthExceed({fileName:t});return false}if(l&&l.length>0){var u=true;for(var f=0;f<l.length;f++){if(r==l[f]||l[f]=="*/*"||r.match(l[f])){u=false}}if(u&&r!=="unknown"){d.info("File: "+t+" is of type "+r+". Allowed types are: "+l+".");this.fireTypeMissmatch({fileName:t,mimeType:r});return false}}if(n&&n.length>0){i=true;s=t.lastIndexOf(".");o=s===-1?"":t.substring(s+1);for(var g=0;g<n.length;g++){if(o.toLowerCase()==n[g].toLowerCase()){i=false}}if(i){d.info("File: "+t+" is of type "+o+". Allowed types are: "+n+".");this.fireTypeMissmatch({fileName:t,fileType:o});return false}}}return true};F.prototype._sendFilesFromDragAndDrop=function(e){if(this._areFilesAllowed(e)){this._sendFilesWithXHR(e)}return this};F.prototype._generateInputValue=function(e){var t="";for(var i=0;i<e.length;i++){t=t+'"'+e[i].name+'" '}return t};F.prototype.getBrowseText=function(){if(!F.prototype._sBrowseText){var e=a.getResourceBundleFor("sap.ui.unified");F.prototype._sBrowseText=e.getText("FILEUPLOAD_BROWSE")}return F.prototype._sBrowseText?F.prototype._sBrowseText:"Browse..."};F.prototype._getNoFileChosenText=function(){if(!F.prototype._sNoFileChosenText){var e=a.getResourceBundleFor("sap.ui.unified");F.prototype._sNoFileChosenText=e.getText("FILEUPLOAD_NO_FILE_CHOSEN")}return F.prototype._sNoFileChosenText?F.prototype._sNoFileChosenText:"No file chosen"};F.prototype.getShortenValue=function(){return this.getValue()};F.prototype.prepareFileUploadAndIFrame=function(){this._prepareFileUpload();if(!this.oIFrameRef){var e=document.createElement("iframe");e.style.display="none";e.id=this.getId()+"-frame";n.getDomRef().appendChild(e);e.contentWindow.name=this.getId()+"-frame";this._bUploading=false;jQuery(e).on("load",function(e){if(this._bUploading){d.info("File uploaded to "+this.getUploadUrl());var t;try{t=this.oIFrameRef.contentWindow.document.body.innerHTML}catch(e){}this.fireUploadComplete({response:t});this._bUploading=false}}.bind(this));this.oIFrameRef=e}};F.prototype._prepareFileUpload=function(){if(!this.oFileUpload){var e=[];e.push("<input ");e.push('type="file" ');e.push('aria-hidden="true" ');if(this.getName()){if(this.getMultiple()||this.getDirectory()){e.push('name="'+g(this.getName())+'[]" ')}else{e.push('name="'+g(this.getName())+'" ')}}else{if(this.getMultiple()||this.getDirectory()){e.push('name="'+this.getId()+'[]" ')}else{e.push('name="'+this.getId()+'" ')}}e.push('id="'+this.getId()+'-fu" ');e.push('tabindex="-1" ');e.push('size="1" ');if(this.getTooltip_AsString()){e.push('title="'+g(this.getTooltip_AsString())+'" ')}else{e.push('title="'+g(this.getValue()?this.getValue():this._getNoFileChosenText())+'" ')}if(!this.getEnabled()){e.push('disabled="disabled" ')}if(this.getDirectory()){e.push("webkitdirectory ")}if(this.getMultiple()){e.push("multiple ")}if((this.getMimeType()||this.getFileType())&&window.File){var t=this._getAcceptedTypes();e.push('accept="'+g(t)+'" ')}e.push(">");this.oFileUpload=jQuery(e.join("")).prependTo(this.$().find(".sapUiFupInputMask")).get(0)}else{jQuery(this.oFileUpload).prependTo(this.$().find(".sapUiFupInputMask"))}};F.prototype.openValueStateMessage=function(){if(this.oFilePath.openValueStateMessage){this.oFilePath.openValueStateMessage()}};F.prototype.closeValueStateMessage=function(){if(this.oFilePath.closeValueStateMessage){this.oFilePath.closeValueStateMessage()}};F.prototype._getAcceptedTypes=function(){var e=this.getMimeType()||[],t=this.getFileType()||[];t=t.map(function(e){return e.indexOf(".")===0?e:"."+e});return t.concat(e).join(",")};F.prototype._resetValueAfterUploadStart=function(){d.info("File uploading to "+this.getUploadUrl());if(this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.getUseMultipart()){this.setValue("",true)}};F.prototype._addLabelFeaturesToBrowse=function(){let e;const t=e=>{e.preventDefault();e.stopPropagation();this.FUEl.click()};if(this.oBrowse&&this.oBrowse.$().length){e=this.oBrowse.$();if(this.oBrowse.getAriaLabelledBy()){o.getReferencingLabels(this).forEach(function(e){const i=s.getElementById(e).$();i.off("click").on("click",t)},this)}e.off("click").on("click",t);e.off("dragover").on("dragover",e=>{e.preventDefault();e.stopPropagation()});e.off("dragenter").on("dragenter",e=>{e.preventDefault();e.stopPropagation()});e.off("drop").on("drop",e=>{e.preventDefault();e.stopPropagation();var t=e.originalEvent.dataTransfer.files;if(!this.getMultiple()&&t.length>1||this.getDirectory()){return}this.oFileUpload.files=t;var i={target:{files:t}};this.handlechange(i)})}};F.prototype.getProcessedBlobsFromArray=function(e){return new Promise(function(t){t(e)})};F.prototype.checkFileReadable=function(){return new Promise(function(e,t){var i;if(window.File&&this.FUEl&&this.FUEl.files.length){var i=new FileReader;i.readAsArrayBuffer(this.FUEl.files[0].slice(0,1));i.onload=function(){e()};i.onerror=function(){t(i.error)}}else{e()}}.bind(this))};return F});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHelper", ["sap/ui/core/Lib"],function(t){"use strict";var e={createTextField:function(t){var e=new sap.m.Input(t);return e},setTextFieldContent:function(t,e){t.setWidth(e)},createButton:function(t){var e=new sap.m.Button(t);return e},addFormClass:function(){return"sapUiFUM"}};var n={createTextField:function(t){var e=new sap.ui.commons.TextField(t);return e},setTextFieldContent:function(t,e){t.setWidth(e)},createButton:function(t){var e=new sap.ui.commons.Button(t);return e},addFormClass:function(){return"sapUiCFUM"}};var r={createTextField:function(t){throw new Error("no TextField control available!")},createTextFieldContent:function(t,e){throw new Error("no TextField control available!")},createButton:function(t){throw new Error("no Button control available!")},addFormClass:function(){return null}};var o={getHelper:function(){if(t.isLoaded("sap.m")){return e}else if(t.isLoaded("sap.ui.unified")){return n}return r}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHttpRequestMethod", ["sap/ui/base/DataType"],function(e){"use strict";var t={Post:"POST",Put:"PUT"};e.registerEnum("sap.ui.unified.FileUploaderHttpRequestMethod",t);return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderParameter", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=e.extend("sap.ui.unified.FileUploaderParameter",{metadata:{library:"sap.ui.unified",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderRenderer", ["sap/ui/unified/library","sap/ui/thirdparty/jquery","sap/ui/unified/FileUploaderHelper"],function(t,jQuery,e){"use strict";var a={};a.apiVersion=2;a.render=function(t,a){var r=a.getEnabled();var n=e.getHelper();t.openStart("div",a);t.class("sapUiFup");if(a.getButtonOnly()){t.class("sapUiFupButtonOnly")}var i=n.addFormClass();if(i){t.class(i)}if(!r){t.class("sapUiFupDisabled")}t.openEnd();t.openStart("form",a.getId()+"-fu_form");t.style("display","inline-block");t.attr("enctype","multipart/form-data");t.attr("method",a.getHttpRequestMethod().toLowerCase());t.attr("action",a.getUploadUrl());t.attr("target",a.getId()+"-frame");t.openEnd();t.openStart("div");if(!a.bMobileLib){t.class("sapUiFupInp")}t.openEnd();t.openStart("div");t.class("sapUiFupGroup");t.style("border","0");t.style("cellPadding","0");t.style("cellSpacing","0");t.openEnd();t.openStart("div");t.openEnd();t.openStart("div");if(a.getButtonOnly()){t.style("display","none")}t.openEnd();t.renderControl(a.oFilePath);t.close("div");t.openStart("div");t.openEnd();a._ensureBackwardsReference();t.renderControl(a.oBrowse);t.openStart("span",a.getId()+"-AccDescr");t.class("sapUiInvisibleText");t.attr("aria-hidden","true");t.openEnd();t.text(a._generateAccDescriptionText());t.close("span");t.close("div");t.close("div");t.close("div");var d=a.getName()||a.getId();t.openStart("div");t.class("sapUiFupInputMask");t.openEnd();t.voidStart("input");t.attr("type","hidden");t.attr("name","_charset_");t.attr("aria-hidden","true");t.voidEnd();t.voidStart("input",a.getId()+"-fu_data");t.attr("type","hidden");t.attr("aria-hidden","true");t.attr("name",d+"-data");t.attr("value",a.getAdditionalData()||"");t.voidEnd();jQuery.each(a.getParameters(),function(e,a){t.voidStart("input");t.attr("type","hidden");t.attr("aria-hidden","true");t.attr("name",a.getName()||"");t.attr("value",a.getValue()||"");t.voidEnd()});t.close("div");t.close("div");t.close("form");t.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Menu", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Popup","./MenuItemBase","./MenuItem","./library","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/RenderManager","sap/ui/unified/MenuRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/ControlEvents","sap/ui/events/PseudoEvents","sap/ui/events/checkMouseEnterOrLeave"],function(e,t,i,o,n,s,r,u,a,p,h,f,l,jQuery,d,c,g,m,y){"use strict";var v=n.Dock;var b=p.OpenState;var I=p.ItemSelectionMode;var _=i.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null,deprecated:true},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.IMenuItem",multiple:true,singularName:"item",defaultClass:r}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}},closed:{},beforeClose:{allowPreventDefault:true}}},renderer:f});(function(r){_.prototype.bCozySupported=true;_._DELAY_SUBMENU_TIMER=300;_._DELAY_SUBMENU_TIMER_EXT=400;_.prototype.init=function(){var e=this;this.bOpen=false;this.oOpenedSubMenu=null;this.oHoveredItem=null;this.oPopup=null;this._bOpenedAsContextMenu=false;this.fAnyEventHandlerProxy=jQuery.proxy(function(e){var t=this.getRootMenu();if(t!=this||!this.isOpen()||!this.getDomRef()||e.type!="mousedown"&&e.type!="touchstart"){return}t.handleOuterEvent(this.getId(),e)},this);this.fOrientationChangeHandler=function(){e.close()};this.bUseTopStyle=false};_.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnCustomEnhanceAccStateFunction=e};_.prototype.enhanceAccessibilityState=function(e,t){var i=typeof this._fnCustomEnhanceAccStateFunction==="function";if(i){this._fnCustomEnhanceAccStateFunction(e,t)}};_.prototype.exit=function(){if(this.oPopup){this.oPopup.detachClosed(this._menuClosed,this);this.oPopup.destroy();delete this.oPopup}g.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(r).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this._resetDelayedRerenderItems();this._detachResizeHandler()};_.prototype.invalidate=function(e){if(e instanceof s&&this.getDomRef()){this._delayedRerenderItems()}else if(this.oPopup&&this.oPopup.isOpen()){i.prototype.invalidate.apply(this,arguments)}};_.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems();this.$().off("mousemove")};_.prototype.onAfterRendering=function(){if(this.$().parent().attr("id")!="sap-ui-static"){c.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page.");this.close();this.$().remove()}var e=this._getItems();for(var t=0;t<e.length;t++){if(e[t].onAfterRendering&&e[t].getDomRef()){e[t].onAfterRendering()}}if(this.oHoveredItem){this.oHoveredItem.hover(true,this)}S(this);this.$().on("mousemove",this._focusMenuItem.bind(this))};_.prototype._focusMenuItem=function(e){if(!o.system.desktop){return}var t=this.getItemByDomRef(e.target);if(!this.isOpen()||!t){return}if(this.oOpenedSubMenu&&l(this.oOpenedSubMenu.getDomRef(),e.target)){return}this.setHoveredItem(t);var i=t&&t.getDomRef()!==document.activeElement;if(i){t.focus(this)}this._openSubMenuDelayed(t)};_.prototype.onThemeChanged=function(){if(this.getDomRef()&&this.getPopup().getOpenState()===b.OPEN){S(this);this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}};_.prototype.addItem=function(e){this.addAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.insertItem=function(e,t){this.insertAggregation("items",e,t,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.removeItem=function(e){this.removeAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.removeAllItems=function(){var e=this.removeAllAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return e};_.prototype.destroyItems=function(){this.destroyAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype._delayedRerenderItems=function(){if(!this.getDomRef()){return}this._resetDelayedRerenderItems();this._discardOpenSubMenuDelayed();this._itemRerenderTimer=setTimeout(function(){var e=this.getDomRef();if(e){var t=(new h).getInterface();f.renderItems(t,this);t.flush(e);t.destroy();this.onAfterRendering();this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}}.bind(this),0)};_.prototype._resetDelayedRerenderItems=function(){if(this._itemRerenderTimer){clearTimeout(this._itemRerenderTimer);delete this._itemRerenderTimer}};_.prototype._detachResizeHandler=function(){if(this._hasResizeListener){o.resize.detachHandler(this._handleResizeChange,this);this._hasResizeListener=false}};_.prototype.open=function(e,t,i,n,s,u,a){var h;this._bLeavingMenu=false;if(this.isOpen()){return}p(this,true);this.oOpenerRef=t;this.bIgnoreOpenerDOMRef=false;this.getPopup().open(0,i,n,s,u||"0 0",a||"flipfit flipfit",function(e){var t=this.getPopup()._getOfDom(s);if(!t||!jQuery(t).is(":visible")||!M(t)){this.close()}else{this.getPopup()._applyPosition(e.lastPosition)}}.bind(this));this.bOpen=this.getPopup().isOpen();o.resize.attachHandler(this._handleResizeChange,this);this._hasResizeListener=true;if(e||this.getRootMenu().getId()===this.getId()){h=this.getNextSelectableItem(-1);this.setHoveredItem(h);h&&h.focus(this)}g.bindAnyEvent(this.fAnyEventHandlerProxy);if(o.support.orientation&&this.getRootMenu()===this){jQuery(r).on("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=true}};_.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition)};_.prototype.openAsContextMenu=function(i,o){var n,s,r,u,a;o=o instanceof t?o.getDomRef():o;if(i instanceof jQuery.Event){a=jQuery(o).offset();n=i.pageX-a.left;s=i.pageY-a.top;this._iX=i.clientX;this._iY=i.clientY}else{n=i.offsetX||0;s=i.offsetY||0;this._iX=i.left||0;this._iY=i.top||0}r=e.getRTL();u=v;if(r){n=o.clientWidth-n}this._bOpenedAsContextMenu=true;this.open(true,o,u.BeginTop,u.BeginTop,o,n+" "+s,"fit")};_.prototype._handleOpened=function(){var t,i,o,n,s,u,a,p,h,f;if(!this._bOpenedAsContextMenu){return}t=this.$();i=jQuery(r);o=this._iX;n=this._iY;s=i.scrollLeft()+i.width();u=i.scrollTop()+i.height();a=e.getRTL();p=false;h=t.width();f=t.height();if(n+f>u){n=n-f;p=true}if(a){if(s-o+h>s){o=s-(o+h);p=true}else{o=s-o;p=true}}else{if(o+h>s){o=o-h;p=true}}this._bOpenedAsContextMenu=false;p&&this.oPopup.setPosition("begin top","begin top",i,o+" "+n,"flipfit")};_.prototype.close=function(e){if(!this.isOpen()||_._dbg){return}this._discardOpenSubMenuDelayed();p(this,false);delete this._bFixed;g.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(r).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this.closeSubmenu();this.setHoveredItem();if(!e){this.bIgnoreOpenerDOMRef=true}this.getPopup().close(0);this.bOpen=this.getPopup().isOpen();this._detachResizeHandler();this._resetDelayedRerenderItems();this.$().remove();this.bOutput=false;if(this.isSubMenu()){this.getParent().getParent().oOpenedSubMenu=null}};_.prototype.isOpen=function(){return this.getPopup().isOpen()};_.prototype._menuClosed=function(){this.fireClosed();if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef){try{this.oOpenerRef.focus()}catch(e){c.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e)}}this.oOpenerRef=undefined}};_.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),false,!!(e.metaKey||e.ctrlKey));e.preventDefault();e.stopPropagation()};_.prototype.onsapnext=function(e){var t,i,o=this.oHoveredItem?this.oHoveredItem.getSubmenu():undefined;if(e.keyCode!==d.ARROW_DOWN&&!e.metaKey&&!e.altKey){if(o){if(o.isOpen()){i=o.getNextSelectableItem(-1);o.setHoveredItem(i);i&&i.focus(this)}else{this.openSubmenu(this.oHoveredItem,true)}}return}if(o&&o.isOpen()){this.closeSubmenu(false,true)}t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1;i=this.getNextSelectableItem(t);this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};_.prototype.onsapnextmodifiers=_.prototype.onsapnext;_.prototype.onsapprevious=function(e){var t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1,i=this.getPreviousSelectableItem(t),o=this.oHoveredItem?this.oHoveredItem.getSubmenu():null;if(e.keyCode!==d.ARROW_UP&&!e.metaKey&&!e.altKey){if(this.isSubMenu()){this.close(true)}e.preventDefault();e.stopPropagation();return}if(o&&o.isOpen()){this.closeSubmenu(false,true)}this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};_.prototype.onsappreviousmodifiers=_.prototype.onsapprevious;_.prototype.onsaphome=function(e){var t=this.getNextSelectableItem(-1);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsapend=function(e){var t=this.getPreviousSelectableItem(this._getItems().length);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsappagedown=function(e){var t=this._getItems(),i=this.oHoveredItem?t.indexOf(this.oHoveredItem):-1,o;if(this.getPageSize()<1){this.onsapend(e);return}i+=this.getPageSize();if(i>=t.length){this.onsapend(e);return}o=this.getNextSelectableItem(i-1);this.setHoveredItem(o);o&&o.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsappageup=function(e){var t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsaphome(e);return}t-=this.getPageSize();if(t<0){this.onsaphome(e);return}i=this.getPreviousSelectableItem(t+1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation()};_.prototype.onkeyup=function(e){if(e.keyCode===d.ARROW_LEFT||e.keyCode===d.ARROW_RIGHT){return}if(this.oHoveredItem&&jQuery(e.target).prop("tagName")!="INPUT"){var t=this.oHoveredItem.getDomRef();jQuery(t).trigger("focus")}if(!this._sapSelectOnKeyDown){return}else{this._sapSelectOnKeyDown=false}if(!m.events.sapselect.fnCheck(e)&&e.keyCode!==d.ENTER){return}this.selectItem(this.oHoveredItem,true,false);e.preventDefault();e.stopPropagation()};_.prototype.onsapbackspace=function(e){if(jQuery(e.target).prop("tagName")!="INPUT"){e.preventDefault()}};_.prototype.onsapbackspacemodifiers=_.prototype.onsapbackspace;_.prototype.onsapescape=function(e){this._bLeavingMenu=true;this.close(true);e.preventDefault();e.stopPropagation()};_.prototype.onsaptabnext=function(e){if(this.isSubMenu()){e.preventDefault()}this._bLeavingMenu=true;this.close(true);e.stopPropagation()};_.prototype.onsaptabprevious=_.prototype.onsaptabnext;_.prototype._openSubMenuDelayed=function(e){if(!e){return}var t=e.getSubmenu(),i=t&&t._getItems().length;this._discardOpenSubMenuDelayed();this._delayedSubMenuTimer=setTimeout(function(){if(i){this.setHoveredItem(e);e&&e.focus(this);this.openSubmenu(e,false,true)}}.bind(this),i?_._DELAY_SUBMENU_TIMER:_._DELAY_SUBMENU_TIMER_EXT)};_.prototype._discardOpenSubMenuDelayed=function(e){if(this._delayedSubMenuTimer){clearTimeout(this._delayedSubMenuTimer);this._delayedSubMenuTimer=null}};_.prototype.onmouseout=function(e){if(!o.system.desktop){return}if(y(e,this.getDomRef())){this.setHoveredItem(null);if(!this.oOpenedSubMenu||!(this.oOpenedSubMenu.getParent()===this.oHoveredItem)){this.setHoveredItem(this.oHoveredItem)}this._discardOpenSubMenuDelayed()}};_.prototype.onsapfocusleave=function(e){if(this.oOpenedSubMenu||!this.isOpen()){return}if(o.os.name=="mac"&&o.browser.firefox&&this.isOpen()){var t=e.relatedControlId,i=t?a.byId(t):null,n=i&&i instanceof s;if(i&&!n){this._getItems()[0].focus();return}}this.getRootMenu().handleOuterEvent(this.getId(),e)};_.prototype.handleOuterEvent=function(e,t){var i=false,n=o.support.touch||o.system.combi;this.bIgnoreOpenerDOMRef=false;if(t.type=="mousedown"||t.type=="touchstart"){if(n&&(t.isMarked("delayedMouseEvent")||t.isMarked("cancelAutoClose"))){return}var s=this;while(s&&!i){if(l(s.getDomRef(),t.target)){i=true}s=s.oOpenedSubMenu}}else if(t.type=="sapfocusleave"){if(n){return}if(t.relatedControlId){var s=this;while(s&&!i){if(s.oOpenedSubMenu&&s.oOpenedSubMenu.getId()==t.relatedControlId||l(s.getDomRef(),jQuery(document.getElementById(t.relatedControlId)).get(0))){i=true}s=s.oOpenedSubMenu}}if(!i){this.bIgnoreOpenerDOMRef=true}}if(!i&&this.fireBeforeClose()){this.close()}};_.prototype.getItemByDomRef=function(e){var t=this._getItems(),i=t.length;for(var o=0;o<i;o++){var n=t[o],s=n.getDomRef();if(l(s,e)){return n}}return null};_.prototype.selectItem=function(e,t,i){if(!e||!(e instanceof s&&this.checkEnabled(e))){return}var n=e.getSubmenu();if(!n||!n._getItems().length){if(this.fireBeforeClose()){this.getRootMenu().close(true)}if(e._getItemSelectionMode&&e._getItemSelectionMode()!==I.None){e.setSelected(!e.getSelected())}}else{if(!o.system.desktop&&this.oOpenedSubMenu===n){this.closeSubmenu()}else{this.openSubmenu(e,t)}}e.fireSelect({item:e,ctrlKey:i});this.getRootMenu().fireItemSelect({item:e})};_.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof _};_.prototype.getRootMenu=function(){var e=this;while(e.isSubMenu()){e=e.getParent().getParent()}return e};_.prototype.getMenuLevel=function(){var e=1;var t=this;while(t.isSubMenu()){t=t.getParent().getParent();e++}return e};_.prototype.getPopup=function(){if(!this.oPopup){this.oPopup=new n(this,false,true,false);this.oPopup.setDurations(0,0);this.oPopup.attachClosed(this._menuClosed,this);this.oPopup.attachOpened(this._handleOpened,this)}return this.oPopup};_.prototype.setHoveredItem=function(e){if(this.oHoveredItem){this.oHoveredItem.hover(false,this)}if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e;e.hover(true,this);this.scrollToItem(this.oHoveredItem)};_.prototype.openSubmenu=function(e,t,i){var o=e.getSubmenu();if(!o){return}if(!this.checkEnabled(e)){return}if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==o){this.closeSubmenu()}if(this.oOpenedSubMenu){this.oOpenedSubMenu._bFixed=i&&this.oOpenedSubMenu._bFixed||!i&&!this.oOpenedSubMenu._bFixed;this.oOpenedSubMenu._bringToFront()}else if(o._getItems().length){this.oOpenedSubMenu=o;var s=n.Dock;o.open(t,e,s.BeginTop,s.EndTop,e,"-4 4")}};_.prototype.closeSubmenu=function(e,t){if(this.oOpenedSubMenu){if(e&&this.oOpenedSubMenu._bFixed){return}if(t){this.oOpenedSubMenu.bIgnoreOpenerDOMRef=true}this.oOpenedSubMenu.close();this.oOpenedSubMenu=null}};_.prototype.scrollToItem=function(e){var t=this.getDomRef(),i=e?e.getDomRef():null;if(!i||!t){return}var o=t.scrollTop,n=i.offsetTop,s=jQuery(t).height(),r=jQuery(i).height();if(o>n){t.scrollTop=n}else if(n+r>o+s){t.scrollTop=Math.ceil(n+r-s)}};_.prototype._bringToFront=function(){jQuery(document.getElementById(this.getPopup().getId())).mousedown()};_.prototype.checkEnabled=function(e){return e&&e.getEnabled()&&this.getEnabled()};_.prototype.getNextSelectableItem=function(e){var t=this._getItems();var i=t[e];for(var o=e+1;o<t.length;o++){if(t[o].getVisible()){return t[o]}}return i&&i.getVisible()?i:null};_.prototype.getPreviousSelectableItem=function(e){var t=this._getItems();var i=t[e];for(var o=e-1;o>=0;o--){if(t[o].getVisible()){return t[o]}}return i&&i.getVisible()?i:null};_.prototype.setRootMenuTopStyle=function(e){this.getRootMenu().bUseTopStyle=e;_.rerenderMenu(this.getRootMenu())};_.rerenderMenu=function(e){var t=e._getItems();for(var i=0;i<t.length;i++){var o=t[i].getSubmenu();if(o){_.rerenderMenu(o)}}e.invalidate()};_.prototype.focus=function(){if(this.isOpen()){i.prototype.focus.apply(this,arguments)}};_.prototype.isCozy=function(){if(!this.bCozySupported){return false}if(this.hasStyleClass("sapUiSizeCozy")){return true}if(u(this.oOpenerRef)){return true}if(u(this.getParent())){return true}return false};_.prototype.getSelectedItems=function(){return this._getItems().filter(e=>e.getSelected&&e.getSelected()&&e._getItemSelectionMode()!==I.None)};_.prototype._getItems=function(){var e=this.getItems(),t=[],i,o;for(o=0;o<e.length;o++){if(e[o].getItems){i=e[o].getItems();for(var n=0;n<i.length;n++){t.push(i[n])}}else{t.push(e[o])}}return t};function u(e){if(!e||!e.getDomRef){return false}return!!e.getDomRef()?.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy")?.classList.contains("sapUiSizeCozy")}function p(e,t){var i=e.getParent();if(i&&i instanceof s){i.onSubmenuToggle(t)}}function S(e){var t=e.getMaxVisibleItems(),i=document.documentElement.clientHeight-10,o=e.$();if(t>0){var n=e._getItems();for(var s=0;s<n.length;s++){if(n[s].getDomRef()){i=Math.min(i,n[s].$().outerHeight(true)*t);break}}}if(o.outerHeight(true)>i){o.css("max-height",i+"px").toggleClass("sapUiMnuScroll",true)}else{o.css("max-height","").toggleClass("sapUiMnuScroll",false)}}function M(e){var t;if(!e){return false}if(e instanceof jQuery){e=e.get(0)}t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(r.innerHeight||document.documentElement.clientHeight)&&t.right<=(r.innerWidth||document.documentElement.clientWidth)}})(window);return _});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItem", ["sap/ui/core/Element","sap/ui/core/IconPool","sap/ui/events/KeyCodes","./MenuItemBase","./library","sap/ui/core/library"],function(e,t,o,n,i,s){"use strict";var a=s.ItemSelectionMode;var r=n.extend("sap.ui.unified.MenuItem",{metadata:{interfaces:["sap.ui.unified.IMenuItem"],library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},selected:{type:"boolean",group:"Behavior",defaultValue:false},shortcutText:{type:"string",group:"Appearance",defaultValue:""}},aggregations:{endContent:{type:"sap.ui.core.Control",multiple:true,singularName:"endContent"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},_group:{type:"sap.ui.unified.MenuItemGroup",group:"Behavior",visibility:"hidden"}}}});t.insertFontFaceStyle();r.prototype.render=function(e,t,o,n){var i=e,r=t.getSubmenu(),l=t.getEnabled(),p=t.getSelected()&&t._getItemSelectionMode()!==a.None,u=t.getEndContent(),c=t.getShortcutText(),d,g;i.openStart("li",t);if(!r&&c){i.attr("aria-keyshortcuts",c)}if(t.getVisible()){i.attr("tabindex","0")}i.class("sapUiMnuItm");if(n.iItemNo==1){i.class("sapUiMnuItmFirst")}else if(n.iItemNo==n.iTotalItems){i.class("sapUiMnuItmLast")}if(!o.checkEnabled(t)){i.class("sapUiMnuItmDsbl")}if(t.getStartsSection()){i.class("sapUiMnuItmSepBefore")}if(t.getTooltip_AsString()){i.attr("title",t.getTooltip_AsString())}if(n.bAccessible){switch(t._getItemSelectionMode()){case a.SingleSelect:d="menuitemradio";break;case a.MultiSelect:d="menuitemcheckbox";break;default:d="menuitem"}i.accessibilityState(t,{role:d,disabled:!l,posinset:n.iItemNo,setsize:n.iTotalItems,selected:null,checked:p?true:undefined,labelledby:{value:this.getId()+"-txt",append:true}});if(r){i.attr("aria-haspopup",s.aria.HasPopup.Menu.toLowerCase());i.attr("aria-owns",r.getId())}}i.openEnd();i.openStart("div");i.class("sapUiMnuItmIco");i.openEnd();if(t.getIcon()){g=t._getIcon();i.renderControl(g)}i.close("div");i.openStart("div",this.getId()+"-txt");i.class("sapUiMnuItmTxt");i.openEnd();i.text(t.getText());i.close("div");i.openStart("div",this.getId()+"-scuttxt");i.class("sapUiMnuItmSCut");i.openEnd();if(!r&&c){i.text(c)}i.close("div");if(r){i.openStart("div");i.class("sapUiMnuItmSbMnu");i.openEnd();i.openStart("div");i.class("sapUiIconMirrorInRTL");i.openEnd();i.close("div");i.close("div")}else if(p||u.length){if(u.length){i.openStart("div",this.getId()+"-endContent");i.class("sapUiMnuEndContent");i.openEnd();u.forEach(e=>i.renderControl(e));i.close("div")}if(p){i.openStart("div",this.getId()+"-sel");i.class("sapUiMnuItmSel");i.openEnd();i.close("div")}}i.close("li")};r.prototype.hover=function(e,t){this.$().toggleClass("sapUiMnuItmHov",e)};r.prototype.focus=function(e){if(this.getVisible()){this.$().trigger("focus")}else{e.focus()}};r.prototype._handleContentNavigation=function(e){const t=e.keyCode===o.ARROW_LEFT||e.keyCode===o.ARROW_RIGHT;if(!this.getEndContent().length||!t){this.oHoveredItem=null;return}const n=this.oHoveredItem?this.getEndContent().indexOf(this.oHoveredItem):-1;let i;if(e.keyCode===o.ARROW_LEFT){i=this.getPreviousSelectableItem(n)}else{i=this.getNextSelectableItem(n)}this.setHoveredItem(i);i&&i.focus();e.preventDefault();e.stopPropagation()};r.prototype.onsapnext=r.prototype._handleContentNavigation;r.prototype.onsapprevious=r.prototype._handleContentNavigation;r.prototype.getNextSelectableItem=function(e){const t=this.getEndContent();const o=e+1>=t.length?t.length-1:e+1;return t[o]};r.prototype.getPreviousSelectableItem=function(e){const t=this.getEndContent();const o=e-1<0?0:e-1;return t[o]};r.prototype.setHoveredItem=function(e){if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e};r.prototype._getItemSelectionMode=function(){var t=this.getAssociation("_group");return t?e.getElementById(t).getItemSelectionMode():a.None};r.prototype.setSelected=function(t){var o=e.getElementById(this.getAssociation("_group"));if(t&&o&&o.getItemSelectionMode()===a.SingleSelect){o._clearSelectedItems()}this.setProperty("selected",t);return this};r.prototype.getSelected=function(){return this.getProperty("selected")&&this._getItemSelectionMode()!==a.None};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemBase", ["sap/ui/core/Element","./library","sap/ui/core/IconPool","sap/m/Image"],function(e,t,o,n){"use strict";var i=e.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});i.prototype.init=function(){};i.prototype.render=function(e,t,o){var n=e;n.openStart("li",t);n.openEnd();n.openStart("div",this.getId()+"-txt");n.style("white-space","nowrap");n.style("display","inline-block");n.style("padding","1px");n.style("color","black");n.openEnd();n.text(t.getId());if(this.getSubmenu()){n.text("&nbsp;&nbsp;->")}n.close("div");n.close("li")};i.prototype.hover=function(e,t){this.$("txt").attr("style",e?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;")};i.prototype.focus=function(){};i.prototype.onSubmenuToggle=function(e){this.$().toggleClass("sapUiMnuItmSubMnuOpen",e)};i.prototype.onAfterRendering=function(){};i.prototype.onsapshow=function(e){if(this.getParent()&&this.getParent().close){this.getParent().close(true)}e.preventDefault()};i.prototype._getIcon=function(){return o.createControlByURI({src:this.getIcon(),useIconTooltip:false},n)};i.prototype.onsaphide=i.prototype.onsapshow;return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemGroup", ["sap/ui/core/Element","sap/ui/core/library"],function(e,t){"use strict";var i=t.ItemSelectionMode;var n=e.extend("sap.ui.unified.MenuItemGroup",{metadata:{interfaces:["sap.ui.unified.IMenuItem"],library:"sap.ui.unified",properties:{itemSelectionMode:{type:"sap.ui.core.ItemSelectionMode",group:"Behavior",defaultValue:i.None}},aggregations:{items:{type:"sap.ui.unified.IMenuItem",multiple:true,singularName:"item"}}}});n.prototype.setItemSelectionMode=function(e,t){this.setProperty("itemSelectionMode",e,t);if(e===i.SingleSelect){this._ensureSingleSelection()}return this};n.prototype.addItem=function(e,t){this._addOrInsertItem(e,undefined,t);return this};n.prototype.insertItem=function(e,t,i){if(t===undefined){t=this.getItems().length}this._addOrInsertItem(e,t,i);return this};n.prototype.removeItem=function(e,t){const i=this.removeAggregation("items",e,t);!t&&this._invalidateParentControls();return i};n.prototype.removeAllItems=function(e){const t=this.removeAllAggregation("items",e);!e&&this._invalidateParentControls();return t};n.prototype.destroyItems=function(e){this.destroyAggregation("items",e);!e&&this._invalidateParentControls();return this};n.prototype._invalidateParentControls=function(){const e=this.getParent();if(e&&!e._getItems().length){const t=e.getParent();t&&t.invalidate();e.close()}};n.prototype._addOrInsertItem=function(e,t,n){const r=e.getSelected&&e.getSelected(),s=this.getItems().length;e.setAssociation("_group",this);if(r&&this.getItemSelectionMode()===i.SingleSelect){this._clearSelectedItems()}t===undefined?this.addAggregation("items",e,n):this.insertAggregation("items",e,t,n);if(s>0){return}const o=this.getParent();if(o){const e=o.getParent();e&&e.invalidate();o.invalidate()}};n.prototype._clearSelectedItems=function(){this.getItems().forEach(e=>e.setSelected&&e.setSelected(false))};n.prototype._ensureSingleSelection=function(){var e=this.getItems(),t=e.map(e=>e.getSelected()),i=t.lastIndexOf(true);this._clearSelectedItems();if(i!==-1){e[i].setSelected(true)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuRenderer", ["sap/ui/core/ControlBehavior"],function(e){"use strict";var t={apiVersion:2};t.render=function(i,n){var s=e.isAccessibilityEnabled(),o=n.getRootMenu();if(n.oHoveredItem&&n.indexOfItem(n.oHoveredItem)<0){n.oHoveredItem=null}i.openStart("div",n);i.attr("tabindex",-1);i.attr("hideFocus",true);if(n.getTooltip_AsString()){i.attr("title",n.getTooltip_AsString())}if(s){i.accessibilityState(n,{disabled:null})}i.class("sapUiMnu");if(n.isSubMenu()){i.class("sapUiSubmenu")}if(o.bUseTopStyle){i.class("sapUiMnuTop")}i.openEnd();t.renderItems(i,n);i.close("div")};t.renderItems=function(i,n){var s=n._getItems(),o=e.isAccessibilityEnabled(),r=false,a=false,l=0,u=0,d,c,p=null,f=null,v=false,g;i.openStart("ul");i.attr("role","menu");i.class("sapUiMnuLst");for(d=0;d<s.length;d++){g=s[d].getSubmenu();if(s[d].getIcon&&s[d].getIcon()){r=true}if(g&&g._getItems().length){a=true}}if(!r){i.class("sapUiMnuNoIco")}if(!a){i.class("sapUiMnuNoSbMnu")}i.openEnd();for(d=0;d<s.length;d++){if(s[d].getVisible()&&s[d].render){l++}}for(d=0;d<s.length;d++){c=s[d];if(c.getVisible()&&c.render){u++;f=c.getAssociation("_group");if(v&&p!==f){i.close("div");v=false}if(f&&!v){i.openStart("div");i.attr("role","group");i.openEnd();v=true}if((p!==f||c.getStartsSection())&&u!==1){t.renderSeparator(i,o)}p=f;c.render(i,c,n,{bAccessible:o,iItemNo:u,iTotalItems:l})}}if(v){i.close("div")}i.close("ul")};t.renderSeparator=function(e,t){e.openStart("li");if(t){e.attr("role","separator")}e.class("sapUiMnuDiv");e.openEnd();e.openStart("div");e.class("sapUiMnuDivL");e.openEnd();e.close("div");e.voidStart("hr").voidEnd();e.openStart("div");e.class("sapUiMnuDivR");e.openEnd();e.close("div");e.close("li")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarDate", ["sap/ui/base/Object","sap/ui/core/date/UniversalDate","sap/ui/core/date/UI5Date"],function(t,e,a){"use strict";var n=t.extend("sap.ui.unified.calendar.CalendarDate",{constructor:function(){var t=arguments,e,o,i;switch(t.length){case 0:o=a.getInstance();return n.call(this,o.getFullYear(),o.getMonth(),o.getDate());case 1:case 2:if(!(t[0]instanceof n)){throw"Invalid arguments: the first argument must be of type sap.ui.unified.calendar.CalendarDate."}i=t[1]?t[1]:t[0]._oUDate.sCalendarType;e=a.getInstance(t[0].valueOf());e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());this._oUDate=r(e,i);break;case 3:case 4:u(t[0],"Invalid year: "+t[0]);u(t[1],"Invalid month: "+t[1]);u(t[2],"Invalid date: "+t[2]);e=a.getInstance(0,0,1);e.setFullYear(t[0],t[1],t[2]);if(t[3]){i=t[3]}this._oUDate=r(e,i);break;default:throw"Invalid arguments. Accepted arguments are: 1) oCalendarDate, (optional)calendarType"+"or 2) year, month, date, (optional) calendarType"+t}}});n.prototype.getYear=function(){return this._oUDate.getUTCFullYear()};n.prototype.setYear=function(t){u(t,"Invalid year: "+t);this._oUDate.setUTCFullYear(t);return this};n.prototype.getMonth=function(){return this._oUDate.getUTCMonth()};n.prototype.setMonth=function(t,e){u(t,"Invalid month: "+t);if(e||e===0){u(e,"Invalid date: "+e);this._oUDate.setUTCMonth(t,e)}else{this._oUDate.setUTCMonth(t)}return this};n.prototype.getDate=function(){return this._oUDate.getUTCDate()};n.prototype.setDate=function(t){u(t,"Invalid date: "+t);this._oUDate.setUTCDate(t);return this};n.prototype.getDay=function(){return this._oUDate.getUTCDay()};n.prototype.getCalendarType=function(){return this._oUDate.sCalendarType};n.prototype.getEra=function(){return this._oUDate.getUTCEra()};n.prototype.isBefore=function(t){i(t);return this.valueOf()<t.valueOf()};n.prototype.isAfter=function(t){i(t);return this.valueOf()>t.valueOf()};n.prototype.isSameOrBefore=function(t){i(t);return this.valueOf()<=t.valueOf()};n.prototype.isSameOrAfter=function(t){i(t);return this.valueOf()>=t.valueOf()};n.prototype.isSame=function(t){i(t);return this.valueOf()===t.valueOf()};n.prototype.toLocalJSDate=function(){var t=a.getInstance(this._oUDate.getTime());t.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());t.setHours(0,0,0,0);return t};n.prototype.toUTCJSDate=function(){var t=a.getInstance(this._oUDate.getTime());t.setUTCHours(0,0,0,0);return t};n.prototype.toString=function(){return this._oUDate.sCalendarType+": "+this.getYear()+"/"+(this.getMonth()+1)+"/"+this.getDate()};n.prototype.valueOf=function(){return this._oUDate.getTime()};n.fromLocalJSDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript or UI5Date date object: ["+t+"].")}return new n(t.getFullYear(),t.getMonth(),t.getDate(),e)};n.fromUTCDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript or UI5Date date object: ["+t+"].")}return new n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e)};function r(t,a){if(a){return e.getInstance(o(t),a)}else{return new e(o(t).getTime())}}function o(t){var e=a.getInstance(Date.UTC(0,0,1));e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());return e}function i(t){if(!(t instanceof n)){throw"Invalid calendar date: ["+t+"]. Expected: sap.ui.unified.calendar.CalendarDate"}}function u(t,e){if(t==undefined||t===Infinity||isNaN(t)){throw e}}return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarUtils", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/i18n/date/CalendarType","sap/ui/core/date/UniversalDate","./CalendarDate","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","sap/ui/core/date/UI5Date"],function(e,t,a,n,r,i,s,g,u){"use strict";var l={};l.MAX_MILLISECONDS=864e13;l.HOURS24=1e3*3600*24;l._createLocalDate=function(e,t){var a;if(e){var r;if(e instanceof n){r=e.getJSDate()}else{r=e}a=u.getInstance(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());if(r.getFullYear()<1e3){a.setFullYear(r.getFullYear())}if(t){a.setHours(r.getUTCHours());a.setMinutes(r.getUTCMinutes());a.setSeconds(r.getUTCSeconds());a.setMilliseconds(r.getUTCMilliseconds())}}return a};l._createUTCDate=function(e,t){var a;if(e){var r;if(e instanceof n){r=e.getJSDate()}else{r=e}a=u.getInstance(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));if(r.getFullYear()<1e3){a.setUTCFullYear(r.getFullYear())}if(t){a.setUTCHours(r.getHours());a.setUTCMinutes(r.getMinutes());a.setUTCSeconds(r.getSeconds());a.setUTCMilliseconds(r.getMilliseconds())}}return a};l._createUniversalUTCDate=function(e,t,a){var r;if(t){r=n.getInstance(this._createUTCDate(e,a),t)}else{r=new n(this._createUTCDate(e,a).getTime())}return r};l.calculateWeekNumber=function(e,t,a,n,r){const u=new i(a);const l=s.getInstance(u);const o=l.getMinimalDaysInFirstWeek();const c=g.getInstance({pattern:"w",calendarType:t,firstDayOfWeek:r,minimalDaysInFirstWeek:o,calendarWeekNumbering:n},u);const f=c.format(e.toLocalJSDate());return Number(f)};l._getLastWeekDate=function(e){return new r(e).setDate(e.getDate()+6)};l.getFirstDateOfWeek=function(a,r){var g=new n(a.getTime()),u,l,o=s.getInstance(new i(e.getLanguageTag())),c=new i(t.getLanguageTag()),f=o.getFirstDayOfWeek(),D;if(!r||(r.firstDayOfWeek===-1||r.firstDayOfWeek===undefined)){r={firstDayOfWeek:o.getFirstDayOfWeek(),minimalDaysInFirstWeek:o.getMinimalDaysInFirstWeek()}}D=n.getWeekByDate(g.getCalendarType(),g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),c,r);u=n.getFirstDateOfWeek(g.getCalendarType(),D.year,D.week,c,r);l=new n(n.UTC(u.year,u.month,u.day));if(r&&(r.firstDayOfWeek===-1||r.firstDayOfWeek===undefined)){while(l.getUTCDay()!==f){l.setUTCDate(l.getUTCDate()-1)}}return new n(n.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())).getJSDate()};l.getFirstDateOfMonth=function(e){var t=new n(e.getTime());t.setUTCDate(1);return t};l._getNumberOfWeeksForYear=function(t){var a=e.getLanguageTag().toString(),n=s.getInstance(new i(a)),r=u.getInstance(Date.UTC(t,0,1)),g=r.getUTCDay(),l=52;if(n.getFirstDayOfWeek()===0){if(g===5||g===6){l=53}}else{if(g===3||g===4){l=53}}return l};l.monthsDiffer=function(e,t){return e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()};l.isDateLastInMonth=function(e){var t=u.getInstance(e.getTime()+24*60*60*1e3);return t.getUTCDate()<e.getUTCDate()};l._updateUTCDate=function(e,t,a,n,r,i,s,g){if(t!=null){e.setUTCFullYear(t)}if(a!=null){e.setUTCMonth(a)}if(n!=null){e.setUTCDate(n)}if(r!=null){e.setUTCHours(r)}if(i!=null){e.setUTCMinutes(i)}if(s!=null){e.setUTCSeconds(s)}if(g!=null){e.setUTCMilliseconds(g)}};l._checkJSDateObject=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e)){throw new Error("Date must be a JavaScript or UI5Date date object.")}};l._checkYearInValidRange=function(t,n){var i=e.getCalendarType(),s=new r(this._minDate(a.Gregorian),n||i),g=new r(this._maxDate(a.Gregorian),n||i);if(typeof t!=="number"||t<s.getYear()||t>g.getYear()){throw new Error("Year must be in valid range (between year 0001 and year 9999 in Gregorian calendar type).")}};l._isNextMonth=function(e,t){return e.getMonth()>t.getMonth()&&e.getFullYear()===t.getFullYear()||e.getFullYear()>t.getFullYear()};l._minutesBetween=function(e,t){var a=(t.getTime()-e.getTime())/1e3;a=a/60;return Math.abs(Math.round(a))};l._areCurrentMinutesLessThan=function(e){var t=u.getInstance().getMinutes();return e>=t};l._areCurrentMinutesMoreThan=function(e){var t=u.getInstance().getMinutes();return e<=t};l._monthsBetween=function(e,t,a){var n=u.getInstance(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),r=u.getInstance(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),i;n.setUTCFullYear(e.getUTCFullYear());r.setUTCFullYear(t.getUTCFullYear());i=r.getUTCFullYear()*12+r.getUTCMonth()-(n.getUTCFullYear()*12+n.getUTCMonth());if(!a){i=Math.abs(i)}return i};l._hoursBetween=function(e,t){var a=u.getInstance(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()));var n=u.getInstance(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()));a.setUTCFullYear(e.getUTCFullYear());n.setUTCFullYear(t.getUTCFullYear());return Math.abs((a.getTime()-n.getTime())/(1e3*60*60))};l._isMidnight=function(e){return e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0&&e.getMilliseconds()===0};l._daysInMonth=function(e){this._checkCalendarDate(e);e=new r(e);e.setDate(1);e.setMonth(e.getMonth()+1);e.setDate(0);return e.getDate()};l._isLastDateInMonth=function(e){return e.getDate()===l._daysInMonth(e)};l._getFirstDateOfWeek=function(t,a){var n=s.getInstance(new i(e.getLanguageTag()));this._checkCalendarDate(t);if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:n.getFirstDayOfWeek(),minimalDaysInFirstWeek:n.getMinimalDaysInFirstWeek()}}if(t.getDay()!==a.firstDayOfWeek){var g=l.getFirstDateOfWeek(t.toUTCJSDate(),a);g.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate());return r.fromLocalJSDate(g,t.getCalendarType())}return t};l._getFirstDateOfMonth=function(e){this._checkCalendarDate(e);var t=new r(e,e.getCalendarType());t.setDate(1);return t};l._minDate=function(e){var t=new r(1,0,1,e);t.setYear(1);t.setMonth(0);t.setDate(1);return t};l._maxDate=function(e){var t=new r(9999,11,1,e);t.setYear(9999);t.setMonth(11);t.setDate(this._daysInMonth(t));return new r(t)};l._isBetween=function(e,t,a,n){this._checkCalendarDate(e);this._checkCalendarDate(t);this._checkCalendarDate(a);if(n){return e.isSameOrAfter(t)&&e.isSameOrBefore(a)}else{return e.isAfter(t)&&e.isBefore(a)}};l._daysBetween=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return Math.ceil((e.valueOf()-t.valueOf())/this.HOURS24)};l._isOutside=function(e,t,a){return!this._isBetween(e,t,a,true)};l._isSameMonthAndYear=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return e.getEra()===t.getEra()&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()};l._checkCalendarDate=function(e){if(!e||!(e instanceof r)){throw"Invalid calendar date: ["+e+"]. Expected: sap.ui.unified.calendar.CalendarDate"}};l._getWeek=function(e){this._checkCalendarDate(e);return n.getWeekByDate(e.getCalendarType(),e.getYear(),e.getMonth(),e.getDate())};l._isWeekend=function(e,t){var a=e.getDay();return a===t.getWeekendStart()||a===t.getWeekendEnd()};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomMonthPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a){"use strict";var n=e.extend(i);n.apiVersion=2;var s=t.extend("sap.ui.unified.internal.CustomMonthPicker",{metadata:{library:"sap.ui.unified"},renderer:n});s.prototype._initializeHeader=function(){var e=new r(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","monthPicker");this._bNamesLengthChecked=true};s.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=this._getYearPicker().getDate(),r=this._getMonthPicker(),a,n=r&&!r._iYear;t.prototype.onBeforeRendering.apply(this,arguments);if(this._iMode===1){if(e.length&&e[0].getStartDate()&&(!i||n||e[0].getStartDate().getFullYear()===i.getFullYear())){a=e[0].getStartDate();r.setMonth(a.getMonth());r._iYear=a.getFullYear()}}};s.prototype._closePickers=function(){this.setProperty("_currentPicker","monthPicker");this._togglePrevNext(this._getFocusedDate(),true)};s.prototype._selectYear=function(){var e=this._getMonthPicker(),t=this._getYearPicker(),i=this._getFocusedDate();i.setYear(t.getDate().getFullYear());e._setYear(i.getYear());e._setDate(i);this._focusDate(i,true);this._showMonthPicker()};s.prototype._selectMonth=function(){var e=this._getMonthPicker(),t=this.getSelectedDates()[0],i=this._getFocusedDate();if(!t){t=new a}if(!e.getIntervalSelection()){i.setMonth(e.getMonth(),1);t.setStartDate(i.toLocalJSDate());this.addSelectedDate(t)}this.fireSelect()};s.prototype.onsapescape=function(e){this.fireCancel()};s.prototype._hideMonthPicker=function(){this._hideOverlay();this._togglePrevNext(this._getFocusedDate(),true);this._bActionTriggeredFromSecondHeader=false};s.prototype.setShowCurrentDateButton=function(e){return this};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomYearPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a,n){"use strict";var s=e.extend(i);s.apiVersion=2;var o=t.extend("sap.ui.unified.internal.CustomYearPicker",{metadata:{library:"sap.ui.unified"},renderer:s});o.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","yearPicker");this._bNamesLengthChecked=true};o.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=e.length?e[0].getStartDate():undefined,a=this._getYearPicker(),n,s;if(i){n=r.fromLocalJSDate(i);n.setMonth(0,1);s=new r(this._getFocusedDate());s.setMonth(0,1);if(s.isSame(n)){a.setDate(i)}}else{a.setProperty("_middleDate",this._getFocusedDate());a.setDate(this._getFocusedDate().toLocalJSDate())}t.prototype.onBeforeRendering.call(this,arguments)};o.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._fnYPDelegate){this.getAggregation("yearPicker").removeDelegate(this._fnYPDelegate)}};o.prototype._initializeHeader=function(){var e=new a(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};o.prototype._closePickers=function(){this.setProperty("_currentPicker","yearPicker");this._togglePrevNexYearPicker()};o.prototype._selectYear=function(){var e=this.getSelectedDates()[0],t=this._getYearPicker();if(!e){e=new n}if(!t.getIntervalSelection()){e.setStartDate(this._getYearPicker().getDate());this.addSelectedDate(e)}this.fireSelect()};o.prototype.onsapescape=function(e){this.fireCancel()};o.prototype.setShowCurrentDateButton=function(e){return this};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRow", ["sap/base/i18n/date/CalendarWeekNumbering","sap/ui/core/Lib","sap/ui/core/RenderManager","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Month","sap/ui/unified/library","./DatesRowRenderer","sap/ui/thirdparty/jquery","sap/ui/core/format/DateFormat","sap/ui/core/Locale","sap/ui/core/date/UI5Date","sap/ui/core/InvisibleText"],function(e,t,a,i,r,s,n,o,jQuery,p,h,l,u){"use strict";var c=s.extend("sap.ui.unified.calendar.DatesRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:true},calendarWeekNumbering:{type:"sap.base.i18n.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}}},renderer:o});c.prototype.init=function(){s.prototype.init.apply(this,arguments);this._iColumns=1;this._aWeekNumbers=[];this._bAlwaysShowSpecialDates=true};c.prototype.exit=function(){s.prototype.exit(this,arguments);if(this._invisibleDayHint){this._invisibleDayHint.destroy();this._invisibleDayHint=null}};c.prototype._setAriaRole=function(e){this._ariaRole=e;return this};c.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};c.prototype._getDayDescription=function(){return this._fnInvisibleHintFactory().getId()};c.prototype._fnInvisibleHintFactory=function(){if(!this._invisibleDayHint){this._invisibleDayHint=new u({text:t.getResourceBundleFor("sap.m").getText("SLIDETILE_ACTIVATE")}).toStatic()}return this._invisibleDayHint};c.prototype.setStartDate=function(e){i._checkJSDateObject(e);var t=e.getFullYear();i._checkYearInValidRange(t);this.setProperty("startDate",e);this._oStartDate=r.fromLocalJSDate(e,this.getPrimaryCalendarType());if(this.getDomRef()){var a=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(a&&this.checkDateFocusable(a)){this.displayDate(a)}}return this};c.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=r.fromLocalJSDate(l.getInstance(),this.getPrimaryCalendarType())}return this._oStartDate};c.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}s.prototype.setDate.apply(this,arguments);return this};c.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}s.prototype.displayDate.apply(this,arguments);return this};c.prototype._setTopPosition=function(e){this._iTopPosition=e};c.prototype.setPrimaryCalendarType=function(e){s.prototype.setPrimaryCalendarType.apply(this,arguments);if(this._oStartDate){this._oStartDate=new r(this._oStartDate,e)}return this};c.setSecondaryCalendarType=function(e){this._bSecondaryCalendarTypeSet=true;s.prototype.setSecondaryCalendarType.apply(this,arguments);return this};c.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var a=this._getRelativeInfo?this.getDays()*this._getRelativeInfo().iIntervalSize:this.getDays();var i=this._getRelativeInfo?this._getRelativeInfo().iIntervalSize:1;var s=this._getDate();var n=new r(s,this.getPrimaryCalendarType());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":n.setDate(n.getDate()+i);break;case"sapprevious":case"sappreviousmodifiers":n.setDate(n.getDate()-i);break;case"sappagedown":n.setDate(n.getDate()+a);break;case"sappageup":n.setDate(n.getDate()-a);break;default:break}this.fireFocus({date:n.toLocalJSDate(),otherMonth:true,_outsideBorder:true})}};c.prototype.checkDateFocusable=function(e){i._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new r(t,this.getPrimaryCalendarType());var s=this.getDays();if(this._getRelativeInfo&&this._getRelativeInfo().bIsRelative){s=this.getDays()*this._getRelativeInfo().iIntervalSize}a.setDate(a.getDate()+s);var n=r.fromLocalJSDate(e,this.getPrimaryCalendarType());return n.isSameOrAfter(t)&&n.isBefore(a)};c.prototype._renderHeader=function(){var e=this._getStartDate();var t=e.getDay();var i=this._getLocaleData();var r=this.$("Names").children();var s=[];if(this._bLongWeekDays||!this._bNamesLengthChecked){s=i.getDaysStandAlone("abbreviated")}else{s=i.getDaysStandAlone("narrow")}var n=i.getDaysStandAlone("wide");var o=0;for(o=0;o<r.length;o++){var p=jQuery(r[o]);p.text(s[(o+t)%7]);p.attr("aria-label",n[(o+t)%7])}if(this._getShowHeader()){var h=this.$("Head");if(h.length>0){var l=(new a).getInterface();this.getRenderer().renderHeaderLine(l,this,i,e);l.flush(h[0]);l.destroy()}}};c.prototype._getFirstWeekDay=function(){return this._getStartDate().getDay()};c.prototype.getWeekNumbers=function(){var e=this.getDays(),t=this._getLocale(),a=this.getPrimaryCalendarType(),s=this._getStartDate(),n=new r(s,a),o=new r(s,a).setDate(n.getDate()+e),p=[];while(n.isBefore(o)){p.push(new r(n,a));n.setDate(n.getDate()+1)}this._aWeekNumbers=p.reduce(function(e,a){var r=i.calculateWeekNumber(a,this.getPrimaryCalendarType(),t,this.getCalendarWeekNumbering(),this._getFirstWeekDay());if(!e.length||e[e.length-1].number!==r){e.push({len:0,number:r})}e[e.length-1].len++;return e}.bind(this),[]);return this._aWeekNumbers};c.prototype._getCachedWeekNumbers=function(){return this._aWeekNumbers};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRowRenderer", ["sap/base/i18n/date/CalendarType","sap/ui/core/Lib","sap/ui/core/Renderer","sap/ui/unified/calendar/CalendarDate","./MonthRenderer"],function(e,a,t,r,n){"use strict";var i=t.extend(n);i.apiVersion=2;i.getStartDate=function(e){return e._getStartDate()};i.getClass=function(e,a){var t=["sapUiCalDatesRow","sapUiCalRow"];if(!a.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t};i.addWrapperAdditionalStyles=function(e,a){if(a._iTopPosition){e.style("top",a._iTopPosition+"px")}};i.renderMonth=function(e,a,t){if(a.isRelative&&a.isRelative()){i.renderCustomIntervals(e,a)}else{n.renderMonth.apply(this,arguments);this.renderWeekNumbers(e,a)}};i.renderCustomIntervals=function(e,a){var t;e.openStart("div",a.getId()+"-customintervals");e.openEnd();var r=a.getDays();t=100/r;var n=a._getRelativeInfo()._getIndexFromDate(a.getStartDate());for(var i=0;i<r;i++){e.openStart("div");e.class("sapUiCalItem");if(a._getRelativeInfo&&a._getRelativeInfo().bIsRelative){e.class("sapUiRelativeCalItem");e.attr("data-sap-ui-index",n+i);e.attr("tabindex","-1");var s=a._getRelativeInfo()._getDateFromIndex(n+i+1);e.attr("data-sap-day",a._oFormatYyyymmdd.format(s,true))}e.style("width",t+"%");e.openEnd();e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(a._getRelativeInfo?a._getRelativeInfo().intervalLabelFormatter(n+i):n+i);e.close("span");e.close("div")}e.close("div")};i.renderWeekNumbers=function(t,r){var n,i,s,o;if(r.getShowWeekNumbers()&&r._getPrimaryCalendarType()===e.Gregorian){n=a.getResourceBundleFor("sap.ui.unified");t.openStart("div",r.getId()+"-weeks");t.class("sapUiCalRowWeekNumbers");t.openEnd();i=r.getDays();s=100/i;o=r.getWeekNumbers();o.forEach(function(e){t.openStart("div",r.getId()+"-week-"+e.number+"-text");t.class("sapUiCalRowWeekNumber");t.style("width",e.len*s+"%");t.attr("data-sap-ui-week",e.number);t.openEnd();t.text(n.getText("CALENDAR_DATES_ROW_WEEK_NUMBER",[e.number]));t.close("div")});t.close("div")}};i.renderDummyCell=function(){};i.renderHeader=function(e,a,t){var r=a._getLocaleData();var n=a.getId();var i=a.getDays();var s="";if(a._getShowHeader()){e.openStart("div",n+"-Head");e.openEnd();this.renderHeaderLine(e,a,r,t);e.close("div")}s=100/i+"%";if(a.getShowDayNamesLine()){e.openStart("div",n+"-Names");e.style("display","inline");e.attr("role","row");e.openEnd();this.renderDayNames(e,a,r,t.getDay(),i,false,s);e.close("div")}};i.renderHeaderLine=function(e,a,t,n){var i=a.getId();var s=a.getDays();var o=new r(n,a.getPrimaryCalendarType());var d="";var l=0;var v=[];var p=0;for(p=0;p<s;p++){l=o.getMonth();if(v.length>0&&v[v.length-1].iMonth==l){v[v.length-1].iDays++}else{v.push({iMonth:l,iDays:1})}o.setDate(o.getDate()+1)}var g=t.getMonthsStandAlone("wide",a.getPrimaryCalendarType());for(p=0;p<v.length;p++){var u=v[p];d=100/s*u.iDays+"%";e.openStart("div",i+"-Head"+p);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g[u.iMonth]);e.close("div")}};i.renderDays=function(e,a,t){var n=a.getDays();var i=100/n+"%";var s=a.getShowDayNamesLine();var o=a.getPrimaryCalendarType();if(!t){t=a._getFocusedDate()}var d=this.getDayHelper(a,t);if(!s){if(a._bLongWeekDays||!a._bNamesLengthChecked){d.aWeekDays=d.oLocaleData.getDaysStandAlone("abbreviated",o)}else{d.aWeekDays=d.oLocaleData.getDaysStandAlone("narrow",o)}d.aWeekDaysWide=d.oLocaleData.getDaysStandAlone("wide",o)}var l=new r(t,o);e.openStart("div");e.attr("role","row");e.openEnd();for(var v=0;v<n;v++){this.renderDay(e,a,l,d,false,false,v,i,!s);l.setDate(l.getDate()+1)}e.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Header", ["sap/ui/core/Control","sap/ui/unified/library","./HeaderRenderer","sap/ui/dom/containsOrEquals"],function(t,e,i,n){"use strict";var r=t.extend("sap.ui.unified.calendar.Header",{metadata:{library:"sap.ui.unified",properties:{textButton0:{type:"string",group:"Appearance"},additionalTextButton0:{type:"string",group:"Appearance"},ariaLabelButton0:{type:"string",group:"Misc"},visibleButton0:{type:"boolean",group:"Appearance",defaultValue:false},textButton1:{type:"string",group:"Appearance"},additionalTextButton1:{type:"string",group:"Appearance"},ariaLabelButton1:{type:"string",group:"Misc"},visibleButton1:{type:"boolean",group:"Appearance",defaultValue:true},textButton2:{type:"string",group:"Appearance"},additionalTextButton2:{type:"string",group:"Appearance"},ariaLabelButton2:{type:"string",group:"Misc"},visibleButton2:{type:"boolean",group:"Appearance",defaultValue:true},enabledPrevious:{type:"boolean",group:"Behavior",defaultValue:true},enabledNext:{type:"boolean",group:"Behavior",defaultValue:true},visibleCurrentDateButton:{type:"boolean",group:"Appearance",defaultValue:false}},events:{pressPrevious:{},pressNext:{},pressCurrentDate:{},pressButton0:{},pressButton1:{},pressButton2:{}}},renderer:i});r.prototype._setVisibleButton3=function(t){this._visibleButton3=t;this.invalidate();return this};r.prototype._getVisibleButton3=function(){return this._visibleButton3};r.prototype._setTextButton3=function(t){o.call(this,3,t);return this};r.prototype._getTextButton3=function(){return this._textButton3};r.prototype._setAdditionalTextButton3=function(t){s.call(this,3,t);return this};r.prototype._getAdditionalTextButton3=function(){return this._additionalTextButton3};r.prototype._setAriaLabelButton3=function(t){u.call(this,3,t);return this};r.prototype._getAriaLabelButton3=function(){return this._ariaLabelButton3};r.prototype._setVisibleButton4=function(t){this._visibleButton4=t;this.invalidate();return this};r.prototype._getVisibleButton4=function(){return this._visibleButton4};r.prototype._setTextButton4=function(t){o.call(this,4,t);return this};r.prototype._getTextButton4=function(){return this._textButton4};r.prototype._setAdditionalTextButton4=function(t){s.call(this,4,t);return this};r.prototype._getAdditionalTextButton4=function(){return this._additionalTextButton4};r.prototype._setAriaLabelButton4=function(t){u.call(this,4,t);return this};r.prototype._getAriaLabelButton4=function(){return this._ariaLabelButton4};r.prototype.onclick=function(t){if(t.isMarked("delayedMouseEvent")){return}if(n(this.getDomRef("prev"),t.target)&&this.getEnabledPrevious()){this.firePressPrevious()}else if(n(this.getDomRef("next"),t.target)&&this.getEnabledNext()){this.firePressNext()}else if(n(this.getDomRef("today"),t.target)&&this.getVisibleCurrentDateButton()){this.firePressCurrentDate()}else if(n(this.getDomRef("B0"),t.target)){this.firePressButton0()}else if(n(this.getDomRef("B1"),t.target)){this.firePressButton1()}else if(n(this.getDomRef("B2"),t.target)){this.firePressButton2()}else if(n(this.getDomRef("B3"),t.target)){this.fireEvent("pressButton3")}else if(n(this.getDomRef("B4"),t.target)){this.fireEvent("pressButton4")}};r.prototype.onsapnext=function(t){t.preventDefault()};function o(t,e){this["_textButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(this.$("B"+t+"-Text").get(0)){this.$("B"+t+"-Text").text(e)}else{this.$("B"+t).text(e)}}}function s(t,e){var i=false;var n=this["_getAdditionalTextButton"+t]();if(n==e){return}if(!n&&e||n&&!e){i=true}this["_additionalTextButton"+t]=e;if(!i&&this.isActive()&&this["_getVisibleButton"+t]()){this.$("B"+t+"-AddText").text(e)}if(i){this.invalidate()}}function u(t,e){this["_ariaLabelButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(e){this.$("B"+t).attr("aria-label",e)}else{this.$("B"+t).removeAttr("aria-label")}}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/HeaderRenderer", ["sap/base/i18n/Localization","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/IconPool"],function(t,e,a){"use strict";var i=5;var n={apiVersion:2};n.render=function(n,s){var l=new a(t.getLanguageTag()).getLanguage();var o=s.getTooltip_AsString();var r=s.getId();var u=e.getResourceBundleFor("sap.ui.unified");var d=u.getText("CALENDAR_BTN_NEXT");var c=u.getText("CALENDAR_BTN_PREV");var b=u.getText("CALENDAR_BTN_TODAY");n.openStart("div",s);n.class("sapUiCalHead");if(s.getVisibleCurrentDateButton()){n.class("sapUiCalHeaderWithTodayButton")}if(o){n.attr("title",o)}n.accessibilityState(s);n.openEnd();n.openStart("button",r+"-prev");n.attr("title",c);n.accessibilityState(null,{label:c});n.class("sapUiCalHeadPrev");if(!s.getEnabledPrevious()){n.class("sapUiCalDsbl");n.attr("disabled","disabled")}n.attr("tabindex","-1");n.openEnd();n.icon("sap-icon://slim-arrow-left",null,{title:null});n.close("button");var g=-1;var B=-1;var p=0;var f;for(p=0;p<i;p++){if(this.getVisibleButton(s,p)){if(g<0){g=p}B=p}}for(p=0;p<i;p++){if(l.toLowerCase()==="ja"||l.toLowerCase()==="zh"){f=i-1-p;if(this._isTwoMonthsCalendar(s)){switch(p){case 0:f=2;break;case 2:f=4;break;case 1:f=1;break;case 3:f=3;break}}}else{f=p}if(this._isTwoMonthsCalendar(s)){g=2;B=3}this.renderCalendarButtons(n,s,r,g,B,f)}if(!s.getVisibleButton0()&&!s.getVisibleButton1()&&!s.getVisibleButton2()&&!s._getVisibleButton3()&&!s._getVisibleButton4()){n.openStart("div",r+"-B"+"-Placeholder");n.class("sapUiCalHeadBPlaceholder");n.openEnd();n.close("span")}n.openStart("button",r+"-next");n.attr("title",d);n.accessibilityState(null,{label:d});n.class("sapUiCalHeadNext");if(!s.getEnabledNext()){n.class("sapUiCalDsbl");n.attr("disabled","disabled")}n.attr("tabindex","-1");n.openEnd();n.icon("sap-icon://slim-arrow-right",null,{title:null});n.close("button");if(s.getVisibleCurrentDateButton()){n.openStart("button",r+"-today");n.attr("title",b);n.accessibilityState(null,{label:b});n.class("sapUiCalHeadB");n.class("sapUiCalHeadToday");n.openEnd();n.icon("sap-icon://appointment",null,{title:null});n.close("button")}n.close("div")};n.renderCalendarButtons=function(t,e,a,i,n,s){var l={};if(this.getVisibleButton(e,s)){t.openStart("button",a+"-B"+s);t.class("sapUiCalHeadB");t.class("sapUiCalHeadB"+s);if(i===s){t.class("sapUiCalHeadBFirst")}if(n===s){t.class("sapUiCalHeadBLast")}if(this.getAriaLabelButton(e,s)){l["label"]=this.getAriaLabelButton(e,s)}t.accessibilityState(null,l);l={};t.openEnd();var o=this.getTextButton(e,s)||"";var r=this.getAdditionalTextButton(e,s)||"";if(r){t.openStart("span",a+"-B"+s+"-Text");t.class("sapUiCalHeadBText");t.openEnd();t.text(o);t.close("span");t.openStart("span",a+"-B"+s+"-AddText");t.class("sapUiCalHeadBAddText");t.openEnd();t.text(r);t.close("span")}else{t.text(o)}t.close("button")}};n.getVisibleButton=function(t,e){var a=false;if(t["getVisibleButton"+e]){a=t["getVisibleButton"+e]()}else if(t["_getVisibleButton"+e]){a=t["_getVisibleButton"+e]()}return a};n.getAriaLabelButton=function(t,e){var a;if(t["getAriaLabelButton"+e]){a=t["getAriaLabelButton"+e]()}else if(t["_getAriaLabelButton"+e]){a=t["_getAriaLabelButton"+e]()}return a};n.getTextButton=function(t,e){var a;if(t["getTextButton"+e]){a=t["getTextButton"+e]()}else if(t["_getTextButton"+e]){a=t["_getTextButton"+e]()}return a};n.getAdditionalTextButton=function(t,e){var a;if(t["getAdditionalTextButton"+e]){a=t["getAdditionalTextButton"+e]()}else if(t["_getAdditionalTextButton"+e]){a=t["_getAdditionalTextButton"+e]()}return a};n._isTwoMonthsCalendar=function(t){return t.getParent()instanceof sap.ui.unified.Calendar&&t.getParent().getMonths()>=2};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPicker", ["sap/ui/core/Control","sap/ui/unified/calendar/Header","sap/ui/unified/calendar/IndexPickerRenderer","sap/ui/core/delegate/ItemNavigation","sap/ui/events/KeyCodes"],function(e,t,i,a,n){"use strict";var s=e.extend("sap.ui.unified.calendar.IndexPicker",{metadata:{library:"sap.ui.unified",properties:{startIndex:{type:"int",group:"Data",defaultValue:0},selectedIndex:{type:"int",group:"Data",defaultValue:0},formatter:{type:"object",group:"Data"},rows:{type:"int",group:"Data",defaultValue:4},columns:{type:"int",group:"Data",defaultValue:3},periodSize:{type:"int",group:"Data",defaultValue:1}},aggregations:{header:{type:"sap.ui.unified.calendar.Header",multiple:false}},events:{select:{},focus:{}}},renderer:i});s.prototype.init=function(){this._initializeHeader();this.iCurrentIndex=0};s.prototype.onBeforeRendering=function(){this.getHeader().setEnabledPrevious(this.getStartIndex()>0)};s.prototype.onAfterRendering=function(){r.call(this)};s.prototype._initializeHeader=function(){var e=new t(this.getId()+"--Head",{visibleButton1:false,visibleButton2:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);this.setAggregation("header",e)};s.prototype._handlePrevious=function(){this.goToPreviousPage()};s.prototype.goToPreviousPage=function(){var e=this.getStartIndex()-this.getRows()*this.getColumns();e=Math.max(0,e);this.setStartIndex(e)};s.prototype._handleNext=function(){this.goToNextPage()};s.prototype.goToNextPage=function(){var e=this.getStartIndex()+this.getRows()*this.getColumns();this.setStartIndex(e)};s.prototype.onmouseup=function(e){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))};s.prototype.onkeydown=function(e){if(e.keyCode===n.ENTER){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype.onkeyup=function(e){if(e.keyCode===n.SPACE){e.preventDefault();var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype._selectIndex=function(e){this.setSelectedIndex(e);this.iCurrentIndex=0;this.fireSelect({index:e})};s.prototype._getFormatter=function(){return this.getFormatter()||o};function o(e){return(e+1).toString()}function r(){var e=0,t=false,i=this.getDomRef(),n=i.querySelectorAll(".sapMIPItem"),s=this.getColumns();for(var o=0;o<n.length;o++){if(n[o].getAttribute("data-sap-ui-index")===this.getSelectedIndex()){e=o;t=true;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,u,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(s>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(s,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(n);if(!t){e=this.iCurrentIndex%n.length}this._oItemNavigation.setFocusedIndex(e);this._oItemNavigation.focusItem(e);this._oItemNavigation.setPageSize(n.length)}function u(e){var t=e.getParameter("index");var i=e.getParameter("event");if(!i){return}var a=e.getParameter("index");var n=this._oItemNavigation.getItemDomRefs();var s=n[t];this.iCurrentIndex=a;a=s.getAttribute("data-sap-ui-index");this.fireFocus({index:a})}s.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var i=parseInt(t.target.getAttribute("data-sap-ui-index"));var a=e.getParameter("index");if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===n.ARROW_DOWN){i+=this.getColumns();a+=this.getColumns()}else{i+=1;a+=1}this.goToNextPage();break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===n.ARROW_UP){i-=this.getColumns();a-=this.getColumns()}else{i-=1;a-=1}this.goToPreviousPage();break;default:break}var s=this._oItemNavigation.getItemDomRefs();a=Math.abs(s.length-Math.abs(a));this.iCurrentIndex=a;this._oItemNavigation.focusItem(s[a]);this.fireFocus({index:i})}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPickerRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var s,a={role:"gridcell",selected:false,label:"",describedby:""};e.openStart("div",t);e.class("sapMIP");e.openEnd();var l=t.getAggregation("header");e.renderControl(l);e.openStart("div");e.class("sapMIPContent");e.attr("role","grid");e.openEnd();for(var d=0;d<t.getRows();d++){e.openStart("div",t.getId()+"-"+d);e.class("sapMIPRow");e.attr("role","row");e.openEnd();var r=t.getSelectedIndex()+t.getPeriodSize()-1;for(var i=0;i<t.getColumns();i++){s=t.getStartIndex()+t.getColumns()*d+i;e.openStart("div");e.class("sapMIPItem");if(s===t.getSelectedIndex()){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelStart");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-Start"}else if(s===r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelEnd");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-End"}else if(s>t.getSelectedIndex()&&s<r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelBetween");a["selected"]=true}else{a["selected"]=false}e.accessibilityState(null,a);e.class("sapUiCalItem");e.class("customWidth");e.attr("tabindex","-1");e.attr("data-sap-ui-index",s);e.openEnd();e.text(t._getFormatter()(s));e.close("div")}e.close("div")}e.close("div");e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Month", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/base/i18n/date/CalendarWeekNumbering","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/DateTypeRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/InvisibleMessage","sap/ui/core/date/CalendarUtils","sap/ui/core/date/UI5Date","sap/base/Log"],function(e,t,a,i,s,r,o,n,l,h,g,d,u,c,p,y,f,D,_,m,jQuery,v,S,C,b){"use strict";var M=y.InvisibleMessageMode;var T=c.CalendarDayType;var k=i.extend("sap.ui.unified.calendar.Month",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},_focusedDate:{type:"object",group:"Data",visibility:"hidden",defaultValue:null},_renderMonthWeeksOnly:{type:"boolean",group:"Data",visibility:"hidden",defaultValue:false},calendarWeekNumbering:{type:"sap.base.i18n.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},otherMonth:{type:"boolean"},restoreOldDate:{type:"boolean"}}},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:D});k.prototype.init=function(){this._mouseMoveProxy=this._handleMouseMove.bind(this);this._iColumns=7;this._oMinDate=h._minDate(this._getPrimaryCalendarType());this._oMaxDate=h._maxDate(this._getPrimaryCalendarType());this._aVisibleDays=[];this._bAlwaysShowSpecialDates=false;this._oUnifiedRB=o.getResourceBundleFor("sap.ui.unified")};k.prototype._getAriaRole=function(){return"gridcell"};k.prototype._getDayDescription=function(){return""};k.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}this._aVisibleDays=null;this._bAlwaysShowSpecialDates=null};k.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};k.prototype.onBeforeRendering=function(){this._oFormatYyyymmdd=p.getInstance({pattern:"yyyyMMdd",calendarType:t.Gregorian});this._oFormatLong=p.getInstance({style:"long",calendarType:this._getPrimaryCalendarType()});if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!==a.Default){b.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}};k.prototype.onAfterRendering=function(){this.bSpaceButtonPressed=false;I.call(this);N.call(this);this._oInvisibleMessage=v.getInstance()};k.prototype.onmouseover=function(e){var t=jQuery(e.target),a=this.getSelectedDates()[0],i,s;if(!this._isMarkingUnfinishedRangeAllowed()){return}if(!t.hasClass("sapUiCalItemText")&&!t.hasClass("sapUiCalItem")){return}if(t.hasClass("sapUiCalItemText")){t=t.parent()}i=parseInt(this._oFormatYyyymmdd.format(a.getStartDate()));s=t.data("sapDay");if(this.hasListeners("datehovered")){this.fireEvent("datehovered",{date1:i,date2:s})}else{this._markDatesBetweenStartAndHoveredDate(i,s)}};k.prototype._getCalendarWeekNumbering=function(){if(this.isPropertyInitial("calendarWeekNumbering")){return}return this.getCalendarWeekNumbering()};k.prototype._markDatesBetweenStartAndHoveredDate=function(e,t){var a,i,s,r;a=this.$().find(".sapUiCalItem");if(e>t){e=e+t;t=e-t;e=e-t}for(r=0;r<a.length;r++){i=jQuery(a[r]);s=i.data("sapDay");if(s>e&&s<t&&this._isInAllowedRange(s)){i.addClass("sapUiCalItemSelBetween")}else{i.removeClass("sapUiCalItemSelBetween");if(s!=e&&s!=t){i.removeClass("sapUiCalItemSel")}}}};k.prototype._isInAllowedRange=function(e){return this._oFormatYyyymmdd.parse(e).getTime()>this._oMinDate.toLocalJSDate().getTime()&&this._oFormatYyyymmdd.parse(e).getTime()<this._oMaxDate.toLocalJSDate().getTime()};k.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!_(this.getDomRef(),r.getElementById(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){this._unbindMousemove(true);var t=this._selectDay(this._getDate());if(!t&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;A.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;A.call(this)}}};k.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};k.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};k.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};k.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};k.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};k.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};k.prototype.setDate=function(e){if(e){var t=g.fromLocalJSDate(e,this._getPrimaryCalendarType());P.call(this,t)}return this.setProperty("date",e)};k.prototype._getDate=function(){if(!this._oDate){this._oDate=g.fromLocalJSDate(C.getInstance(),this._getPrimaryCalendarType())}return this._oDate};k.prototype.displayDate=function(e){var t=g.fromLocalJSDate(e,this._getPrimaryCalendarType());P.call(this,t);return this};k.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatLong=p.getInstance({style:"long",calendarType:e});if(this._oDate){this._oDate=new g(this._oDate,e)}return this};k.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oFormatSecondaryLong=p.getInstance({style:"long",calendarType:e});return this};k.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};k.prototype._getLocale=function(){var t=this.getParent();if(t&&t.getLocale){return t.getLocale()}else if(!this._sLocale){this._sLocale=new f(e.getLanguageTag()).toString()}return this._sLocale};k.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new f(t);this._oLocaleData=n.getInstance(a)}return this._oLocaleData};k.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!==e){var t=new f(e);this._oFormatLong=p.getInstance({style:"long",calendarType:this._getPrimaryCalendarType()},t);if(this._oFormatSecondaryLong){this._oFormatSecondaryLong=p.getInstance({style:"long",calendarType:this._getSecondaryCalendarType()},t)}}return this._oFormatLong};k.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};k.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};k.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};k.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};k.prototype.getDisabledDates=function(){var e=this.getParent();if(e&&e.getDisabledDates){return e.getDisabledDates()}else{return this.getAggregation("disabledDates",[])}};k.prototype.getPrimaryCalendarType=function(){var e=this.getParent();if(e&&e.getPrimaryCalendarType){return e.getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")};k.prototype._getPrimaryCalendarType=function(){var t=this.getParent();if(t&&t._getPrimaryCalendarType){return t._getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")||e.getCalendarType()};k.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowMonthHeader){return e._getShowMonthHeader()}else{return this.getProperty("showHeader")}};k.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};k.prototype.getLegend=function(){var e=this.getParent();if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend")}};k.prototype._getFirstDayOfWeek=function(){var e=this.getParent();var t=0;if(e&&e.getFirstDayOfWeek){t=e.getFirstDayOfWeek()}else{t=this.getProperty("firstDayOfWeek")}if(t<0||t>6){var a=S.getWeekConfigurationValues(this._getCalendarWeekNumbering(),new f(this._getLocale()));if(a){t=a.firstDayOfWeek}else{var i=this._getLocaleData();t=i.getFirstDayOfWeek()}}return t};k.prototype._getNonWorkingDays=function(){var e=this.getParent();var t;if(e&&e.getNonWorkingDays){t=e.getNonWorkingDays()}else{t=this.getProperty("nonWorkingDays")}if(t&&!Array.isArray(t)){t=[]}return t};k.prototype._isSpecialDateMarkerEnabled=function(e){var t;if(this.getStartDate){t=this.getStartDate()}else if(this.getDate()){t=this.getDate()}else{t=C.getInstance()}return this._bAlwaysShowSpecialDates||h._isSameMonthAndYear(e,g.fromLocalJSDate(t))};k.prototype._checkDateSelected=function(e){h._checkCalendarDate(e);var t=0,a=this.getSelectedDates(),i=this._getPrimaryCalendarType(),s=0,r=this.getProperty("_focusedDate"),o=false,n=this.getParent(),l=this._bCalendar&&n.getMonths(),d,u;for(s=0;s<a.length;s++){var c=a[s],p=c.getStartDate()?g.fromLocalJSDate(c.getStartDate(),i):undefined,y=c.getEndDate()?g.fromLocalJSDate(c.getEndDate(),i):undefined;if(p&&y){u=this._arrangeStartAndEndDates(p,y);p=u.startDate;y=u.endDate}d=r&&p&&l===1&&r.getMonth()!==p.getMonth();o=this._isMarkingUnfinishedRangeAllowed()&&r&&!d&&(h._isBetween(e,p,r,true)||h._isBetween(e,r,p,true));if(p&&!y&&e.isSame(p)){t=1;break}else if(y&&e.isSame(p)){t=2;if(e.isSame(y)){t=5}break}else if(y&&e.isSame(y)){t=3;break}else if(y&&e.isAfter(p)&&e.isBefore(y)||o){t=4;break}if(this.getSingleSelection()){break}}return t};k.prototype._getDateTypes=function(e){h._checkCalendarDate(e);var t,a,i,s=[];var r=this._getSpecialDates();var o=e.toUTCJSDate().getTime();var n=C.getInstance(Date.UTC(0,0,1));for(var l=0;l<r.length;l++){var g=r[l];var d=g.getStartDate();var u=h.MAX_MILLISECONDS;if(d){n.setUTCFullYear(d.getFullYear(),d.getMonth(),d.getDate());u=n.getTime()}var c=g.getEndDate();var p=-h.MAX_MILLISECONDS;if(c){n.setUTCFullYear(c.getFullYear(),c.getMonth(),c.getDate());p=n.getTime()}i=g.getType()===T.NonWorking;if(o===u&&!c||o>=u&&o<=p){if(!i&&!t){t={type:g.getType(),secondaryType:g.getSecondaryType(),tooltip:g.getTooltip_AsString(),color:g.getColor()};s.push(t)}else if(i&&!a){a={type:g.getType(),secondaryType:g.getSecondaryType(),tooltip:g.getTooltip_AsString()};s.push(a)}if(t&&a){break}}}return s};k.prototype._checkDateEnabled=function(e){h._checkCalendarDate(e);var t=true;var a=this.getDisabledDates();var i=e.toUTCJSDate().getTime();var s=this._getPrimaryCalendarType();if(this._oMinDate&&i<this._oMinDate||this._oMaxDate&&i>this._oMaxDate){return false}for(var r=0;r<a.length;r++){var o=a[r];var n=o.getStartDate();var l=0;if(n){n=g.fromLocalJSDate(n,s);l=n.toUTCJSDate().getTime()}var d=o.getEndDate();var u=0;if(d){d=g.fromLocalJSDate(d,s);u=d.toUTCJSDate().getTime()}if(d){if(i>l&&i<u){t=false;break}}else if(i===l){t=false;break}}return t};k.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){this._unbindMousemove(true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(this._sLastTargetId&&this._sLastTargetId===t.attr("id")){return}this._sLastTargetId=t.attr("id");if(t.hasClass("sapUiCalItem")){var a=this._getDate();if(_(this.getDomRef(),e.target)){var i=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(t.attr("data-sap-day")),this._getPrimaryCalendarType());if(!i.isSame(a)){this._oDate=i;var s=this._selectDay(i,true);if(s){this._oMoveSelectedDate=new g(i,this._getPrimaryCalendarType())}this._bMoveChange=true}}}};k.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY};if(e.button||s.support.touch||!this._isWeekSelectionAllowed()||!e.target.classList.contains("sapUiCalWeekNum")){return}var t=e.target,a=t.nextElementSibling,i=a.getAttribute("data-sap-day"),r=!a.classList.contains("sapUiCalItemOtherMonth"),o=this._oFormatYyyymmdd.parse(i),n=g.fromLocalJSDate(o,this._getPrimaryCalendarType());this._handleWeekSelection(n,r)};k.prototype.onmouseup=function(e){var t=e.button!==2;if(this._bMouseMove){this._unbindMousemove(true);var a=this._getDate();var i=this._oItemNavigation.getItemDomRefs();for(var r=0;r<i.length;r++){var o=jQuery(i[r]);if(!o.hasClass("sapUiCalItemOtherMonth")){if(o.attr("data-sap-day")===this._oFormatYyyymmdd.format(a.toUTCJSDate(),true)){o.trigger("focus");break}}}if(this._bMoveChange){var n=this._selectDay(a);if(!n&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;A.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;A.call(this)}else if(s.support.touch&&t&&this._areMouseEventCoordinatesInThreshold(e.clientX,e.clientY,10)){var l=e.target.classList,h=l.contains("sapUiCalItemText")||l.contains("sapUiCalDayName"),g=l.contains("sapUiCalWeekNum"),d=this._getSelectedDateFromEvent(e);if(g&&this._isWeekSelectionAllowed()){this._handleWeekSelection(d,true)}else if(h&&e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(d)}else if(h){this._selectDay(d,false,false);A.call(this)}}};k.prototype.onsapselect=function(e){var t=this.getParent();if(this.bSpaceButtonPressed){return}if(t&&t._isMultiDatesSelectionHeaderAllowed&&!t._isMultiDatesSelectionHeaderAllowed()){return}var a=this._selectDay(this._getSelectedDateFromEvent(e));if(a){A.call(this)}e.stopPropagation();e.preventDefault()};k.prototype.onkeydown=function(e){if(e.which===m.SPACE){this.bSpaceButtonPressed=true}};k.prototype.onkeyup=function(e){if(e.which===m.SPACE){this.bSpaceButtonPressed=false}};k.prototype.onsapselectmodifiers=function(e){var t=this._getSelectedDateFromEvent(e),a,i=this.getParent();if(this._isWeekSelectionAllowed()&&e.shiftKey&&e.keyCode===m.SPACE){if(i&&i._isMultiDatesSelectionHeaderAllowed&&!i._isMultiDatesSelectionHeaderAllowed()){return}a=h._getFirstDateOfWeek(t);this._handleWeekSelection(a,false)}else if(this._isConsecutiveDaysSelectionAllowed()&&e.shiftKey&&e.keyCode===m.ENTER){this._handleConsecutiveDaysSelection(t)}e.preventDefault()};k.prototype.onsappageupmodifiers=function(e){var t=new g(this._getDate(),this._getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{t.setYear(a-1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};k.prototype.onsappagedownmodifiers=function(e){var t=new g(this._getDate(),this._getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{t.setYear(a+1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};k.prototype._isValueInThreshold=function(e,t,a){var i=e-a,s=e+a;return t>=i&&t<=s};k.prototype._areMouseEventCoordinatesInThreshold=function(e,t,a){return this._oMousedownPosition&&this._isValueInThreshold(this._oMousedownPosition.clientX,e,a)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t,a)?true:false};k.prototype._bindMousemove=function(e){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true;if(e){this.fireEvent("_bindMousemove")}};k.prototype._unbindMousemove=function(e){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined;this._sLastTargetId=undefined;if(e){this.fireEvent("_unbindMousemove")}};k.prototype.onThemeChanged=function(){if(this._bNoThemeChange||!this.getDomRef()){return}var e=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),t=this._getLocaleData(),a=this._getFirstWeekDay(),i=t.getDaysStandAlone("abbreviated",this._getPrimaryCalendarType()),s,r;this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;for(r=0;r<e.length;r++){s=e[r];s.textContent=i[(r+a)%7]}N.call(this)};k.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var a=0;var i=this._getDate();var s=new g(i,this._getPrimaryCalendarType());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===m.ARROW_DOWN){s.setDate(s.getDate()+7)}else{s.setDate(s.getDate()+1)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===m.ARROW_UP){s.setDate(s.getDate()-7)}else{s.setDate(s.getDate()-1)}break;case"sappagedown":a=s.getMonth()+1;s.setMonth(a);if(a%12!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;case"sappageup":a=s.getMonth()-1;s.setMonth(a);if(a<0){a=11}if(a!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;default:break}this.fireFocus({date:s.toLocalJSDate(),otherMonth:true})}};k.prototype.checkDateFocusable=function(e){h._checkJSDateObject(e);var t=this._getDate();var a=g.fromLocalJSDate(e,this._getPrimaryCalendarType());return h._isSameMonthAndYear(a,t)};k.prototype.applyFocusInfo=function(e){return this};k.prototype._getFirstWeekDay=function(){return this._getFirstDayOfWeek()};k.prototype._isMonthNameLong=function(e){var t;var a;for(t=0;t<e.length;t++){a=e[t];if(Math.abs(a.clientWidth-a.scrollWidth)>1){return true}}return false};k.prototype._getVisibleDays=function(e,t){var a=42,i=this.getProperty("_renderMonthWeeksOnly"),s,r,o,n,l,h,d,u;if(!e){return this._aVisibleDays}this._aVisibleDays=[];d=this._getFirstDayOfWeek();h=new g(e,this._getPrimaryCalendarType());h.setDate(1);l=h.getDay()-d;if(l<0){l=7+l}if(l>0){h.setDate(1-l)}o=new g(h);r=(e.getMonth()+1)%12;for(let e=0;e<a;e++){u=o.getYear();n=new g(o,this._getPrimaryCalendarType());if(t&&u<1){n._bBeforeFirstYear=true;this._aVisibleDays.push(n)}else if(u>0&&u<1e4){this._aVisibleDays.push(n)}o.setDate(o.getDate()+1);s=o.getMonth()===r&&o.getDay()===d;if(i&&s){break}}return this._aVisibleDays};k.prototype._handleMousedown=function(e,t){var a=e.target.classList.contains("sapUiCalWeekNum"),i=!e.button,r=this._getSelectedDateFromEvent(e);if(!i||s.support.touch){return this}if(a){this._isWeekSelectionAllowed()&&this._handleWeekSelection(r,true);return this}else if(e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(r);return this}var o=this._selectDay(t);if(o){this._bMousedownChange=true}if(this._bMouseMove){this._unbindMousemove(true);this._bMoveChange=false;this._oMoveSelectedDate=undefined}else if(o&&this.getIntervalSelection()&&this.$().is(":visible")){this._bindMousemove(true);this._oMoveSelectedDate=new g(t,this._getPrimaryCalendarType())}e.preventDefault();e.setMark("cancelAutoClose")};k.prototype._getSelectedDateFromEvent=function(e){var t=e.target,a,i;if(t.classList.contains("sapUiCalWeekNum")){a=t.nextSibling.getAttribute("data-sap-day")}else{a=t.getAttribute("data-sap-day")||t.parentNode.getAttribute("data-sap-day")}i=this._oFormatYyyymmdd.parse(a);return i?g.fromLocalJSDate(i,this._getPrimaryCalendarType()):null};k.prototype._handleWeekSelection=function(e,t){var a=this._calculateWeekNumber(e),i=this._getLastWeekDate(e),s=this.getSingleSelection(),r=this.getIntervalSelection(),o=this._checkDateEnabled(e)?e:null,n=this._checkDateEnabled(i)?i:null;if(e.isAfter(this._oMaxDate)||i.isBefore(this._oMinDate)){return this}if(!o){o=new g(this._oMinDate)}if(!n){n=new g(this._oMaxDate)}if(!s&&!r){this._handleWeekSelectionByMultipleDays(a,o,n)}else if(s&&r){this._handleWeekSelectionBySingleInterval(a,o,n)}t&&this._focusDate(o);return this};k.prototype._handleConsecutiveDaysSelection=function(e){var t=this.getSelectedDates(),a=t.length&&t[t.length-1].getStartDate(),i=a?g.fromLocalJSDate(a):e,s;s=this._areAllDaysBetweenSelected(i,e);this._toggleDaysBetween(i,e,!s);return this};k.prototype._calculateWeekNumber=function(e){return h.calculateWeekNumber(e,this._getPrimaryCalendarType(),this._getLocale(),this._getCalendarWeekNumbering(),this._getFirstDayOfWeek())};k.prototype._isWeekSelectionAllowed=function(){var e=this.getSingleSelection(),a=this.getIntervalSelection(),i=this._getPrimaryCalendarType(),s=this.getFirstDayOfWeek()!==-1,r=!e&&!a,o=e&&a,n=o||r;return i===t.Gregorian&&!s&&n};k.prototype._isConsecutiveDaysSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection();return!e&&!t};k.prototype._isMarkingUnfinishedRangeAllowed=function(){var e=this.getSelectedDates()[0],t=!!(e&&e.getStartDate()&&!e.getEndDate());return this.getIntervalSelection()&&t};k.prototype._handleWeekSelectionByMultipleDays=function(e,t,a){var i,s,r;i=this._areAllDaysBetweenSelected(t,a)?new d({startDate:t.toLocalJSDate()}):new d({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()});s=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});r=i.getEndDate()?true:false;if(s){this._toggleDaysBetween(t,a,r)}return this};k.prototype._handleWeekSelectionBySingleInterval=function(e,t,a){var i=new d({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()}),s=this.getParent(),r=this,o;if(s&&s.getSelectedDates){r=s}if(this._isIntervalSelected(i)){i=null}o=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});if(o){r.removeAllSelectedDates();r.addSelectedDate(i)}return this};k.prototype._isIntervalSelected=function(e){var t=this.getSelectedDates(),a=t.length&&t[0],i=a&&a.getEndDate();return a&&a.getStartDate()&&a.getStartDate().getTime()===e.getStartDate().getTime()&&i&&a.getEndDate()&&a.getEndDate().getTime()===e.getEndDate().getTime()};k.prototype._getLastWeekDate=function(e){return new g(e).setDate(e.getDate()+6)};k.prototype._toggleDaysBetween=function(e,t,a){var i=this._arrangeStartAndEndDates(e,t),s=new g(i.startDate),r;do{r=this._checkDateSelected(s);if(!r&&a||r&&!a){this._selectDay(s);A.call(this)}s.setDate(s.getDate()+1)}while(s.isSameOrBefore(i.endDate));return this};k.prototype._areAllDaysBetweenSelected=function(e,t){var a=this._arrangeStartAndEndDates(e,t),i=new g(a.startDate),s=true;do{if(!this._checkDateSelected(i)){s=false;break}i.setDate(i.getDate()+1)}while(i.isSameOrBefore(a.endDate));return s};k.prototype._arrangeStartAndEndDates=function(e,t){var a=e.isSameOrBefore(t);return{startDate:a?e:t,endDate:a?t:e}};k.prototype._selectDay=function(e,t){if(!this._checkDateEnabled(e)){return false}var a=this.getSelectedDates();var i;var s=this._oItemNavigation.getItemDomRefs();var r;var o;var n=0;var l=this.getParent();var h=this;var u;var c=this._getPrimaryCalendarType();if(l&&l.isA("sap.ui.unified.Calendar")){h=l}if(this.getSingleSelection()){if(a.length>0){i=a[0];u=i.getStartDate();if(u){u=g.fromLocalJSDate(u,c)}}else{i=new d;h.addAggregation("selectedDates",i,true)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&u){var p;if(e.isBefore(u)){p=u;u=e;if(!t){i.setProperty("startDate",u.toLocalJSDate());i.setProperty("endDate",p.toLocalJSDate())}}else if(e.isSameOrAfter(u)){p=e;if(!t){i.setProperty("endDate",p.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),M.Assertive)}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var y=this._checkDateSelected(e);if(y>0){for(n=0;n<a.length;n++){u=a[n].getStartDate();if(u&&e.isSame(g.fromLocalJSDate(u,c))){h.removeAggregation("selectedDates",n);break}}}else{this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),M.Assertive);i=new d({startDate:e.toLocalJSDate()});h.addAggregation("selectedDates",i)}o=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true);for(n=0;n<s.length;n++){r=jQuery(s[n]);if(r.attr("data-sap-day")===o){if(y>0){r.removeClass("sapUiCalItemSel");r.attr("aria-selected","false")}else{r.addClass("sapUiCalItemSel");r.attr("aria-selected","true")}}}}}return true};k.prototype._getSpecialDates=function(){var e=this.getParent();if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===c.CalendarDayType.NonWorking&&t[a].getType()!==c.CalendarDayType.NonWorking;if(i){var s=new u;s.setType(c.CalendarDayType.NonWorking);s.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){s.setEndDate(t[a].getEndDate())}t.push(s)}}return t}};function I(){var e=this._oFormatYyyymmdd.format(this._getDate().toUTCJSDate(),true),t=0,a=this.getDomRef(),i=a.querySelectorAll(".sapUiCalItem");for(var s=0;s<i.length;s++){if(i[s].getAttribute("data-sap-day")===e){t=s;break}}if(!this._oItemNavigation){this._oItemNavigation=new l;this._oItemNavigation.attachEvent(l.Events.AfterFocus,L,this);this._oItemNavigation.attachEvent(l.Events.FocusAgain,w,this);this._oItemNavigation.attachEvent(l.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(this._iColumns>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this._iColumns,true)}this._oItemNavigation.setRootDomRef(a);this._oItemNavigation.setItemDomRefs(i);this._oItemNavigation.setFocusedIndex(t);this._oItemNavigation.setPageSize(i.length)}function L(e){var t=e.getParameter("index"),a=e.getParameter("event"),i=this._getDate(),s=new g(i,this._getPrimaryCalendarType()),r=false,o=true,n=this._oItemNavigation.getItemDomRefs(),l=n[t],h=l.getAttribute("data-sap-day"),d;if(!a){return}if(l.classList.contains("sapUiCalItemOtherMonth")||l.classList.contains("sapUiCalItemDsbl")){if(a.type==="saphomemodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=0;u<n.length;++u){d=n[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day")),this._getPrimaryCalendarType());break}}this._focusDate(s)}else if(a.type==="sapendmodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=n.length-1;u>0;--u){d=n[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day")),this._getPrimaryCalendarType());break}}this._focusDate(s)}else{r=true;s=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(h),this._getPrimaryCalendarType());if(!s){s=new g(i)}this._focusDate(i);if(a.type==="mousedown"||this._sTouchstartYyyyMMdd&&a.type==="focusin"&&this._sTouchstartYyyyMMdd===h||l.classList.contains("sapUiCalItemDsbl")){o=false;this.fireFocus({date:i.toLocalJSDate(),otherMonth:false,restoreOldDate:true})}this._sTouchstartYyyyMMdd=a.originalEvent&&a.originalEvent.type==="touchstart"?h:undefined}}else{if(a.target.classList.contains("sapUiCalWeekNum")){this._focusDate(s)}else{s=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(h),this._getPrimaryCalendarType());this._oDate=s}this._sTouchstartYyyyMMdd=undefined}if(a.type==="mousedown"&&this.getIntervalSelection()){this._sLastTargetId=l.id}if(o){this.fireFocus({date:s.toLocalJSDate(),otherMonth:r})}if(a.type==="mousedown"){this._handleMousedown(a,s,t)}}function w(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type==="mousedown"){var i=this._getDate();if(this.getIntervalSelection()){var s=this._oItemNavigation.getItemDomRefs();this._sLastTargetId=s[t].id}this._handleMousedown(a,i,t)}}function P(e){h._checkCalendarDate(e);var t=e.getYear();h._checkYearInValidRange(t);if(!this.getDate()||!e.isSame(g.fromLocalJSDate(this.getDate(),e.getCalendarType()))){var a=new g(e);this.setProperty("date",e.toLocalJSDate());this._oDate=a}else{this.invalidate()}}k.prototype._focusDate=function(e,t,a){if(!t){this.setDate(e.toLocalJSDate())}var i=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true),r=this._oItemNavigation.getItemDomRefs(),o;for(var n=0;n<r.length;n++){o=r[n];if(o.getAttribute("data-sap-day")===i){if(document.activeElement!==r[n]){if(a||s.system.phone){this._oItemNavigation.setFocusedIndex(n)}else{this._oItemNavigation.focusItem(n)}}break}}};function A(){if(this._bMouseMove){this._unbindMousemove(true)}this.fireSelect()}function N(){if(!this._bNamesLengthChecked){var e,t=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),a=this._isMonthNameLong(t),i,s,r,o;if(a){this._bLongWeekDays=false;i=this._getLocaleData();s=this._getFirstWeekDay();r=i.getDaysStandAlone("narrow",this._getPrimaryCalendarType());for(o=0;o<t.length;o++){e=t[o];e.textContent=r[(o+s)%7]}}else{this._bLongWeekDays=true}this._bNamesLengthChecked=true}}return k});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPicker", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/library","sap/ui/core/Locale","./MonthPickerRenderer","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/unified/DateRange","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/core/date/UI5Date"],function(t,e,a,i,s,o,n,r,h,jQuery,l,g,c,f,d){"use strict";var u=12,p=2,_={OneYearBackward:-1,OneYearForward:1};var m=a.extend("sap.ui.unified.calendar.MonthPicker",{metadata:{library:"sap.ui.unified",properties:{month:{type:"int",group:"Data",defaultValue:0},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},_singleSelection:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"},_showSelectedRange:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},columns:{type:"int",group:"Appearance",defaultValue:3},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},_firstMonth:{type:"int",group:"Data",visibility:"hidden",defaultValue:0},_focusedMonth:{type:"int",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{},pageChange:{}}},renderer:h});m.prototype.init=function(){this._iMinMonth=0;this._iMaxMonth=11};m.prototype.onAfterRendering=function(){var t,e=this.getMonth(),a=this.getMonths(),i=this.getProperty("_firstMonth"),s=this.getProperty("_focusedMonth"),o=this._oItemNavigation?this._oItemNavigation.getFocusedIndex():0;M.call(this);S.call(this);if(this.getColumns()>0){t=s%a;var n=parseInt(u/a),r=n*a;if(s>=r){t=12-r+1+t}}else if(e<i||e>i+a-1){t=o}else{t=e-i}this._oItemNavigation.focusItem(t)};m.prototype.setMonth=function(t){var e=Math.floor(t/this.getMonths())*this.getMonths();if(e+this.getMonths()>12){e=12-this.getMonths()}this.setProperty("month",t);this.setProperty("_focusedMonth",t);this.setProperty("_firstMonth",e);t=this.getProperty("month");if(t<0||t>11){throw new Error("Property month must be between 0 and 11; "+this)}if(this.getIntervalSelection()){this._oItemNavigation&&this._oItemNavigation.focusItem(t);return this}if(this.getDomRef()){if(this.getMonths()<12){var a=this.getStartMonth();if(t>=a&&t<=a+this.getMonths()-1){this._selectMonth(t,true);this._oItemNavigation.focusItem(t-a)}else{v.call(this,t)}}else{this._selectMonth(t,true);this._oItemNavigation.focusItem(t)}}return this};m.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};m.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||t.getCalendarType()};m.prototype._getSelectedDates=function(){var t=this.getSelectedDates(),e;if(t){return t}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new g];e=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());e.setMonth(this.getMonth(),1);this._iYear&&e.setYear(this._iYear);this._aMPSelectedDates[0].setStartDate(e.toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};m.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(t){t.destroy()});this._aMPSelectedDates=undefined}};m.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};m.prototype.setIntervalSelection=function(t){this._setShowSelectedRange(t);return this.setProperty("intervalSelection",t)};m.prototype._setShowSelectedRange=function(t){return this.setProperty("_showSelectedRange",t)};m.prototype._getShowSelectedRange=function(){return this.getProperty("_showSelectedRange")};m.prototype._setSelectedDatesControlOrigin=function(t){this._oSelectedDatesControlOrigin=t};m.prototype._setYear=function(t){this._iYear=t};m.prototype._setDate=function(t){this._oDate=t};m.prototype._getLocale=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocale){return e._getLocale()}else if(!this._sLocale){this._sLocale=new r(t.getLanguageTag()).toString()}return this._sLocale};m.prototype._getLocaleData=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocaleData){return t._getLocaleData()}else if(!this._oLocaleData){var e=this._getLocale();var a=new r(e);this._oLocaleData=s.getInstance(a)}return this._oLocaleData};m.prototype.onsapspace=function(t){t.preventDefault()};m.prototype.onsapselect=function(t){var e=this._oItemNavigation.getFocusedIndex();var a=e+this.getStartMonth();if(a>=this._iMinMonth&&a<=this._iMaxMonth){this._selectMonth(a);this.fireSelect()}};m.prototype.onmousedown=function(t){this._oMousedownPosition={clientX:t.clientX,clientY:t.clientY}};m.prototype.onmouseup=function(t){var e=t.target,a=this._getSelectedDates()[0],s,o,n;if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&e.classList.contains("sapUiCalItem")&&a){s=f.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());o=a.getEndDate();n=this._extractMonth(e);if(n!==s.getMonth()&&!o&&n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this._oItemNavigation.focusItem(n)}}this.fireSelect()}else if(i.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,t.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t.clientY,10)){n=this._oItemNavigation.getFocusedIndex()+this.getStartMonth();if(n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this.fireSelect()}}};m.prototype.onmouseover=function(t){var e=t.target,a=this._getSelectedDates()[0],i,s;if(!a){return}if(a.getStartDate()){i=f.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());i.setDate(1)}if(e.classList.contains("sapUiCalItem")){s=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());s.setMonth(this._extractMonth(e),1);this._iYear&&s.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(i,s)}}};m.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}if(!this.getDomRef()){return}var t=this._oItemNavigation.getItemDomRefs(),e=this._getLocaleData(),a=e.getMonthsStandAlone("wide",this._getPrimaryCalendarType()),i,s;this._bNamesLengthChecked=undefined;this._bLongMonth=false;for(i=0;i<t.length;i++){s=jQuery(t[i]);s.text(a[i])}S.call(this)};m.prototype.nextPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a+i;if(a>u-1){a=u-1}v.call(this,a);var s=Math.floor(this.getStartMonth()+this.getMonths())%u;if(s+this.getMonths()>12){s=12-this.getMonths()}this.setProperty("_firstMonth",s);return this};m.prototype.previousPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a-i;if(a<0){a=0}v.call(this,a);var s=Math.floor(this.getStartMonth()-this.getMonths())%u;if(s<0){s=0}this.setProperty("_firstMonth",s);return this};m.prototype.setMinMax=function(t,e){var a,i,s,o;if(t==this._iMinMonth&&e==this._iMaxMonth){return this}t=parseInt(t);if(isNaN(t)||t<0||t>11){t=0}e=parseInt(e);if(isNaN(e)||e<0||e>11){e=11}if(t<=e){this._iMinMonth=t;this._iMaxMonth=e}else{this._iMaxMonth=t;this._iMinMonth=e}if(this.getDomRef()){a=this._oItemNavigation.getItemDomRefs();for(o=0;o<a.length;o++){i=jQuery(a[o]);s=this._extractMonth(a[o]);if(s<this._iMinMonth||s>this._iMaxMonth){i.addClass("sapUiCalItemDsbl");i.attr("aria-disabled",true)}else{i.removeClass("sapUiCalItemDsbl");i.removeAttr("aria-disabled")}}}return this};m.prototype.getStartMonth=function(){return this.getProperty("_firstMonth")};m.prototype._isValueInThreshold=function(t,e,a){var i=t-a,s=t+a;return e>=i&&e<=s};m.prototype._getSecondaryCalendarType=function(){var t=this.getSecondaryCalendarType();if(t===this._getPrimaryCalendarType()){return undefined}return t};m.prototype._getDisplayedSecondaryDates=function(t){var e=this.getSecondaryCalendarType(),a=new f(this._oDate?this._oDate:f.fromLocalJSDate(d.getInstance()),this._getPrimaryCalendarType()),i,s;a.setMonth(t);a.setDate(1);i=new f(a,e);a.setDate(c._daysInMonth(a));s=new f(a,e);return{start:i,end:s}};function M(){var t=this.getDomRef(),e=this.$().find(".sapUiCalItem"),a=this.getColumns();if(!this._oItemNavigation){this._oItemNavigation=new o;this._oItemNavigation.attachEvent(o.Events.AfterFocus,this._handleAfterFocus,this);this._oItemNavigation.attachEvent(o.Events.FocusAgain,y,this);this._oItemNavigation.attachEvent(o.Events.BorderReached,D,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(e);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(a,true);var i=this.getMonth()-this.getStartMonth();this._oItemNavigation.setFocusedIndex(i);this._oItemNavigation.setPageSize(e.length)}m.prototype._handleAfterFocus=function(t){var e=t.getParameter("index"),a=t.getParameter("event"),i=this._oItemNavigation.aItemDomRefs[e],s=this._getSelectedDates()[0],o,n;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,e)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=f.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());o.setDate(1)}n=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());n.setMonth(this._extractMonth(i),1);this._iYear&&n.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(o,n)}}};function y(t){this._handleAfterFocus(t)}m.prototype._isSelectionInProgress=function(){const t=this._getShowSelectedRange();const e=this._getSelectedDates()[0];if(!e){return false}return t&&e.getStartDate()&&!e.getEndDate()};m.prototype._extractMonth=function(t){var e=this.getId().length+p;return parseInt(t.id.slice(e))};m.prototype._markInterval=function(t,e){var a=this._oItemNavigation.getItemDomRefs(),i=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType()),s;if(t.isAfter(e)){e=[t,t=e][0]}if(this._bMousedownChange){if(e.getMonth()>this._iMinMonth&&e.getMonth()<this._iMaxMonth){jQuery(a[e.getMonth()]).addClass("sapUiCalItemSel")}if(t.getMonth()>this._iMinMonth&&t.getMonth()<this._iMaxMonth){jQuery(a[t.getMonth()]).addClass("sapUiCalItemSel")}}for(s=0;s<a.length;++s){i.setMonth(this._extractMonth(a[s]),1);this._iYear&&i.setYear(this._iYear);if(c._isBetween(i,t,e)&&i.getMonth()>this._iMinMonth&&i.getMonth()<this._iMaxMonth){jQuery(a[s]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[s]).removeClass("sapUiCalItemSelBetween")}if(this._bMousedownChange&&!i.isSame(t)&&!i.isSame(e)){jQuery(a[s]).removeClass("sapUiCalItemSel")}}};m.prototype._handleMousedown=function(t,e){if(t.button||i.support.touch&&!i.system.combi){return}var a=e+this.getStartMonth();if(a>=this._iMinMonth&&a<=this._iMaxMonth){this._selectMonth(a);this._bMousedownChange=true}t.preventDefault();t.setMark("cancelAutoClose")};function D(t){var e=t.getParameter("event"),a=this._oItemNavigation.getFocusedIndex()+this.getStartMonth(),i=this.getMonths(),s=this.getColumns(),o=this._getSelectedDates()[0],n,r=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType()),h=s===0&&i<u;this._iYear&&r.setYear(this._iYear);if(o&&o.getStartDate()){n=f.fromLocalJSDate(o.getStartDate(),this._getPrimaryCalendarType());n.setDate(1)}if(e.type){switch(e.type){case"sapnext":case"sapnextmodifiers":if(h){this._oneRowChangePage(a,true)}else if(e.keyCode===l.ARROW_DOWN&&s<=i){if(a<u-i){v.call(this,a+s,false,_.OneYearForward)}else if(i===u){this.firePageChange({offset:_.OneYearForward});this._oItemNavigation.focusItem(a%s);r.setMonth(a%s,1);this.setProperty("_focusedMonth",a%s);this._isSelectionInProgress()&&this._markInterval(n,r)}else{if(s===0){s=i}v.call(this,a%s,true,_.OneYearForward)}}else{if(a<u-i){v.call(this,a+1,false,_.OneYearForward)}else if(i===u){this.firePageChange({offset:_.OneYearForward});this._oItemNavigation.focusItem(0);r.setMonth(0,1);this._isSelectionInProgress()&&this._markInterval(n,r)}else{v.call(this,0,true,_.OneYearForward)}}break;case"sapprevious":case"sappreviousmodifiers":if(h){this._oneRowChangePage(a)}else if(e.keyCode===l.ARROW_UP&&s<=i){if(a>=i){v.call(this,a-s,false,_.OneYearBackward)}else if(i===u){this.firePageChange({offset:_.OneYearBackward});this._oItemNavigation.focusItem(i-s+a);r.setMonth(i-s+a,1);this.setProperty("_focusedMonth",i-s+a);this._isSelectionInProgress()&&this._markInterval(n,r)}else{v.call(this,u-s+a,true,_.OneYearBackward)}}else{if(a>=i){v.call(this,a-1,false,_.OneYearBackward)}else if(i===u){this.firePageChange({offset:_.OneYearBackward});this._oItemNavigation.focusItem(i-1);r.setMonth(i-1,1);this._isSelectionInProgress()&&this._markInterval(n,r)}else{v.call(this,u-1,true,_.OneYearBackward)}}break;case"sappagedown":if(a<u-i){v.call(this,a+i,false,_.OneYearForward)}else if(i===u){this.firePageChange({offset:_.OneYearForward})}else{v.call(this,a,true,_.OneYearForward)}break;case"sappageup":if(a>i){v.call(this,a-i,false,_.OneYearBackward)}else if(i===u){this.firePageChange({offset:_.OneYearBackward})}else{v.call(this,a,true,_.OneYearBackward)}break;default:break}}}m.prototype._oneRowChangePage=function(t,e){var a=this.getProperty("_firstMonth"),i=this.getMonths(),s=e?a+i<u:a>0,o=e?1:-1;if(s){e&&this.nextPage()||this.previousPage();this.firePageChange({offset:0});this.setMonth(t+o)}};m.prototype._selectMonth=function(t,e){var a=this._getSelectedDates()[0],i=this.getAggregation("selectedDates"),s,o;this.setProperty("_focusedMonth",t);if(!a){return}!e&&this.setProperty("month",t);o=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());o.setMonth(t,1);this._iYear&&o.setYear(this._iYear);if(!this._oSelectedDatesControlOrigin){if(!i||!i.length){this.addAggregation("selectedDates",a,true)}!this.getIntervalSelection()&&a.setStartDate(o.toLocalJSDate())}if(this.getIntervalSelection()&&!e){if(!a.getStartDate()){a.setStartDate(o.toLocalJSDate())}else if(!a.getEndDate()){s=f.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());if(o.isBefore(s)){a.setEndDate(s.toLocalJSDate());a.setStartDate(o.toLocalJSDate())}else{a.setEndDate(o.toLocalJSDate())}}else{a.setStartDate(o.toLocalJSDate());a.setEndDate(undefined)}}};function S(){if(!this._bNamesLengthChecked){var t=0,e=this._oItemNavigation.getItemDomRefs(),a=false,i=this.getMonths(),s=Math.ceil(u/i),o=i-1;for(var n=0;n<s;n++){if(i<u){v.call(this,o);o=o+i;if(o>u-1){o=u-1}}for(t=0;t<e.length;t++){var r=e[t];if(Math.abs(r.clientWidth-r.scrollWidth)>1){a=true;break}}if(a){break}}if(i<u){o=this.getMonth();v.call(this,o)}if(a){this._bLongMonth=false;var h=this._getLocaleData(),l=this._getPrimaryCalendarType(),g=h.getMonthsStandAlone("abbreviated",l),c=h.getMonthsStandAlone("wide",l);for(t=0;t<e.length;t++){var f=jQuery(e[t]);f.text(g[t]);f.attr("aria-label",c[t])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function v(t,e,a){var i=this._getSelectedDates()[0],s,o;this.setProperty("_focusedMonth",t);if(i&&i.getStartDate()){s=f.fromLocalJSDate(i.getStartDate(),this._getPrimaryCalendarType());s.setDate(1)}if(i&&i.getEndDate()){o=f.fromLocalJSDate(i.getEndDate(),this._getPrimaryCalendarType());o.setDate(1)}else{o=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());this._iYear&&o.setYear(this._iYear);o.setMonth(t,1)}this._isSelectionInProgress()&&this._markInterval(s,o);if(e){this.firePageChange({offset:a})}}m.prototype._isMonthSelected=function(t){const e=this.getSelectedDates();const a=this._getShowSelectedRange();if(!(e&&e.length)){return false}const i=e[0];const s=i.getStartDate();const o=i.getEndDate();if(a&&s&&o){const e=f.fromLocalJSDate(s,this._getPrimaryCalendarType());const a=f.fromLocalJSDate(o,this._getPrimaryCalendarType());return c._isSameMonthAndYear(t,e)||c._isSameMonthAndYear(t,a)}const n=e=>{const a=e.getStartDate();if(a){const a=f.fromLocalJSDate(e.getStartDate(),this._getPrimaryCalendarType());return c._isSameMonthAndYear(t,a)}return false};if(this.getProperty("_singleSelection")){return n(i)}return e.some(n)};m.prototype._isMonthInsideSelectionRange=function(t){const e=this.getSelectedDates();const a=this._getShowSelectedRange();if(!(e&&e.length)){return false}const i=e[0];if(!i){return false}if(a){const e=i.getStartDate();const a=i.getEndDate();if(!e||!a){return false}const s=f.fromLocalJSDate(e,this._getPrimaryCalendarType());const o=f.fromLocalJSDate(a,this._getPrimaryCalendarType());s.setDate(1);o.setDate(c._daysInMonth(o));return c._isBetween(t,s,o,true)}return false};return m});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPickerRenderer", ["sap/ui/core/Lib","sap/ui/unified/calendar/CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date"],function(e,t,a,n,i){"use strict";var r={apiVersion:2};r.render=function(r,l){var s=l.getProperty("_firstMonth")!==undefined?l.getProperty("_firstMonth"):l.getMonth(),o=l.getMonths(),d=0,c=l.getColumns(),g=l.getTooltip_AsString(),p=l._getLocaleData(),f=l.getId(),u="",h=[],S=[],y=l.getPrimaryCalendarType(),M=l._getSecondaryCalendarType(),b=a.getDateInstance({format:"y",calendarType:l.getPrimaryCalendarType()}),C=l._iYear?l._iYear:i.getInstance().getFullYear(),_=b.format(i.getInstance(Date.UTC(C,0,1)),true),m,I,v;if(l._bLongMonth||!l._bNamesLengthChecked){h=p.getMonthsStandAlone("wide",y)}else{h=p.getMonthsStandAlone("abbreviated",y);S=p.getMonthsStandAlone("wide",y)}r.openStart("div",l);r.class("sapUiCalMonthPicker");if(M){r.class("sapUiCalMonthSecType")}if(g){r.attr("tooltip",g)}r.accessibilityState(l,{role:"grid",readonly:"true",multiselectable:l.getIntervalSelection(),roledescription:e.getResourceBundleFor("sap.ui.unified").getText("MONTH_PICKER"),describedby:l._bCalendar?n.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT"):""});r.openEnd();var T;if(o>12){o=12}else if(o<12){d=s}if(c>0){u=100/c+"%"}else{u=100/o+"%"}for(m=0;m<o;m++){var D=m+d,U=t.fromLocalJSDate(i.getInstance(),l.getPrimaryCalendarType());U.setMonth(D,1);l._iYear&&U.setYear(l._iYear);T={role:"gridcell"};if(!l._bLongMonth&&l._bNamesLengthChecked){T["label"]=S[D]}if(c>0&&m%c===0){r.openStart("div");r.accessibilityState(null,{role:"row"});r.openEnd()}r.openStart("div",f+"-m"+D);r.class("sapUiCalItem");I=l._isMonthSelected(U);v=l._isMonthInsideSelectionRange(U);if(I){r.class("sapUiCalItemSel");T["selected"]=true}if(v&&!I){r.class("sapUiCalItemSelBetween");T["selected"]=true}if(!I&&!v){T["selected"]=false}if(D<l._iMinMonth||D>l._iMaxMonth){r.class("sapUiCalItemDsbl");T["disabled"]=true}T["label"]=h[D]+" "+_;if(M){var P=l.getSecondaryCalendarType(),E=p.getMonthsStandAlone("abbreviated",P),A=a.getDateInstance({format:"y",calendarType:P}),L=l._getDisplayedSecondaryDates(D),x,Y,N;if(L.start.getMonth()===L.end.getMonth()){x=E[L.start.getMonth()];Y=A.format(L.start.toUTCJSDate(),true)}else{N=p.getIntervalPattern();x=N.replace(/\{0\}/,E[L.start.getMonth()]).replace(/\{1\}/,E[L.end.getMonth()]);Y=N.replace(/\{0\}/,A.format(L.start.toUTCJSDate(),true)).replace(/\{1\}/,A.format(L.end.toUTCJSDate(),true))}T["label"]=T["label"]+" "+x+" "+Y}r.attr("tabindex","-1");r.style("width",u);r.accessibilityState(null,T);r.openEnd();r.text(h[D]);if(M){r.openStart("div",f+"-m"+D+"-secondary");r.class("sapUiCalItemSecText");r.openEnd();r.text(x);r.close("div")}r.close("div");if(c>0&&(m+1)%c===0){r.close("div")}}r.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthRenderer", ["sap/base/i18n/date/CalendarType","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegend","sap/ui/unified/CalendarLegendRenderer","sap/ui/unified/library","sap/base/Log","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date","sap/ui/core/date/CalendarUtils","sap/ui/core/Locale"],function(e,a,t,i,n,r,s,o,l,d,c,p,g){"use strict";var u=o.CalendarDayType;var y={apiVersion:2};y.render=function(e,a){var i=this.getStartDate(a),n=a.getTooltip_AsString(),r=t.getResourceBundleFor("sap.ui.unified"),s=a.getId(),o={value:"",append:!a._bCalendar},l="",c=a.getWidth();e.openStart("div",a);this.getClass(e,a).forEach(function(a){e.class(a)});if(a._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}this.addWrapperAdditionalStyles(e,a);if(n){e.attr("title",n)}if(a._getShowHeader()){o.value=s+"-Head"}if(a._bCalendar){l=d.getStaticId("sap.ui.unified","CALENDAR_MONTH_PICKER_OPEN_HINT")+" "+d.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT")}if(c){e.style("width",c)}e.accessibilityState(a,{role:"grid",roledescription:a._bCalendar?"":r.getText("CALENDAR_DIALOG"),multiselectable:!a.getSingleSelection()||a.getIntervalSelection(),labelledby:o,describedby:l});e.openEnd();this.renderMonth(e,a,i);e.close("div")};y.addWrapperAdditionalStyles=function(){};y.getStartDate=function(e){return e._getDate()};y.getClass=function(a,t){var i=["sapUiCalMonthView"],n=t.getPrimaryCalendarType(),r=t.getShowWeekNumbers();if(n===e.Islamic||!r){i.push("sapUiCalNoWeekNum")}return i};y.renderMonth=function(e,a,t){this.renderHeader(e,a,t);this.renderDays(e,a,t)};y.renderHeader=function(e,a,t){var i=a._getLocaleData();var n=a._getFirstDayOfWeek();this.renderHeaderLine(e,a,i,t);e.openStart("div");e.accessibilityState(null,{role:"row"});e.style("overflow","hidden");e.openEnd();this.renderDayNames(e,a,i,n,7,true,undefined);e.close("div")};y.renderHeaderLine=function(e,a,t,n){i._checkCalendarDate(n);if(a._getShowHeader()){var r=a.getId();var s=a.getPrimaryCalendarType();var o=t.getMonthsStandAlone("wide",s);e.openStart("div",r+"-Head");e.class("sapUiCalHeadText");e.openEnd();e.text(o[n.getMonth()]);e.close("div")}};y.renderDayNames=function(a,t,i,n,r,s,o){var l=t._getFirstDayOfWeek();var d=t.getId();var c="";var p=t.getPrimaryCalendarType();var g=[];if(t._bLongWeekDays||!t._bNamesLengthChecked){g=i.getDaysStandAlone("abbreviated",p)}else{g=i.getDaysStandAlone("narrow",p)}var u=i.getDaysStandAlone("wide",p);if(t.getShowWeekNumbers()&&p!==e.Islamic){this.renderDummyCell(a,"sapUiCalWH",true,"columnheader")}for(var y=0;y<r;y++){if(s){c=d+"-WH"+(y+l)%7}else{c=d+"-WH"+y}a.openStart("div",c);a.class("sapUiCalWH");if(y===0){a.class("sapUiCalFirstWDay")}if(o){a.style("width",o)}a.accessibilityState(null,{role:"columnheader"});a.openEnd();a.openStart("span");a.attr("aria-hidden","true");a.openEnd();a.text(g[(y+n)%7]);a.close("span");a.openStart("span");a.class("sapUiPseudoInvisibleText");a.openEnd();a.text(u[(y+n)%7]);a.close("span");a.close("div")}};y.renderDays=function(a,t,n){var r,s,o,l,d,c,p;i._checkCalendarDate(n);if(!n){n=t._getFocusedDate()}c=n.toUTCJSDate().getTime();if(!c&&c!==0){throw new Error("Date is invalid "+t)}l=this.getDayHelper(t,n);s=t._getVisibleDays(n,true);p=t.getShowWeekNumbers();r=t.getPrimaryCalendarType()!==e.Islamic&&p;o=s.length;for(d=0;d<o;d++){if(d%7===0){a.openStart("div");a.attr("role","row");a.openEnd();if(r){this._renderWeekNumber(a,s[d],l,t)}}this.renderDay(a,t,s[d],l,true,r,-1);if(d%7===6||d===o-1){a.close("div")}}if(o===28){this.renderDummyCell(a,"sapUiCalItem",false,"")}};y.renderDummyCell=function(e,a,i,n){e.openStart("div");e.class(a);e.class("sapUiCalDummy");e.style("visibility",i?"visible":"hidden");e.attr("role",n);e.openEnd();e.openStart("span");e.class("sapUiPseudoInvisibleText");e.openEnd();e.text(t.getResourceBundleFor("sap.ui.unified").getText("CALENDAR_WEEK"));e.close("span");e.close("div")};y.isTypeAttributeRequired=function(e,a,t,i){const n=i.color?.toLowerCase();if(e){return t===n&&a===i.type}return a===""||a===u.None||a===i.type};y.isColorAttributeRequired=function(e,a,t,i,n){const r=e&&!a;const s=e===t&&i===n[0].type;const o=e===t&&(!i||i===u.None);if(r){return true}return s||o};y.getDayHelper=function(e,t){var i,s,o=e._getLocaleData(),d={sLocale:e._getLocale(),oLocaleData:o,iMonth:t.getMonth(),iYear:t.getYear(),iFirstDayOfWeek:e._getFirstDayOfWeek(),iWeekendStart:o.getWeekendStart(),iWeekendEnd:o.getWeekendEnd(),aNonWorkingDays:e._getNonWorkingDays(),sToday:o.getRelativeDay(0),oToday:n.fromLocalJSDate(c.getInstance(),e.getPrimaryCalendarType()),sId:e.getId(),oFormatLong:e._getFormatLong(),sPrimaryCalendarType:e.getPrimaryCalendarType(),sSecondaryCalendarType:e._getSecondaryCalendarType(),oLegend:undefined};s=e.getLegend();if(s&&typeof s==="string"){i=a.getElementById(s);if(i){if(!(i instanceof r)){throw new Error(i+" is not an sap.ui.unified.CalendarLegend. "+e)}d.oLegend=i}else{l.warning("CalendarLegend "+s+" does not exist!",e)}}return d};y.renderDay=function(e,a,t,r,o,l,c,y,f){i._checkCalendarDate(t);var C=new n(t,r.sSecondaryCalendarType),D={role:a._getAriaRole(),selected:false,label:"",describedby:a._getDayDescription()},b=t._bBeforeFirstYear,m="",S=r.oLegend;var h=a._oFormatYyyymmdd.format(t.toUTCJSDate(),true);var _=t.getDay();var v=a._checkDateSelected(t);var W=a._getDateTypes(t);var T=r&&r.oLegend?r.oLegend._getSpecialDateTypeFilter():"";var E=r?.oLegend?r.oLegend._getSpecialDateColorFilter().toLowerCase():"";var N=a._checkDateEnabled(t);var k=a._isSpecialDateMarkerEnabled(t);const I=W.length>0&&W[0].type;const L=W.length>0&&W[0].secondaryType;const U=r.aNonWorkingDays&&r.aNonWorkingDays instanceof Array?r.aNonWorkingDays.some(e=>t.getDay()===e):i._isWeekend(t,a._getLocaleData());const A=I!==u.Working&&L!==u.Working&&U;const w=I===u.NonWorking||L===u.NonWorking||A;const R=!!(T||E)&&(T!==u.None||E);const x=a._oUnifiedRB.getText("LEGEND_NON_WORKING_DAY");const F=d.getStaticId("sap.ui.unified","CALENDAR_START_DATE");const M=d.getStaticId("sap.ui.unified","CALENDAR_END_DATE");const O=[];if(b){N=false}e.openStart("div",r.sId+"-"+h);e.class("sapUiCalItem");e.class("sapUiCalWDay"+_);if(y){e.style("width",y)}if(_===r.iFirstDayOfWeek){e.class("sapUiCalFirstWDay")}if(o&&r.iMonth!==t.getMonth()){e.class("sapUiCalItemOtherMonth");D["disabled"]=true}if(t.isSame(r.oToday)){e.class("sapUiCalItemNow");O.push(a._oUnifiedRB.getText("LEGEND_TODAY"))}if(v>0){e.class("sapUiCalItemSel");D["selected"]=true}else{D["selected"]=false}if(v===2){e.class("sapUiCalItemSelStart");D["describedby"]=`${D["describedby"]} ${F}`.trim()}else if(v===3){e.class("sapUiCalItemSelEnd");D["describedby"]=`${D["describedby"]} ${M}`.trim()}else if(v===4){e.class("sapUiCalItemSelBetween")}else if(v===5){e.class("sapUiCalItemSelStart");e.class("sapUiCalItemSelEnd");D["describedby"]=`${D["describedby"]} ${F}`.trim();D["describedby"]=`${D["describedby"]} ${M}`.trim()}if(this.renderWeekNumbers&&a.getShowWeekNumbers()&&a._oDate){const e=p.getWeekConfigurationValues(a.getCalendarWeekNumbering(),new g(a._getLocale()));e.firstDayOfWeek=a._getFirstDayOfWeek();const r=n.fromUTCDate(i.getFirstDateOfWeek(t.toLocalJSDate(),e),a.getPrimaryCalendarType());D["describedby"]=D["describedby"]+" "+a.getId()+"-week-"+a._calculateWeekNumber(r)+"-text"}if(w){e.class("sapUiCalItemWeekEnd");O.push(x)}if(k){const a=this;W.forEach(function(t,i){if(t.type!==u.None){if(a.isTypeAttributeRequired(R,T,E,t)){if(i===0){e.class("sapUiCalItem"+t.type)}m=t.type;if(t.tooltip){O.push(t.tooltip)}}}})}if(O.length){const a=O.filter((e,a)=>O.indexOf(e)===a);e.attr("title",a.join(" "))}if((a.getParent()&&a.getParent().getMetadata().getName()==="sap.ui.unified.CalendarOneMonthInterval"||a.getMetadata().getName()==="sap.ui.unified.calendar.OneMonthDatesRow")&&a.getStartDate()&&r.iMonth!==t.getMonth()){e.class("sapUiCalItemOtherMonth")}if(!N){e.class("sapUiCalItemDsbl");D["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-day",h);if(f){D["label"]=D["label"]+r.aWeekDaysWide[_]+" "}D["label"]=D["label"]+r.oFormatLong.format(t.toUTCJSDate(),true);if(m!==""){s.addCalendarTypeAccInfo(D,m,S)}if(r.sSecondaryCalendarType){D["label"]=D["label"]+" "+a._oFormatSecondaryLong.format(C.toUTCJSDate(),true)}e.accessibilityState(null,D);e.openEnd();if(W[0]&&k){e.openStart("div");e.class("sapUiCalSpecialDate");const a=W[0].color?.toLowerCase();if(this.isColorAttributeRequired(a,R,E,T,W)){e.style("background-color",a)}e.openEnd();e.close("div")}e.openStart("span");e.class("sapUiCalItemText");if(W[0]&&W[0].color){e.class("sapUiCalItemTextCustomColor")}e.openEnd();if(!b){e.text(t.getDate())}e.close("span");if(f){e.openStart("span");e.class("sapUiCalDayName");e.openEnd();e.text(r.aWeekDays[_]);e.close("span")}if(r.sSecondaryCalendarType){e.openStart("span");e.class("sapUiCalItemSecText");e.openEnd();e.text(C.getDate());e.close("span")}e.close("div")};y._renderWeekNumber=function(e,a,t,i){var n=i._calculateWeekNumber(a);var r=t.sId+"-WNum-"+n;e.openStart("div",r);e.class("sapUiCalWeekNum");e.accessibilityState(null,{role:"rowheader",labelledby:d.getStaticId("sap.ui.unified","CALENDAR_WEEK")+" "+r});e.openEnd();e.text(n);e.close("div")};return y},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRow", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/Locale","./MonthsRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/date/UI5Date","sap/ui/core/InvisibleText"],function(e,t,a,i,r,o,n,s,l,h,g,p,c,u,jQuery,f,d,y){"use strict";var m=a.extend("sap.ui.unified.calendar.MonthsRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:c});m.prototype.init=function(){var e=this._getPrimaryCalendarType();this._oFormatYyyymm=g.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatOnlyYearLong=g.getInstance({pattern:"yyyy",calendarType:e});this._oFormatLong=g.getInstance({pattern:"MMMM y",calendarType:e});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=r.getResourceBundleFor("sap.ui.unified")};m.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatYyyymm=g.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatLong=g.getInstance({pattern:"MMMM y",calendarType:e});return this};m.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||e.getCalendarType()};m.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oFormatYearInSecType=g.getDateInstance({format:"y",calendarType:e});this._oFormatLongInSecType=g.getInstance({pattern:"MMMM y",calendarType:e});return this};m.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};m.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonths){clearTimeout(this._sInvalidateMonths)}if(this._invisibleDayHint){this._invisibleDayHint.destroy();this._invisibleDayHint=null}};m.prototype.onAfterRendering=function(){D.call(this);T.call(this)};m.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!u(this.getDomRef(),i.getElementById(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){w.call(this,true);I.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;L.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;L.call(this)}}};m.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};m.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};m.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};m.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};m.prototype.setDate=function(e){if(e){var t=l.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this._oDate=t;C.call(this,t,false)}return this.setProperty("date",e)};m.prototype._getDisplayedSecondaryDates=function(e,t){var a=this._getSecondaryCalendarType(),i,r,o;if(this._oDate){i=new l(this._oDate)}else{i=new l(l.fromLocalJSDate(d.getInstance()),this._getPrimaryCalendarType())}i.setYear(t);i.setMonth(e);i.setDate(1);r=new l(i,a);i.setDate(s._daysInMonth(i));o=new l(i,a);return{start:r,end:o}};m.prototype._getDate=function(){if(!this._oDate){this._oDate=l.fromLocalJSDate(d.getInstance(),this.getProperty("primaryCalendarType"))}return this._oDate};m.prototype.setStartDate=function(e){s._checkJSDateObject(e);var t,a,i;a=e.getFullYear();s._checkYearInValidRange(a);t=l.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this.setProperty("startDate",e,true);this._oStartDate=t;this._oStartDate.setDate(1);if(this.getDomRef()){i=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(i&&this.checkDateFocusable(i)){this.setDate(i)}}return this};m.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=l.fromLocalJSDate(d.getInstance(),this.getProperty("primaryCalendarType"));this._oStartDate.setDate(1)}return this._oStartDate};m.prototype.displayDate=function(e){C.call(this,l.fromLocalJSDate(e,this.getProperty("primaryCalendarType")),true);return this};m.prototype._getLocale=function(){var t=this.getParent();if(t&&t.getLocale){return t.getLocale()}else if(!this._sLocale){this._sLocale=new p(e.getLanguageTag()).toString()}return this._sLocale};m.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new p(t);this._oLocaleData=o.getInstance(a)}return this._oLocaleData};m.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new p(e);this._oFormatLong=g.getInstance({style:"long",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};m.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};m.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};m.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};m.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};m.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};m.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};m.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};m.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend")}};m.prototype._setAriaRole=function(e){this._ariaRole=e;return this};m.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};m.prototype._getMonthDescription=function(){return this._fnInvisibleHintFactory().getId()};m.prototype._fnInvisibleHintFactory=function(){if(!this._invisibleDayHint){this._invisibleDayHint=new y({text:r.getResourceBundleFor("sap.m").getText("SLIDETILE_ACTIVATE")}).toStatic()}return this._invisibleDayHint};m.prototype._checkDateSelected=function(e){var t,a,i,r,o=0,n=0,h=0,g=this.getProperty("primaryCalendarType"),p,c,u;s._checkCalendarDate(e);c=this.getSelectedDates();u=new l(e);u.setDate(1);r=u.toUTCJSDate().getTime();for(p=0;p<c.length;p++){t=c[p];a=t.getStartDate();o=0;if(a){a=l.fromLocalJSDate(a,g);a.setDate(1);o=a.toUTCJSDate().getTime()}i=t.getEndDate();n=0;if(i){i=l.fromLocalJSDate(i,g);i.setDate(1);n=i.toUTCJSDate().getTime()}if(r==o&&!i){h=1;break}else if(r==o&&i){h=2;if(i&&r==n){h=5}break}else if(i&&r==n){h=3;break}else if(i&&r>o&&r<n){h=4;break}if(this.getSingleSelection()){break}}return h};m.prototype._getDateType=function(e){s._checkCalendarDate(e);var t,a,i,r,o=0,n,h=0,g,p=this.getSpecialDates(),c=new l(e),u=this.getProperty("primaryCalendarType");c.setDate(1);g=c.toUTCJSDate().getTime();for(i=0;i<p.length;i++){a=p[i];r=a.getStartDate();o=0;if(r){r=l.fromLocalJSDate(r,u);r.setDate(1);o=r.toUTCJSDate().getTime()}n=a.getEndDate();h=0;if(n){n=l.fromLocalJSDate(n,u);n.setDate(s._daysInMonth(n));h=n.toUTCJSDate().getTime()}if(g==o&&!n||g>=o&&g<=h){t={type:a.getType(),tooltip:a.getTooltip_AsString()};break}}return t};m.prototype._checkMonthEnabled=function(e){s._checkCalendarDate(e);var t=this.getParent();if(t&&t._oMinDate&&t._oMaxDate){if(s._isOutside(e,t._oMinDate,t._oMaxDate)){return false}}return true};m.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){w.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var i=l.fromLocalJSDate(this._oFormatYyyymm.parse(t.attr("data-sap-month"),this.getProperty("primaryCalendarType")));i.setDate(1);if(!i.isSame(a)){this.setDate(i.toLocalJSDate());I.call(this,i,true);this._bMoveChange=true}}};m.prototype.onmouseup=function(e){if(this._bMouseMove){w.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var i=0;i<a.length;i++){var r=jQuery(a[i]);if(r.attr("data-sap-month")==this._oFormatYyyymm.format(t.toUTCJSDate(),true)){r.trigger("focus");break}}if(this._bMoveChange){var o=jQuery(e.target);if(o.hasClass("sapUiCalItemText")){o=o.parent()}if(o.hasClass("sapUiCalItem")){t=l.fromLocalJSDate(this._oFormatYyyymm.parse(o.attr("data-sap-month")));t.setDate(1)}I.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;L.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;L.call(this)}};m.prototype.onsapselect=function(e){var t=I.call(this,this._getDate());if(t){L.call(this)}e.stopPropagation();e.preventDefault()};m.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};m.prototype.onsappageupmodifiers=function(e){var t=new l(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{var i=this.getMonths();if(i<=12){t.setYear(a-1)}else{t.setMonth(t.getMonth()-i)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};m.prototype.onsappagedownmodifiers=function(e){var t=new l(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{var i=this.getMonths();if(i<=12){t.setYear(a+1)}else{t.setMonth(t.getMonth()+i)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};m.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;var e=this._getLocaleData();var t=e.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var a=this.$("months").children();var i=this._getStartDate().getMonth();for(var r=0;r<a.length;r++){var o=jQuery(jQuery(a[r]).children(".sapUiCalItemText"));o.text(t[(r+i)%12])}T.call(this)};m.prototype.checkDateFocusable=function(e){s._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new l(t);a.setDate(1);a.setMonth(a.getMonth()+this.getMonths());var i=l.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));return i.isSameOrAfter(t)&&i.isBefore(a)};m.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};function D(){var e=this._getDate();var t=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var a=0;var i=this.$("months").get(0);var r=this.$("months").children(".sapUiCalItem");for(var o=0;o<r.length;o++){var s=jQuery(r[o]);if(s.attr("data-sap-month")===t){a=o;break}}if(!this._oItemNavigation){this._oItemNavigation=new n;this._oItemNavigation.attachEvent(n.Events.AfterFocus,v,this);this._oItemNavigation.attachEvent(n.Events.FocusAgain,_,this);this._oItemNavigation.attachEvent(n.Events.BorderReached,S,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(r);this._oItemNavigation.setFocusedIndex(a);this._oItemNavigation.setPageSize(r.length)}function v(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var i=this._getDate();var r=new l(i);var o=this._oItemNavigation.getItemDomRefs();var n=jQuery(o[t]);r=l.fromLocalJSDate(this._oFormatYyyymm.parse(n.attr("data-sap-month")));r.setDate(1);this.setDate(r.toLocalJSDate());this.fireFocus({date:r.toLocalJSDate(),notVisible:false});if(a.type=="mousedown"){b.call(this,a,r,t)}}function _(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var i=this._getDate();b.call(this,a,i,t)}}function S(e){var t=e.getParameter("event");var a=this.getMonths();var i=this._getDate();var r=new l(i);if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":r.setMonth(r.getMonth()+1);break;case"sapprevious":case"sappreviousmodifiers":r.setMonth(r.getMonth()-1);break;case"sappagedown":r.setMonth(r.getMonth()+a);break;case"sappageup":r.setMonth(r.getMonth()-a);break;default:break}this.fireFocus({date:r.toLocalJSDate(),notVisible:true})}}function b(e,t,a){if(e.button){return}var i=I.call(this,t);if(i){this._bMousedownChange=true}if(this._bMouseMove){w.call(this,true);this._bMoveChange=false}else if(i&&this.getIntervalSelection()&&this.$().is(":visible")){P.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function C(e,t){s._checkCalendarDate(e);var a=e.getYear();s._checkYearInValidRange(a);var i=true;if(!this.getDate()||!e.isSame(l.fromLocalJSDate(this.getDate(),this.getProperty("primaryCalendarType")))){var r=new l(e);r.setDate(1);i=this.checkDateFocusable(e.toLocalJSDate());if(!this._bNoRangeCheck&&!i){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e.toLocalJSDate());this._oDate=r}if(this.getDomRef()){if(i){M.call(this,this._oDate,t)}}}function M(e,t){var a=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var i=this._oItemNavigation.getItemDomRefs();var r;for(var o=0;o<i.length;o++){r=jQuery(i[o]);if(r.attr("data-sap-month")==a){if(document.activeElement!=i[o]){if(t){this._oItemNavigation.setFocusedIndex(o)}else{this._oItemNavigation.focusItem(o)}}break}}}function I(e,t){if(!this._checkMonthEnabled(e)){return false}var a=this.getSelectedDates();var i;var r=0;var o=this.getParent();var n=this;var s;if(o&&o.getSelectedDates){n=o}if(this.getSingleSelection()){if(a.length>0){i=a[0];s=i.getStartDate();if(s){s=l.fromLocalJSDate(s,this.getProperty("primaryCalendarType"));s.setDate(1)}}else{i=new f;n.addAggregation("selectedDates",i)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&s){var h;if(e.isBefore(s)){h=s;s=e;if(!t){i.setProperty("startDate",s.toLocalJSDate());i.setProperty("endDate",h.toLocalJSDate())}}else if(e.isSameOrAfter(s)){h=e;if(!t){i.setProperty("endDate",h.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var g=this._checkDateSelected(e);if(g>0){for(r=0;r<a.length;r++){s=a[r].getStartDate();if(s){s=l.fromLocalJSDate(s,this.getProperty("primaryCalendarType"));s.setDate(1);if(e.isSame(s)){n.removeAggregation("selectedDates",r);break}}}}else{i=new f({startDate:e.toLocalJSDate()});n.addAggregation("selectedDates",i)}}}return true}function L(){if(this._bMouseMove){w.call(this,true)}this.fireSelect()}function T(){if(!this._bNamesLengthChecked){var e=0;var t=this.$("months").children();var a=false;var i=this.getMonths();var r=Math.ceil(12/i);var o=0;var n=this._getLocaleData();var s=n.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var l;for(var h=0;h<r;h++){if(i<12){for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(s[(e+o)%12])}o=o+i;if(o>11){o=11}}for(e=0;e<t.length;e++){var g=t[e];if(Math.abs(g.clientWidth-g.scrollWidth)>1){a=true;break}}if(a){break}}if(i<12){o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(s[(e+o)%12])}}if(a){this._bLongMonth=false;var p=n.getMonthsStandAlone("abbreviated",this.getProperty("primaryCalendarType"));o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(p[(e+o)%12])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function P(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function w(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}return m});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRowRenderer", ["sap/ui/core/Element","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/unified/library","sap/base/Log","sap/ui/core/date/UI5Date"],function(e,t,a,n,r,o,s){"use strict";var l=r.CalendarDayType;var i={apiVersion:2};i.render=function(e,t){var a=t._getStartDate();var n=t.getTooltip_AsString();var r=t.getId();e.openStart("div",t);e.class("sapUiCalMonthsRow");e.class("sapUiCalRow");if(n){e.attr("title",n)}e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection()});e.openEnd();if(t.getIntervalSelection()){e.openStart("span",r+"-Start");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_START_MONTH"));e.close("span");e.openStart("span",r+"-End");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_END_MONTH"));e.close("span")}this.renderRow(e,t,a);e.close("div")};i.renderRow=function(e,t,a){var n=t.getId();this.renderHeader(e,t,a);e.openStart("div",n+"-months");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderMonths(e,t,a);e.close("div")};i.renderHeader=function(e,a,n){t._checkCalendarDate(n);if(a._getShowHeader()){var r=a._getLocaleData();var o=a.getId();e.openStart("div",o+"-Head");e.openEnd();this.renderHeaderLine(e,a,r,n);e.close("div")}};i.renderHeaderLine=function(e,n,r,o){t._checkCalendarDate(o);var s=n.getId();var l=n.getMonths();var i=new a(o);var d="";var c=0;var p=[];var g=0;for(g=0;g<l;g++){c=i.getYear();if(p.length>0&&p[p.length-1].iYear==c){p[p.length-1].iMonths++}else{p.push({iYear:c,iMonths:1})}i.setMonth(i.getMonth()+1)}for(g=0;g<p.length;g++){var h=p[g];d=100/l*h.iMonths+"%";e.openStart("div",s+"-Head"+g);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(h.iYear);e.close("div")}};i.renderMonths=function(e,t,n){var r=this.getHelper(t,n);var o=t.getMonths();var s=100/o+"%";var l=new a(n);l.setDate(1);for(var i=0;i<o;i++){this.renderMonth(e,t,l,r,s);l.setMonth(l.getMonth()+1)}};i.getHelper=function(n,r){t._checkCalendarDate(r);var l={};var i=n.getProperty("primaryCalendarType");l.sLocale=n._getLocale();l.oLocaleData=n._getLocaleData();l.oToday=a.fromLocalJSDate(s.getInstance(),i);l.sCurrentMonth=n._rb.getText("CALENDAR_CURRENT_MONTH");l.sId=n.getId();l.oFormatLong=n._getFormatLong();if(n._bLongMonth||!n._bNamesLengthChecked){l.aMonthNames=l.oLocaleData.getMonthsStandAlone("wide",i)}else{l.aMonthNames=l.oLocaleData.getMonthsStandAlone("abbreviated",i);l.aMonthNamesWide=l.oLocaleData.getMonthsStandAlone("wide",i)}var d=n.getLegend();if(d){var c=e.getElementById(d);if(c){if(!(c instanceof sap.ui.unified.CalendarLegend)){throw new Error(c+" is not an sap.ui.unified.CalendarLegend. "+n)}l.oLegend=c}else{o.warning("CalendarLegend "+d+" does not exist!",n)}}l.convertTextInfoToSecondaryType=function(e){var t=n._getSecondaryCalendarType(),a=l.oLocaleData.getMonthsStandAlone("abbreviated",t),r=n._oFormatYearInSecType,o=n._getDisplayedSecondaryDates(e.getMonth(),e.getYear()),s,i,d;if(o.start.getMonth()===o.end.getMonth()){s=a[o.start.getMonth()]}else{d=n._getLocaleData().getIntervalPattern();s=d.replace(/\{0\}/,a[o.start.getMonth()]).replace(/\{1\}/,a[o.end.getMonth()])}if(o.start.getYear()===o.end.getYear()){i=r.format(o.start.toUTCJSDate(),true)}else{i=d.replace(/\{0\}/,r.format(o.start.toUTCJSDate(),true)).replace(/\{1\}/,r.format(o.end.toUTCJSDate(),true))}return{sMonthInfo:s,sYearInfo:i}};return l};i.renderMonth=function(e,a,r,o,s){t._checkCalendarDate(r);var i=!!a._getSecondaryCalendarType(),d;if(i){d=o.convertTextInfoToSecondaryType(r)}var c={role:a._getAriaRole(),selected:false,label:"",describedby:a._getMonthDescription()};var p=a._oFormatYyyymm.format(r.toUTCJSDate(),true);var g=a._checkDateSelected(r);var h=a._getDateType(r);var f=a._checkMonthEnabled(r);e.openStart("div",o.sId+"-"+p);e.class("sapUiCalItem");if(s){e.style("width",s)}if(t._isSameMonthAndYear(r,o.oToday)){e.class("sapUiCalItemNow");c["label"]=o.sCurrentMonth+" "}if(g>0){e.class("sapUiCalItemSel");c["selected"]=true}if(g==2){e.class("sapUiCalItemSelStart");c["describedby"]=c["describedby"]+" "+o.sId+"-Start"}else if(g==3){e.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+o.sId+"-End"}else if(g==4){e.class("sapUiCalItemSelBetween")}else if(g==5){e.class("sapUiCalItemSelStart");e.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+o.sId+"-Start";c["describedby"]=c["describedby"]+" "+o.sId+"-End"}if(h&&h.type!=l.None){e.class("sapUiCalItem"+h.type);if(h.tooltip){e.attr("title",h.tooltip)}}if(!f){e.class("sapUiCalItemDsbl");c["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-month",p);c["label"]=c["label"]+o.oFormatLong.format(r.toUTCJSDate(),true);if(i){c["label"]=c["label"]+", "+d.sMonthInfo+" "+d.sYearInfo}if(h&&h.type!=l.None){n.addCalendarTypeAccInfo(c,h.type,o.oLegend)}e.accessibilityState(null,c);if(i){e.class("sapUiCalItemWithSecondaryType")}e.openEnd();e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(o.aMonthNames[r.getMonth()]);e.close("span");if(i){e.openStart("span");e.class("sapUiCalItemAddText");e.openEnd();e.text(d.sMonthInfo);e.close("span")}e.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRow", ["sap/ui/unified/calendar/DatesRow","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","./OneMonthDatesRowRenderer"],function(t,e,a,i,o){"use strict";var s=t.extend("sap.ui.unified.calendar.OneMonthDatesRow",{metadata:{library:"sap.ui.unified"},renderer:o});s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.iMode=2};s.prototype.setMode=function(t){var e=this.getSelectedDates(),a,i=this.iMode!==t;this.iMode=t;if(i&&e.length){if(this.iMode<2){a=this.getStartDate()}e[0].setProperty("startDate",a)}this.iMode<2?this._bAlwaysShowSpecialDates=false:this._bAlwaysShowSpecialDates=true;return this};s.prototype.getMode=function(){return this.iMode};s.prototype.selectDate=function(t){if(this.iMode<2&&this.getSelectedDates().length){this.getSelectedDates()[0].setStartDate(t)}return this};s.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.setDate.apply(this,arguments);return this};s.prototype.getDays=function(){if(this.iMode===2){return 31}else{return e._daysInMonth(a.fromLocalJSDate(this.getStartDate(),this.getPrimaryCalendarType()))}};s.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.displayDate.apply(this,arguments);return this};s.prototype.onsaphome=function(t){var e=a.fromLocalJSDate(this.getStartDate());r(t);this.setDate(e.toLocalJSDate());this._focusDate(e);this.fireFocus({date:e.toLocalJSDate(),otherMonth:false})};s.prototype.onsapend=function(t){var i=this.getStartDate(),o;o=a.fromLocalJSDate(i);o.setDate(e._daysInMonth(o));r(t);this.setDate(o.toLocalJSDate());this._focusDate(o);this.fireFocus({date:o.toLocalJSDate(),otherMonth:false})};function r(t){t.stopPropagation();t.preventDefault();t.stopImmediatePropagation(true)}return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRowRenderer", ["sap/ui/core/Renderer","./MonthRenderer","./DatesRowRenderer"],function(e,r,a){"use strict";var n=e.extend(a);n.apiVersion=2;["getClass","renderMonth","renderDays","renderHeader"].forEach(function(e){n[e]=function(n,s){if(s.iMode<2){return r[e].apply(r,arguments)}else{if(e==="getClass"){var t=["sapUiCalDatesRow","sapUiCalRow","sapUiCalOneMonthDatesRow"];if(!s.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t}return a[e].apply(a,arguments)}}});return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/RecurrenceUtils", ["sap/ui/core/date/UI5Date"],function(t){"use strict";var e={};const n={WORKING_PERIOD:"working",NON_WORKING_PERIOD:"non-working"};e.hasOccurrenceOnDate=function(e){if(this.getRecurrenceType()!=="Daily"){return false}const n=t.getInstance(this.getStartDate());const s=t.getInstance(e);n.setHours(0,0,0,0);s.setHours(0,0,0,0);const r=24*60*60*1e3;const u=s>=n&&s<=this.getRecurrenceEndDate();const o=Math.floor((s.getTime()-n.getTime())/r)%this.getRecurrencePattern()===0;return u&&o};e.calculateDurationInCell=function(t,e,n){const s=t.getStartDate();const r=60;let u=t.getDurationInMinutes();if(s.getHours()<e.getHours()){const t=e.getHours()*r+e.getMinutes();const n=s.getHours()*r+s.getMinutes();u-=t-n}else if(s.getHours()===e.getHours()&&s.getMinutes()>0){u=t.getDurationInMinutes()+n>60?r-n:t.getDurationInMinutes()}else if(s.getHours()===e.getHours()&&t.getEndDate().getHours()<=e.getHours()+1){u=t.getDurationInMinutes()}else{u=r-n}return u};e.getWorkingAndNonWorkingSegments=function(t,e){const s=[];const r=60;let u=0;let o=0;while(u<r){const i=e[o];const g=i?.getStartDate();if(!i){const t=r-u;s.push({type:n.WORKING_PERIOD,duration:t});return s}let c=this.calculateDurationInCell(i,t,u);const a=g.getMinutes();if(c>r&&g.getHours()<t.getHours()){s.push({type:n.NON_WORKING_PERIOD,duration:r});return s}if(a===u||g.getHours()<t.getHours()){s.push({type:n.NON_WORKING_PERIOD,duration:c});o++}else{c=a-u;s.push({type:n.WORKING_PERIOD,duration:c})}u+=c}return s};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRow", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/Locale","./TimesRowRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/date/UI5Date","sap/ui/core/InvisibleText"],function(e,t,a,i,r,s,n,o,l,g,u,h,c,p,f,jQuery,d,v,m){"use strict";var _=a.extend("sap.ui.unified.calendar.TimesRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:c});_.prototype.init=function(){this._oFormatYyyyMMddHHmm=u.getInstance({pattern:"yyyyMMddHHmm",calendarType:this.getProperty("primaryCalendarType")});this._oFormatLong=u.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")});this._oFormatDate=u.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=r.getResourceBundleFor("sap.ui.unified")};_.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._invisibleDayHint){this._invisibleDayHint.destroy();this._invisibleDayHint=null}};_.prototype.onAfterRendering=function(){y.call(this)};_.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!p(this.getDomRef(),i.getElementById(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){L.call(this,true);S.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;U.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;U.call(this)}}};_.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};_.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};_.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};_.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};_.prototype.setIntervalMinutes=function(e){if(e>=720){throw new Error("Only intervals < 720 minutes are allowed; "+this)}if(1440%e>0){throw new Error("A day must be divisible by the interval size; "+this)}this.setProperty("intervalMinutes",e,false);this._oFormatTime=undefined;return this};_.prototype.setDate=function(e){b.call(this,e,false);return this.setProperty("date",e)};_.prototype._getDate=function(){if(!this._oUTCDate){this._oUTCDate=o._createUniversalUTCDate(v.getInstance(),undefined,true)}return this._oUTCDate};_.prototype.setStartDate=function(e){o._checkJSDateObject(e);var t=e.getFullYear();o._checkYearInValidRange(t);var a=o._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);this._oUTCStartDate=this._getIntervalStart(a);if(this.getDomRef()){var i=o._createLocalDate(this._getDate(),true);this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(i&&this.checkDateFocusable(i)){this.displayDate(i)}}return this};_.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=o._createUniversalUTCDate(v.getInstance(),undefined,true);this._oUTCStartDate=this._getIntervalStart(this._oUTCStartDate)}return this._oUTCStartDate};_.prototype.displayDate=function(e){b.call(this,e,true);return this};_.prototype._getLocale=function(){var t=this.getParent();if(t&&t.getLocale){return t.getLocale()}else if(!this._sLocale){this._sLocale=new h(e.getLanguageTag()).toString()}return this._sLocale};_.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new h(t);this._oLocaleData=s.getInstance(a)}return this._oLocaleData};_.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new h(e);this._oFormatLong=u.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};_.prototype._getFormatTime=function(){var e=this._getLocale();if(!this._oFormatTime||this._oFormatTime.oLocale.toString()!=e){var t=new h(e);var a=this.getIntervalMinutes();var i=this._getLocaleData();var r;var s=i.getTimePattern("short");this._oFormatTimeAmPm=undefined;if(a%60==0){r=F(s);if(s.search("a")>=0){this._oFormatTimeAmPm=u.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t)}}else{r=s;r=r.replace("HH","H");r=r.replace("hh","h");if(r.search("a")>=0){this._oFormatTimeAmPm=u.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t);r=r.replace("a","").trim()}}this._oFormatTime=u.getTimeInstance({pattern:r,calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatTime};_.prototype._getFormatDate=function(){var e=this._getLocale();if(this._oFormatDate.oLocale.toString()!=e){var t=new h(e);this._oFormatDate=u.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatDate};_.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};_.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};_.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};_.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};_.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};_.prototype.getIntervalMinutes=function(){var e=this.getParent();if(e&&e.getIntervalMinutes){return e.getIntervalMinutes()}else{return this.getProperty("intervalMinutes")}};_.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};_.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};_.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend")}};_.prototype._checkDateSelected=function(e){if(!(e instanceof l)){throw new Error("Date must be a UniversalDate object "+this)}var t=0;var a=this.getSelectedDates();var i=new l(e.getTime());i=this._getIntervalStart(i);var r=i.getTime();for(var s=0;s<a.length;s++){var n=a[s];var g=n.getStartDate();var u=0;if(g){g=o._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var h=n.getEndDate();var c=0;if(h){h=o._createUniversalUTCDate(h,undefined,true);h=this._getIntervalStart(h);c=h.getTime()}if(r==u&&!h){t=1;break}else if(r==u&&h){t=2;if(h&&r==c){t=5}break}else if(h&&r==c){t=3;break}else if(h&&r>u&&r<c){t=4;break}if(this.getSingleSelection()){break}}return t};_.prototype._getDateType=function(e){if(!(e instanceof l)){throw new Error("Date must be a UniversalDate object "+this)}var t;var a=this.getSpecialDates();var i=new l(e.getTime());i=this._getIntervalStart(i);var r=i.getTime();for(var s=0;s<a.length;s++){var n=a[s];var g=n.getStartDate();var u=0;if(g){g=o._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var h=n.getEndDate();var c=0;if(h){h=o._createUniversalUTCDate(h,undefined,true);h=this._getIntervalStart(h);h.setUTCMinutes(h.getUTCMinutes()+this.getIntervalMinutes()-1);c=h.getTime()}else if(g.getUTCHours()==0&&g.getUTCMinutes()==0&&g.getUTCSeconds()==0&&g.getUTCMilliseconds()==0){h=new l(g.getTime());h.setUTCDate(h.getUTCDate()+1);c=h.getTime()}if(r==u&&!h||r>=u&&r<=c){t={type:n.getType(),tooltip:n.getTooltip_AsString(),color:n.getColor()};break}}return t};_.prototype._checkTimeEnabled=function(e){if(!(e instanceof l)){throw new Error("Date must be a UniversalDate object "+this)}var t=e.getTime();var a=this.getParent();if(a&&a._oMinDate&&a._oMaxDate){if(t<a._oMinDate.getTime()||t>a._oMaxDate.getTime()){return false}}return true};_.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){L.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var i=new l(this._oFormatYyyyMMddHHmm.parse(t.attr("data-sap-time"),true).getTime());if(i.getTime()!=a.getTime()){this._oUTCDate=i;S.call(this,i,true);this._bMoveChange=true}}};_.prototype.onmouseup=function(e){if(this._bMouseMove){L.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var i=0;i<a.length;i++){var r=jQuery(a[i]);if(r.attr("data-sap-time")==this._oFormatYyyyMMddHHmm.format(t.getJSDate(),true)){r.trigger("focus");break}}if(this._bMoveChange){var s=jQuery(e.target);if(s.hasClass("sapUiCalItemText")){s=s.parent()}if(s.hasClass("sapUiCalItem")){t=new l(this._oFormatYyyyMMddHHmm.parse(s.attr("data-sap-time"),true).getTime())}S.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;U.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;U.call(this)}};_.prototype.onsapselect=function(e){var t=S.call(this,this._getDate());if(t){U.call(this)}e.stopPropagation();e.preventDefault()};_.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};_.prototype.onsappageupmodifiers=function(e){var t=new l(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a-7)}else{t.setUTCDate(a-1)}this.fireFocus({date:o._createLocalDate(t,true),notVisible:true});e.preventDefault()};_.prototype.onsappagedownmodifiers=function(e){var t=new l(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a+7)}else{t.setUTCDate(a+1)}this.fireFocus({date:o._createLocalDate(t,true),notVisible:true});e.preventDefault()};_.prototype.checkDateFocusable=function(e){o._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new l(t.getTime());a.setUTCMinutes(a.getUTCMinutes()+this.getItems()*this.getIntervalMinutes());var i=o._createUniversalUTCDate(e,undefined,true);if(i.getTime()>=t.getTime()&&i.getTime()<a.getTime()){return true}else{return false}};_.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};_.prototype._getIntervalStart=function(e){var t=e.getTime();var a=new l(e.getTime());a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);var i=this.getIntervalMinutes();while(a.getTime()<=t){a.setUTCMinutes(a.getUTCMinutes()+i)}var r=new l(a.getTime());r.setUTCMinutes(r.getUTCMinutes()-i);return r};_.prototype._setAriaRole=function(e){this._ariaRole=e;return this};_.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};_.prototype._getTimeDescription=function(){return this._fnInvisibleHintFactory().getId()};_.prototype._fnInvisibleHintFactory=function(){if(!this._invisibleDayHint){this._invisibleDayHint=new m({text:r.getResourceBundleFor("sap.m").getText("SLIDETILE_ACTIVATE")}).toStatic()}return this._invisibleDayHint};_.prototype._updateItemARIASelected=function(e,t){var a=this._getAriaRole();if(a==="gridcell"){e.attr("aria-selected",t)}return this};function y(){var e=this._getDate();var t=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var a=0;var i=this.$("times").get(0);var r=this.$("times").children(".sapUiCalItem");for(var s=0;s<r.length;s++){var o=jQuery(r[s]);if(o.attr("data-sap-time")===t){a=s;break}}if(!this._oItemNavigation){this._oItemNavigation=new n;this._oItemNavigation.attachEvent(n.Events.AfterFocus,D,this);this._oItemNavigation.attachEvent(n.Events.FocusAgain,T,this);this._oItemNavigation.attachEvent(n.Events.BorderReached,C,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(r);this._oItemNavigation.setFocusedIndex(a);this._oItemNavigation.setPageSize(r.length)}function D(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var i=this._getDate();var r=new l(i.getTime());var s=this._oItemNavigation.getItemDomRefs();var n=jQuery(s[t]);r=new l(this._oFormatYyyyMMddHHmm.parse(n.attr("data-sap-time"),true).getTime());this._oUTCDate=r;this.fireFocus({date:o._createLocalDate(r,true),notVisible:false});if(a.type=="mousedown"){I.call(this,a,r,t)}}function T(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var i=this._getDate();I.call(this,a,i,t)}}function C(e){var t=e.getParameter("event");var a=this.getItems();var i=this.getIntervalMinutes();var r=this._getDate();var s=new l(r.getTime());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":s.setUTCMinutes(s.getUTCMinutes()+i);break;case"sapprevious":case"sappreviousmodifiers":s.setUTCMinutes(s.getUTCMinutes()-i);break;case"sappagedown":s.setUTCMinutes(s.getUTCMinutes()+i*a);break;case"sappageup":s.setUTCMinutes(s.getUTCMinutes()-i*a);break;default:break}this.fireFocus({date:o._createLocalDate(s,true),notVisible:true})}}function I(e,t,a){if(e.button){return}var i=S.call(this,t);if(i){this._bMousedownChange=true}if(this._bMouseMove){L.call(this,true);this._bMoveChange=false}else if(this.getIntervalSelection()&&this.$().is(":visible")){w.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function b(e,t){o._checkJSDateObject(e);var a=e.getFullYear();o._checkYearInValidRange(a);var i=true;if(!f(this.getDate(),e)){var r=o._createUniversalUTCDate(e,undefined,true);r=this._getIntervalStart(r);i=this.checkDateFocusable(e);if(!this._bNoRangeCheck&&!i){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e);this._oUTCDate=r}if(this.getDomRef()){if(i){M.call(this,this._oUTCDate,t)}else{this.setDate(e)}}}function M(e,t){var a=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var i=this._oItemNavigation.getItemDomRefs();var r;for(var s=0;s<i.length;s++){r=jQuery(i[s]);if(r.attr("data-sap-time")==a){if(document.activeElement!=i[s]){if(t){this._oItemNavigation.setFocusedIndex(s)}else{this._oItemNavigation.focusItem(s)}}break}}}function S(e,t){if(!this._checkTimeEnabled(e)){return false}var a=this.getSelectedDates();var i;var r=0;var s=this.getParent();var n=this;var l;if(s&&s.getSelectedDates){n=s}if(this.getSingleSelection()){if(a.length>0){i=a[0];l=i.getStartDate();if(l){l=o._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l)}}else{i=new d;n.addAggregation("selectedDates",i)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&l){var g;if(e.getTime()<l.getTime()){g=l;l=e;if(!t){i.setProperty("startDate",o._createLocalDate(v.getInstance(l.getTime()),true));i.setProperty("endDate",o._createLocalDate(v.getInstance(g.getTime()),true))}}else if(e.getTime()>=l.getTime()){g=e;if(!t){i.setProperty("endDate",o._createLocalDate(v.getInstance(g.getTime()),true))}}}else{i.setProperty("startDate",o._createLocalDate(v.getInstance(e.getTime()),true));i.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var u=this._checkDateSelected(e);if(u>0){for(r=0;r<a.length;r++){l=a[r].getStartDate();if(l){l=o._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l);if(e.getTime()==l.getTime()){n.removeAggregation("selectedDates",r);break}}}}else{i=new d({startDate:o._createLocalDate(v.getInstance(e.getTime()),true)});n.addAggregation("selectedDates",i)}}}return true}function U(){if(this._bMouseMove){L.call(this,true)}this.fireSelect()}function w(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function L(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}function F(e){var t;if(e.toUpperCase().indexOf("K")>-1){t=e.indexOf("k")>-1?"k":"K"}else{t=e.indexOf("h")>-1?"h":"H"}return t}return _});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRowRenderer", ["sap/ui/core/Element","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/core/date/UI5Date","sap/ui/unified/library","sap/base/Log"],function(e,t,a,r,i,s,n){"use strict";var l=s.CalendarDayType;var o={apiVersion:2};o.render=function(e,t){var a=t._getStartDate();var r=t.getTooltip_AsString();var i=t.getId();e.openStart("div",t);e.class("sapUiCalTimesRow");e.class("sapUiCalRow");if(r){e.attr("title",r)}e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection(),labelledby:t._getShowHeader()?{value:i+"-Head",append:true}:undefined});e.openEnd();if(t.getIntervalSelection()){e.openStart("span",i+"-Start");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_START_TIME"));e.close("span");e.openStart("span",i+"-End");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_END_TIME"));e.close("span")}this.renderRow(e,t,a);e.close("div")};o.renderRow=function(e,t,a){var r=t.getId();this.renderHeader(e,t,a);e.openStart("div",r+"-times");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderTimes(e,t,a);e.close("div")};o.renderHeader=function(e,t,a){if(t._getShowHeader()){var r=t._getLocaleData();var i=t.getId();e.openStart("div",i+"-Head");e.openEnd();this.renderHeaderLine(e,t,r,a);e.close("div")}};o.renderHeaderLine=function(e,t,a,r){var i=t._getFormatDate();var s=t.getId();var n=t.getItems();var l=t._getIntervalStart(r);var o=t.getIntervalMinutes();var d="";var c=0;var p=[];var m=0;for(m=0;m<n;m++){c=i.format(l,true);if(p.length>0&&p[p.length-1].sDay==c){p[p.length-1].iItems++}else{p.push({sDay:c,iItems:1})}l.setUTCMinutes(l.getUTCMinutes()+o)}for(m=0;m<p.length;m++){var g=p[m];d=100/n*g.iItems+"%";e.openStart("div",s+"-Head"+m);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g.sDay);e.close("div")}};o.renderTimes=function(e,t,a){var r=this.getHelper(t,a);var i=t.getItems();var s=100/i+"%";var n=t._getIntervalStart(a);var l="";var o="";for(var d=0;d<i;d++){if(r.oFormatTimeAmPm){o=r.oFormatTimeAmPm.format(n,true);if(l==o){o=""}else{l=o}}this.renderTime(e,t,n,r,s,o);n.setUTCMinutes(n.getUTCMinutes()+r.iMinutes)}};o.getHelper=function(a,r){var s={};s.sLocale=a._getLocale();s.oLocaleData=a._getLocaleData();s.oNow=t._createUniversalUTCDate(i.getInstance(),undefined,true);s.sCurrentTime=a._rb.getText("CALENDAR_CURRENT_TIME");s.sId=a.getId();s.oFormatLong=a._getFormatLong();s.oFormatTime=a._getFormatTime();s.oFormatTimeAmPm=a._oFormatTimeAmPm;s.iMinutes=a.getIntervalMinutes();var l=a.getLegend();if(l){var o=e.getElementById(l);if(o){if(!(o instanceof sap.ui.unified.CalendarLegend)){throw new Error(o+" is not an sap.ui.unified.CalendarLegend. "+a)}s.oLegend=o}else{n.warning("CalendarLegend "+l+" does not exist!",a)}}return s};o.renderTime=function(e,t,i,s,n,o){var d=t._getAriaRole();var c={role:d,selected:d!=="gridcell"?null:false,label:"",describedby:t._getTimeDescription()};var p=t._oFormatYyyyMMddHHmm.format(i.getJSDate(),true);var m=t._checkDateSelected(i);var g=t._getDateType(i);var u=t._checkTimeEnabled(i);e.openStart("div",s.sId+"-"+p);e.class("sapUiCalItem");if(n){e.style("width",n)}var v=new a(i.getTime());v.setUTCMinutes(v.getUTCMinutes()+s.iMinutes);if(i.getTime()<=s.oNow.getTime()&&v.getTime()>s.oNow.getTime()){e.class("sapUiCalItemNow");c["label"]=s.sCurrentTime+" "}if(m>0){e.class("sapUiCalItemSel");if(d==="gridcell"){c["selected"]=true}}if(m==2){e.class("sapUiCalItemSelStart");c["describedby"]=c["describedby"]+" "+s.sId+"-Start"}else if(m==3){e.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+s.sId+"-End"}else if(m==4){e.class("sapUiCalItemSelBetween")}else if(m==5){e.class("sapUiCalItemSelStart");e.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+s.sId+"-Start";c["describedby"]=c["describedby"]+" "+s.sId+"-End"}if(g&&g.type!=l.None){e.class("sapUiCalItem"+g.type);if(g.tooltip){e.attr("title",g.tooltip)}}if(!u){e.class("sapUiCalItemDsbl");c["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-time",p);c["label"]=c["label"]+s.oFormatLong.format(i,true);if(g&&g.type!=l.None){r.addCalendarTypeAccInfo(c,g.type,s.oLegend)}e.accessibilityState(null,c);e.openEnd();if(g&&g.type!=l.None){e.openStart("div");e.class("sapUiCalSpecialDate");if(g.color){e.style("background-color",g.color)}e.openEnd();e.close("div")}e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(s.oFormatTime.format(i,true));if(o){e.openStart("span");e.class("sapUiCalItemTextAmPm");e.openEnd();e.text(o);e.close("span")}e.close("span");e.close("div")};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPicker", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/Device","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/date/UI5Date","./YearPickerRenderer","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery"],function(e,t,a,r,i,s,o,n,l,h,d,g,p,c,y,u,jQuery){"use strict";var m=a.extend("sap.ui.unified.calendar.YearPicker",{metadata:{library:"sap.ui.unified",properties:{year:{type:"int",group:"Data",defaultValue:2e3,deprecated:true},years:{type:"int",group:"Appearance",defaultValue:20},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},_singleSelection:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"},_showSelectedRange:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},columns:{type:"int",group:"Appearance",defaultValue:4},date:{type:"object",group:"Data"},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},_middleDate:{type:"object",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},events:{select:{},pageChange:{}}},renderer:y});m.prototype.init=function(){var e=c.getInstance();e.setFullYear(2e3);this.setProperty("date",e);this._oFormatYyyymmdd=h.getInstance({pattern:"yyyyMMdd",calendarType:t.Gregorian});this._oMinDate=s._minDate(this._getPrimaryCalendarType());this._oMaxDate=s._maxDate(this._getPrimaryCalendarType())};m.prototype.onBeforeRendering=function(){this._oYearFormat=h.getDateInstance({format:"y",calendarType:this._getPrimaryCalendarType()})};m.prototype.onAfterRendering=function(){_.call(this);this.focus()};m.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(e){e.destroy()});this._aMPSelectedDates=undefined}};m.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._iSelectedIndex]};m.prototype.setYear=function(e){this.setProperty("year",e);e=this.getProperty("year");var t=new o(e,0,1,this._getPrimaryCalendarType()),a=this._getSelectedDates()[0],r=this.getAggregation("selectedDates");if(!a||this.getIntervalSelection()){return this}if(!this._oSelectedDatesControlOrigin){if(!r||!r.length){this.addAggregation("selectedDates",a)}!this.getIntervalSelection()&&a.setStartDate(t.toLocalJSDate())}this.setDate(t.toLocalJSDate());return this};m.prototype.setDate=function(e){var t=s._maxDate(this.getProperty("primaryCalendarType")).getYear(),a,r,i,n;e&&s._checkJSDateObject(e);r=e.getFullYear();s._checkYearInValidRange(r);a=o.fromLocalJSDate(e,this._getPrimaryCalendarType());a.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",a.getYear());this._oDate=a;i=this.getYears();n=Math.floor(i/2);if(e.getFullYear()<n){this._iSelectedIndex=e.getFullYear()-1}else if(e.getFullYear()>t-n){this._iSelectedIndex=t+i-e.getFullYear()-1}else{this._iSelectedIndex=n}this.setProperty("_middleDate",a);return this};m.prototype._getDate=function(){if(!this._oDate){var e=this.getDate().getFullYear();this._oDate=new o(e,0,1,this._getPrimaryCalendarType())}return this._oDate};m.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||e.getCalendarType()};m.prototype._setSelectedDatesControlOrigin=function(e){this._oSelectedDatesControlOrigin=e};m.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};m.prototype._getSelectedDates=function(){var e=this.getSelectedDates();if(e){return e}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new n];this._aMPSelectedDates[0].setStartDate(this._getDate().toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};m.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oYearFormat=h.getDateInstance({format:"y",calendarType:e});if(this._oDate){this._oDate=new o(this._oDate,e);this._oDate.setMonth(0,1)}this._oMinDate=new o(this._oMinDate,e);this._oMaxDate=new o(this._oMaxDate,e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};m.prototype.setIntervalSelection=function(e){this._setShowSelectedRange(e);return this.setProperty("intervalSelection",e)};m.prototype._setShowSelectedRange=function(e){return this.setProperty("_showSelectedRange",e)};m.prototype._getShowSelectedRange=function(){return this.getProperty("_showSelectedRange")};m.prototype.nextPage=function(){this._updatePage(true,this._oItemNavigation.getFocusedIndex());return this};m.prototype.previousPage=function(){this._updatePage(false,this._oItemNavigation.getFocusedIndex());return this};m.prototype.onsapspace=function(e){e.preventDefault()};m.prototype.onsapselect=function(e){var t=this._oItemNavigation.getFocusedIndex();var a=this._selectYear(t);if(a){this.fireSelect()}};m.prototype.onmouseover=function(e){var t=e.target,a=this._getSelectedDates()[0],r,i,s;if(!a){return}if(a.getStartDate()){r=o.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());r.setMonth(0,1)}if(t.classList.contains("sapUiCalItem")){s=t.getAttribute("data-sap-year-start");i=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(s),this._getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(r,i)}}};m.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY}};m.prototype.onmouseup=function(e){var t=e.target,a=this._getSelectedDates()[0],i,s,n,l,h=this._oItemNavigation.getItemDomRefs();if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&t.classList.contains("sapUiCalItem")&&a){s=t.getAttribute("data-sap-year-start");l=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(s),this._getPrimaryCalendarType());n=o.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());n.setMonth(0,1);if(!l.isSame(n)&&!a.getEndDate()){i=h.index(t);this._selectYear.call(this,i);this._oItemNavigation.focusItem(i)}}this.fireSelect()}else if(r.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,e.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,e.clientY,10)){i=this._oItemNavigation.getFocusedIndex();if(!h[i].classList.contains("sapUiCalItemDsbl")){this._selectYear(i);this.fireSelect()}}};m.prototype._markInterval=function(e,t){var a=this._oItemNavigation.getItemDomRefs(),r,i,n;if(e.isAfter(t)){t=[e,e=t][0]}for(n=0;n<a.length;++n){i=a[n].getAttribute("data-sap-year-start");r=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(i),this._getPrimaryCalendarType());if(this._bMousedownChange){if((r.isSame(e)||r.isSame(t))&&!s._isOutside(r,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSel")}else{jQuery(a[n]).removeClass("sapUiCalItemSel")}}if(s._isBetween(r,e,t)&&s._isBetween(r,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[n]).removeClass("sapUiCalItemSelBetween")}}};m.prototype.getFirstRenderedDate=function(){var e;if(this.getDomRef()){var t=this._oItemNavigation.getItemDomRefs();e=this._oFormatYyyymmdd.parse(jQuery(t[0]).attr("data-sap-year-start"))}return e};m.prototype._isValueInThreshold=function(e,t,a){var r=e-a,i=e+a;return t>=r&&t<=i};m.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};m.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};m.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),a=new o(e,e.getCalendarType()),r=new o(e,e.getCalendarType());a.setMonth(0,1);a=new o(a,t);r.setYear(r.getYear()+1);r.setMonth(0,1);r.setDate(r.getDate()-1);r=new o(r,t);return{start:a,end:r}};m.prototype._getLocale=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocale){return t._getLocale()}else if(!this._sLocale){this._sLocale=new g(e.getLanguageTag()).toString()}return this._sLocale};m.prototype._getLocaleData=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new g(t);this._oLocaleData=p.getInstance(a)}return this._oLocaleData};m.prototype._checkFirstDate=function(e){var t=this.getYears(),a=new o(this._oMaxDate,this._getPrimaryCalendarType());if(!a.isSame(s._maxDate(this._getPrimaryCalendarType()))){return e}a.setYear(a.getYear()-t+1);if(e.isAfter(a)&&e.getYear()!=a.getYear()){e=new o(a,this._getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new o(this._oMinDate,this._getPrimaryCalendarType());e.setMonth(0,1)}return e};m.prototype._checkDateEnabled=function(e){var t=true;if(e.isAfter(this._oMaxDate)&&e.getYear()!=this._oMaxDate.getYear()||e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){t=false}return t};m.prototype._updatePage=function(e,t,a){var r=this._oItemNavigation.getItemDomRefs();var i=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(jQuery(r[0]).attr("data-sap-year-start")),this._getPrimaryCalendarType());var s=this.getYears();if(e){var n=new o(this._oMaxDate,this._getPrimaryCalendarType());n.setYear(n.getYear()-s+1);if(i.isBefore(n)){i.setYear(i.getYear()+s);if(i.isAfter(n)){t=t+(i.getYear()-n.getYear());if(t>s-1){t=s-1}i=new o(this._oMaxDate,this._getPrimaryCalendarType());this._oDate.setMonth(0,1)}}else{return}}else{if(i.isAfter(this._oMinDate)){i.setYear(i.getYear()-s);if(i.isBefore(this._oMinDate)){t=t-(this._oMinDate.getYear()-i.getYear());if(t<0){t=0}i=new o(this._oMinDate,this._getPrimaryCalendarType())}}else{return}}i.setYear(i.getYear()+Math.floor(s/2));this._iSelectedIndex=t;this.setProperty("_middleDate",i);if(a){this.firePageChange()}};m.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),a=jQuery(t[e]),r=a.attr("data-sap-year-start"),i=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(r),this._getPrimaryCalendarType()),s=this._getSelectedDates()[0],n=this.getAggregation("selectedDates"),l;if(a.hasClass("sapUiCalItemDsbl")){return false}if(!this._isSelectionInProgress()){var h=true}this.setProperty("year",i.getYear(),h);this.setProperty("date",i.toLocalJSDate(),h);if(!s){return true}if(!this._oSelectedDatesControlOrigin){if(!n||!n.length){this.addAggregation("selectedDates",s)}!this.getIntervalSelection()&&s.setStartDate(i.toLocalJSDate(),h)}if(this.getIntervalSelection()){if(!s.getStartDate()){s.setStartDate(i.toLocalJSDate(),h)}else if(!s.getEndDate()){l=o.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());if(i.isBefore(l)){s.setEndDate(l.toLocalJSDate(),h);s.setStartDate(i.toLocalJSDate(),h)}else{s.setEndDate(i.toLocalJSDate(),h)}}else{s.setStartDate(i.toLocalJSDate(),h);s.setEndDate(undefined,h)}}if(h){for(var d=0;d<t.length;d++){a=jQuery(t[d]);r=a.attr("data-sap-year-start");var g=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(r),this._getPrimaryCalendarType());var p=this._isYearSelected(g);var c=this._isYearInsideSelectionRange(g);if(p){a.addClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(c){a.addClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(!p&&!c){a.removeClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","false")}}}return true};m.prototype._isSelectionInProgress=function(){const e=this._getShowSelectedRange();const t=this._getSelectedDates()[0];if(!t){return false}return e&&t.getStartDate()&&!t.getEndDate()};function _(){var e=this.getProperty("_middleDate")||(this.getDate()?o.fromLocalJSDate(this.getDate(),this._getPrimaryCalendarType()):this._getDate()),t=this.getDomRef(),a=this.$().find(".sapUiCalItem"),r,n,l,h;for(h=0;h<a.length;++h){n=a[h].getAttribute("data-sap-year-start");l=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(n),this._getPrimaryCalendarType());if(l.isSame(e)){r=h;break}}if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,f,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,D,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,S,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(a);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this.getColumns(),true);if(s._isBetween(e,this._oMinDate,this._oMaxDate,true)){this._oItemNavigation.setFocusedIndex(r)}this._oItemNavigation.setPageSize(a.length)}function f(e){var t=e.getParameter("index"),a=e.getParameter("event"),r=this._oItemNavigation.aItemDomRefs[t],i=this._getSelectedDates()[0],s,n,l;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,t)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!i){return}if(i.getStartDate()){s=o.fromLocalJSDate(i.getStartDate(),this._getPrimaryCalendarType());s.setMonth(0,1)}l=r.getAttribute("data-sap-year-start");n=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(l),this._getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(s,n)}}}function D(e){f.call(this,e)}m.prototype._handleMousedown=function(e,t){if(e.button||r.support.touch&&!r.system.combi){return}var a=this._selectYear(t);if(a){this._bMousedownChange=true}e.preventDefault();e.setMark("cancelAutoClose")};function S(e){var t=e.getParameter("event"),a=this._oItemNavigation.getFocusedIndex(),r=this.getYears(),i=this.getColumns(),s=this._getSelectedDates()[0],n=this._oItemNavigation.getItemDomRefs(),l,h,d;if(s&&s.getStartDate()){l=o.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());l.setMonth(0,1)}if(t.type){if(i===0){i=r}switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===u.ARROW_DOWN&&i<r){d=n[a-r+i].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,a-r+i,true);this._iSelectedIndex=a-r+i}else{d=n[0].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,0,true)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===u.ARROW_UP&&i<r){d=n[r-i+a].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,r-i+a,true);this._iSelectedIndex=r-i+a}else{d=n[r-1].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,r-1,true)}break;case"sappagedown":d=n[a].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,a,true);break;case"sappageup":d=n[a].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,a,true);break;default:break}}this._isSelectionInProgress()&&this._markInterval(l,h)}m.prototype._isYearSelected=function(e){const t=this.getSelectedDates();const a=this._getShowSelectedRange();if(!(t&&t.length)){return false}const r=t[0];const i=r.getStartDate();const s=r.getEndDate();if(a&&i&&s){const t=o.fromLocalJSDate(i,this._getPrimaryCalendarType());const a=o.fromLocalJSDate(s,this._getPrimaryCalendarType());return e.getYear()===t.getYear()||e.getYear()===a.getYear()}const n=t=>{const a=t.getStartDate();if(!a){return false}const r=o.fromLocalJSDate(a,this._getPrimaryCalendarType());return e.getYear()===r.getYear()};if(this.getProperty("_singleSelection")){return n(r)}return t.some(n)};m.prototype._isYearInsideSelectionRange=function(e){const t=this.getSelectedDates();const a=this._getShowSelectedRange();if(!(t&&t.length)){return false}const r=t[0];if(!r){return false}if(a){const t=r.getStartDate();const a=r.getEndDate();if(!t||!a){return false}const i=o.fromLocalJSDate(t,this._getPrimaryCalendarType());const n=o.fromLocalJSDate(a,this._getPrimaryCalendarType());i.setMonth(0,1);n.setMonth(0,1);return s._isBetween(e,i,n,true)}return false};return m});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPickerRenderer", ["sap/ui/core/Lib","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText"],function(e,t,a,r,i,l){"use strict";var s={apiVersion:2};s.render=function(e,t){var a=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUiCalYearPicker");if(t._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}if(a){e.attr("title",a)}e.accessibilityState(t,this.getAccessibilityState(t));e.openEnd();this.renderCells(e,t);e.close("div")};s.getAccessibilityState=function(t){return{role:"grid",readonly:"true",multiselectable:t.getIntervalSelection(),roledescription:e.getResourceBundleFor("sap.ui.unified").getText("YEAR_PICKER"),describedby:t._bCalendar?l.getStaticId("sap.ui.unified","CALENDAR_YEAR_RANGE_PICKER_OPEN_HINT"):""}};s.renderCells=function(e,l){var s=l.getProperty("_middleDate")?l.getProperty("_middleDate"):l._getDate(),n=new t(s,l.getPrimaryCalendarType()),d=a._minDate(l.getProperty("primaryCalendarType")).getYear(),o=a._maxDate(l.getProperty("primaryCalendarType")).getYear(),c=l.getYears(),p=l.getId(),g=l.getColumns(),y=l._getSecondaryCalendarType(),u="",f=false,C=l._getLocaleData(),S,m,_,D,Y,T;n.setYear(n.getYear()-Math.floor(c/2));if(n.getYear()<d){n.setYear(d)}else if(n.getYear()+c>o){n.setYear(o-c+1)}if(g>0){u=100/g+"%"}else{u=100/c+"%"}for(T=0;T<c;T++){Y=l._oFormatYyyymmdd.format(n.toUTCJSDate(),true);D={role:"gridcell"};f=l._checkDateEnabled(n);if(g>0&&T%g==0){e.openStart("div");e.accessibilityState(null,{role:"row"});e.openEnd()}e.openStart("div",p+"-y"+Y);e.class("sapUiCalItem");m=l._isYearSelected(n);_=l._isYearInsideSelectionRange(n);if(m){e.class("sapUiCalItemSel");D["selected"]=true}if(_&&!m){e.class("sapUiCalItemSelBetween");D["selected"]=true}if(!m&&!_){D["selected"]=false}if(!f){e.class("sapUiCalItemDsbl");D["disabled"]=true}S=l._oYearFormat.format(r.getInstance(n.toUTCJSDate(),n.getCalendarType()),true);D["label"]=S;if(y){var b=l._getDisplayedSecondaryDates(n),v=i.getDateInstance({format:"y",calendarType:l.getSecondaryCalendarType()}),I,U;if(b.start.getYear()===b.end.getYear()){I=v.format(b.start.toUTCJSDate(),true)}else{U=C.getIntervalPattern();I=U.replace(/\{0\}/,v.format(b.start.toUTCJSDate()),true).replace(/\{1\}/,v.format(b.end.toUTCJSDate(),true))}D["label"]=D["label"]+" "+I}e.attr("tabindex","-1");e.attr("data-sap-year-start",Y);e.style("width",u);e.accessibilityState(null,D);e.openEnd();e.text(S);if(y){e.openStart("div",p+"-y"+Y+"-secondary");e.class("sapUiCalItemSecText");e.openEnd();e.text(I);e.close("div")}e.close("div");n.setYear(n.getYear()+1);if(g>0&&(T+1)%g==0){e.close("div")}}};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePicker", ["./YearPicker","./YearRangePickerRenderer","./CalendarDate","./CalendarUtils","sap/ui/thirdparty/jquery"],function(e,t,a,r,jQuery){"use strict";var s=e.extend("sap.ui.unified.calendar.YearRangePicker",{metadata:{library:"sap.ui.unified",properties:{years:{type:"int",group:"Appearance",defaultValue:9},columns:{type:"int",group:"Appearance",defaultValue:3},rangeSize:{type:"int",group:"Appearance",defaultValue:20}}},renderer:t});s.prototype.setDate=function(e){var t,s,i,n,o;e&&r._checkJSDateObject(e);s=e.getFullYear();r._checkYearInValidRange(s);t=a.fromLocalJSDate(e,this._getPrimaryCalendarType());t.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",t.getYear());this._oDate=t;i=this.getYears();o=Math.floor(i/2);n=new a(this._oDate,this._getPrimaryCalendarType());n=this._checkFirstDate(n);this._iSelectedIndex=o;this.setProperty("_middleDate",n);return this};s.prototype._checkFirstDate=function(e){var t=this.getYears();var s=new a(this._oMaxDate,this._getPrimaryCalendarType());const i=t*this.getRangeSize();if(!s.isSame(r._maxDate(this._getPrimaryCalendarType()))){return e}if(this.getColumns()%2===0){s.setYear(s.getYear()-i/2+1)}else{Math.floor(t/2)*this.getRangeSize()+1-Math.floor(this.getRangeSize()/2)}if(e.isAfter(s)&&e.getYear()!=s.getYear()){e=new a(s,this._getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new a(this._oMinDate,this._getPrimaryCalendarType());e.setMonth(0,1)}return e};s.prototype._updatePage=function(e,t,r){const s=this._oItemNavigation.getItemDomRefs();const i=a.fromLocalJSDate(this._oFormatYyyymmdd.parse(s[0].getAttribute("data-sap-year-start")),this._getPrimaryCalendarType());const n=this.getYears();const o=this.getRangeSize();const h=new a(i,this._getPrimaryCalendarType());const g=n*o;const l=this.getColumns()%2===0?g/2:Math.floor(n/2)*o+Math.floor(o/2);let y;if(e){const e=new a(this._oMaxDate,this._getPrimaryCalendarType());e.setYear(e.getYear()-g+1);if(i.isBefore(e)){h.setYear(i.getYear()+g);const t=new a(h,this._getPrimaryCalendarType());t.setYear(h.getYear()+g);if(t.isAfter(e)){h.setYear(e.getYear())}y=new a(h,this._getPrimaryCalendarType());y.setYear(h.getYear()+l)}else{return}}else{if(i.isAfter(this._oMinDate)){const e=new a(this._oMinDate,this._getPrimaryCalendarType());h.setYear(i.getYear()-g);if(h.isBefore(e)){h.setYear(e.getYear())}y=new a(h,this._getPrimaryCalendarType());y.setYear(h.getYear()+l)}else{return}}this._iSelectedIndex=t;this.setProperty("_middleDate",y);if(r){this.firePageChange()}};s.prototype._checkDateEnabled=function(e,t){if(r._isBetween(this._oMinDate,e,t,true)||r._isBetween(this._oMaxDate,e,t,true)||this._oMinDate.isBefore(e)&&this._oMaxDate.isAfter(t)){return true}return false};s.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),r=jQuery(t[e]),s=r.attr("data-sap-year-start"),i=a.fromLocalJSDate(this._oFormatYyyymmdd.parse(s),this._getPrimaryCalendarType());if(r.hasClass("sapUiCalItemDsbl")){return false}this.setProperty("date",i.toLocalJSDate());this.setProperty("year",i.getYear());return true};s.prototype._isYearSelected=function(e){const t=this.getSelectedDates();const s=this._getShowSelectedRange();if(!(t&&t.length)){return false}const i=new a(e,this.getPrimaryCalendarType());i.setYear(i.getYear()+this.getRangeSize()-1);i.setMonth(0,1);const n=t[0];const o=n.getStartDate();const h=n.getEndDate();if(s&&o&&h){const t=a.fromLocalJSDate(o,this._getPrimaryCalendarType());t.setMonth(0,1);const s=a.fromLocalJSDate(h,this._getPrimaryCalendarType());s.setMonth(0,1);return r._isBetween(t,e,i,true)||r._isBetween(s,e,i,true)}const g=t=>{const s=t.getStartDate();if(!s){return false}const n=a.fromLocalJSDate(s,this._getPrimaryCalendarType());s.setMonth(0,1);if(r._isBetween(n,e,i,true)){return true}return false};if(this.getProperty("_singleSelection")){return g(n)}return t.some(g)};s.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),r=new a(e,e.getCalendarType()),s=new a(e,e.getCalendarType());r.setMonth(0,1);r=new a(r,t);s.setYear(s.getYear()+this.getRangeSize());s.setMonth(0,1);s.setDate(s.getDate()-1);s=new a(s,t);return{start:r,end:s}};s.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8);this.setRangeSize(8)}return this};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePickerRenderer", ["sap/ui/core/Lib","sap/ui/core/Renderer","./YearPickerRenderer","./CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/date/UniversalDate","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a,r,l,i,n){"use strict";var s=t.extend(a);s.apiVersion=2;s.getAccessibilityState=function(){return{role:"grid",readonly:"true",multiselectable:false,roledescription:e.getResourceBundleFor("sap.ui.unified").getText("YEAR_RANGE_PICKER")}};s.renderCells=function(e,t){var a=t.getProperty("_middleDate")?t.getProperty("_middleDate"):t._getDate(),s=new r(a,t.getPrimaryCalendarType()),o=new r(s,t.getPrimaryCalendarType()),d=n._minDate(t.getProperty("primaryCalendarType")).getYear(),g=n._maxDate(t.getProperty("primaryCalendarType")).getYear(),c,p="",y="",f="",u=t.getId(),m=t.getColumns(),Y=t.getYears(),S=t._getSecondaryCalendarType(),C=t._getLocaleData(),D=C.getIntervalPattern(),_="",T,I,R,U,b;if(t.getColumns()%2!==0){o.setYear(o.getYear()-Math.floor(t.getRangeSize()/2));o.setYear(o.getYear()-Math.floor(Y/2)*t.getRangeSize())}else{o.setYear(o.getYear()-Y/2*t.getRangeSize())}if(o.getYear()<d){o.setYear(d)}else if(o.getYear()>g-Y){o.setYear(g-Math.floor(Y)*t.getRangeSize()+1)}c=new r(o,t.getPrimaryCalendarType());c.setYear(c.getYear()+t.getRangeSize()-1);if(m>0){_=100/m+"%"}else{_=100/Y+"%"}for(b=0;b<Y;b++){U=t._oFormatYyyymmdd.format(o.toUTCJSDate(),true);R={role:"gridcell"};if(m>0&&b%m==0){e.openStart("div");e.accessibilityState(null,{role:"row"});e.openEnd()}e.openStart("div",u+"-y"+U);e.class("sapUiCalItem");T=t._isYearSelected(o);I=t._isYearInsideSelectionRange(o);if(T){e.class("sapUiCalItemSel");R["selected"]=true}if(I&&!T){e.class("sapUiCalItemSelBetween");R["selected"]=true}if(!T&&!I){R["selected"]=false}if(!t._checkDateEnabled(o,c)){e.class("sapUiCalItemDsbl");R["disabled"]=true}p=t._oYearFormat.format(i.getInstance(o.toUTCJSDate(),o.getCalendarType()),true);y=t._oYearFormat.format(i.getInstance(c.toUTCJSDate(),c.getCalendarType()),true);f=D.replace(/\{0\}/,p).replace(/\{1\}/,y);R["label"]=f;if(S){var v=t._getDisplayedSecondaryDates(o),P=l.getDateInstance({format:"y",calendarType:t.getSecondaryCalendarType()}),x;if(v.start.getYear()===v.end.getYear()){x=P.format(v.start.toUTCJSDate(),true)}else{x=D.replace(/\{0\}/,P.format(v.start.toUTCJSDate(),true)).replace(/\{1\}/,P.format(v.end.toUTCJSDate(),true))}R["label"]=R["label"]+" "+x}e.attr("tabindex","-1");e.attr("data-sap-year-start",U);e.style("width",_);e.accessibilityState(null,R);e.openEnd();if(n._isBetween(t._oDate,o,c,true)){t._iSelectedIndex=b}e.text(f);if(S){e.openStart("div",u+"-y"+U+"-secondary");e.class("sapUiCalItemSecText");e.openEnd();e.text(x);e.close("div")}e.close("div");if(m>0&&(b+1)%m==0){e.close("div")}o.setYear(c.getYear()+1);c.setYear(c.getYear()+t.getRangeSize())}};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/library", ["sap/ui/base/Object","sap/ui/base/DataType","sap/ui/core/Lib","./ColorPickerDisplayMode","./FileUploaderHttpRequestMethod","sap/ui/core/RenderManager","sap/ui/core/library"],function(e,i,n,a,t,r){"use strict";var d=n.init({name:"sap.ui.unified",apiVersion:2,version:"1.136.0",dependencies:["sap.ui.core"],designtime:"sap/ui/unified/designtime/library.designtime",types:["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],interfaces:["sap.ui.unified.IMenuItem","sap.ui.unified.IProcessableBlobs"],controls:["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],elements:["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuItemGroup","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.NonWorkingPeriod","sap.ui.unified.RecurringNonWorkingPeriod","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem","sap.ui.unified.TimeRange"],extensions:{"sap.ui.support":{publicRules:true}}});d.CalendarDayType={None:"None",NonWorking:"NonWorking",Working:"Working",Type01:"Type01",Type02:"Type02",Type03:"Type03",Type04:"Type04",Type05:"Type05",Type06:"Type06",Type07:"Type07",Type08:"Type08",Type09:"Type09",Type10:"Type10",Type11:"Type11",Type12:"Type12",Type13:"Type13",Type14:"Type14",Type15:"Type15",Type16:"Type16",Type17:"Type17",Type18:"Type18",Type19:"Type19",Type20:"Type20"};i.registerEnum("sap.ui.unified.CalendarDayType",d.CalendarDayType);d.StandardCalendarLegendItem={Today:"Today",WorkingDay:"WorkingDay",NonWorkingDay:"NonWorkingDay",Selected:"Selected"};i.registerEnum("sap.ui.unified.StandardCalendarLegendItem",d.StandardCalendarLegendItem);d.CalendarIntervalType={Hour:"Hour",Day:"Day",Month:"Month",Week:"Week",OneMonth:"One Month"};i.registerEnum("sap.ui.unified.CalendarIntervalType",d.CalendarIntervalType);d.RecurrenceType={Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly",Yearly:"Yearly"};i.registerEnum("sap.ui.unified.RecurrenceType",d.RecurrenceType);d.CalendarAppointmentHeight={HalfSize:"HalfSize",Regular:"Regular",Large:"Large",Automatic:"Automatic"};i.registerEnum("sap.ui.unified.CalendarAppointmentHeight",d.CalendarAppointmentHeight);d.CalendarAppointmentRoundWidth={HalfColumn:"HalfColumn",None:"None"};i.registerEnum("sap.ui.unified.CalendarAppointmentRoundWidth",d.CalendarAppointmentRoundWidth);d.GroupAppointmentsMode={Collapsed:"Collapsed",Expanded:"Expanded"};i.registerEnum("sap.ui.unified.GroupAppointmentsMode",d.GroupAppointmentsMode);d.FileUploaderHttpRequestMethod=t;d.CalendarAppointmentVisualization={Standard:"Standard",Filled:"Filled"};i.registerEnum("sap.ui.unified.CalendarAppointmentVisualization",d.CalendarAppointmentVisualization);d.ContentSwitcherAnimation={None:"None",Fade:"Fade",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Rotate:"Rotate",SlideRight:"SlideRight",SlideOver:"SlideOver"};i.registerEnum("sap.ui.unified.ContentSwitcherAnimation",d.ContentSwitcherAnimation);d.ColorPickerMode={HSV:"HSV",HSL:"HSL"};i.registerEnum("sap.ui.unified.ColorPickerMode",d.ColorPickerMode);d.ColorPickerDisplayMode=a;d._ContentRenderer=e.extend("sap.ui.unified._ContentRenderer",{constructor:function(i,n,a,t){e.apply(this);this._id=n;this._cntnt=a;this._ctrl=i;this._rm=(new r).getInterface();this._cb=t||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}e.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(function(){var e=document.getElementById(this._id);if(e){if(typeof this._cntnt==="string"){var i=this._ctrl.getAggregation(this._cntnt,[]);for(var n=0;n<i.length;n++){this._rm.renderControl(i[n])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(!!e)}.bind(this),0)}});d._iNumberOfOpenedShellOverlays=0;d.calendar=d.calendar||{};return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/Mobile", ["sap/ui/Device","sap/base/Log","sap/base/util/extend","sap/ui/dom/_ready"],function(e,t,o,n){"use strict";var i={};var a=false;function r(e,t){if(e!=="meta"||t&&!document.querySelector("meta[name='"+t.name+"']")){t=t||{};var o=document.createElement(e);for(var n in t){if(t[n]){o.setAttribute(n,t[n])}}document.head.appendChild(o)}}function c(e){var t=document.head.querySelectorAll(e);for(var o=0,n=t.length;o<n;o++){t[o].remove(t[o])}}i.init=function(t){if(!a){a=true;t=o({},{viewport:true,statusBar:"default",hideBrowser:true,preventScroll:true,preventPhoneNumberDetection:true,useFullScreenHeight:true,homeIconPrecomposed:false,mobileWebAppCapable:"default"},t);var c=e.os.ios||e.os.macintosh&&e.browser.mobile;if(t.preventPhoneNumberDetection){r("meta",{name:"format-detection",content:"telephone=no"})}if(t.viewport){var s;var l=e.resize.height;var p=e.resize.width;s="width=device-width, initial-scale=1.0";if(c){s+=", maximum-scale=1.0, user-scalable=no"}r("meta",{name:"viewport",content:s});setTimeout(()=>{if((l!==window.innerHeight||p!==window.innerWidth)&&e.resize._update){e.resize._update()}},50)}if(t.useFullScreenHeight){n().then(function(){document.documentElement.style.height="100%"})}if(t.preventScroll&&c){n().then(function(){document.documentElement.style.position="fixed";document.documentElement.style.overflow="hidden";document.documentElement.style.height="100%";document.documentElement.style.width="100%"})}}if(t){if(t.homeIcon){var m;if(typeof t.homeIcon==="string"){m={phone:t.homeIcon,favicon:t.homeIcon}}else{m=Object.assign({},t.homeIcon);m.phone=t.homeIcon.phone||t.homeIcon.icon||m.favicon;m.favicon=m.favicon||t.homeIcon.icon||t.homeIcon.phone;m.icon=undefined}m.precomposed=t.homeIconPrecomposed||m.precomposed;i.setIcons(m)}if(t.hasOwnProperty("mobileWebAppCapable")){i.setWebAppCapable(t.mobileWebAppCapable,t.statusBar)}}};i.setIcons=function(e){if(!e||typeof e!=="object"){t.warning("Call to sap/ui/util/Mobile.setIcons() has been ignored because there were no icons given or the argument was not an object.");return}var o=e.precomposed?"-precomposed":"",n={phone:"",tablet:"152x152","phone@2":"180x180","tablet@2":"167x167"};if(e["favicon"]){c("link[rel=icon]");r("link",{rel:"icon",href:e["favicon"]})}var i=Object.keys(n).some(function(t){return e.hasOwnProperty(t)});if(i){c("[rel=apple-touch-icon]");c("[rel=apple-touch-icon-precomposed]")}for(var a in n){if(e[a]){r("link",{rel:"apple-touch-icon"+o,href:e[a],sizes:n[a]})}}};i.setWebAppCapable=function(t,o){if(!e.system.tablet&&!e.system.phone){return}var n=["","apple"],i="mobile-web-app-capable",a=t?"yes":"no",c,s,l;for(c=0;c<n.length;c++){s=n[c]?n[c]+"-"+i:i;l=document.head.querySelector('meta[name="'+s+'"]');if(l){l.setAttribute("content",a)}else{r("meta",{name:s,content:a});if(n[c]==="apple"){r("meta",{name:"apple-mobile-web-app-status-bar-style",content:o?o:"default"})}}}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/_FeatureDetection", [],function(){"use strict";var i={};function t(){var t=document.createElement("div");t.innerHTML='<div dir="rtl"><div><span></span><span></span></div></div>';t.firstChild.style="width: 1px; height: 1px; position: fixed; top: 0px; left: 0px; overflow: hidden";t.firstChild.firstChild.style="width: 2px";t.firstChild.firstChild.firstChild.style="display: inline-block; width: 1px";t.firstChild.firstChild.lastChild.style="display: inline-block; width: 1px";document.documentElement.appendChild(t);var e=t.firstChild;i.initialZero=e.scrollLeft==0;document.documentElement.removeChild(t)}t();var e={initialScrollPositionIsZero:function(){return i.initialZero}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/defaultLinkTypes", [],function(){"use strict";var r=function r(e,n){e=typeof e==="string"?e.trim():e;if(!e&&n&&n!=="_self"){return"noopener noreferrer"}return e};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/isCrossOriginURL", [],function(){"use strict";function n(n){var i=new URL(n,document.baseURI);return i.origin==="null"||window.location.origin==="null"||i.origin!==window.location.origin}return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/openWindow", [],function(){"use strict";var n=function n(r,e){var o="noopener,noreferrer";return window.open(r,e,o)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/AppInfoParameters", ["sap/base/Log","sap/ushell/services/AppConfiguration","sap/base/util/deepClone","sap/base/util/isPlainObject","sap/base/util/restricted/_curry","sap/base/util/restricted/_zipObject","sap/ui/VersionInfo","sap/ushell/Container"],(t,e,r,n,a,i,s,o)=>{"use strict";const p="LAUNCHPAD";const u=["productName","theme","appIntent","url"];const c=["productName","theme","languageTag","appIntent","technicalAppComponentId","appId","appVersion","appSupportInfo","appFrameworkVersion","appFrameworkId","title","applicationParams","shellFrameworkVersion","url","abap.transaction"];class l{#t={theme:this.#e.bind(this,"User.env.sap-theme-NWBC"),languageTag:this.#e.bind(this,"User.env.sap-languagebcp47"),appIntent:this.#r.bind(this),appFrameworkId:this.#n.bind(this),appFrameworkVersion:this.#a.bind(this),appSupportInfo:this.#i.bind(this),technicalAppComponentId:this.#s.bind(this),appId:this.#o.bind(this),appVersion:this.#p.bind(this),productName:a(this.#u.bind(this))("productName"),applicationParams:this.#c.bind(this),url:this.#l.bind(this),"abap.transaction":this.#h.bind(this)};#m={};#d={};#f(t){let e=t.applicationType;if(e==="TR"){e="GUI"}return e}#g(){return e.getCurrentApplication()?.appCapabilities||{}}async#a(e){const r=this.#f(e);if(r==="UI5"){try{const t=await s.load();return`${t.version||""} (${t.buildTimestamp||""})`||""}catch(e){t.error("VersionInfo could not be loaded",e)}}}async#p(t){const e=t.componentInstance;if(e){const t=e.getManifestEntry("/sap.app/applicationVersion/version");return t}}async#i(t){const[e]=await t.getTechnicalParameter("sap-ach")||[];if(e){return e}return this.#g().appSupportInfo}async#s(t){const r=this.#f(t);const n=e.getMetadata();if(r==="UI5"){const e=t.componentInstance;if(e){let t=e.getManifestEntry("/sap.ui5/componentName");if(!t){t=e.getMetadata().getComponentName()}return t}return n.technicalName}if(r==="URL"){const t=e.getCurrentApplication();if(t.appCapabilities.technicalAppComponentId){return t.appCapabilities.technicalAppComponentId}}if(r==="GUI"){return(n.technicalName||"").replace(/ .*/,"").replace(/^\*/,"")}if(r==="WDA"||r==="NWBC"){return n.technicalName}}async#o(t){const[e]=await t.getTechnicalParameter("sap-fiori-id")||[];if(t.homePage){if(e){if(e!==""){return`${p} (${e})`}return p}return p}else if(e){return e}return this.#g().appId||t.inboundPermanentKey}async#e(t){const e=await o.getServiceAsync("ReferenceResolver");const r=await e.resolveReferences([t]);return r[t]}async#n(t){const r=e.getCurrentApplication();let n=this.#f(t);if(n==="URL"){n=r.appCapabilities&&r.appCapabilities.appFrameworkId}const a={NWBC:"WDA",TR:"GUI"};return a[n]||n}async#u(t,e){const r=await e.getSystemContext();return r.getProperty(t)}async#r(){const t=window.hasher&&window.hasher.getHash();if(!t){throw new Error("Could not identify current application hash")}return t}async#c(t,e){let r={};if(e?.getCurrentAppTargetResolution?.().extendedInfo){r=e.getCurrentAppTargetResolution().extendedInfo.appParams}return r}async getAllAppInfo(t,e,r,n){const a={};const i=Object.keys(this.#t);const s=Object.keys(this.#m);const o=Array.from(new Set([...i,...s]));try{const r=await this.#A(o,e,n);for(const e in r){if(t){a[e]=r[e]}else{a[e]={value:r[e]}}}}catch{}const p=Object.keys(this.#d);try{const r=await this.#A(p,e,n);for(const e in r){if(t){a[e]=r[e].value}else{a[e]=r[e]}}}catch{}return a}async getInfo(t,e,r){if(!e){throw new Error("Parameter application missing")}return this.#A(["appFrameworkId"],e,r).then(()=>this.#A(t,e,r))}async#A(e,r,n){const a=e.map(async e=>{if(c.includes(e)){if(Object.hasOwn(this.#m,e)){return this.#m[e]}if(Object.hasOwn(this.#t,e)){return this.#t[e](r,n)}t.error(`value for parameter '${e}' is not set.`);return}if(Object.hasOwn(this.#d,e)){if(true){const t=this.#d[e];if(t.migrated){return t.value}}return this.#d[e]}if(e.includes(".")){return this.#u(e,r,n)}t.error(`'${e}' is not a valid app info parameter`)});return Promise.allSettled(a).then(t=>{for(let e=0;e<t.length;e++){if(t[e].status==="fulfilled"){t[e]=t[e].value}else{t[e]=undefined}}return i(e,t)})}setCustomAttributes(e){if(e===undefined||Object.keys(e).length===0){this.flush();return}let a=r(e);if(a.info&&Object.keys(a).length===1){t.error("The old interface for setting custom attributes is deprecated and will be removed in future.");a=a.info}const i={};for(const e in a){if(e==="customProperties"){continue}if(u.includes(e)){t.error(`Attribute '${e}' is restricted and will be ignored.`);continue}if(!c.includes(e)){if(true){t.error(`Attribute '${e}' is not supported and will be moved to customProperties instead. This migration will be removed in future.`);i[e]={value:a[e],showInAbout:false,migrated:true};continue}t.error(`Attribute '${e}' is not supported and will be ignored. It should be moved to the customProperties instead.`);continue}const r=a[e];if(typeof r!=="string"){t.error(`Attribute value for '${e}' is not a string and will be ignored.`);continue}this.#m[e]=r}const s={...i,...a.customProperties};for(const e in s){let r=s[e];if(c.includes(e)){this.#m[e]=r;continue}if(!n(r)){t.error(`Custom attribute '${e}' does not have the correct format. This property will be ignored in future.`);r={value:r,showInAbout:false,migrated:true}}if(!this.#b(e,r)){continue}this.#d[e]=r}}#b(e,r){if(!n(r)){t.error(`Custom attribute '${e}' does not have the correct format and will be ignored.`);return false}if(r.showInAbout===false){return true}r.showInAbout=true;if(!r.label){t.error(`Custom attribute '${e}' has no label and will be ignored.`);return false}return true}#l(){return o.getFLPUrl(true)}#h(t,e){return e?.getCurrentAppTargetResolution?.().appInfo?.["abap.transaction"]}store(t={}){t.appInfoParameters={appParameters:r(this.#m),customAppParameters:r(this.#d)}}restore(t={}){const{appParameters:e,customAppParameters:n}=t.appInfoParameters||{};this.#m=e?r(e):{};this.#d=n?r(n):{}}flush(){this.#m={};this.#d={}}}return new l},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType", ["sap/ushell/Config"],function(e){"use strict";function t(e,t,n){var u=arguments;return new Promise(function(e,t){sap.ui.require(["sap/ushell/ApplicationType/wdaResolution"],function(n){n.generateWDAResolutionResult.apply(n,u).then(e,t)})})}function n(){var e=arguments;return new Promise(function(t,n){sap.ui.require(["sap/ushell/ApplicationType/wdaResolution"],function(u){u.resolveEasyAccessMenuIntentWDA.apply(u,e).then(t,n)})})}function u(e,t,n){return new Promise(function(u,i){sap.ui.require(["sap/ushell/ApplicationType/guiResolution"],function(s){s.generateTRResolutionResult(e,t,n).then(u,i)})})}function i(){var e=arguments;return new Promise(function(t,n){sap.ui.require(["sap/ushell/ApplicationType/guiResolution"],function(u){u.resolveEasyAccessMenuIntentWebgui.apply(u,e).then(t,n)})})}function s(e,t,n){var u=arguments;return new Promise(function(e,t){sap.ui.require(["sap/ushell/ApplicationType/wcfResolution"],function(n){n.generateWCFResolutionResult.apply(n,u).then(e,t)})})}function l(e,t,n){var u=arguments;return new Promise(function(e,t){sap.ui.require(["sap/ushell/ApplicationType/ui5Resolution"],function(n){n.generateUI5ResolutionResult.apply(n,u).then(e,t)})})}function o(e,t,n){var u=arguments;return new Promise(function(e,t){sap.ui.require(["sap/ushell/ApplicationType/urlTemplateResolution"],function(n){n.generateURLTemplateResolutionResult.apply(n,u).then(e,t)})})}function r(e,t,n){var u=arguments;return new Promise(function(e,t){sap.ui.require(["sap/ushell/ApplicationType/urlResolution"],function(n){n.generateURLResolutionResult.apply(n,u).then(e,t)})})}var a={URL:{type:"URL",defaultFullWidthSetting:true,generateResolutionResult:function(e){var t=e.inbound.hasOwnProperty("templateContext");return t?o.apply(null,arguments):r.apply(null,arguments)},easyAccessMenu:{intent:"Shell-startURL",resolver:null,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:false,systemSelectionPriority:1}},WDA:{type:"WDA",defaultFullWidthSetting:true,enableWdaCompatibilityMode:e.last("/core/navigation/enableWdaCompatibilityMode"),generateResolutionResult:t,easyAccessMenu:{intent:"Shell-startWDA",resolver:n,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:2}},TR:{type:"TR",defaultFullWidthSetting:true,generateResolutionResult:u,easyAccessMenu:{intent:"Shell-startGUI",resolver:i,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:3}},NWBC:{type:"NWBC",defaultFullWidthSetting:true},WCF:{type:"WCF",generateResolutionResult:s,defaultFullWidthSetting:true},SAPUI5:{type:"SAPUI5",generateResolutionResult:l,defaultFullWidthSetting:false}};function c(){return Object.keys(a).map(function(e){return a[e]}).filter(function(e){return typeof e.easyAccessMenu==="object"})}function p(){var e={};c().forEach(function(t){e[t.easyAccessMenu.intent]=t.easyAccessMenu.resolver});return function(t,n){if(e[t]&&(!n||n!=="SAPUI5")){return e[t]}return null}}function f(e){return!!a[e]&&a[e].defaultFullWidthSetting}Object.defineProperty(a,"enum",{value:Object.keys(a).reduce(function(e,t){if(a[t].type){e[t]=a[t].type}return e},{})});var y={getEasyAccessMenuResolver:p(),getEasyAccessMenuDefinitions:c,getDefaultFullWidthSetting:f};Object.keys(y).forEach(function(e){Object.defineProperty(a,e,{value:y[e]})});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/UrlPostProcessing", ["sap/ui/core/Supportability","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/User","sap/ushell/utils","sap/ushell/utils/UriParameters","sap/ushell/utils/UrlParsing"],(e,t,s,i,a,n,r,l,o)=>{"use strict";const c=a.appIntegration.contracts.StatefulType;const p={};p.processUrl=function(e,t,s,i){const a=r.isApplicationTypeEmbeddedInIframe(t,true);const n=i&&r.isApplicationTypeEmbeddedInIframe(i.getFrameworkId());if(!a&&!n){return e}let l;let o;let p;if(i){l=i.getTargetNavigationMode();o=i.getStatefulType()!==c.NotSupported;p=i.getUi5Version()}e=this._processUrl(e,t,l,o,s,p);return e};p._processUrl=function(e,t,i,a,n,l){const o={};o["sap-ie"]="edge";const c=this._getTheme(e);if(c){o["sap-theme"]=c}if(this._getAccessibility()){o["sap-accessibility"]="X"}if(this._getStatistics(e)){o["sap-statistics"]="true"}const p=this._getDensity();if(p&&p.length>0){o["sap-touch"]=p}if(!n){if(i){o["sap-target-navmode"]=i}if(t==="TR"||t==="GUI"){o["sap-keepclientsession"]="2"}else if(a){o["sap-keepclientsession"]="1"}const n=this._getInAppState();if(n&&n.length>0){o["sap-iapp-state"]=n}let c=0;if(s.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){c=s.last("/core/shell/sessionTimeoutIntervalInMinutes")}o["sap-ushell-timeout"]=c;e=this._addSearchOrShellParamsToURL(e,o);return r.appendSapShellParamSync(e,t,l)}return this._addSearchOrShellParamsToURL(e,o)};p._addSearchOrShellParamsToURL=function(e,t){if(e.indexOf("#")===-1){return o.addParamsToUrl(e,t)}return o.addShellParamsToURL(e,t)};p._getAccessibility=function(){const e=r.getParameterValueBoolean("sap-accessibility");if(e!==undefined){return e}return i.getUser().getAccessibilityMode()};p._getTheme=function(e){const t=l.fromURL(e)||{mParams:{}};if(t.mParams["sap-theme"]===undefined){return i.getUser().getTheme(n.prototype.constants.themeFormat.NWBC)}return};p._getStatistics=function(t){let s=false;const i=l.fromURL(t)||{mParams:{}};s=e.isStatisticsEnabled()&&i.mParams["sap-statistics"]===undefined;return s};p._getInAppState=function(){const e=t.getHash();let s="";let i;if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){i=/(?:sap-iapp-state=)([^&/]+)/.exec(e);if(i&&i.length===2){s=i[1]}}return s};p._getDensity=function(){let e="";const t=!!document.body?.classList.contains("sapUiSizeCompact");const s=!!document.body?.classList.contains("sapUiSizeCozy");if(t===true){e="0"}else if(s){e="1"}return e};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType/systemAlias", ["sap/ui/thirdparty/URI","sap/ushell/utils","sap/base/util/isPlainObject","sap/base/Log","sap/ushell/Container"],function(e,t,n,r,i){"use strict";var a="";var o={apply:"apply",applied:"applied"};function s(e){return(e.protocol()||"").length>0}function f(e,n,r){var i=typeof n==="string";var a=[e];if(i){a.unshift(n)}var o=t.generateLocalStorageKey("sap-system-data",a);var s=t.getLocalStorage();var f=s.getItem(o);var u={};if(f){try{u=JSON.parse(f)}catch(e){return Promise.reject("Cannot parse system data from local storage at key '"+o+"'. Data: "+f)}return Promise.resolve(u)}else if(i){return Promise.reject("Cannot find data for system '"+e+"' in local storage using key '"+o+"'")}if(!r){return Promise.reject("fallback: the adapter does not implement resolveSystemAlias")}return new Promise(function(t,n){r(e).done(function(e){t(e)}).catch(function(e){n(e)})})}function u(t,n,o,s,u){var p=o;var c=new Promise(function(c,h){f(t,n,u).catch(function(e){h(e)}).then(function(n){var f=v(n);if(!f.isValid){m(f);h("Invalid system alias definition");return}var d=g(n,new e(window.location.toString()).protocol());var y=n[d];var P;var S;var R;if(t===a&&y.host===""&&(y.port===0||y.port==="")){d=""}p.protocol(d);p.hostname(y.host);p.port(y.port);w(p,s,y.pathPrefix,u).catch(function(e){h(e)}).then(function(e){P=e.query();if(typeof n.client==="string"&&n.client!==""){P=P+(P.length>0?"&":"")+"sap-client="+n.client}if(typeof n.language==="string"&&n.language!==""){S=n.language}else{R=i.getUser();if(!R){r.error("Cannot retieve the User object via sap.ushell.Container while determining sap-language","will default to 'en' language","sap.ushell.services.ClientSideTargetResolution");S="en"}else{S=R.getLanguage()}}P=P+(P.length>0?"&":"")+"sap-language="+S;e.query(P);if(n.hasOwnProperty("rfc")&&s==="NATIVEWEBGUI"){var t=l(n.rfc,y.host,e);var a=e.path()+";"+t;e.path(a);o._parts.path=a}c(e)})})});return c}function p(e,t,n,r,i,a,s){if(a!==o.apply&&a!==o.applied){throw new Error("Invalid system alias semantic was provided: '"+a+"'")}if(a===o.applied&&(typeof n==="undefined"||t===n)){return Promise.resolve(e)}if(a===o.apply&&typeof t==="undefined"&&typeof n==="undefined"){return Promise.resolve(e)}if(i==="URL"&&a===o.applied){return c(e,t,n,r,s)}var f=new Promise(function(f,u){if(a===o.apply){f({targetUri:e,alias:n||t,sapSystemSrc:n?r:undefined});return}h(e,t,undefined,i,s).catch(function(e){u(e)}).then(function(e){f({targetUri:e,alias:n})})}).then(function(e){return u(e.alias,e.sapSystemSrc,e.targetUri,i,s)});return f}function c(t,n,r,i,o){var p=new Promise(function(p,c){if(n===a||typeof n==="undefined"){if(s(t)){p(t);return}p(u(r,i,t,"URL",o).then(function(e){return e}))}p(f(n,i,o).catch(function(e){c(e)}).then(function(n){var a=g(n,new e(window.location.toString()).protocol()),s=n[a],f;if((t.protocol()||"").toLowerCase()===a&&(t.hostname()||"")===s.host&&t.path().indexOf(s.pathPrefix)===0){t.protocol("");t.hostname("");f=t.path().replace(s.pathPrefix,"");t.path(f);y(t,["sap-language","sap-client"]);return u(r,i,t,"URL",o).then(function(e){return e})}return t}))});return p}function l(e,t){var n,i,a,o,s;a=!!e.systemId;if(a){o=[e.systemId&&"~sysid="+e.systemId,e.loginGroup&&"~loginGroup="+e.loginGroup,e.sncNameR3&&"~messageServer="+encodeURIComponent(e.sncNameR3),e.sncNameR3&&"~sncNameR3="+encodeURIComponent(e.sncNameR3),e.sncQoPR3&&"~sncQoPR3="+e.sncQoPR3].filter(function(e){return typeof e==="string"&&e!==""})}else{s=e.host||"";i=s.toLowerCase()===t.toLowerCase();n=/^[/][HGMR][/].*/.test(s);if(s.length>0&&!i&&!n){r.error("Invalid connect string provided in 'host' field of system alias","Data for rfc destination provided are: "+JSON.stringify(e,null,3),"sap.ushell.services.ClientSideTargetResolution")}o=[s&&!n&&!i&&"~rfcHostName="+s,n&&"~connectString="+encodeURIComponent(s),e.service&&"~service="+e.service,e.sncNameR3&&"~sncNameR3="+encodeURIComponent(e.sncNameR3),e.sncQoPR3&&"~sncQoPR3="+e.sncQoPR3].filter(function(e){return typeof e==="string"&&e!==""})}return o.join(";").replace(/(%[A-F0-9]{2})/g,function(e){return e.toLowerCase()})}function h(e,t,n,r,i){var a=new Promise(function(a,o){if(typeof t==="undefined"){a(d(e,t,r,undefined,i));return}a(f(t,n,i).then(function(n){return d(e,t,r,n,i)}))});return a}function d(t,r,i,a,o){t.protocol("");t.hostname("");t.port("");var s=new Promise(function(s){var u,p;y(t,["sap-client","sap-language"]);if(!n(a)||typeof r!=="string"){s(t)}p=g(a,new e(window.location.toString()).protocol());u=a[p];var c=new Promise(function(e,t){var n=typeof u.pathPrefix==="string"&&u.pathPrefix;if(n!==""){e(n)}else{f("",undefined,o).catch(function(e){t(e)}).then(function(t){var n=t[p];e(n.pathPrefix)})}}).then(function(e){var n;if(e&&e.length>0){n=t.path();n=n.replace(e,"");if(e==="/sap/bc/"){n=n.replace("/sap(====)/bc/","")}if(n.indexOf("/")!==0){n="/"+n}t.path(n)}if(i==="NATIVEWEBGUI"&&a.hasOwnProperty("rfc")){n=t.path();n=n.split(";").filter(function(e){return e.indexOf("~sysid=")!==0&&e.indexOf("~service=")!==0&&e.indexOf("~loginGroup=")!==0&&e.indexOf("~messageServer=")!==0&&e.indexOf("~sncNameR3=")!==0&&e.indexOf("~sncQoPR3=")!==0}).join(";");t.path(n)}return t});s(c)});return s}function g(e,t){if(e.hasOwnProperty("https")){return"https"}if(e.hasOwnProperty("http")){return"http"}r.error("Cannot select which system alias to pick between http/https","make sure they are provided in the given system alias collection","sap.ushell.services.ClientSideTargetResolution");return undefined}function m(e){r.error("Invalid system alias definition: "+e.debug,"ERRORS:"+e.errors.map(function(e){return"\n - "+e}).join(""),"sap.ushell.ApplicationType")}function v(e){function t(e){var t=[];if(typeof e.host!=="string"){t.push("host field must be a string")}if(typeof e.port!=="number"&&typeof e.port!=="string"){t.push("port field must be a number or a string")}if(typeof e.pathPrefix!=="string"){t.push("pathPrefix field must be a string")}return t}var n=[],r=e.hasOwnProperty("https"),i=e.hasOwnProperty("http");if(!i&&!r){n.push("at least one of 'http' or 'https' fields must be defined")}if(r){t(e.https).forEach(function(e){n.push("https>"+e)})}if(i){t(e.http).forEach(function(e){n.push("http>"+e)})}if(n.length>0){return{isValid:false,errors:n,debug:JSON.stringify(e,null,3)}}return{isValid:true}}function y(e,t){var n={},r;t.forEach(function(e){n[e]=true});r=e.query();r=r.split("&").filter(function(e){var t=(e.split("=")[0]||"").toLowerCase();return!n.hasOwnProperty(t)}).join("&");e.query(r)}function w(t,n,r,i){var a;var o=new Promise(function(o){if(n==="URL"&&r.length===0){o(t);return}o(f("",undefined,i).then(function(i){var o=g(i,new e(window.location.toString()).protocol());var s=i[o].pathPrefix;var f=r===s;if(r.length>0&&!f){if((n==="WDA"||n==="WEBGUI")&&t.path().indexOf("~canvas")>=0){a=t.path();a="/~canvas"+a.split("~canvas")[1];t.path(a)}}function u(e){var n=e+t.path();t.path(n.replace(/\/+/g,"/"));return t}if(r.length===0){if(n==="WCF"&&s==="/sap/bc/"){return u("/sap(====)/bc/")}return u(s)}return u(r)}))});return o}function P(t,n){const r=n.getCurrentAppTargetResolution()||{};if(n.getFrameworkId()==="WDA"||r?.applicationType==="WDA"){const r=n.getSystemAlias();return new e(t).removeSearch("sap-system").addSearch("sap-system",r===""?"''":r).toString()}return t}function S(e="",t=""){const n=e.split("_");let r="";let i="";while(n.length>0){r+=n.shift();if(r===t){i=n.shift()||"";while(n.length>0){i=i+"_"+n.shift()}return i}r+="_"}if(t===""){return e}if(e.startsWith(t)){throw new Error(`Unexpected format for fully qualified systemAlias"${e}": missing underscore delimiter while content provider id is "${t}".`)}return e}return{LOCAL_SYSTEM_ALIAS:a,SYSTEM_ALIAS_SEMANTICS:o,spliceSapSystemIntoURI:p,isAbsoluteURI:s,getSystemAliasInProvider:S,addSystemAlias:P,_stripURI:h,_selectSystemAliasDataName:g,_constructNativeWebguiParameters:l}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config", ["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/Config/utils"],function(e,n,t){"use strict";var r=n.createConfigContract(window["sap-ushell-config"]);var o=e.createChannel(r);var c=Object.keys(o).reduce(function(n,t){n[t]=function(){if(!o){o=e.createChannel(r)}return o[t].apply(o,arguments)};return n},{_reset:function(){o=null},_resetContract:function(){r=n.createConfigContract(window["sap-ushell-config"]);this._reset()},registerConfiguration:function(e,n){r=n},createModel:function(n,c){if(!o){o=e.createChannel(r)}return t.createModel(o,r,n,c)}});return c},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config/utils", [],function(){"use strict";function t(t,r){var n=[];var e=[];var o=r;var a=false;var i=t.split("/");i.shift();i.forEach(function(t){if(!a&&o.hasOwnProperty(t)){o=o[t];n.push(t);return}a=true;e.push(t)});return{contractPart:"/"+n.join("/"),nonContractPart:e}}function r(t){return t&&t.isA&&t.isA("sap.ui.model.Context")}function n(t,r,n,e){var o=n;r.forEach(function(n,a){if(a===r.length-1){o[n]=e;return}if(!o.hasOwnProperty(n)){throw new Error("Cannot find "+n+" inside "+t)}o=o[n]})}function e(t){var r=function(r){return t+r};if(typeof t==="object"){var n="/";r=function(r){var e=r.split(n);e.shift();var o=e.shift();return t[o]+(e.length>0?n+e.join(n):"")}}return r}function o(t,n,o){var a=e(o);var i=a(t);if(r(n)&&t.charAt(0)!=="/"){var c=n.getPath()+"/"+t;i=a(c)}return i}function a(r,e,a,i){a.setData=function(t,r){throw new Error("not yet implemented")};a.setProperty=function(a,c,u){var f=o(a,u,i);var s=t(f,e);if(s.nonContractPart.length===0){r.emit(s.contractPart,c);return}var p=r.last(s.contractPart);n(s.contractPart,s.nonContractPart,p,c);r.emit(s.contractPart,p)};a.getProperty=function(n,a){const c=o(n,a,i);const u=t(c,e);return r.last(u.contractPart)};a.getData=function(t){if(typeof i==="string"){return a.getProperty("/",t)}return Object.keys(i).reduce((r,n)=>{r[n]=this.getProperty(`/${n}`,t);return r},{})};return a}function i(t,r,n,e){var o,i,c,u;if(typeof n==="string"){var f=n;u=f;var s=t.last(f);if(Object.prototype.toString.apply(s)!=="[object Object]"){throw new Error("Cannot bind on leaf property of Configuration: '"+f+"'")}o=new e(s);c=o.setData.bind(o);t.on(f).do(function(t){c(t)});return a(t,r,o,u)}if(Object.prototype.toString.apply(n)==="[object Object]"){var p=n;var v=Object.keys(p).reduce(function(r,n){var e=p[n];r[n]=t.last(e);t.on(e).do(function(t,r){i("/"+t,r)}.bind(null,n));return r},{});o=new e(v);i=o.setProperty.bind(o);return a(t,r,o,p)}throw new Error("Invalid parameter provided to createModel. Must be an object or a string.")}return{createModel:i}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Container", ["sap/base/assert","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/uid","sap/ui/base/EventProvider","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/performance/Measurement","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ui/util/Mobile","sap/ushell/bootstrap/common/common.util","sap/ushell/EventHub","sap/ushell/System","sap/ushell/Ui5ServiceFactory","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/renderer/ShellLayout","sap/base/util/Deferred","sap/base/util/ObjectPath","sap/ushell/api/BootstrapObserver"],function(e,t,r,n,i,a,o,s,u,l,jQuery,c,f,d,p,h,g,v,m,y,w,S,C){"use strict";var P="sap.ushell.Container";var b="sap.ushell.Container.dirtyState.";var D={};var L;var A;var I=[];var E;const R=[];function F(){close()}function M(){document.location="about:blank"}function U(e){if(A&&A[e]){return A[e]}return"sap.ushell.adapters."+e}function N(e){var t=L.services;if(!t){return{}}if(e==="Notifications"||e==="NotificationsV2"){return t.Notifications||t.NotificationsV2||{}}return t[e]||{}}function T(e,t,r,n,i){var a=N(e).adapter||{};var o;async function s(e){let n;try{[n]=await v.requireAsync([e])}catch(t){if(e.endsWith("PersonalizationV2Adapter")){const t=e.replace("PersonalizationV2Adapter","PersonalizationAdapter");return s(t)}if(e.endsWith("FlpLaunchPageAdapter")){const t=e.replace("FlpLaunchPageAdapter","LaunchPageAdapter");return s(t)}throw t}var i=new n(t,r,{config:a.config||{}});return i}if(i===true){o=a.module;if(o===undefined){return n?Promise.resolve():undefined}}else{o=a.module||U(t.getPlatform())+"."+e+"Adapter"}var u=o.replace(/\./g,"/");function l(e){var n;try{n=sap.ui.requireSync(e)}catch(t){if(e.endsWith("PersonalizationV2Adapter")){const t=e.replace("PersonalizationV2Adapter","PersonalizationAdapter");n=sap.ui.requireSync(t)}else{throw t}}return new n(t,r,{config:a.config||{}})}if(!n){return l(u)}return s(u)}function O(){var u=new a;var d=false;var g=[];var U={};var O;var k={};var x;var q;var V=v.getLocalStorage();var Y=new v.Map;var B=new v.Map;var G;var H=this;var z;var K=false;var W=new w;this.init=function(e,t){S.set("sap.ushell.Container",E);return this._init(e,t).then(e=>{z=e}).then(()=>{O="sap.ushell.Container."+z.getSystem().getPlatform()+".remoteSystem.";G="sap.ushell.Container."+z.getSystem().getPlatform()+".sessionTermination";X();K=true;W.resolve();C.resolveBootstrappedContainer(this);return})};this.isInitialized=function(){return K};this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.abortLogon()}};this.createRenderer=function(e,r){if(typeof e==="boolean"){r=e;e=undefined}var n={async:!!r};var i;var a;l.start("FLP:Container.InitLoading","Initial Loading","FLP");v.setPerformanceMark("FLP - renderer created");e=e||L.defaultRenderer;if(!e){throw new Error("Missing renderer name")}a=L&&L.renderers&&L.renderers[e]||{};i=a.module||(e.indexOf(".")<0?"sap.ushell.renderers."+e+".Renderer":e);if(i==="sap.ushell.renderers.fiori2.Renderer"){i="sap.ushell.renderer.Renderer"}if(a.componentData&&a.componentData.config){n.config=a.componentData.config}function s(t){var r=sap.ui.requireSync(t);var i=new r({componentData:n});var a;var s=sap.ui.requireSync("sap/ui/core/UIComponent");if(i instanceof s){var l=sap.ui.requireSync("sap/ui/core/ComponentContainer");a=new l({component:i,height:"100%",width:"100%"})}else{a=i}if(!(a instanceof o)){throw new Error("Unsupported renderer type for name "+e)}f(a);d(a);U[e]=i;u.fireEvent("rendererCreated",{renderer:i});return a}function c(t){return new Promise(function(r,i){sap.ui.require([t,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"],function(t,a,s){var l=new t({componentData:n});if(l instanceof s){var c=new a({component:l,height:"100%",width:"100%",async:true});f(c);d(c);U[e]=l;l.rootControlLoaded().then(function(){u.fireEvent("rendererCreated",{renderer:l});r(c)})}else if(l instanceof o){f(l);d(l);U[e]=l;u.fireEvent("rendererCreated",{renderer:l});r(l)}else{i(new Error("Unsupported renderer type!"))}})})}function f(e){e.placeAt=function(e,t){var r=e;var n="canvas";var i=document.body;if(e===i.id){r=document.createElement("div");r.setAttribute("id",n);r.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(r,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(r)}e=n;t=""}y.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());o.prototype.placeAt.call(this,e,t)}}function d(e){var t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}var h=i.replace(/\./g,"/");if(r){return c(h)}t.error("sap.ushell.Container.createRenderer() should always be called with bAsync:true.");return s(h)};this.createRendererInternal=async function(e){var t={async:true};var r;var n;l.start("FLP:Container.InitLoading","Initial Loading","FLP");v.setPerformanceMark("FLP - renderer created");e=e||L.defaultRenderer;if(!e){throw new Error("Missing renderer name")}n=L.renderers&&L.renderers[e]||{};r=n.module||(e.indexOf(".")<0?"sap.ushell.renderers."+e+".Renderer":e);if(r==="sap.ushell.renderers.fiori2.Renderer"){r="sap.ushell.renderer.Renderer"}if(n.componentData&&n.componentData.config){t.config=n.componentData.config}function i(e){e.placeAt=function(e,t){var r=e;var n="canvas";var i=document.body;if(e===i.id){r=document.createElement("div");r.setAttribute("id",n);r.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(r,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(r)}e=n;t=""}y.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());o.prototype.placeAt.call(this,e,t)}}function a(e){var t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}var s=r.replace(/\./g,"/");const[c,f,d]=await v.requireAsync([s,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"]);var h=new c({componentData:t});if(h instanceof d){var g=new f({component:h,height:"100%",width:"100%",async:true});i(g);a(g);U[e]=h;await h.rootControlLoaded();u.fireEvent("rendererCreated",{renderer:h});return g}else if(h instanceof o){i(h);a(h);U[e]=h;u.fireEvent("rendererCreated",{renderer:h});return h}throw new Error("Unsupported renderer type!")};this.getRenderer=function(e){var r;e=e||L.defaultRenderer;if(e){r=U[e]}else{var n=Object.keys(U);if(n.length===1){r=U[n[0]]}else{t.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,P)}}if(r&&r.isA("sap.ui.core.ComponentContainer")){return r.getComponentInstance()}return r};this.getRendererInternal=function(e){var r;e=e||L.defaultRenderer;if(e){r=U[e]}else{var n=Object.keys(U);if(n.length===1){r=U[n[0]]}else{t.warning("getRendererInternal() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,P)}}if(r&&r.isA("sap.ui.core.ComponentContainer")){return r.getComponentInstance()}return r};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){var e=new jQuery.Deferred;var r=i();var n=0;var a=this.DirtyState.CLEAN;function o(){if(n===0||a===H.DirtyState.DIRTY){e.resolve(a);t.debug("getGlobalDirty() Resolving: "+a,null,"sap.ushell.Container")}}function s(e){if(e.key.indexOf(b)===0&&e.newValue!==H.DirtyState.INITIAL&&e.newValue!==H.DirtyState.PENDING){t.debug("getGlobalDirty() Receiving event key: "+e.key+" value: "+e.newValue,null,"sap.ushell.Container");if(e.newValue===H.DirtyState.DIRTY||e.newValue===H.DirtyState.MAYBE_DIRTY){a=e.newValue}n-=1;o()}}try{V.setItem(r,"CHECK");V.removeItem(r)}catch(r){t.warning("Error calling localStorage.setItem(): "+r,null,"sap.ushell.Container");return e.resolve(this.DirtyState.MAYBE_DIRTY).promise()}if(x){throw new Error("getGlobalDirty already called!")}x=e;window.addEventListener("storage",s);e.always(function(){window.removeEventListener("storage",s);x=undefined});for(var u=V.length-1;u>=0;u-=1){var l=V.key(u);if(l.indexOf(b)===0){if(V.getItem(l)==="PENDING"){V.removeItem(l);t.debug("getGlobalDirty() Cleanup of unresolved 'PENDINGS':"+l,null,"sap.ushell.Container")}else{n+=1;v.localStorageSetItem(l,this.DirtyState.PENDING,true);t.debug("getGlobalDirty() Requesting status for: "+l,null,"sap.ushell.Container")}}}o();setTimeout(function(){if(e.state()!=="resolved"){e.resolve("MAYBE_DIRTY");t.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container")}},n*2e3);return e.promise()};this.getLogonSystem=function(){if(!z){t.error("getLogonSystem: Container is not yet initialized - system cannot be determined!")}return z.getSystem()};this.ready=function(){return W.promise};this.getUser=function(){return z.getUser()};this.getDirtyFlag=function(){var e=d;var t=this._oShellNavigationInternal.getNavigationContext();for(var r=0;r<g.length;r++){e=e||g[r](t)}return e};this.fnAsyncDirtyStateProvider=null;this.getDirtyFlagsAsync=function(){if(!this.fnAsyncDirtyStateProvider){return Promise.resolve(this.getDirtyFlag())}var e=this._oShellNavigationInternal.getNavigationContext();return this.fnAsyncDirtyStateProvider(e).then(function(e){return e||this.getDirtyFlag()}.bind(this))};this.isAsyncDirtyStateProviderSet=function(){return typeof this.fnAsyncDirtyStateProvider==="function"};this.setAsyncDirtyStateProvider=function(e){this.fnAsyncDirtyStateProvider=e};this.setDirtyFlag=function(e){d=e};this.sessionKeepAlive=function(){if(z.sessionKeepAlive){z.sessionKeepAlive()}};this.extendSession=function(){p.emit("nwbcUserIsActive",Date.now())};this.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}g.push(e)};this.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}var t=-1;for(var r=g.length-1;r>=0;r--){if(g[r]===e){t=r;break}}if(t===-1){return}g.splice(t,1)};this.getService=function(e,t,r){return H._getServiceSync.apply(H,arguments)};this.getServiceAsync=function(e,t){return H._getServiceAsync(e,t)};this._getServiceSync=function(e,r,n){var i={};function a(t){var n=new jQuery.Deferred;if(!t){throw new Error("Missing system")}n.resolve(T(e,t,r));E.addRemoteSystem(t);return n.promise()}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}var o=N(e);var s=o.module||"sap.ushell.services."+e;var u=s+"/"+(r||"");var l={config:o.config||{}};function c(e,t){i.createAdapter=a;return new e(t,i,r,l)}function f(t,n){var a;if(Y.containsKey(u)){a=Y.get(u)}else if(t.hasNoAdapter){a=new t(i,r,l)}else{var o=T(e,z.getSystem(),r,n,t.useConfiguredAdapterOnly);if(n){return o.then(function(e){var r=c(t,e);Y.put(u,r);return r})}a=c(t,o)}Y.put(u,a);return n?Promise.resolve(a):a}if(!Y.containsKey(u)){if(!n){t.error("Deprecated API call of 'sap.ushell.Container.getService'. Please use 'getServiceAsync' instead",null,"sap.ushell.Container");var d=sap.ui.requireSync(s.replace(/[.]/g,"/"));return f(d)}if(!B.containsKey(u)){var p=new Promise(function(e,t){sap.ui.require([s.replace(/[.]/g,"/")],function(t){e(f(t,true))},t)});B.put(u,p);return p}return B.get(u)}if(n){return Promise.resolve(Y.get(u))}return Y.get(u)};this._getServiceAsync=function(e,t){var r={};function n(r){var n=new jQuery.Deferred;if(!r){throw new Error("Missing system")}n.resolve(T(e,r,t));E.addRemoteSystem(r);return n.promise()}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}var i=N(e);var a=i.module||"sap.ushell.services."+e;var o=a+"/"+(t||"");var s={config:i.config||{}};function u(e,i){r.createAdapter=n;return new e(i,r,t,s)}function l(n){var i;if(Y.containsKey(o)){i=Y.get(o)}else if(n.hasNoAdapter){i=new n(r,t,s)}else{var a=T(e,z.getSystem(),t,true,n.useConfiguredAdapterOnly);return a.then(function(e){var t=u(n,e);Y.put(o,t);return t})}Y.put(o,i);return Promise.resolve(i)}if(!Y.containsKey(o)){if(!B.containsKey(o)){var c=new Promise(function(e,t){sap.ui.require([a.replace(/[.]/g,"/")],function(t){e(l(t))},t)});B.put(o,c);return c}return B.get(o)}return Promise.resolve(Y.get(o))};function j(){for(var e=V.length-1;e>=0;e-=1){var t=V.key(e);if(t.indexOf(O)===0){try{var r=t.substring(O.length);var n=JSON.parse(V.getItem(t));k[r]=new h(n)}catch(e){V.removeItem(t)}}}return k}function J(){if(typeof OData==="undefined"){return}function e(e,r,n){t.warning(e,null,"sap.ushell.Container");if(n){setTimeout(n.bind(null,e),5e3)}return{abort:function(){return}}}OData.read=function(t,r,n){return e("OData.read('"+(t&&t.Uri?t.requestUri:t)+"') disabled during logout processing",r,n)};OData.request=function(t,r,n){return e("OData.request('"+(t?t.requestUri:"")+"') disabled during logout processing",r,n)}}this.addRemoteSystem=function(e){var r=e.getAlias();var n=k[r];if(this._isLocalSystem(e)){return}if(n){if(n.toString()===e.toString()){return}t.warning("Replacing "+n+" by "+e,null,"sap.ushell.Container")}else{t.debug("Added "+e,null,"sap.ushell.Container")}k[r]=e;v.localStorageSetItem(O+r,e)};this._isLocalSystem=function(e){var t=e.getAlias();if(t&&t.toUpperCase()==="LOCAL"){return true}var r=new c(v.getLocationHref());var n=this.getLogonSystem().getClient()||"";if(e.getBaseUrl()===r.origin()&&e.getClient()===n){return true}return false};this.addRemoteSystemForServiceUrl=function(e){var t={baseUrl:";o="};if(!e||e.charAt(0)!=="/"||e.indexOf("//")===0){return}var r=/^[^?]*;o=([^/;?]*)/.exec(e);if(r&&r.length>=2){t.alias=r[1]}e=e.replace(/;[^/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){t.platform="hana";t.alias=t.alias||"hana"}else if(/^\/sap\/opu\//.test(e)){t.platform="abap"}if(t.alias&&t.platform){this.addRemoteSystem(new h(t))}};this.attachLogoutEvent=function(t,r){var n=false;if(r===true){e(typeof t==="function","Container.attachLogoutEvent: fnFunction must be a function");for(var i=0;i<I.length;i++){if(I[i]===t){n=true;break}}if(!n){I.push(t)}}else{u.attachEvent("Logout",t)}};this.detachLogoutEvent=function(e){u.detachEvent("Logout",e);for(var t=0;t<I.length;t++){if(I[t]===e){I.splice(t,1);break}}};this.attachRendererCreatedEvent=function(e){u.attachEvent("rendererCreated",e)};this.detachRendererCreatedEvent=function(e){u.detachEvent("rendererCreated",e)};this.defaultLogout=function(){var e=new jQuery.Deferred;this.callRegisteredLogoutHandlers().then(()=>{function r(){v.promisify(z.logout(true)).finally(function(){V.removeItem(G);e.resolve()})}function n(){var e=new jQuery.Deferred;var t=e.promise();var n=[];if(I.length>0){for(var i=0;i<I.length;i++){n.push(I[i]())}Promise.all(n).then(e.resolve);setTimeout(e.resolve,4e3)}else{e.resolve()}t.done(function(){if(u.fireEvent("Logout",true)){r()}else{setTimeout(r,1e3)}})}function i(){var e=[];if(q){window.removeEventListener("storage",q)}v.localStorageSetItem(G,"pending");H._suppressOData();var r=H._getRemoteSystems();Object.keys(r).forEach(function(n){try{e.push(v.promisify(T("Container",r[n]).logout(false)))}catch(e){t.warning("Could not create adapter for "+n,e.toString(),"sap.ushell.Container")}V.removeItem(O+n)});Promise.allSettled(e).then(n)}if(typeof z.addFurtherRemoteSystems==="function"){z.addFurtherRemoteSystems().always(i)}else{i()}});return e.promise()};this.logout=this.defaultLogout;this.registerLogout=function(e){if(typeof e!=="function"){t.error("Container.registerLogout - Invalid logout handler function.");return false}if(R.includes(e)){t.warning("Container.registerLogout - This logout handler is already registered. Ignoring.");return false}R.push(e);return true};this.deRegisterLogout=function(e){const r=R.indexOf(e);if(r===-1){t.error("Container.deRegisterLogout - Attempted to de-register a logout handler that was not registered.");return false}R.splice(r,1);return true};this.isLogoutRegistered=function(e){return R.includes(e)};this.callRegisteredLogoutHandlers=async function(){if(R.length>0){for(const e of R){try{await e()}catch(e){t.error("Error executing logout handler:",e)}}}};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.logonFrameProvider=e}};this.setXhrLogonTimeout=function(e,t){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(e,t)}};this.getFLPConfig=function(){var e=new Promise(function(e,t){var r={URL:this.getFLPUrl()};if(D.CDMPromise){D.CDMPromise.then(function(t){t.getSiteWithoutPersonalization().then(function(t){r.scopeId=t.site.identification.id;e(r)})})}else{e(r)}}.bind(this));return e};this.getFLPUrl=function(e){var t=v.getLocationHref();var r=t.indexOf(m.getShellHash(t));if(r===-1||e===true){return t}return t.substr(0,r-1)};this.getFLPUrlAsync=function(e){return(new jQuery.Deferred).resolve(H.getFLPUrl(e)).promise()};this.inAppRuntime=function(){return false};this.runningInIframe=this.inAppRuntime;this._getAdapter=function(){return z};this.getFLPPlatform=function(e){if(e===true){return L.flpPlatform}return Promise.resolve(L.flpPlatform)};this._closeWindow=F;this._redirectWindow=M;this._getRemoteSystems=j;this._suppressOData=J;s.getInstance().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",function(e,t,r){H.addRemoteSystemForServiceUrl(r)});this._init=function(e,i){var a=new Promise(function(a){f.init();L=n({},window["sap-ushell-config"]);A=i;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"])}_(["Personalization","URLParsing","CrossApplicationNavigation"],true);_(["Configuration"],false);var o=new h({alias:"",platform:L.platform||e});T("Container",o,null,true).then(function(e){z=e;return z.load()}).then(function(){function e(){var e=window["sap-ushell-config"];if(!e||!e.services){return false}var t=e.services.PluginManager;var r=t&&t.config;return r&&r.loadPluginsFromSite}var r=[this.getServiceAsync("PluginManager")];if(e()){D.CDMPromise=this.getServiceAsync("CommonDataModel");r.push(D.CDMPromise)}Promise.all(r).then(function(e){s(e)}).then(u);var n=[];if(L.preloadServices!==undefined&&Array.isArray(L.preloadServices)){L.preloadServices.forEach(function(e){n.push(this.getServiceAsync(e))}.bind(this));t.error("Ushell Config's preloadServices should not be used!")}var i=this.getServiceAsync("ShellNavigationInternal").then(function(e){this._oShellNavigationInternal=e}.bind(this));n.push(i);Promise.all(n).then(function(){a(z)})}.bind(this));function s(e){var t=e[0];var n=e[1];var i=n?n.getPlugins():jQuery.when({});i.then(function(e){var n=r({},L.bootstrapPlugins,e);t.registerPlugins(n)})}function u(){l();sap.ui.require(["sap/ushell/Config"],function(e){c(e);d(e)})}function l(){if(v.hasFLPReady2NotificationCapability()){sap.ui.require(["sap/ushell/NWBCInterface"],function(e){v.getPrivateEpcm().doEventFlpReady2(e)})}else if(v.hasFLPReadyNotificationCapability()){v.getPrivateEpcm().doEventFlpReady()}}function c(e){if(e.last("/core/darkMode/enabled")){E.getServiceAsync("DarkModeSupport").then(function(e){if(e&&e.setup){e.setup()}})}}function d(e){var t=!!new URLSearchParams(window.location.search).get("sap-ui-xx-ushell-UITraceEnabled");if(e.last("/core/uiTracer/enabled")||t){E.getServiceAsync("UITracer")}}}.bind(this));return a};function X(){if(typeof z.logoutRedirect==="function"){q=function(e){function t(){H._closeWindow();H._redirectWindow()}if(E!==H){return}if(e.key.indexOf(O)===0&&e.newValue&&e.newValue!==V.getItem(e.key)){v.localStorageSetItem(e.key,e.newValue)}if(e.key===G){if(e.newValue==="pending"){H._suppressOData();if(u.fireEvent("Logout",true)){t()}else{setTimeout(t,1e3)}}}};window.addEventListener("storage",q)}}this._getFunctionsForUnitTest=function(){return{createAdapter:T}};this.resetServices=function(){Y=new v.Map;B=new v.Map};this.reset=function(){this.resetServices();V=v.getLocalStorage();d=false;g=[];U={};this.fnAsyncDirtyStateProvider=undefined;K=false;W=new w}}function _(e,t){e.forEach(function(e){var r=g.createServiceFactory(e,t);u.register("sap.ushell.ui5service."+e,r)})}E=new O;sap.ushell.bootstrap=function(e,r){if(!window["sap-ushell-config-migration"]){if(e==="local"){t.error("Deprecated usage of the 'local' platform! Please replace it with the 'sandbox' scenario.",null,"sap.ushell.bootstrap")}else{t.error(`Deprecated API call of sap.ushell.bootstrap. Please adapt the platform '${e}' accordingly.`,null,"sap.ushell.bootstrap")}d.migrateV2ServiceConfig(window["sap-ushell-config"])}var n=new jQuery.Deferred;E.init(e,r).then(function(){n.resolve()});return n.promise()};return E});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/EventHub", ["sap/base/Log"],function(n){"use strict";var e={pendingEvents:{},subscribers:{},dispatchOperations:{},store:r()};function r(){return{nextKey:0,objectToKey:new window.WeakMap,keyToObject:{}}}function t(e,r,t){n.error(e,r,"sap.ushell.EventHub");return}function i(n){var e="An exception was raised while executing a registered callback on event '"+n.eventName+"'",r="Data passed to the event were: '"+n.eventData+"'";if(n.error.stack){r+=" Error details: "+n.error.stack}t(e,r,n.fnCausedBy)}function u(n,e,r){var t;try{t=e(r)}catch(t){i({eventName:n,eventData:r,fnCausedBy:e,error:t})}return t}function o(n){if(typeof arguments[2]==="function"){return E(n,arguments[2])}return arguments[2]}function a(n){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return k(n,arguments[2])}return arguments[2]}function c(n,e,r){if(typeof e==="object"||typeof e==="function"){try{var i=[e,o.bind(null,n)];if(r){i.push(3)}return JSON.stringify.apply(JSON,i)}catch(n){t(""+n,n.stack,c)}}return e}function f(n,e){try{return JSON.parse(e,a.bind(null,n))}catch(n){return e}}function s(n,e,r){if(!n.subscribers[e]){n.subscribers[e]=[]}n.subscribers[e].push(r)}function l(n,e,r){n.subscribers[e]=(n.subscribers[e]||[]).map(function(n){return n.filter(function(n){return n.fn!==r})}).filter(function(n){return n.length>0})}function p(){var n,e=new Promise(function(e){n=e}),r={dispatching:e,cancelled:false,cancel:function(){r.cancelled=true},complete:function(){n()}};return r}function h(n,e){if(!n.subscribers.hasOwnProperty(e)){return null}var r=p(),t=n.subscribers[e],i=t.map(function(t){return d(n,e,t,r,0)});Promise.all(i).then(r.complete,r.complete);return r}function d(n,e,r,t,i){var u=r.length,o=r.slice(i);return o.reduce(function(i,u){return i.then(function(i){if(t.cancelled){if(i){l(n,e,u.fn)}return i}return v(n,e,u,r).then(function(n){if(n){t.cancelled=true}return n})})},Promise.resolve(false)).then(function(i){if(!i&&u<r.length){return d(n,e,r,t,u)}return i})}function v(n,e,r,t){var i=f(n,n.pendingEvents[e]);return Promise.resolve().then(function(){if(r.called&&t.offed){return false}r.called=true;var o=t.offed;u(e,r.fn,i);var a=t.offed;if(a){l(n,e,r.fn)}return!o&&a})}function b(n,e,r){return function(){r.forEach(function(r){l(n,e,r.fn)});r.offed=true;return{off:b(n,e,[])}}}function y(n,e,r){return function(t){var i={fn:t,called:false};r.push(i);if(n.pendingEvents.hasOwnProperty(e)){var u=n.dispatchOperations[e];if(!u){v(n,e,i,r)}else{u.dispatching.then(function(){if(!i.called){v(n,e,i,r)}})}}return{do:y(n,e,r),off:b(n,e,r)}}}function m(n,e){var r=[];s(n,e,r);return{do:y(n,e,r),off:b(n,e,r)}}function g(n,e){var r=m(n,e);r.off();return r}function O(n,e,r,t){var i=c(n,r);if(!t&&n.pendingEvents.hasOwnProperty(e)&&n.pendingEvents[e]===i){return this}n.pendingEvents[e]=i;var u=n.dispatchOperations[e];if(u){u.cancel()}var o=h(n,e);n.dispatchOperations[e]=o;return this}function w(n,e){return f(n,n.pendingEvents[e])}function j(){var n=Array.prototype.slice.call(arguments);n.shift();var e=0,r=new Array(n.length).join(",").split(",").map(function(){return 1}),t=[],i={do:function(u){n.forEach(function(i,o){i.do(function(i,o){t[i]=o;e+=r[i];r[i]=0;if(e===n.length){u.apply(null,t)}}.bind(null,o))});return{off:i.off}},off:function(){var e=n.reduce(function(n,e){return e.off()},function(){});return{off:e}}};return i}function P(n,e){var r=n.dispatchOperations[e];return r?r.dispatching:Promise.resolve()}function E(n,e){if(n.store.objectToKey.has(e)){return n.store.objectToKey.get(e)}n.store.nextKey++;var r="<"+typeof e+">#"+n.store.nextKey;n.store.keyToObject[r]=e;n.store.objectToKey.set(e,r);return r}function k(n,e){return n.store.keyToObject[e]}function x(n){var e={};e.emit=O.bind(e,n);e.on=m.bind(null,n);e.once=g.bind(null,n);e.last=w.bind(null,n);e.join=j.bind(null,n);e.wait=P.bind(null,n);e._reset=function(n){n.pendingEvents={};n.subscribers={};n.dispatchOperations={};n.store=r()}.bind(null,n);return e}function A(n){var e={pendingEvents:{},subscribers:{},dispatchOperations:{},store:r()},t=x(e),i=f(e,c(e,n));function u(n){var e=n.charAt(0);if(e.match(/[a-zA-Z0-9]/)){throw new Error("Invalid path separator '"+e+"'. Please ensure path starts with a non alphanumeric character")}var r=n.split(e);r.shift();return r}function o(n,e){var r=n,t="";if(arguments.length===2){r=e;t=n}return t+"/"+r.join("/")}function a(n){return Object.prototype.toString.apply(n)==="[object Array]"}function s(n){return Object(n)!==n}function l(n){return(a(n)?n.length:Object.keys(n).length)===0}function p(n,r,t,i){var u="",f=n,l=[];t.reduce(function(n,r,p){u=o(u,[r]);f=f[r];if(p===t.length-1){if(!s(i)&&!s(f)&&Object.keys(f).length>0){var h,d=Object.keys(f).reduce(function(n,e){n[e]=true;return n},{}),v=Object.keys(i).some(function(n){h=n;var e=d.hasOwnProperty(n);delete d[n];var r=!s(f[n])&&Object.keys(f[n]).length>0;return!e||r}),b=Object.keys(d).length>0,y=v||b;if(y){var m=v?"One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '"+h+"'.":"Some keys are missing in the event data: "+Object.keys(d).join(", ")+".";throw new Error("Cannot write value '"+c(e,i,true)+"' to path '"+u+"'. "+m+" All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value")}var g=Object.keys(i).map(function(n){return{serializedPath:o(u,[n]),value:i[n]}});Array.prototype.push.apply(l,g)}n[r]=i}else if(!n.hasOwnProperty(r)){n[r]=a(f)?[]:{}}l.push({serializedPath:u,value:n[r]});return n[r]},r);return l}function h(n,r){var t="",i=r.reduce(function(n,r){t+="/"+r;if(a(n)&&!r.match(/^[0-9]+$/)){throw new Error("Invalid array index '"+r+"' provided in path '"+t+"'")}if(!n.hasOwnProperty(r)){throw new Error("The item '"+r+"' from path "+t+" cannot be accessed in the object: "+c(e,n))}return n[r]},n);return i}function d(n,e,r){return e.reduce(function(n,t,i){var u=i===e.length-1;if(n.hasOwnProperty(t)){return n[t]}return u?r:{}},n)}function v(n,e){e.pop();var r=n,t=[];return e.reduce(function(n,e){r=r[e];t.push(e);n.push({serializedPath:o(t),value:r});return n},[])}function b(n){return n.map(function(n){var r=n.serializedPath;if(!e.subscribers.hasOwnProperty(r)||e.subscribers[r].length===0){return null}return{path:r,value:n.value}}).filter(function(n){return!!n})}function y(e,r){var o=u(e);h(n,o);var a=p(n,i,o,r);a.forEach(function(n){t.emit(n.serializedPath,n.value)})}function m(e){var r=u(e),t=h(n,r);return d(i,r,t)}function g(r){var i=u(r),a=o(i),p=t.last(a),d=e.pendingEvents.hasOwnProperty(a);if(d){return t.on(a)}p=h(n,i);if(typeof p!=="undefined"&&(s(p)||!l(f(t,c(t,p))))){t.emit(a,p)}return t.on(a)}function O(n){var e=g(n);e.off();return e}function w(n){var e=u(n),r=v(i,e),o=b(r).map(function(n){return t.wait(n.path,n.value)});return Promise.all(o.concat(t.wait(n)))}return{emit:y,on:g,once:O,last:m,wait:w,join:j.bind(null,t)}}var T=x(e);T.createChannel=A.bind(null);return T});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20Adapter", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/UIComponent","sap/ui/core/ComponentHooks","sap/ui/model/resource/ResourceModel","sap/m/Fiori20Adapter","sap/ui/thirdparty/hasher","sap/base/util/extend"],function(e,t,i,n,r,o,a,s){"use strict";n.onUIComponentInstanceDestroy.register(function(e){if(e._fioriAdapter){e._fioriAdapter.destroy()}if(e._oShellUIService){e._oShellUIService.destroy()}});var f=e.extend("AppInfo",{constructor:function(t){e.call(this);this._oComponent=t},getDefaultTitle:function(){var e,t;var i=this._oComponent.getManifestEntry("sap.app");if(i&&i.title){e=i.title;if(this._isLocalizationKey(e)){t=i.i18n||"i18n/i18n.properties";return this._getLocalized(e,t)}return e}var n=this._oComponent.getManifestEntry("sap.ui5");if(n&&n.config&&n.config.resourceBundle&&n.config.titleResource){e=n.config.titleResource;t=n.config.resourceBundle;return this._getLocalized(e,t)}return},_getLocalized:function(e,t){var i=new r({bundleUrl:sap.ui.require.toUrl(this._oComponent.getMetadata().getComponentName())+"/"+t});return i.getResourceBundle().getText(e.replace(/^{{/,"").replace(/}}$/,""))},_isLocalizationKey:function(e){return e.indexOf("{{")===0&&e.indexOf("}}")>0}});var h=e.extend("HeaderInfo",{constructor:function(t,i,n){e.call(this);this._oConfig=i;this._oAppInfo=n;this._oShellUIService=t._oShellUIService;this._aHierarchy=[];this._defaultTitle=this._oAppInfo.getDefaultTitle();this._oCurrentViewInfo={oTitleInfo:{text:this._defaultTitle}}},registerView:function(e){if(this._oConfig.bMoveTitle===true){if(!e.oTitleInfo&&e.oSubTitleInfo){e.oTitleInfo=e.oSubTitleInfo}this._oCurrentViewInfo=e;var t=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:undefined;if(t!==this._oShellUIService.getTitle()){try{this._oShellUIService.setTitle(t)}catch{}}this._updateHierarchy()}this._setBackNavigation(e.oBackButton,e.oAdaptOptions)},_setBackNavigation:function(e,t){if(t&&t.bHideBackButton===false){return}var i;if(e){i=e.firePress.bind(e)}this._oShellUIService.setBackNavigation(i)},_updateHierarchy:function(){if(this._oConfig.bHierarchy===false){return}if(!this._oCurrentViewInfo){return}var e=true,t="#"+a.getHash();for(var i=this._aHierarchy.length-1;i>=0;i--){var n=this._aHierarchy[i],r=n.id===this._oCurrentViewInfo.sViewId,o=n.intent===t;if(r||o){e=false;n=this._updateHierarchyEntry(n);this._aHierarchy[i]=n;this._aHierarchy=this._aHierarchy.slice(0,i+1);if(r){n.intent=t}break}}if(e){this._aHierarchy.push(this._createHierarchyEntry())}var s=[];for(var f=this._aHierarchy.length-2;f>=0;f--){s.push(this._aHierarchy[f])}try{this._oShellUIService.setHierarchy(this._deleteUndefinedProperties(s))}catch{}},_createHierarchyEntry:function(){var e="#"+a.getHash(),t={id:this._oCurrentViewInfo.sViewId,title:this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle,subtitle:this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined,intent:e};return t},_updateHierarchyEntry:function(e){e.id=this._oCurrentViewInfo.sViewId;e.title=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle;e.subtitle=this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined;return e},_deleteUndefinedProperties:function(e){e.forEach(function(e){for(var t in e){if(e.hasOwnProperty(t)&&!e[t]&&t!=="title"){delete e[t]}}});return e}});var u=e.extend("sap.ushell.Fiori20Adapter",{constructor:function(t,i){e.call(this);this._oComponent=t;this._oConfig=i;this._oHeaderInfo=new h(t,i,new f(t));if(o){o.attachViewChange(this._onViewChange,this)}},init:function(){if(!o){return}var e=s({},this._oConfig);o.traverse(this._oComponent.getAggregation("rootControl"),e)},destroy:function(){if(o){o.detachViewChange(this._onViewChange,this)}},_onViewChange:function(e){this._oHeaderInfo.registerView(e.getParameters())}});u.applyTo=function(e,n,r,o){var a=e instanceof i?e:t.getOwnerComponentFor(e);if(!a){a=n}if(!a){return}a._oShellUIService=o;if(!a._fioriAdapter){a._fioriAdapter=new u(a,r);a._fioriAdapter.init()}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20AdapterTest", ["sap/base/Log","sap/base/util/isEmptyObject","sap/base/util/Version","sap/ui/core/Configuration","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/UIComponent","sap/ui/core/ComponentHooks","sap/ushell/Fiori20Adapter"],function(e,i,t,n,a,s,r,o,u){"use strict";var c={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_ALLOWLIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(e){var i;i=this._getURLParamConfiguration();if(!i){i=this._getMetadataConfiguration(e)}if(!i){i=this._getDefaultConfiguration(e)}i.iSearchDepth=i.iSearchDepth||c.I_DEFAULT_SEARCH_DEPTH;if(typeof i.iSearchDepth==="string"&&!isNaN(i.iSearchDepth)){i.iSearchDepth=parseInt(i.iSearchDepth,10)}return i},_getURLParamConfiguration:function(){if(!n||typeof n.getFiori2Adaptation!=="function"){return}var e=new URLSearchParams(window.location.search);if(!e.get(c.S_FIORI20ADAPTER_URL_PARAM_NAME)){return}var i=n.getFiori2Adaptation();var t;var a;if(typeof i==="boolean"){t=i}else if(i&&i.length>=1){a=i}if(!a&&t===undefined){return}return{bStylePage:a?a.indexOf("style")>-1:t,bMoveTitle:a?a.indexOf("title")>-1:t,bHideBackButton:a?a.indexOf("back")>-1:t,bCollapseHeader:a?a.indexOf("collapse")>-1:t,bHierarchy:a?a.indexOf("hierarchy")>-1:t}},_getMetadataConfiguration:function(e){var t=e.getManifestEntry("/sap.ui5/config")||{};var n=t[c.S_FIORI20ADAPTER_METADATA_PARAM_NAME];var a;var s;if(typeof n==="boolean"){a=n}else if(typeof n==="object"&&!i(n)){s=n}if(!s&&a===undefined){return}return{bStylePage:s?this._isSgnTrue(s.style):a,bMoveTitle:s?this._isSgnTrue(s.title):a,bHideBackButton:s?this._isSgnTrue(s.back):a,bCollapseHeader:s?this._isSgnTrue(s.collapse):a,bHierarchy:s?this._isSgnTrue(s.hierarchy):a,bLateAdaptation:s?this._isSgnTrue(s.lateAdaptation):c.B_DEFAULT_LATE_ADAPTATION}},_getDefaultConfiguration:function(e){var i=this._hasMinVersionSmallerThan(e,"1.42")&&this._isAllowed(e);return{bStylePage:i,bMoveTitle:i,bHideBackButton:i,bCollapseHeader:i,bHierarchy:i}},_isAllowed:function(e){var i=e.getMetadata().getName();for(var t=0;t<c.A_ALLOWLIST.length;t++){var n=c.A_ALLOWLIST[t].substring(0,c.A_ALLOWLIST[t].length-2);if(this._isPrefixedString(i,n)){return true}}return false},_isAdaptationRequired:function(e){for(var i in e){if(e[i]===true){return true}}return false},_isPrefixedString:function(e,i){return e&&i&&e.substring(0,i.length)===i},_hasMinVersionSmallerThan:function(e,i){var n=e.getManifestEntry("sap.ui5");var a=true;if(n&&n.dependencies&&n.dependencies.minUI5Version){var s=new t(n.dependencies.minUI5Version);a=s.compareTo(new t(i))<0}return a},_isSgnTrue:function(e){return e===true||e==="true"}};o.onUIComponentInstanceInitialized.register(function(i){const t=i.getAggregation("rootControl");if(!t||t.getId()==="navContainerFlp"||i.getId().indexOf("application-")!==0){return}const n=c.getConfiguration(i);if(!c._isAdaptationRequired(n)){return}if(!a.service||!s||typeof s.get!=="function"){e.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return}const r={onBeforeRendering:function(){t.removeEventDelegate(r);const a=s.get("sap.ushell.ui5service.ShellUIService");const o=a&&a.createInstance({scopeObject:i,scopeType:"component"});if(!a||!o){e.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return}o.then(e=>u.applyTo(t,i,n,e)).catch(i=>{e.warning("Fiori20Adapter not loaded as ShellUIService is not available",i,"sap.ushell.Fiori20AdapterTest")})}};t.addEventDelegate(r)})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/System", [],function(){"use strict";var t=function(t){this._oData=t};t.prototype.getAlias=function(){return this._oData.alias};t.prototype.getBaseUrl=function(){return this._oData.baseUrl};t.prototype.getClient=function(){return this._oData.client};t.prototype.getClientRole=function(){return this._oData.clientRole};t.prototype.getName=function(){return this._oData.system};t.prototype.getPlatform=function(){return this._oData.platform};t.prototype.getProductVersion=function(){return this._oData.productVersion};t.prototype.getProductName=function(){return this._oData.productName};t.prototype.getSystemName=function(){return this._oData.systemName};t.prototype.getSystemRole=function(){return this._oData.systemRole};t.prototype.getTenantRole=function(){return this._oData.tenantRole};t.prototype.isTrial=function(){return!!this._oData.isTrialSystem};t.prototype.getSysInfoBar=function(){return!!this._oData.sysInfoBar};t.prototype.getSysInfoBarColor=function(){return this._oData.sysInfoBarColor};t.prototype.getSysInfoBarMainText=function(){return this._oData.sysInfoBarMainText};t.prototype.getSysInfoBarSecondaryText=function(){return this._oData.sysInfoBarSecondaryText};t.prototype.getSysInfoBarIcon=function(){return this._oData.sysInfoBarIcon};t.prototype.adjustUrl=function(t){if(t.indexOf("/")!==0||t==="/"){throw new Error("Invalid URL: "+t)}if(this._oData.baseUrl===";o="){if(this._oData.alias){t=t+";o="+this._oData.alias}}else if(this._oData.baseUrl){t=this._oData.baseUrl.replace(/\/$/,"")+t}if(this._oData.client){t+=(t.indexOf("?")>=0?"&":"?")+"sap-client="+this._oData.client}return t};t.prototype.toString=function(){return JSON.stringify(this._oData)};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/TechnicalParameters", ["sap/ushell/utils/type"],function(e){"use strict";var t={"sap-navigation-scope":{injectFrom:"inboundParameter",sticky:true,stickyName:"sap-navigation-scope-filter",isIntentParameter:true,getValue:function(e,t,r,a){return new Promise(function(u,s){if(a==="UI5"){u(n(e,t))}else{u(i(e,r))}})}},"sap-fiori-id":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,r,u){return new Promise(function(s,o){if(u==="UI5"){s(n(e,t)||a("/sap.fiori/registrationIds",t))}else{s(i(e,r))}})}},"sap-ui-fl-max-layer":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(n.bind(null,e,t))}},"sap-ui-fl-control-variant-id":{injectFrom:"startupParameter",isIntentParameter:false,getValue:function(e,t){return Promise.resolve().then(n.bind(null,e,t))}},"sap-ui-fl-version":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(n.bind(null,e,t))}},"sap-ui-app-id-hint":{injectFrom:"startupParameter",isIntentParameter:true,getValue:r},"sap-ach":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,r,u){return new Promise(function(s,o){if(u==="UI5"){s(n(e,t)||a("/sap.app/ach",t))}else{s(i(e,r))}})}},"sap-prelaunch-operations":{injectFrom:"inboundParameter",isIntentParameter:true,getValue:r},"sap-app-origin-hint":{injectFrom:"startupParameter",isIntentParameter:false,getValue:r},"sap-app-origin":{injectFrom:"startupParameter",isIntentParameter:false,getValue:r}};function r(e){return Promise.reject(e+" is reserved for shell internal usage only")}function n(e,t){if(t){var r=t.getComponentData()||{};var n=r.technicalParameters||{};return n[e]}return undefined}function a(t,r){var n=r.getManifestEntry(t);if(n&&!e.isArray(n)){n=[n]}return n}function i(e,t){var r=t.getReservedParameters();return r&&r[e]}function u(e,r,n,a){if(!t[e]){return Promise.reject(e+" is not a known technical parameter")}return t[e].getValue(e,r,n,a)}function s(e){if(!e){e={}}return Object.keys(t).filter(function(r){var n=t[r];return Object.keys(e).every(function(t){var r=e[t];var a=n.hasOwnProperty(t);if(a){return n[t]===r}return false})}).map(function(e){return Object.keys(t[e]).reduce(function(r,n){r[n]=t[e][n];return r},{name:e})})}function o(){return Object.keys(t)}function c(e){return t.hasOwnProperty(e)}function m(e,t,r,a){if(a==="UI5"){return n(e,t)}return i(e,r)}return{getParameterValue:u,getParameterValueSync:m,getParameters:s,getParameterNames:o,isTechnicalParameter:c}},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UI5ComponentType", [],function(){"use strict";return{Application:"Application",Plugin:"Plugin",Visualization:"Visualization"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5NativeServiceFactory", ["sap/ui/core/service/ServiceFactory"],function(e){"use strict";var r={_servicePromises:{},createServiceFactory:function(r){var i=this._servicePromises;var c=e.extend("sap.ushell.ui5Service."+r+"Factory",{createInstance:function(){var e=i[r];if(!e){e=new Promise(function(e,i){sap.ui.require(["sap/ushell/ui5service/"+r],function(r){var c;if(!r){i()}c=new r;e(c)})});i[r]=e}return e}});return new c}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5ServiceFactory", ["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/isPlainObject"],function(e,t,n,r,i){"use strict";var c;function o(e){c=e}function u(){return c}function a(e){return!!/^[^_].+/.test(e)}function s(e){var t,n=[];for(t in e){n.push(t)}return n}function f(e,t,r){var i=t[r];t[r]=function(){var c,o,a=u();if(!e||e.scopeObject.getId()!==a){n.warning("Call to "+r+" is not allowed","This may be caused by an app component other than the active '"+a+"' that tries to call the method","sap.ushell.Ui5ServiceFactory");return undefined}o=new Array(arguments.length);for(c=0;c<o.length;++c){o[c]=arguments[c]}return i.apply(t,o)}}function p(e,t,n,r){s(e).filter(a).filter(function(n){var r=e[n];t[n]=r;return typeof r==="function"}).forEach(function(i){t[i]=t[i].bind(e);if(r){f(n,t,i)}})}function l(e){var t;if(typeof e==="undefined"){return true}if(!i(e)){return false}if(!e.scopeType){return false}t=r.get("scopeObject.getId",e);if(typeof t!=="function"){return false}return true}function v(e,t,n){var r={};if(n){n=typeof e==="object"}p(t,r,e,n);if(n&&e.scopeType==="component"&&e.scopeObject&&e.scopeObject.getId){o(e.scopeObject.getId())}return r}function h(e){return new Promise(function(t,n){sap.ui.require(["sap/ushell/Container"],function(n){n.getServiceAsync(e).then(e=>{t(e)})})})}function y(r,i){var c=e.extend("sap.ushell.ui5service."+r+"Factory",{createInstance:function(e){return new Promise(function(c,o){h(r).then(function(u){var a,s,f;if(!l(e)){n.error("Invalid context for "+r+" service interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");o("Invalid Context for "+r+" service");return}s=v(e,u,i);f=t.extend("sap.ushell.ui5service."+r,{getInterface:function(){return s}});a=new f(e);c(a)},function(e){o(e)})})}});return new c}return{createServiceFactory:y}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/User", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepExtend","sap/ui/base/EventProvider","sap/ui/core/Core","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/thirdparty/URI","sap/ushell/utils"],function(e,t,n,i,o,r,a,s,h){"use strict";function u(e){if(e===undefined){return undefined}return n({},e)}function m(e){var t;if(e.host&&typeof e.host==="function"&&e.host()){t=e.host();if(typeof e.protocol==="function"&&e.protocol()){t=e.protocol()+"://"+t}return t}return""}function g(e){return e.indexOf("sap_")===0}var c=function(u={}){var l=[];var p;var f;var d;var T;var y=new i;const P={};u.userProfile?.forEach?.(e=>{if(e.id&&e.editState){P[e.id]=e.editState}});let E=u.userProfile?.find?.(e=>e.id==="THEME_SET")?.value||"";this.getEditState=function(e){return P[e]};this.getEmail=function(){return u.email};this.getFirstName=function(){return u.firstName};this.getFullName=function(){return u.fullName};this.getTimeZone=function(){return u.timeZone};this.getLanguageAndRegionSettingsEntry=async()=>{if(u.getLanguageAndRegionSettingsEntry){const e=await u.getLanguageAndRegionSettingsEntry();return e}const[e]=await h.requireAsync(["sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry"]);return e};this.getInitials=function(){var e=u.fullName||"";var t="";var n=true;for(var i=0,o=e.length;i<o;++i){if(e[i]===" "){n=true}else if(n){n=false;t+=e[i]}}return t};this.getId=function(){return u.id};this.getLanguage=function(){return u.language};this.getLanguageBcp47=function(){return u.languageBcp47};this.getLanguageText=function(){var e=new r(t.getLanguageTag());var n=new a(e);var i=t.getLanguageTag().toString();return n.getLanguageName(i)||this.getLanguage()};this.getLastName=function(){return u.lastName};this.getImage=function(){return u.image};this.getCalendarWeekNumbering=function(){return u.calendarWeekNumbering||"Default"};this.setImage=function(e){u.image=e;y.fireEvent("onSetImage",e)};this.attachOnSetImage=function(e,t){y.attachEvent("onSetImage",e,t)};this.isJamActive=function(){return u.isJamActive===true};this.isLanguagePersonalized=function(){return u.isLanguagePersonalized===true};this.getTheme=function(e){if(e===c.prototype.constants.themeFormat.ORIGINAL_THEME){return T.originalTheme.theme}if(e===c.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return d.theme+(d.locationPath?"@"+d.locationOrigin+d.locationPath:"")}if(e===c.prototype.constants.themeFormat.NWBC){if(g(d.theme)){return d.theme}return this.getTheme(c.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}return d.theme};this.getThemeSet=function(){return E};this.getThemeRoot=function(e){if(u.ranges&&u.ranges.theme&&u.ranges.theme[e]&&u.ranges.theme[e].themeRoot){return u.ranges.theme[e].themeRoot}return""};this.setTheme=function(t){if(this.isSetThemePermitted()===false){var n="setTheme not permitted";e.error(n);throw new Error(n)}d=this._amendTheme({theme:t,root:this.getThemeRoot(t)},f);if(t!==T.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},T.originalTheme.theme,t);T=d}this.applyTheme(t)};this.setThemeSet=function(t){if(this.isSetThemePermitted()===false){const t="setThemeSet is not permitted";e.error(t);throw new Error(t)}if(t!==E){this.setChangedProperties({propertyName:"themeSet",name:"THEME_SET"},E,t);E=t}};this.applyTheme=function(e){var t=this._amendTheme({theme:e,root:this.getThemeRoot(e)},f);d=t;const n=o.applyTheme;if(!n){sap.ui.require("sap/ui/core/Theming").setTheme(t.theme)}else if(t.suppliedRoot){n(t.theme,t.suppliedRoot+"/UI5/")}else if(t.path){n(t.theme,t.path+"/UI5/")}else{n(t.theme)}sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],function(e){e.sendRequestToAllApplications("sap.ushell.appRuntime.themeChange",{currentThemeId:this.getTheme(c.prototype.constants.themeFormat.NWBC),themeServiceRoute:window.location.protocol+"//"+window.location.host+"/comsapuitheming.runtime/themeroot/v1"},false)}.bind(this))};this.setLanguage=function(e){if(e){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},u.language,e);u.language=e}};this.getAccessibilityMode=function(){return u.accessibility};this.setAccessibilityMode=function(t){if(this.isSetAccessibilityPermitted()===false){var n="setAccessibilityMode not permitted";e.error(n);throw new Error(n)}u.accessibility=t};this.isAdminUser=function(){return u.isAdminUser===true};this.isSetAccessibilityPermitted=function(){return u.setAccessibilityPermitted};this.isSetThemePermitted=function(){return u.setThemePermitted};this.getContentDensity=function(){return u.contentDensity};this.setContentDensity=function(t){if(this.isSetContentDensityPermitted()===false){var n="setContentDensity not permitted";e.error(n);throw new Error(n)}e.debug("[000] setContentDensity",t,"User");this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},u.contentDensity,t);u.contentDensity=t};this.isSetContentDensityPermitted=function(){return u.setContentDensityPermitted};this.getChangedProperties=function(){e.debug("[000] user: getChangedProperties: aChangedProperties",JSON.stringify(l),"User");return n([],l)};this.setChangedProperties=function(t,n,i){e.debug("[000] setChangedProperties",[t.name,n,i],"User");l.push({propertyName:t.propertyName,name:t.name,oldValue:n,newValue:i})};this.resetChangedProperties=function(){e.debug("[000] resetChangedProperties","User");l=[]};this.resetChangedProperty=function(t){e.debug("[000] resetChangedProperty: sPropertyName:",t,"User");l=l.filter(function(e){return!(t===e.propertyName)})};this.getTrackUsageAnalytics=function(){return u.trackUsageAnalytics};this.setTrackUsageAnalytics=function(e){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},u.trackUsageAnalytics,e);u.trackUsageAnalytics=e};this.setImageConsent=function(e){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},u.isImageConsent,e);u.isImageConsent=e};this.getImageConsent=function(){return u.isImageConsent};this.getImportBookmarksFlag=function(){return u.importBookmarks||null};this.setImportBookmarksFlag=function(e){this.setChangedProperties({propertyName:"importBookmarks",name:"MYHOME_IMPORT_FROM_CLASSIC"},this.getImportBookmarksFlag()||"",e);u.importBookmarks=e};this.getShowMyHome=function(){return u.showMyHome!==false};this.setShowMyHome=function(e){e=!!e;this.setChangedProperties({propertyName:"showMyHome",name:"MYHOME_ENABLEMENT"},u.showMyHome,e);u.showMyHome=e};this.getDetectDarkMode=function(){return u.detectDarkMode!==false};this.setDetectDarkMode=function(e){e=!!e;this.setChangedProperties({propertyName:"detectDarkMode",name:"THEME_DARKMODE_AUTO_DETECTION"},u.detectDarkMode,e);u.detectDarkMode=e};f={locationPathUi5:new s(sap.ui.require.toUrl("")).absoluteTo(document.location).pathname(),locationPathCustom:u.themeRoot||"",locationOrigin:m(new s(document.location))};if(!f.locationPathUi5){e.warning("User: Could not set UI5 location path")}if(!f.locationPathCustom){e.warning("User: Could not set location path for custom themes")}if(!f.locationOrigin){e.warning("User: Could not set front-end server location origin")}p=u.bootTheme||{theme:"",root:""};d=this._amendTheme(p,f);T=d};c.prototype._amendTheme=function(e,t){if(!e||!e.theme||!t){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""}}function n(e,t){var n=new s(e);var i=m(n);return{locationOrigin:i||t.locationOrigin,locationPath:i?n.path():e}}var i={originalTheme:u(e)};var o;if(i.originalTheme.theme.indexOf("@")>0){var r=i.originalTheme.theme.split("@",2);i.theme=r[0];i.suppliedRoot=r[1];o=n(r[1],t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.theme=i.originalTheme.theme;if(i.originalTheme.root){i.suppliedRoot=i.originalTheme.root;o=n(i.originalTheme.root,t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.suppliedRoot="";if(g(i.theme)){i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathUi5;i.path="";return i}i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathCustom;i.path=i.locationPath;return i};c.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return c},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications", ["sap/base/util/ObjectPath"],function(t){"use strict";var n={};n.getId=function(n){return t.get(["sap.app","id"],n)};n.getTitle=function(n){return t.get(["sap.app","title"],n)};n.getSubTitle=function(n){return t.get(["sap.app","subTitle"],n)};n.getIcon=function(n){return t.get(["sap.ui","icons","icon"],n)};n.getInfo=function(n){return t.get(["sap.app","info"],n)};n.getKeywords=function(n){return t.get(["sap.app","tags","keywords"],n)};n.getContentProviderId=function(n){return t.get(["sap.app","contentProviderId"],n)};n.getInbounds=function(n){return t.get(["sap.app","crossNavigation","inbounds"],n)};n.getInbound=function(n,e){return t.get(["sap.app","crossNavigation","inbounds",e],n)};n.getInboundTarget=function(n,e,i){var r=t.get([e],n)||{};var a=this.getInbound(r,i);if(!r||!a){return}return{semanticObject:a.semanticObject,action:a.action}};n.getTechnicalAttributes=function(n){return t.get(["sap.app","tags","technicalAttributes"],n)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/BootstrapObserver", ["sap/base/util/Deferred"],function(e){"use strict";class r{static#e=new e;static resolveBootstrappedContainer(e){r.#e.resolve(e)}static async ready(){return r.#e.promise}static __reset(){r.#e=new e}}return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/NewExperience", ["sap/ui/base/EventProvider","sap/ui/model/json/JSONModel","sap/ushell/api/NewExperience/CustomOverflowListItem","sap/ushell/Config"],function(e,t,i,r){"use strict";const l={Header:"Header",Overflow:"Overflow"};class s{#e=new e;#t=null;#i=null;#r=null;#l=null;constructor(){this.#s();this.#i=this.#o()}reset(){this.#r.destroy();this.#e.destroy();this.#i.destroy();this.#e=new e;this.#t=null;this.#s();this.#i=this.#o()}#s(){this.#r=new t({active:false,isVisible:false,currentState:l.Header,shellHeaderControlId:null,showInShellHeader:false})}#o(){return new i({visible:{parts:["/isVisible","/currentState"],formatter:(e,t)=>e&&t===l.Overflow},contentId:"{/shellHeaderControlId}"}).addStyleClass("newExperienceSwitchListItem").setModel(this.#r).data("help-id","ushell-new-experience-switch",true)}getModel(){return this.#r}getOverflowItemId(){return this.#i.getId()}isActive(){return this.#r.getProperty("/active")}getShellHeaderControl(){return this.#t}getOverflowItemControl(){return this.#i}showInOverflow(){this.#r.setProperty("/currentState",l.Overflow);this.#n()}showInShellHeader(){this.#r.setProperty("/currentState",l.Header);this.#n()}attachActiveChanged(...e){this.#e.attachEvent("activeChanged",...e)}detachActiveChanged(...e){this.#e.detachEvent("activeChanged",...e)}#n(){const e=this.isActive();const t=this.#r.getProperty("/currentState")===l.Header;if(e){this.#r.setProperty("/showInShellHeader",t)}else{this.#r.setProperty("/showInShellHeader",false)}}setSwitchControl(e){const t=this.isActive();this.#t=e;this.#r.setProperty("/shellHeaderControlId",e?.getId?.());this.#r.setProperty("/active",!!e);this.#r.setProperty("/isVisible",!!e);if(t!==this.isActive()){this.#e.fireEvent("activeChanged",{active:this.isActive()})}if(r.last("/core/shellBar/enabled")){if(e){if(!e.data("help-id")){e.data("help-id","ushell-new-experience-switch",true)}const t=sap.ui.require("sap/ushell/Container");t.getServiceAsync("FrameBoundExtension").then(async t=>{this.#l=await t.createHeaderItem({id:e.getId()});this.#l.showForAllApps();this.#l.showOnHome()})}else{this.#l?.hideForAllApps();this.#l?.hideOnHome()}}this.#n()}setSwitchVisibility(e){this.#r.setProperty("/isVisible",e)}}const o=new s;return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/NewExperience/CustomOverflowListItem", ["sap/m/CustomListItem","sap/m/CustomListItemRenderer","sap/ui/core/Element"],function(e,t,n){"use strict";const s=e.extend("sap.ushell.api.NewExperience.CustomOverflowListItem",{metadata:{library:"sap.ushell",properties:{contentId:{type:"string",group:"Misc",defaultValue:null}}},renderer:t});s.prototype.getContent=function(){const e=n.getElementById(this.getContentId());return[e]};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/RTA", ["sap/ui/core/theming/Parameters","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/state/ShellModel"],function(e,t,r,n,o){"use strict";const a={};a.getShellHeader=function(){const e=t.getRendererInternal();if(!n.last("/core/shellBar/enabled")){return e.getRootControl().getShellHeader()}else{return{getLogo:this.getLogo}}};a.getLogo=function(){const t=o.getModel().getProperty("/header/home/showLogo");if(!t){return}const r=n.last("/core/companyLogo/url");if(r!==""){return r}const a=e.get({name:"sapUiGlobalLogo",callback:()=>{}});if(a){const e=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(a);if(e){return e[1]}}if(a==="none"){return sap.ui.require.toUrl("sap/ushell/themes/base/img/SAPLogo.svg")}return""};a.setShellHeaderVisibility=function(e){const r=t.getRendererInternal();r.setHeaderVisibility(e,false)};a.addTopHeaderPlaceHolder=function(){const e=t.getRendererInternal();e.addTopHeaderPlaceHolder()};a.removeTopHeaderPlaceHolder=function(){const e=t.getRendererInternal();e.removeTopHeaderPlaceHolder()};a.setNavigationBarEnabled=function(e){r.emit("enableMenuBarNavigation",e)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/common/ComponentInstantiation", ["sap/base/Log","sap/base/util/deepExtend","sap/ushell/ApplicationType","sap/ushell/Container","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(e,t,n,a,o,i,s){"use strict";class r{async createComponentInstance(e,t,n){const i=await a.getServiceAsync("Ui5ComponentLoader");let s=await this.createComponentInstantiationData(e,t);s=await i.modifyComponentProperties(s,o.Application);s.loadDefaultDependencies=false;if(n){return new Promise((e,t)=>{n.runAsOwner(()=>{this.#e(s,i).then(e).catch(t)})})}return this.#e(s,i)}async#e(t,n){try{const e=await n.instantiateComponent(t);return e.componentHandle.getInstance()}catch(t){e.error(`Cannot create UI5 component: ${t.toString()}`,t.stack,"sap.ushell.api.common.ComponentInstantiation");return Promise.reject(t)}}async createComponentInstantiationData(e,t){const o={componentData:t};if(o.componentData){delete o.componentData.startupParameters;delete o.componentData.config;delete o.componentData["sap-xapp-state"]}const r=s.constructShellHash(s.parseShellHash(e));if(!r){return Promise.reject("Navigation intent invalid!")}const p=await a.getServiceAsync("NavTargetResolutionInternal");const c=await p.resolveHashFragment("#"+r);if(c.applicationType===n.URL.type&&c.appCapabilities&&c.appCapabilities.appFrameworkId==="UI5"&&a.inAppRuntime()){const[t]=await i.requireAsync(["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"]);let n;try{const e=new URL(c.url);const t=new URLSearchParams(e.search);n=t.get("sap-ui-app-id")}catch(e){n=c.url.match(/[?&]sap-ui-app-id=([^&]+)/)[1]}let a=await t.getAppInfo(n);if(a.hasOwnProperty("oResolvedHashFragment")){a=a.oResolvedHashFragment}a=this.#t(a,o);if(a.url&&e.indexOf("?")>0){a.url+="?"+e.split("?")[1]}return this.#n({ui5ComponentName:n,applicationDependencies:a,url:a.url},o)}else if(c.applicationType!==n.URL.type&&!/^SAPUI5\.Component=/.test(c.additionalInformation)){return Promise.reject("The resolved target mapping is not of type UI5 component.")}return this.#n(c,o)}async#n(t,n){try{t=this.#t(t,n);t.loadDefaultDependencies=false;const e=await a.getServiceAsync("Ui5ComponentLoader");return e.createComponentData(t)}catch(t){e.error("Cannot get UI5 component data: "+t,t.stack,"sap.ushell.api.common.ComponentInstantiation");return Promise.reject(t)}}#t(e,n){e=t({},e,n);if(!e.ui5ComponentName){if(e.additionalInformation){e.ui5ComponentName=e.additionalInformation.replace(/^SAPUI5\.Component=/,"")}else if(e.name){e.ui5ComponentName=e.name}}return e}}return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/AppLifeCycle", ["sap/base/util/deepEqual","sap/base/util/Deferred","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ushell/appIntegration/KeepAliveApps","sap/ushell/state/BackNavigation","sap/ushell/state/ContentDensity","sap/ushell/state/Favicon","sap/ushell/appIntegration/contracts/EmbeddedUI5Handler","sap/ushell/appIntegration/contracts/StatefulContainerV1Handler","sap/ushell/appIntegration/contracts/StatefulContainerV2Handler","sap/ushell/appIntegration/ApplicationContainerCache","sap/ushell/appIntegration/ApplicationHandle","sap/ushell/appIntegration/AppLifeCycle/KeepAliveMode","sap/ushell/appIntegration/PostMessageManager/AppruntimeHandler","sap/ushell/appIntegration/PostMessageManager/NWBCHandler","sap/ushell/appIntegration/PostMessageManager/LifecycleHandler","sap/ushell/appIntegration/PostMessageManager/ServiceHandler","sap/ushell/appIntegration/PostMessageManager/MessageBrokerHandler","sap/ushell/appIntegration/PostMessageManager","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/appIntegration/IframeApplicationContainer","sap/ushell/appIntegration/UI5ApplicationContainer","sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/Config","sap/ushell/ApplicationType","sap/ushell/utils/UriParameters","sap/base/Log","sap/ushell/EventHub","sap/ushell/utils/UrlParsing","sap/ui/thirdparty/hasher","sap/ushell/services/MessageBroker/MessageBrokerEngine","sap/ushell/renderer/utils","sap/m/library","sap/ushell/AppInfoParameters","sap/ushell/Container","sap/ushell/resources","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/state/KeepAlive","sap/ushell/ui5service/ShellUIServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ushell/library"],(e,t,i,n,a,s,o,r,p,l,c,u,h,d,f,g,A,y,m,C,I,v,S,_,b,w,R,P,F,M,T,H,N,E,U,L,k,B,x,D,W,$,O,K,V)=>{"use strict";const q=V.appIntegration.contracts.StatefulType;const G=W.ShellMode;const j=W.LaunchpadState;const z=W.Operation;const J=L.URLHelper;const Q=3500;function X(){this._bDisableHomeAppCache=false;this._bEnableRouterRetrigger=true;this._oCurrentApplication={};this._oGlobalShellUIService=null;this._oNavContainer=null;this._pLastApplicationStart=Promise.resolve();this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={};this._aDoables=[];if(window.QUnit===undefined){E.connect("FLP")}}X.prototype.KeepAliveMode=f;X.prototype.init=function(e,t){const i=[];if(R.last("/core/shell/enablePersistantAppstateWhenSharing")){B.getServiceAsync("AppState").then(e=>{const t=J.triggerEmail.bind(J);J.triggerEmail=function(i,n,a,s,o){const r=document.URL;e.setAppStateToPublic(r).done((e,r,p,l,c)=>{n=n&&r&&l&&n.includes(r)?n.replace(r,l):n;n=n&&p&&c&&n.includes(p)?n.replace(p,c):n;a=a&&r&&l&&a.includes(r)?a.replace(r,l):a;a=a&&p&&c&&a.includes(p)?a.replace(p,c):a;t(i,n,a,s,o)}).fail(t)}})}this._startPostMessageHandling();i.push(O.init().then(()=>{K.register("sap.ushell.ui5service.ShellUIService",O)}));i.push(this._createGlobalShellUIService());this._oNavContainer=e;this._bDisableHomeAppCache=t;a.getInstance().subscribe("sap.ushell","getAppLifeCycle",this._onGetAppLifeCycle,this);this._addEvents();i.push(r.init());p.init();d.init(this,this._oNavContainer);this._oNavContainer.attachAfterNavigate(this.onAfterNavigate.bind(this));this._oNavContainer.attachBeforeNavigate(this.onBeforeNavigate.bind(this));return Promise.allSettled(i)};X.prototype._onGetAppLifeCycle=function(e,t,i){M.error("the EventBus channel 'sap.ushell.getAppLifeCycle' is private and was discontinued.")};X.prototype._addEvents=function(){this._aDoables.push(T.on("disableKeepAliveRestoreRouterRetrigger").do(e=>{const t=e.appId;this._bEnableRouterRetrigger=e.disable;const i=s.get(t);if(i){i.enableRouterRetrigger=e.disable}}));this._aDoables.push(T.on("setApplicationFullWidth").do(e=>{this._setApplicationFullWidth(e.bValue)}));this._aDoables.push(T.on("reloadCurrentApp").do(e=>{this._reloadCurrentApp(e)}))};X.prototype._startPostMessageHandling=function(){I.init({getCurrentApplication:()=>this.getCurrentApplication()?.container,getAllApplications:()=>h.getAll()});g.register();A.register();y.register();m.register();C.register();this._waitForPluginsAndReplayPostMessages();v.init(true,t=>{Object.keys(t).forEach(i=>{const n=t[i];if(n.oServiceCalls){Object.keys(n.oServiceCalls).forEach(e=>{const t=n.oServiceCalls[e];const a=`${i}.${e}`;if(t.executeServiceCallFn){I.setRequestHandler(a,async(e,i)=>{const n={oMessageData:JSON.parse(i.data),oMessage:i};return w.promisify(t.executeServiceCallFn(n))})}})}if(n.oRequestCalls){Object.keys(n.oRequestCalls).forEach(t=>{const a=n.oRequestCalls[t];const s=`${i}.${t}`;const o={};if(e(a.distributionType,["all"])){o.ignoreCapabilities=true}else if(a.distributionType){M.error("Unsupported distribution type",a.distributionType,"sap.ushell.appIntegration.AppLifeCycle")}if(a.isActiveOnly){o.activeOnly=true}I.setDistributionPolicy(s,o)})}})})};X.prototype._waitForPluginsAndReplayPostMessages=async function(){const e=await B.getServiceAsync("PluginManager");const t=e.getPluginLoadingPromise("RendererExtensions");await w.promisify(t);I.replayStoredMessages()};X.prototype.registerHandleHashChange=function(e){e.hashChanger.attachEvent("hashChanged",t=>{if(N.disableBlueBoxHashChangeTrigger){return}if(t.mParameters&&e.hashChanger.isInnerAppNavigation(t.mParameters.newHash,t.mParameters.oldHash)){I.sendRequestToAllApplications("sap.ushell.appRuntime.innerAppRouteChange",{oHash:t.mParameters},false)}I.sendRequestToAllApplications("sap.ushell.appRuntime.hashChange",{sHash:t.mParameters.fullHash},false)})};X.prototype.getCurrentApplication=function(){return this._oCurrentApplication};X.prototype._setApplicationFullWidth=function(e){const t=this.getCurrentApplication();if(t.container){t.container.toggleStyleClass("sapUShellApplicationContainerLimitedWidth",!e)}};X.prototype.getShellUIService=function(){return this._oGlobalShellUIService};X.prototype.resetGlobalShellUIService=function(){if(this._oGlobalShellUIService){this._oGlobalShellUIService.resetService()}};X.prototype._createGlobalShellUIService=async function(){this._oGlobalShellUIService=await O.createInstanceInternal()};X.prototype.onBeforeNavigate=function(e){const t=e.getParameter("fromId")||"";const i=e.getParameter("from");const n=e.getParameter("toId")||"";if(n===t){return}if(t&&i&&i.isA("sap.ushell.appIntegration.ApplicationContainer")){const e=i;const t=e.getCurrentAppId();const n=!!e.isA("sap.ushell.appIntegration.IframeApplicationContainer");const a=e.getStatefulType()>q.NotSupported;const o=!!s.get(t);const r=n&&a;if(n&&(o||r)){e.sendRequest("sap.ushell.sessionHandler.beforeApplicationHide",{},false)}}};X.prototype.onAfterNavigate=async function(e){const t=e.getParameter("fromId")||"";const i=e.getParameter("from");const n=e.getParameter("toId")||"";const o=e.getParameter("to");const r=["Shell-appfinder-component","Shell-home-component","pages-component-container","homeApp-component-wrapper-container","homeApp-component-container","workPageRuntime-component-container","runtimeSwitcher-component-container"];const p=t===n;const l=r.some(e=>n.includes(e));if(t&&i){if(i.isA("sap.ushell.appIntegration.ApplicationContainer")){const e=i;if(!p){await this._handleExitApplication(e,l)}}else{const e=t;const s=i;if(p){return}if(n.indexOf("Shell-appfinder-component")>0){a.getInstance().publish("sap.ushell","appFinderAfterNavigate")}if(this._bDisableHomeAppCache){try{this._removeApplicationContainerFromNavContainer(s);s.destroy()}catch(t){M.error(`Error when trying to destroy the home component: '${e}'`,t)}}}}if(n&&o){if(o.isA("sap.ushell.appIntegration.ApplicationContainer")){const e=o;const t=e.getCurrentAppId();if(e.getIframeReusedForApp()){e.setIframeReusedForApp(false);if(e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){e.sendRequest("sap.ushell.sessionHandler.afterApplicationShow",{},false)}}if(s.get(t)){await this._restoreApplication(t)}}else{if(l){await this._destroyKeepAliveApps(e=>e.keepAliveMode===f.Restricted)}k.flush()}}};X.prototype._storeApplication=async function(e){const t=s.get(e);if(t){const e=t.container;const i=e.getIsKeepAlive();if(!i){M.error("Application should be kept alive but the flag is not set",null,"sap.ushell.appIntegration.AppLifeCycle");return}if(e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){e.setDataHelpId("");if(e.getStatefulType()===q.ContractV2){const t=u.isStatefulContainerSupportingKeepAlive(e);if(t){const t=e.getCurrentAppId();if(!t){return}this._setContainerReadyForReuse(e);await u.storeAppWithinSameFrame(e,t)}}await e.sendRequest("sap.ushell.appRuntime.keepAliveAppHide",{},false)}else if(e.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){await l.storeApp(e,t)}t.stateStored=true;const n=e.getCurrentAppTargetResolution();this._publishAppClosedEvent(n)}};X.prototype._destroyApplication=async function(e,t,i){if(typeof e!=="string"||!t){return}const n=s.get(e);const a=!!n;if(!t.getCurrentAppId()&&!i&&!a){return}const o=t.getCurrentAppTargetResolution();s.removeById(e);$.destroy(n);const r=t.getStatefulType()!==q.NotSupported;if(!i&&r){t.setDataHelpId("");this._setContainerReadyForReuse(t);if(t.getStatefulType()===q.ContractV2){await u.destroyApp(t,e)}else if(t.getStatefulType()===q.ContractV1){await c.destroyApp(t,e)}this._publishAppClosedEvent(o);return}if(t.getStatefulType()===q.ContractV2){await u.destroyApp(t,e)}else if(t.getStatefulType()===q.ContractV1){await c.destroyApp(t,e)}s.removeByContainer(t,e=>{$.destroy(e)});try{const e=t.sendBeforeAppCloseEvent();await w.promisify(e)}catch(e){M.error("FLP got a failed response from the iframe for the 'sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent' message sent",e,"sap.ushell.appIntegration.AppLifeCycle.js")}h.removeByContainer(t);this._removeApplicationContainerFromNavContainer(t);try{t.destroy()}catch(e){M.error(`Exception when trying to close application with id '${t.getId()}'. This error must be fixed in order for FLP to operate properly.`,e,"sap.ushell.appIntegration.AppLifeCycle")}this._publishAppClosedEvent(o)};X.prototype._restoreApplication=async function(e){const t=s.get(e);if(t?.stateStored){o.restore(t.service);O.restore(t);const e=t.container;if(e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){await e.sendRequest("sap.ushell.appRuntime.keepAliveAppShow",{},false)}else if(e.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){await l.restoreAppAfterNavigate(e,t)}}};X.prototype._handleExitApplication=async function(e,t){if(!e){return}const i=e.getCurrentAppId();if(!i){return}const n=o.isBackNavigation()&&!t;if(n){await this._destroyApplication(i,e)}else{if(e.getIsKeepAlive()){return this._storeApplication(i)}return this._destroyApplication(i,e)}};X.prototype._destroyKeepAliveApps=async function(e,t){try{const i=[];s.forEach(t=>{if(e(t)){i.push(t)}});const n=i.map(e=>this._destroyApplication(e.appId,e.container,t));await Promise.allSettled(n)}catch(e){M.error("_destroyKeepAliveApps call failed",e)}};X.prototype._addStorageEntry=function(e,t,i,n,a){const o=s.get(e);if(o){return o}const r={service:{},shellHash:`#${H.constructShellHash(n)}`,appId:e,stt:"loading",currentState:null,controlManager:null,container:t,meta:undefined,app:undefined,keepAliveMode:a,appTarget:i,ui5ComponentName:i.ui5ComponentName,enableRouterRetrigger:this._bEnableRouterRetrigger,stateStored:false};s.set(e,r);return r};X.prototype.storeAppExtensions=async function(){const e=this.getCurrentApplication();if(!e){return}const t=e.appId;const i=s.get(t);if(!i){return}o.store(i.service);$.store(i);k.store(i)};X.prototype._calculateKeepAliveMode=function(e,t,i){const n=Object.values(f);if(e.startsWith("application-Shell-startIntent")||e.startsWith("application-Shell-startGUI")||e.startsWith("application-Shell-startWDA")){return f.False}let a=new URLSearchParams(window.location.search).get("sap-keep-alive");if(n.includes(a)){return a}a=i.params?.["sap-keep-alive"];if(n.includes(a)){return a}if(t.url){a=F.fromURL(t.url).get("sap-keep-alive");if(n.includes(a)){return a}}const s=H.constructShellHash(i);if(s&&w.isRootIntent(s)){return f.True}return f.False};X.prototype._calculateAppType=function(e){if(e.applicationType==="URL"&&e.additionalInformation?.startsWith?.("SAPUI5.Component=")){return"SAPUI5"}return e.applicationType};X.prototype._reloadCurrentApp=async function(e){const t=h.getById(e.sAppContainerId);if(t){await this._destroyApplication(t.getCurrentAppId(),t)}const i=await B.getServiceAsync("ShellNavigationInternal");try{i.hashChanger.treatHashChanged(e.sCurrentHash)}catch(e){M.error("Error when trying to re-load the current displayed application",e,"sap.ushell.services.AppLifeCycle")}};X.prototype._createOrReuseApplicationContainer=function(e,t,i,n){let a;const o=s.get(e);if(o&&o.container){a=o.container}if(!a){const e=h.findFreeContainerByUrl(i.url);const t=e?.getStatefulType()!==q.NotSupported;if(t){a=e}}if(!a){i.shellUIService=this._oGlobalShellUIService.getInterface();const n=i?.ui5ComponentName;const s=!!n;const o={dataHelpId:t,initialAppId:e,currentAppId:e,currentAppUrl:i.url,shellUIService:i.shellUIService,currentAppTargetResolution:i,applicationType:i.applicationType,openWithPostByAppParam:i.openWithPostByAppParam,reservedParameters:i.reservedParameters,systemAlias:i.systemAlias,targetNavigationMode:i.targetNavigationMode,url:i.url,frameworkId:i.appCapabilities?.appFrameworkId};if(s){a=new _({...o,ui5ComponentName:i.ui5ComponentName})}else{a=new S({...o})}this._oNavContainer.addPage(a)}else{a.setIsFetchedFromCache(true);a.setDataHelpId(t)}h.setContainerActive(a);a.setIsKeepAlive(n);return a};X.prototype._removeApplicationContainerFromNavContainer=function(e){this._oNavContainer.removePage(e.getId(),true)};X.prototype._setApplicationContainerActive=function(e){h.forEach(t=>{if(t&&t!==e){try{M.info(`Deactivating container ${t.getId()}`);t.setActive(false)}catch(e){}}});if(e){M.info(`Activating container "${e.getId()}"`);e.setActive(true)}};X.prototype._openApp=async function(e,t,i,n,a){const o=t.getIsFetchedFromCache();if(a&&o&&u.isStatefulContainerSupportingKeepAlive(t)){return u.restoreAppWithinSameFrame(t,i.url,e,i)}if(t.getStatefulType()===q.ContractV2){if(o&&t.getCurrentAppId()===e){return}const n=await u.createApp(t,i.url,e,i);if(n?.deletedKeepAliveId){const e=s.get(n.deletedKeepAliveId);if(e){s.removeById(n.deletedKeepAliveId);$.destroy(e)}}return}if(t.getStatefulType()===q.ContractV1){if(o&&t.getCurrentAppId()===e){return}await c.createApp(t,e,i);return}const r=i?.ui5ComponentName;const p=!!r;if(p&&!a){const a=!!i?.componentHandle;if(!a){b.setApplicationInInitMode();await l.createApp(t,i,n);const e=R.last("/core/extension/SupportTicket");if(e){w.awaitTimeout(0).then(()=>w.requireAsync(["sap/ushell/UserActivityLog"])).then(([e])=>{e.activate()})}}const s=i.componentHandle;const o=s.getInstance();t.setUi5ComponentId(i.ui5ComponentId);t.setComponentHandle(s);this._oCurrentApplication.app=o;const r=await l.getNavigationRedirectHash(t);if(typeof r==="string"){await this._destroyApplication(e,t);return r}if(typeof o.active==="function"){o.active()}}};X.prototype._announceAppOpening=function(e){window.setTimeout(()=>{const e=document.getElementById("sapUshellLoadingAccessibilityHelper-loadingComplete");if(e){e.setAttribute("aria-live","polite");e.innerHTML=x.i18n.getText("loadingComplete");window.setTimeout(()=>{e.setAttribute("aria-live","off");e.innerHTML=""},0)}},600)};X.prototype.publishAppOpeningEvent=function(e){window.setTimeout(()=>{a.getInstance().publish("launchpad","appOpening",e)},0)};X.prototype.publishAppOpenedEvent=function(e){w.setPerformanceMark("FLP.appOpened");window.setTimeout(()=>{a.getInstance().publish("sap.ushell","appOpened",e)},0);const t=this._publicEventDataFromResolutionResult(e);T.emit("AppRendered",t,true);U.publishExternalEvent("appOpened",t)};X.prototype._publishAppClosedEvent=function(e){window.setTimeout(()=>{a.getInstance().publish("sap.ushell","appClosed",e)},0);const t=this._publicEventDataFromResolutionResult(e);U.publishExternalEvent("appClosed",t)};X.prototype._publicEventDataFromResolutionResult=function(e){const t={};if(!e){return e}["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(i=>{t[i]=e[i]});Object.freeze(t);return t};X.prototype._isFullWidth=function(e,t){let i;const n=this._calculateAppType(e);const a=P.getDefaultFullWidthSetting(n);const s=e.appCapabilities?.fullWidth;if(a){if(e.fullWidth===false||e.fullWidth==="false"||t.fullWidth===false||t.fullWidth==="false"||s===false){i=false}}else if(e.fullWidth||e.fullWidth==="true"||t.fullWidth||t.fullWidth==="true"){i=true}if(i===undefined){i=a}return i};X.prototype._getBaseAppId=function(e){const t=H.getStableIntent(e);const i=H.getBasicHash(t);const n=`application-${i}`;return n};X.prototype._getStorageAppId=function(e,t){const i=H.getStableIntent(e);if(this._oStorageAppIdMap[i]){return this._oStorageAppIdMap[i]}let n;if(!this._oStorageAppIdNextIndex[t]){this._oStorageAppIdNextIndex[t]=0;n=t}if(!n){n=`${t}-${this._oStorageAppIdNextIndex[t]}`}this._oStorageAppIdMap[i]=n;this._oStorageAppIdNextIndex[t]++;return n};X.prototype._awaitLastApplicationStart=async function(){const e=new t;const i=this._pLastApplicationStart;this._pLastApplicationStart=this._pLastApplicationStart.then(()=>e.promise);await i;return e};X.prototype._startApplication=async function(e,t,i,n,a){const o=this._getBaseAppId(i.sFixedShellHash);const r=this._getStorageAppId(i.sFixedShellHash,o);await this._cleanupBeforeNewApp(r,t,i,n,a);this._sendFocusBackToShell();this.publishAppOpeningEvent(i);this._announceAppOpening(i);const p=this._calculateKeepAliveMode(r,i,t);const l=p!==f.False;const c=this._createOrReuseApplicationContainer(r,o,i,l);const u=!!s.get(r);if(l){this._oCurrentApplication=this._addStorageEntry(r,c,i,t,p)}else{this._oCurrentApplication={appId:r,stt:"loading",container:c,meta:undefined,app:undefined}}w.setPerformanceMark("FLP - addAppContainer");const h=s.get(r);if(h){k.restore(h)}else{k.flush()}this._setApplicationContainerActive(c);const g=await this._openApp(r,c,i,t,u);const A=new d(r,i,c,g);if(typeof g==="string"){return A}this._initializeAppWithMetadata(c,i);c.setReadyForRendering(true);w.setPerformanceMark("FLP -- centerViewPort");this.publishAppOpenedEvent(i);return A};X.prototype.startApplication=async function(e,t,i,n,a){const s=await this._awaitLastApplicationStart();const o=this._oCurrentApplication;try{const o=await this._startApplication(e,t,i,n,a);s.resolve();return o}catch(e){const t=!!this._oCurrentApplication?.appId;const i=t&&this._oCurrentApplication.appId!==o?.appId;if(i){const e=this._oCurrentApplication.container;if(e){await this._destroyApplication(e.getCurrentAppId(),e,true)}const t=o?.container?.isDestroyed()??true;if(t){this._oCurrentApplication={}}else{this._oCurrentApplication=o}}s.resolve();throw e}};X.prototype.switchViewState=function(e,t,i,n){const a=s.get(this._oCurrentApplication.appId);if(!a){W.destroyManagedControls()}const o=W.getShellMode();const r={TR:{headerless:G.Minimal}};let p;if(!n){p=r[i]?.[o]}W.switchState(e,p);const l=s.get(t);if(l){$.restore(l)}else{$.flush()}W.applyStalledChanges()};X.prototype._isFloatingContainerDocked=function(){const e=D.getModel().getProperty("/floatingContainer/state").includes("docked");const t=D.getModel().getProperty("/floatingContainer/visible");return e&&t};X.prototype._sendFocusBackToShell=function(){if(!i.system.desktop){return}sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],e=>{const t=W.getLaunchpadState();const i=W.getShellMode()===G.Default;const a=n.getElementById("shellAppTitle");if(a&&t===j.App&&i){const t=a.getFocusDomRef();if(t){e.sendFocusBackToShell(t.getAttribute("id"))}}})};X.prototype._initializeAppWithMetadata=function(e,t){const i=b.getMetadata(t,t?.sFixedShellHash);this._oCurrentApplication.meta=i;if(!e.getIsFetchedFromCache()){e.toggleStyleClass("sapUshellDefaultBackground",!i.hideLightBackground);const n=this._isFullWidth(t,i);if(!n){e.addStyleClass("sapUShellApplicationContainerLimitedWidth")}if(this._isFloatingContainerDocked()&&window.matchMedia("(min-width: 106.4rem)").matches){e.addStyleClass("sapUShellDockingContainer");e.removeStyleClass("sapUShellApplicationContainerLimitedWidth")}else if(this._isFloatingContainerDocked()){e.removeStyleClass("sapUShellApplicationContainerLimitedWidth")}}let n="sap-icon://folder";if(i&&i.icon){n=i.icon}W.updateCurrentState("application.icon",z.Set,n)};X.prototype._cleanupBeforeNewApp=async function(e,t,i,n,a){const o=this.getCurrentApplication()?.container;const r=o&&o.getStatefulType()!==q.NotSupported;if(r){await this._handleExitApplication(o,false)}const p=s.get(e);const l=!!p;const c=p?.container;const d=!!i?.ui5ComponentName;if(l){const i=`#${H.constructShellHash(t)}`;const s=H.compareHashes(i,p.shellHash);const o=s.sameIntent&&s.sameParameters;if(!o){M.warning(`The keepAlive app '${e}' has to be destroyed because of id clashes.`);await this._destroyApplication(e,c)}else if(n&&a){M.warning(`The keepAlive app '${e}' has to be destroyed because of a bookmark start.`);await this._destroyApplication(e,c)}}if(d&&!l){const t=H.getBasicHash(i.sFixedShellHash);const n=`application-${t}-component`;if(o&&o.isA("sap.ushell.appIntegration.UI5ApplicationContainer")){if(o.getUi5ComponentName()===i.ui5ComponentName){M.warning(`The app '${o.getCurrentAppId()}' has to be destroyed because of component name clashes.`);await this._destroyApplication(o.getCurrentAppId(),o,true)}else if(o.getUi5ComponentId()===n){M.warning(`The app '${o.getCurrentAppId()}' has to be destroyed because of component id clashes.`);await this._destroyApplication(o.getCurrentAppId(),o,true)}}await this._destroyKeepAliveApps(t=>{if(t.appId===e){return false}if(t.ui5ComponentName===i.ui5ComponentName){M.warning(`The app '${t.appId}' has to be destroyed because of component name clashes.`);return true}if(t.appTarget?.ui5ComponentId===n){M.warning(`The app '${t.appId}' has to be destroyed because of component id clashes.`);return true}return false},true)}const f=h.findFreeContainerByUrl(i.url);if(f&&f.getStatefulType()===q.ContractV2){let t=false;let i;if(f.getIsInvalidIframe()){t=true;i="iframe is in invalid state"}else if(u.isIframeIsValidSupported(f)){const e=(new Date).getTime()-f.getIsIframeValidTime().time;t=e>=Q;i=`iframe did not ping in the last '${e}' ms`}if(t){M.warning(`Destroying stateful container iframe due to unresponsiveness (${f.getId()})`,`reason: ${i}`,"sap.ushell.appIntegration.AppLifeCycle");return this._destroyApplication(e,f,true)}}};X.prototype.setNavContainer=function(e){this._oNavContainer=e};X.prototype._setContainerReadyForReuse=function(e){if(!e){return}h.setContainerReadyForReuse(e,e.getCurrentAppUrl());e.setIsKeepAlive(false);e.setCurrentAppUrl("");e.setIsFetchedFromCache(false)};X.prototype.reset=function(){this._aDoables.forEach(e=>{e.off()});this._aDoables=[];s._clean();h.destroyAllContainers();I.reset();this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={};this._bDisableHomeAppCache=false;this._bEnableRouterRetrigger=true;this._oCurrentApplication={};this._oNavContainer=null;this._pLastApplicationStart=Promise.resolve();this._oStorageAppIdMap={};this._oStorageAppIdNextIndex={}};return new X});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/AppLifeCycle/KeepAliveMode", [],function(){"use strict";const e={True:"true",Restricted:"restricted",False:""};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainer", ["sap/base/Log","sap/ui/core/Control","sap/ushell/appIntegration/ApplicationContainerRenderer","sap/ushell/library","sap/ushell/utils"],(e,t,i,a,s)=>{"use strict";const r=a.appIntegration.contracts.StatefulType;const o=a.components.container.ApplicationType;const n=t.extend("sap.ushell.appIntegration.ApplicationContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",defaultValue:true},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},active:{defaultValue:true,type:"boolean"},initialAppId:{defaultValue:"",type:"string"},currentAppId:{defaultValue:"",type:"string"},currentAppUrl:{defaultValue:"",type:"string"},shellUIService:{type:"object"},statefulType:{defaultValue:r.NotSupported,type:"sap.ushell.appIntegration.contracts.StatefulType"},beforeAppCloseEvent:{type:"object"},isKeepAlive:{defaultValue:false,type:"boolean"},isFetchedFromCache:{defaultValue:false,type:"boolean"},capabilities:{defaultValue:{},type:"object"},iframeReusedForApp:{defaultValue:false,type:"boolean"},isInvalidIframe:{defaultValue:false,type:"boolean"},isIframeValidTime:{defaultValue:{time:0},type:"object"},currentAppTargetResolution:{type:"object"},readyForRendering:{defaultValue:false,type:"boolean"},renderComplete:{defaultValue:false,type:"boolean"},frameworkId:{defaultValue:"",type:"string"},applicationType:{defaultValue:o.URL,type:"sap.ushell.components.container.ApplicationType"},openWithPostByAppParam:{defaultValue:true,type:"boolean"},reservedParameters:{type:"object"},systemAlias:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},dataHelpId:{type:"string",defaultValue:""}},events:{applicationConfiguration:{parameters:{configuration:{type:"object"}}}},interfaces:["sap.ushell.renderer.INavContainerPage"]},renderer:i});n.ui5version=null;n.ui5versionPromise=s.getUi5Version().then(t=>{e.debug(`Using ui5-version: ${t}`,null,"sap.ushell.appIntegration.ApplicationContainer");n.ui5version=t});n.prototype.getUi5Version=function(){return n.ui5version};n.prototype.init=function(){this.setProperty("capabilities",{},true)};n.prototype.invalidate=function(){if(this.getRenderComplete()){return this}return t.prototype.invalidate.apply(this,arguments)};n.prototype.setVisibility=function(e){this.setProperty("visible",e,true);if(e){this.removeStyleClass("sapUShellApplicationContainerHidden")}else{this.addStyleClass("sapUShellApplicationContainerHidden")}const t=this.getDomRef();if(t){t.setAttribute("aria-hidden",!e)}};n.prototype.setDataHelpId=function(e){this.setProperty("dataHelpId",e);const t=this.getDomRef();if(t){t.setAttribute("data-help-id",e)}return this};n.prototype.setActive=function(e){this.setProperty("active",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-active",e)}return this};n.prototype.setInitialAppId=function(e){this.setProperty("initialAppId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-initial-app-id",e)}return this};n.prototype.setCurrentAppId=function(e){this.setProperty("currentAppId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-current-app-id",e)}return this};n.prototype.setStatefulType=function(e){this.setProperty("statefulType",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-stateful-type",e)}return this};n.prototype.setFrameworkId=function(e){this.setProperty("frameworkId",e);const t=this.getDomRef();if(t){t.setAttribute("data-sap-ushell-framework-id",e)}return this};n.prototype.sendBeforeAppCloseEvent=async function(){};n.setHandleMessageEvent=function(e){n.handleMessageEvent=e;return this};n.prototype.isTrustedPostMessageSource=function(e){return false};n.prototype.getPostMessageTarget=function(){};n.prototype.getPostMessageTargetOrigin=function(){return""};n.prototype.addCapabilities=function(e){const t=this.getCapabilities();e.forEach(e=>{t[`${e}`.toLowerCase()]=true});return this};n.prototype.removeCapabilities=function(e){const t=this.getCapabilities();if(!e){this.setProperty("capabilities",{},true);return this}e.forEach(e=>{delete t[`${e}`.toLowerCase()]});return this};n.prototype.supportsCapabilities=function(e){const t=this.getCapabilities();return e.every(e=>t[`${e}`.toLowerCase()])};n._setCachedUI5Version=function(e){n.ui5version=e;n.ui5versionPromise=n.ui5versionPromise.then(()=>{n.ui5version=e})};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainerCache", ["sap/base/Log"],function(e){"use strict";class t{#e=[];#t={};constructor(){this.init()}init(){this.#e=[];this.#t=[]}setContainerActive(t){if(!t){return}if(this.#e.includes(t)){e.warning("The container is already active");return}this.removeByContainer(t);this.#e.push(t)}setContainerReadyForReuse(t,i){if(!t){return}if(!this.#e.includes(t)&&this.getById(t.getId())){e.warning("The container is already in pool");return}this.removeByContainer(t);this.#t.push({url:i,key:this.#i(i),container:t})}findFreeContainerByUrl(e){const t=this.#i(e);const i=this.#t.reverse().find(e=>e.key===t);if(i){return i.container}}canBeReused(e,t){if(!e){return false}if(this.#e.includes(e)){return false}const i=this.#i(t);const n=this.#t.find(t=>t.container===e);return!!n&&n.key===i}getLength(){return this.#e.length}getPoolLength(){return this.#t.length}removeByContainer(e){if(!e){return}this.#e=this.#e.filter(t=>t!==e);this.#t=this.#t.filter(t=>t.container!==e)}getById(e){let t;this.forEach(i=>{if(i.getId()===e){t=i}});return t}getAll(){return[...this.#e,...this.#t.map(e=>e.container)]}forEach(e){this.#e.forEach(t=>{e(t)});this.#t.forEach(t=>{e(t.container)})}#i(e){let t;let i="";let n="";let a="";let s="";let r="";const o=new URL(e,this._getWindowLocationHref());t=o.origin;if(o.port===""){if(o.protocol==="https:"){t=t+":443"}else if(o.protocol==="http:"){t=t+":80"}}const h=o.searchParams;if(h.has("sap-iframe-hint")){i="@hint:"+h.get("sap-iframe-hint")}if(h.has("sap-ui-version")){n="@uiver:"+h.get("sap-ui-version")}if(h.has("sap-async-loading")&&h.get("sap-async-loading")!=="true"){a="@async:"+h.get("sap-async-loading")}if(h.has("sap-enable-fesr")&&h.get("sap-enable-fesr")!=="false"){s="@fesr:"+h.get("sap-enable-fesr")}if(h.has("sap-testcflp-iframeid")){r="@testid:"+h.get("sap-testcflp-iframeid")}return t.toLowerCase()+i+n+a+s+r}_getWindowLocationHref(){return window.location.href}_getStorageForDebug(){return{activeContainers:this.#e,reusableContainers:this.#t}}destroyAllContainers(){this.forEach(e=>{this.removeByContainer(e);e.destroy()})}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationContainerRenderer", [],()=>{"use strict";const t={apiVersion:2};t.waitForUI5Version=function(t){const e=t.getMetadata().getClass();if(e.ui5version===null){e.ui5versionPromise.then(()=>{t.invalidate()});return true}};t.render=function(t,e){t.openStart("div",e);t.accessibilityState(e);t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());t.openEnd();t.close("div")};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/ApplicationHandle", ["sap/ushell/state/StateManager"],function(t){"use strict";const a=t.LaunchpadState;class e{static#t=null;static#a=null;#e=null;#i=null;#s=null;#n=null;constructor(t,a,e,i){this.#e=t;this.#i=a;this.#s=e;this.#n=i}static init(t,a){this.#a=t;this.#t=a}navTo(t){const i=this.#s.getId();e.#t.navTo(i);e.#a.switchViewState(t?a.Home:a.App,this.#e,this.#i.applicationType,this.#i.explicitNavMode)}getNavigationRedirectHash(){return this.#n}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/IframeApplicationContainer", ["sap/base/Log","sap/base/util/uid","sap/ui/Device","sap/ui/thirdparty/URI","sap/ushell/appIntegration/ApplicationContainer","sap/ushell/appIntegration/IframeApplicationContainerRenderer","sap/ushell/appIntegration/PostMessageManager","sap/ushell/ApplicationType/UrlPostProcessing","sap/ushell/ApplicationType/systemAlias","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/System","sap/ushell/utils","sap/ushell/utils/UriParameters"],(e,t,s,i,r,a,n,o,l,p,g,h,u,f,c)=>{"use strict";const d=r.extend("sap.ushell.appIntegration.IframeApplicationContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",defaultValue:true},globalDirtyStorageKey:{defaultValue:"",type:"string"},iframeUrl:{defaultValue:"",type:"string",visibility:"hidden"},iframePostAllParams:{defaultValue:false,type:"boolean"},iframeWithPost:{defaultValue:false,type:"boolean"}},interfaces:["sap.ushell.renderer.INavContainerPage"]},renderer:a});d.prototype.init=function(){r.prototype.init.apply(this,arguments);this._aPendingRequestsWaitingForResponse=[];this.setProperty("isIframeValidTime",{time:0},true);const e=`sap.ushell.Container.dirtyState.${t()}`;this.setProperty("globalDirtyStorageKey",e,true);localStorage.removeItem(this.getGlobalDirtyStorageKey());this._fnStorageEventListener=this._handleStorageEvent.bind(this);addEventListener("storage",this._fnStorageEventListener);this._fnPagehideEventListener=this.exit.bind(this);addEventListener("pagehide",this._fnPagehideEventListener)};d.prototype.onBeforeRendering=function(){if(!this.getReadyForRendering()){return}this._attachLogoutEvent();this._initNWBCStorage();this._addRemoteSystemForUrl();this._calculateIframeUrl();this._calculateIframeWithPost();if(!this.getProperty("iframeWithPost")){const e=this.getProperty("iframeUrl");const t=l.addSystemAlias(e,this);this.setProperty("iframeUrl",t,true)}};d.prototype.onAfterRendering=async function(){if(!this.getReadyForRendering()){return}const e=await g.getServiceAsync("MessageBroker");const t=this.getPostMessageTargetOrigin();e.addAcceptedOrigin(t);if(s.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto")}};d.prototype.setVisibility=function(e){this.setProperty("visible",e,true);const t=this.getDomRef();if(t){t.setAttribute("aria-hidden",!e)}if(e){this.removeStyleClass("sapUShellApplicationContainerIframeHidden");this.removeStyleClass("sapUShellApplicationContainerIframeHiddenButActive");return}if(this._aPendingRequestsWaitingForResponse.length>0){this.addStyleClass("sapUShellApplicationContainerIframeHiddenButActive")}else{this.addStyleClass("sapUShellApplicationContainerIframeHidden")}};d.prototype.setDataHelpId=function(e){r.prototype.setDataHelpId.apply(this,arguments);if(!this.getDomRef()||!this.getIframeWithPost()){return this}const t=this._getIframe();if(t){t.setAttribute("data-help-id",`${e}-iframe`)}return this};d.prototype._attachLogoutEvent=function(){const e=this.getApplicationType();if(f.isApplicationTypeEmbeddedInIframe(e)){this._fnLogout=this._handleLogout.bind(this);g.attachLogoutEvent(this._fnLogout)}};d.prototype._initNWBCStorage=function(){const e=this.getApplicationType();if(f.isApplicationTypeEmbeddedInIframe(e,true)||f.isApplicationTypeEmbeddedInIframe(this.getFrameworkId())){f.localStorageSetItem(this.getGlobalDirtyStorageKey(),g.DirtyState.INITIAL)}};d.prototype._calculateIframeWithPost=function(){const e=c.fromURL(document.URL);const t=this.getApplicationType();const s=p.last("/core/shell/enableOpenIframeWithPost")??true;const i=e.get("sap-post")==="false";const r=e.get("sap-post")==="true";const a=this.getOpenWithPostByAppParam()===false;const n=["NWBC","TR","WDA","WCF"].includes(t);let o;if(r){o=true}else if(i){o=false}else if(a){o=false}else{o=s&&n}if(o&&t==="TR"){this.setProperty("iframePostAllParams",true,true)}this.setProperty("iframeWithPost",o,true)};d.prototype._calculateIframeUrl=function(){const e=this.getApplicationType();let t=this.getUrl();t=o.processUrl(t,e,false,this);t=this._injectParametersFromUrl(t);this.setProperty("iframeUrl",t,true)};d.prototype._injectParametersFromUrl=function(e){const t=c.fromURL(document.URL);if(!t.has("sap-iframe-params")){return e}const s=t.get("sap-iframe-params")||"";const r=s.split(",");if(r.length===0){return e}const a=new i(e);r.forEach(e=>{if(e&&t.has(e)){a.addQuery(e,t.get(e))}});e=a.toString();return e};d.prototype._addRemoteSystemForUrl=function(){if(this._oSystem){return}const e=this.getUrl();const t=document.createElement("a");const s=c.fromURL(e).get("sap-client");t.href=e;const i=`${t.protocol}//${t.host}`;this._oSystem=new u({alias:s?`${i}?sap-client=${s}`:i,baseUrl:i,client:s||undefined,platform:"abap"});g.addRemoteSystem(this._oSystem)};d.prototype._handleStorageEvent=function(t){if(t.key!==this.getGlobalDirtyStorageKey()){return}if(t.newValue!==g.DirtyState.PENDING){return}const s=this.getPostMessageTarget();if(!s){return}e.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.appIntegration.ApplicationContainer");const i=this.getPostMessageTargetOrigin();const r=JSON.stringify({action:"pro54_getGlobalDirty"});s.postMessage(r,i)};d.prototype._handleLogout=function(e){const t=this.getPostMessageTarget();const s=this.getApplicationType();if(t&&f.isApplicationTypeEmbeddedInIframe(s)){const s=this.getPostMessageTargetOrigin();t.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),s);e.preventDefault()}};d.prototype._getIframe=function(){const e=this.getDomRef();if(!e||e.tagName!=="IFRAME"){if(this.getIframeWithPost()===true&&e&&e.getAttribute&&e.getAttribute("data-sap-ushell-iframe-app")==="true"){return document.getElementById(`${e.getAttribute("id")}-iframe`)}return null}return e};d.prototype.getPostMessageTarget=function(){const e=this._getIframe();return e?.contentWindow};d.prototype.getPostMessageTargetOrigin=function(){let e;const t=this._getIframe();if(!t){return""}if(this.getIframeWithPost()===true){const s=`${t.getAttribute("id").replace("-iframe","-form")}`;const r=document.getElementById(s);e=r?.action;if(e===undefined&&(new i).query(true).hasOwnProperty("sap-isolation-enabled")){e=t.src}}else{e=t.src}const s=new i(e);const r=`${s.protocol()}://${s.host()}`;return r};d.prototype.isTrustedPostMessageSource=function(e){if(!e){return false}if(e.source&&e.source===this.getPostMessageTarget()){return true}if(e.origin&&e.origin===this.getPostMessageTargetOrigin()){return true}return false};d.prototype.sendRequest=async function(e,t,s=false){if(!s){return n.sendRequest(e,t,this.getPostMessageTarget(),this.getPostMessageTargetOrigin(),false)}if(!this.getProperty("visible")){this.addStyleClass("sapUShellApplicationContainerIframeHiddenButActive");this.removeStyleClass("sapUShellApplicationContainerIframeHidden")}const i=n.sendRequest(e,t,this.getPostMessageTarget(),this.getPostMessageTargetOrigin(),true);this._aPendingRequestsWaitingForResponse.push(i);const r=await i;this._aPendingRequestsWaitingForResponse=this._aPendingRequestsWaitingForResponse.filter(e=>e!==i);if(this._aPendingRequestsWaitingForResponse.length===0&&!this.getProperty("visible")){this.addStyleClass("sapUShellApplicationContainerIframeHidden");this.removeStyleClass("sapUShellApplicationContainerIframeHiddenButActive")}return r};d.prototype.sendBeforeAppCloseEvent=async function(){const e=this.getBeforeAppCloseEvent&&this.getBeforeAppCloseEvent();if(e&&e.enabled&&e.enabled===true){return this.sendRequest("sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent",e.params,true)}};d.prototype.exit=function(){localStorage.removeItem(this.getGlobalDirtyStorageKey());if(this._fnStorageEventListener){removeEventListener("storage",this._fnStorageEventListener)}if(this._fnPagehideEventListener){removeEventListener("pagehide",this._fnPagehideEventListener)}if(this._fnLogout){g.detachLogoutEvent(this._fnLogout)}r.prototype.exit.apply(this,arguments)};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/IframeApplicationContainerRenderer", ["sap/base/Log","sap/ui/core/Renderer","sap/ui/core/RenderManager","sap/ui/thirdparty/URI","sap/ushell/appIntegration/ApplicationContainerRenderer","sap/ushell/ApplicationType/systemAlias","sap/ushell/Config","sap/ushell/Container","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/UriParameters"],(t,e,a,r,i,s,n,l,o,p,d)=>{"use strict";let f=0;const c=e.extend(i);c.render=function(t,e){if(!e.getReadyForRendering()){i.render(t,e);return}if(this.waitForUI5Version(e)){return}if(e.getProperty("iframeWithPost")){const a=e.getProperty("iframeUrl");this._renderIframeWithPOST(t,e,a,++f)}else{this._renderIframe(t,e)}e.setRenderComplete(true)};c._renderIframe=function(t,e){const a=e.getProperty("iframeUrl");e.fireEvent("applicationConfiguration");t.openStart("iframe",e);t.accessibilityState(e);t.attr("src",a);t.attr("title",o.i18n.getText("AppilcationContainer.IframeTitle"));t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-iframe-idx",++f);t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());if(n.last("/core/shell/enableFeaturePolicyInIframes")===true){t.attr("allow",p.getIframeFeaturePolicies())}t.openEnd();t.close("iframe")};c._renderIframeWithPOST=function(e,r,i,s){const n=p.filterOutParamsFromLegacyAppURL(i);this._renderPostWrapper(e,r);this._getAdditionalDataForPost(r,n).then(async t=>{const e=new a;const i=`${r.getId()}-form`;const l=`${r.getId()}-iframe`;const o=this._calculatePostUrls(r,n);this._renderPostForm(e,r,i,l,t,o.form,`${r.getDataHelpId()}-form`,o.iframeWithoutSystemAlias);this._renderPostIframe(e,r,l,o.iframe,o.form,`${r.getDataHelpId()}-iframe`,s);e.flush(r.getDomRef());e.destroy();r.fireEvent("applicationConfiguration");await p.awaitTimeout(0);return i}).then(e=>{const a=document.getElementById(e);if(a){a.submit()}else{t.error("Form element not found")}})};c._renderPostWrapper=function(t,e){t.openStart("div",e);t.attr("data-help-id",e.getDataHelpId());t.attr("data-sap-ushell-active",e.getActive());t.attr("data-sap-ushell-iframe-app","true");t.attr("data-sap-ushell-initial-app-id",e.getInitialAppId());t.attr("data-sap-ushell-current-app-id",e.getCurrentAppId());t.attr("data-sap-ushell-stateful-type",e.getStatefulType());t.attr("data-sap-ushell-framework-id",e.getFrameworkId());t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());t.openEnd();t.close("div")};c._calculatePostUrls=function(t,e){const a=d.fromURL(e);const i=e;const n=s.addSystemAlias(i,t);let l=e;if(t.getIframePostAllParams()){if(this._getPostParameters(t,i).length){const t=a.get("sap-iframe-hint");const i=a.get("sap-keep-alive");const s=new r(e).query("");if(typeof t==="string"){s.addSearch("sap-iframe-hint",t)}if(typeof i==="string"){s.addSearch("sap-keep-alive",i)}l=s.toString()}}return{iframeWithoutSystemAlias:i,iframe:n,form:l}};c._getAdditionalDataForPost=async function(t,e){let a=[];let r=[];const i=p.getParamKeys(e);if(i.aAppStateNamesArray.length){const t=await l.getServiceAsync("Navigation");try{const e=await t.getAppStateData(i.aAppStateKeysArray);if(e){a=[...i.aAppStateNamesArray];r=[...e]}}catch{}}a.push("sap-flp-url");r.push(l.getFLPUrl(true));a.push("system-alias");r.push(t.getSystemAlias());const s={};a.forEach((t,e)=>{if(r[e]||t==="system-alias"){s[t]=r[e]}});return s};c._renderPostForm=function(t,e,a,r,i,s,n,l){const o=JSON.stringify(i);t.openStart("form");t.attr("id",a);t.attr("method","post");t.attr("name",a);t.attr("target",r);t.attr("action",s);t.attr("data-help-id",n);t.style("display","none");t.openEnd();t.voidStart("input");t.attr("name","sap-flp-params");t.attr("value",o);t.voidEnd();if(e.getIframePostAllParams()){const a=this._getPostParameters(e,l);a.forEach(e=>{t.voidStart("input");t.attr("name",e.key);t.attr("value",e.value);t.voidEnd()})}t.close("form")};c._renderPostIframe=function(t,e,a,i,s,l,d){t.openStart("iframe",a);t.attr("name",a);t.accessibilityState(e);t.attr("sap-orig-src",i);t.attr("title",o.i18n.getText("AppilcationContainer.IframeTitle"));t.attr("data-help-id",l);t.attr("data-sap-ushell-iframe-idx",d);t.class("sapUShellApplicationContainer");t.style("height",e.getHeight());t.style("width",e.getWidth());if(n.last("/core/shell/enableFeaturePolicyInIframes")){t.attr("allow",p.getIframeFeaturePolicies().replaceAll(";",` ${new r(s).origin()};`))}t.openEnd();t.close("iframe")};c._getPostParameters=function(t,e){const a=d.fromURL(e);const r=[];let i="";if(a.has("sap-iframe-hint")){i=a.get("sap-iframe-hint")}const s=a.mParams;if(t.getApplicationType()==="TR"||i==="GUI"){for(const t in s){if(t==="sap-iframe-hint"||t==="sap-keep-alive"){continue}r.push({key:t,value:s[t][0]})}}return r};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/KeepAliveApps", [],function(){"use strict";function t(){var t={};this._clean=function(){t={}};this.get=function(n){if(n&&t.hasOwnProperty(n)){return t[n]}return undefined};this.set=function(n,e){if(n){t[n]=e}};this.removeById=function(n){if(n&&t.hasOwnProperty(n)){delete t[n]}};this.removeByContainer=function(t,n){this.forEach((e,i)=>{if(e.container===t){if(n){n(e)}this.removeById(i)}})};this.forEach=function(n){Object.keys(t).forEach(function(e){n.apply(this,[t[e],e,this])})};this.length=function(){return Object.keys(t).length}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager", ["sap/base/Log","sap/base/util/Deferred","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/uid"],(e,s,t,i,r)=>{"use strict";const n={provideApplicationContext:false,allowInactive:false};const a={activeOnly:false,ignoreCapabilities:false};const o=Symbol("DoNotReply");const l=e.getLogger("sap.ushell.appIntegration.PostMessageManager");class d{#e=()=>{throw new Error("PostMessageManager is not initialized")};#s=()=>{throw new Error("PostMessageManager is not initialized")};#t=()=>{throw new Error("PostMessageManager is not initialized")};#i=false;#r=false;#n=[];#a=[];#o={};#l={};#d=true;#c=[];init(e={}){if(this.#i){throw new Error("PostMessageManager is already initialized.")}const s=i.get("sap-ushell-config.services.PostMessage.config")||{};if(s.enabled===false){this.#r=true;this.#i=true;l.warning("PostMessageAPI is disabled by configuration.");return}const t=e.getCurrentApplication||function(){};this.#s=t;const r=e.getAllApplications||function(){return[]};this.#t=r;if(e.skipReplay){this.#d=false}this.#e=this.#u.bind(this);addEventListener("message",this.#e);this.#i=true}async#u(e){let s;try{if(typeof e.data==="string"){s=JSON.parse(e.data)}else if(t(e.data)){s=e.data}else{throw new Error("Invalid message format")}s.body=s.body||{}}catch{l.debug("Received Post Message with invalid JSON. Ignoring the message.",e.data);return}const i=this.#g(e,s);e=i.oEvent;s=i.oMessage;if(!s.service){l.debug("Received Post Message without a service name. Ignoring the message.");return}const r=e.source;const n=e.origin;l.debug(`Received postMessage ${s.service} (${s.request_id}) from iframe with domain '${n}'`,JSON.stringify(s,null,2));if(!["response","request"].includes(s.type)){l.warning(`Received Post Message with an invalid type: '${s.type}'. Ignoring the message.`);return}if(s.type==="response"){const t=this.#p(e);if(t){l.debug(`Response for ${s.service} (${s.request_id}) was handled by a response handler.`)}return}let a;let d=true;try{const t=await this.#f(s,r,n,e);l.debug(`Service request for ${s.service} (${s.request_id}) was handled successfully.`);if(t===o){l.debug(`Service request for ${s.service} (${s.request_id}) was handled successfully, but no response is needed.`);return}if(t&&typeof t==="object"&&Object.hasOwn(t,"_noresponse_")){l.debug(`Service request for ${s.service} (${s.request_id}) was handled successfully, but no response is needed.`);return}a={result:t}}catch(e){d=false;l.error(`Service request for ${s.service} (${s.request_id}) failed.`,e);let t;let i=e;if(e instanceof Error){i=e.message;t=e.stack}a={message:i,stack:t}}return this.sendResponse(s.request_id,s.service,a,d,r,n)}#g(e,s){let t;this.#n.forEach(i=>{if(t){return}t=i(e,s)});return{oEvent:t||e,oMessage:s}}#p(e){let s=false;this.#a.forEach(t=>{if(s){return}s=t(e)});return s}async#f(e,s,t,i){const r=e.service;const n=this.#h(r);if(!n){if(this.#d){this.#c.push(i);return o}await this.sendResponse(e.request_id,r,{code:-1,message:`Unknown service name: '${r}'`},false,s,t);return o}const a=this.#b(r);if(typeof a?.isValidRequest==="function"){const e=await a.isValidRequest(i);if(!e){throw new Error(`Invalid request for service ${r}.`)}}if(a.provideApplicationContext){const t=this.#v(s);if(!t){throw new Error("Cannot find the related application for the service request.")}if(!t.getActive()&&!a?.allowInactive){throw new Error("Received Post Message from an inactive application.")}if(!t.isTrustedPostMessageSource(i)){throw new Error("Received Post Message from an untrusted source.")}l.debug(`Handling service request for ${r} (${e.request_id}) with application context ${t.getId()}.`);return n(e.body,t,i)}l.debug(`Handling service request for ${r} (${e.request_id}) without application context.`);return n(e.body,i)}#h(e){return this.#o[e]?.handler}#b(e){return this.#o[e]?.options}#v(e){let s;this.#t().forEach(t=>{if(s||!t.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return}const i=t.getPostMessageTarget();if(i===e){s=t}});if(s){return s}l.error("Cannot find the related application for the service request; using the current application as fallback. This fallback will be removed in future");const t=this.#s();if(t&&t.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return t}}addEventPreprocessor(e){this.#n.push(e)}setRequestHandler(e,s,t={}){if(this.#o[e]){l.error(`Request handler for service ${e} is already defined. Overwriting the existing handler.`)}this.#o[e]={handler:s,options:{...n,...t}}}async sendRequest(e,s,t,i,n){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const a=r();const o={type:"request",request_id:a,service:e,body:s||{}};return this.#w(o,t,i,n)}async sendResponse(e,s,t,i,r,n){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const a={type:"response",request_id:e,service:s,status:i?"success":"error",body:t||{}};return this.#w(a,r,n,false)}async#w(e,s,t,i){if(!s){throw new Error("No content window provided.")}const r=e.request_id;let n=Promise.resolve();if(i){l.debug(`Waiting for response on ${e.service} (${e.request_id}) from iframe with domain '${t}'`);n=this.#M(r,s)}const a=JSON.stringify(e);l.debug(`Sending post message on ${e.service} (${e.request_id}) to iframe with domain '${t}'`,JSON.stringify(e,null,2));s.postMessage(a,t);return n}#M(e,t){const i=new s;const r=this.#P.bind(null,i,e,t);this.#a.push(r);return i.promise}#P(e,s,t,i){const r=typeof window.QUnit==="object";if(!r&&t!==i.source){return false}let n;try{n=JSON.parse(i.data)}catch{return false}if(n?.request_id!==s){return false}l.debug(`Received response for ${n.service} (${n.request_id}) from iframe with domain '${i.origin}'`);if(n.status==="success"){e.resolve(n.body)}else{let s;if(n.body?.message){s=new Error(n.body.message)}else{s=new Error("Unknown error")}if(n.body?.stack){s.stack=n.body.stack}e.reject(s)}return true}async sendRequestToAllApplications(e,s,t){if(this.#r){throw new Error("PostMessageAPI is disabled by configuration.")}if(!this.#i){throw new Error("PostMessageManager is not initialized.")}const i=this.#y(e);const r=[];if(i.activeOnly){r.push(this.#s())}else{this.#t().forEach(e=>{r.push(e)})}const n=r.filter(s=>{if(!s){return false}if(!s.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return false}if(i.ignoreCapabilities||s.supportsCapabilities([e])){return true}if(typeof i?.isValidRequestTarget==="function"){const e=i.isValidRequestTarget(s);return e}return false});const a=n.map(i=>this.sendRequest(e,s,i.getPostMessageTarget(),i.getPostMessageTargetOrigin(),t));return Promise.all(a)}#y(e){return this.#l[e]||a}setDistributionPolicy(e,s={}){if(this.#l[e]){l.error(`Distribution policy for service ${e} is already defined. Overwriting the existing policy.`)}this.#l[e]={...a,...s}}replayStoredMessages(){this.#d=false;this.#c.forEach(e=>{this.#u(e)});this.#c=[]}reset(){removeEventListener("message",this.#e);this.#e=()=>{throw new Error("PostMessageManager is not initialized")};this.#s=()=>{throw new Error("PostMessageManager is not initialized")};this.#t=()=>{throw new Error("PostMessageManager is not initialized")};this.#i=false;this.#r=false;this.#n=[];this.#o={};this.#a=[];this.#l={};this.#d=true;this.#c=[]}}return new d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager/AppruntimeHandler", ["sap/base/Log","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container"],function(e,a,t,i){"use strict";const s={"sap.ushell.appRuntime.innerAppRouteChange":{activeOnly:true,ignoreCapabilities:true},"sap.ushell.appRuntime.keepAliveAppHide":{activeOnly:true,ignoreCapabilities:true},"sap.ushell.appRuntime.keepAliveAppShow":{activeOnly:true,ignoreCapabilities:true},"sap.ushell.appRuntime.hashChange":{activeOnly:true},"sap.ushell.appRuntime.setDirtyFlag":{activeOnly:true},"sap.ushell.appRuntime.getDirtyFlag":{activeOnly:true},"sap.ushell.appRuntime.themeChange":{ignoreCapabilities:true},"sap.ushell.appRuntime.uiDensityChange":{ignoreCapabilities:true}};const n={"sap.ushell.appRuntime.hashChange":{async handler(t,s){const{newHash:n,direction:l}=t;a.disableBlueBoxHashChangeTrigger=true;a.replaceHash(n);a.disableBlueBoxHashChangeTrigger=false;if(l){const a=await i.getServiceAsync("ShellNavigationInternal");a.hashChanger.fireEvent("hashReplaced",{hash:a.hashChanger.getHash(),direction:l});e.debug(`PostMessageAPI.hashChange :: Informed by the Iframe, to change the History direction property in FLP to: ${l}`)}}},"sap.ushell.appRuntime.iframeIsValid":{async handler(e,a,t){a.setIsIframeValidTime({time:(new Date).getTime()})},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.appRuntime.iframeIsBusy":{async handler(e,a){}},"sap.ushell.appRuntime.isInvalidIframe":{async handler(e,a,t){a.setIsInvalidIframe(e.bValue)},options:{provideApplicationContext:true,allowInactive:true}}};return{register(){Object.keys(s).forEach(e=>{const a=s[e];t.setDistributionPolicy(e,a)});Object.keys(n).forEach(e=>{const a=n[e];t.setRequestHandler(e,a.handler,a.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager/ExtensionItems", ["sap/base/Log","sap/base/util/uid"],function(e,t){"use strict";class s{#e={};generateItemId(){const e=t();if(Object.hasOwn(this.#e,e)){return this.generateItemId()}this.#e[e]=null;return e}storeItem(e,t){this.#e[e]=t}getItem(e){return this.#e[e]}removeItem(e){delete this.#e[e]}visitItems(t,s){t.forEach(t=>{const i=this.getItem(t);if(i){s(i)}else{e.warning(`Item with id ${t} not found`)}})}applyItemVisibility(e,t,s,i){if(s){t?e.showForCurrentApp():e.hideForCurrentApp()}else{t?e.hideForCurrentApp():e.showForCurrentApp();if(Array.isArray(i)){if(i.includes("app")){t?e.showForAllApps():e.hideForAllApps()}else{t?e.hideForAllApps():e.showForAllApps()}if(i.includes("home")){t?e.showOnHome():e.hideOnHome()}else{t?e.hideOnHome():e.showOnHome()}}}}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager/LifecycleHandler", ["sap/base/Log","sap/base/util/Deferred","sap/m/library","sap/ui/thirdparty/hasher","sap/ui/thirdparty/URI","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/state/ShellModel","sap/ushell/utils"],function(e,s,t,l,r,i,a,n,o,c,p,u){"use strict";const d=t.URLHelper;const h=o.appIntegration.contracts.StatefulType;const y=[(e,s)=>{if(s.service?.startsWith("sap.ushell.services.appLifeCycle")){s.service=s.service.replace(/appLifeCycle/gi,"AppLifeCycle");return new MessageEvent("message",{data:JSON.stringify(s),origin:e.origin,source:e.source})}}];const v={"sap.ushell.services.AppLifeCycle.create":{activeOnly:true},"sap.ushell.services.AppLifeCycle.destroy":{activeOnly:true},"sap.ushell.services.AppLifeCycle.store":{activeOnly:true},"sap.ushell.services.AppLifeCycle.restore":{activeOnly:true},"sap.ushell.sessionHandler.extendSessionEvent":{ignoreCapabilities:true},"sap.ushell.sessionHandler.logout":{isValidRequestTarget(e){if(",WCF,GUI,TR,WDA,".includes(e.getApplicationType())){return false}return true}}};const g={"sap.gui.loadFinished":{async handler(e,s,t){s.setStatefulType(h.ContractV1)},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.AppLifeCycle.subscribe":{async handler(s,t,l){const r=s;if(!Array.isArray(r)){e.error("subscribe service call failed: capabilities must be an array");throw new Error("subscribe service call failed: capabilities must be an array")}const i=r.map(e=>`${e.service}.${e.action}`);t.addCapabilities(i)},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.AppLifeCycle.setup":{async handler(e,s,t){const l=e;const r=[];if(l){if(l.isStateful){s.setStatefulType(h.ContractV2);r.push("sap.ushell.services.AppLifeCycle.create");r.push("sap.ushell.services.AppLifeCycle.destroy");const e=!u.isSAPLegacyApplicationType(s.getApplicationType(),s.getFrameworkId());if(e){r.push("sap.ushell.services.AppLifeCycle.store");r.push("sap.ushell.services.AppLifeCycle.restore")}}if(l.isIframeValid){r.push("sap.ushell.appRuntime.iframeIsValid")}if(l.session?.bLogoutSupport){r.push("sap.ushell.sessionHandler.logout")}s.addCapabilities(r)}},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.sessionHandler.notifyUserActive":{handler:f},"sap.ushell.sessionHandler.extendSessionEvent":{handler:f},"sap.ushell.ui5service.ShellUIService.setTitle":{async handler(e,s,t){const{sTitle:l,oAdditionalInformation:r}=e;const i=s.getShellUIService();i.setTitle(l,r)},options:{provideApplicationContext:true}},"sap.ushell.ui5service.ShellUIService.setBackNavigation":{async handler(e,s,t){const l=s.getShellUIService();let r;if(e.callbackMessage?.service){r=()=>{i.sendRequest(e.callbackMessage.service,null,s.getPostMessageTarget(),s.getPostMessageTargetOrigin(),false)}}l.setBackNavigation(r)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setTitle":{async handler(e,s,t){const{sTitle:l,oAdditionalInformation:r}=e;const i=s.getShellUIService();i.setTitle(l,r)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setHierarchy":{async handler(e,s,t){const{aHierarchyLevels:l}=e;const r=s.getShellUIService();r.setHierarchy(l)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setRelatedApps":{async handler(e,s,t){const{aRelatedApps:l}=e;const r=s.getShellUIService();r.setRelatedApps(l)},options:{provideApplicationContext:true}},"sap.ushell.services.ShellUIService.setDirtyFlag":{async handler(e,s){const{bIsDirty:t}=e;a.setDirtyFlag(t)}},"sap.ushell.services.ShellUIService.showShellUIBlocker":{async handler(e,s){}},"sap.ushell.services.ShellUIService.getFLPUrl":{async handler(e,s){const t=e.bIncludeHash;return a.getFLPUrlAsync(t)}},"sap.ushell.services.ShellUIService.getShellGroupIDs":{async handler(e,s){if(true){const{bGetAll:s}=e;const t=await a.getServiceAsync("BookmarkV2");return t.getShellGroupIDs(s)}throw new Error("Bookmark.getShellGroupIDs is deprecated. Use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.ShellUIService.addBookmark":{async handler(e,s){if(true){const{oParameters:s,groupId:t}=e;const l=await a.getServiceAsync("BookmarkV2");return l.addBookmarkByGroupId(s,t)}throw new Error("Bookmark.addBookmarkByGroupId is deprecated. Use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.ShellUIService.addBookmarkDialog":{async handler(e,s){const[t]=await u.requireAsync(["sap/ushell/ui/footerbar/AddBookmarkButton"]);const l=new t;l.firePress({})}},"sap.ushell.services.ShellUIService.getShellGroupTiles":{async handler(e,s){if(true){const{groupId:s}=e;const t=await a.getServiceAsync("FlpLaunchPage");const l=t.getTilesByGroupId(s);return u.promisify(l)}throw new Error("Classic homepage is deprecated.")}},"sap.ushell.services.ShellUIService.sendUrlAsEmail":{async handler(e,s){const t=p.getModel().getProperty("/application/title");let l;if(t===undefined){l=c.i18n.getText("linkToApplication")}else{l=`${c.i18n.getText("linkTo")} '${t}'`}A("",l,document.URL,"","",document.URL,true)}},"sap.ushell.services.ShellUIService.sendEmailWithFLPButton":{async handler(e,s){const{bSetAppStateToPublic:t}=e;const l=p.getModel().getProperty("/application/title");let r;if(l===undefined){r=c.i18n.getText("linkToApplication")}else{r=`${c.i18n.getText("linkTo")} '${l}'`}A("",r,document.URL,"","",document.URL,t)}},"sap.ushell.services.ShellUIService.sendEmail":{async handler(e,s){const{sTo:t,sSubject:l,sBody:r,sCc:i,sBcc:a,sIFrameURL:n,bSetAppStateToPublic:o}=e;A(t,l,r,i,a,n,o)}},"sap.ushell.services.ShellUIService.processHotKey":{async handler(e,s){const t=e;let l;try{l=new KeyboardEvent("keydown",t)}catch(e){const{altKey:s,ctrlKey:r,shiftKey:i,key:a,keyCode:n}=t;const o=document.createEvent("KeyboardEvent");let c="";if(s){c+="Alt "}if(r){c+="Control "}if(i){c+="Shift "}o.initKeyboardEvent("keydown",false,false,null,a,n,c,0,false);l=o}document.dispatchEvent(l)}},"sap.ushell.services.Container.setDirtyFlag":{async handler(e,s){const{bIsDirty:t}=e;a.setDirtyFlag(t)}},"sap.ushell.services.Container.registerDirtyStateProvider":{async handler(e,t,l){const{bRegister:r}=e;if(r){a.setAsyncDirtyStateProvider(async function(e){const l=new s;const r=setTimeout(()=>{l.resolve(false)},2500);i.sendRequest("sap.ushell.appRuntime.handleDirtyStateProvider",{oNavigationContext:e},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),true).then(e=>{if(r){clearTimeout(r)}l.resolve(e.result||false)});return l.promise})}else{a.setAsyncDirtyStateProvider()}},options:{provideApplicationContext:true}},"sap.ushell.services.Container.getFLPUrl":{async handler(e,s){const t=e.bIncludeHash;return a.getFLPUrlAsync(t)}},"sap.ushell.services.Container.getFLPConfig":{async handler(e,s){return a.getFLPConfig()}},"sap.ushell.services.Container.getFLPPlatform":{async handler(e,s){return a.getFLPPlatform()}},"sap.ushell.services.Container.attachLogoutEvent":{async handler(e,s,t){a.attachLogoutEvent(async function(){return i.sendRequest("sap.ushell.appRuntime.executeLogoutFunctions",{},s.getPostMessageTarget(),s.getPostMessageTargetOrigin(),true)},true)},options:{provideApplicationContext:true}},"sap.ushell.services.AppLifeCycle.reloadCurrentApp":{async handler(e,s){n.emit("reloadCurrentApp",{sCurrentHash:l.getHash(),date:Date.now()})}},"sap.ushell.services.AppLifeCycle.getFullyQualifiedXhrUrl":{async handler(e,s){const{path:t}=e;if(t!==""&&t!==undefined&&t!==null){const e=await a.getServiceAsync("AppLifeCycle");const s=await e.getCurrentApplication().getSystemContext();const l=s.getFullyQualifiedXhrUrl(t);let i="";let n="";let o="";const c=a.getFLPUrl(true);const p=new r(c);if(p.protocol()!==null&&p.protocol()!==undefined&&p.protocol()!==""){n=`${p.protocol()}://`}if(p.hostname()!==null&&p.hostname()!==undefined&&p.hostname()!==""){i=p.hostname()}if(p.port()!==null&&p.port()!==undefined&&p.port()!==""){o=`:${p.port()}`}const u=n+i+o+l;return u}}},"sap.ushell.services.AppLifeCycle.getSystemAlias":{async handler(e,s,t){const l=s.getCurrentAppTargetResolution();const r=l.systemAlias;const i=l.contentProviderId;const[a]=await u.requireAsync(["sap/ushell/ApplicationType/systemAlias"]);return a.getSystemAliasInProvider(r,i)},options:{provideApplicationContext:true}},"sap.ushell.services.AppLifeCycle.setNewAppInfo":{async handler(e,s){const t=e;const l=await a.getServiceAsync("AppLifeCycle");l.setAppInfo(t,true)}},"sap.ushell.services.AppLifeCycle.updateCurrentAppInfo":{async handler(e,s){const t=e;const l=await a.getServiceAsync("AppLifeCycle");l.setAppInfo(t,false)}},"sap.ushell.services.AppConfiguration.setApplicationFullWidth":{async handler(e,s){const{bValue:t}=e;const[l]=await u.requireAsync(["sap/ushell/services/AppConfiguration"]);l.setApplicationFullWidthInternal(t)}}};async function f(){const e=a.getRenderer().getShellController();const s=e._getSessionHandler();if(s?.isInitialized?.()){s.userActivityHandler()}}async function A(s="",t="",l="",r="",i="",n,o){let c=u.getDocumentUrl();function p(e,s,r,i,a,n){t=t.includes(e)?t.replace(e,s):t;l=l.includes(e)?l.replace(e,s):l;if(r&&a){t=t.includes(r)?t.replaceAll(r,a):t;l=l.includes(r)?l.replaceAll(r,a):l}if(i&&n){t=t.includes(i)?t.replaceAll(i,n):t;l=l.includes(i)?l.replaceAll(i,n):l}}if(o){const o=await a.getServiceAsync("AppState");o.setAppStateToPublic(n).then((e,a,o,u="",h="")=>{if(u){c=c.replace(a,u)}if(h){c=c.replace(o,h)}p(n,c,a,o,u,h);d.triggerEmail(s,t,l,r,i)},e.error)}else{p(n,c);d.triggerEmail(s,t,l,r,i)}}return{register(){y.forEach(e=>{i.addEventPreprocessor(e)});Object.keys(v).forEach(e=>{const s=v[e];i.setDistributionPolicy(e,s)});Object.keys(g).forEach(e=>{const s=g[e];i.setRequestHandler(e,s.handler,s.options)})},sendEmail:A}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager/MessageBrokerHandler", ["sap/ushell/appIntegration/PostMessageManager","sap/ushell/Config","sap/ushell/Container","sap/ushell/utils"],function(e,s,r,a){"use strict";const n={"sap.ushell.services.MessageBroker":{async handler(e,s){await r.getServiceAsync("MessageBroker");const[n]=await a.requireAsync(["sap/ushell/services/MessageBroker/MessageBrokerEngine"]);const t={oMessageData:JSON.parse(s.data),oMessage:s};return n.processPostMessage(t)},options:{async isValidRequest(e){const s=await r.getServiceAsync("MessageBroker");const a=s.getAcceptedOrigins().find(s=>s===e.origin);if(a!==undefined){return true}return false}}}};return{register(){if(!s.last("/core/shell/enableMessageBroker")){return}Object.keys(n).forEach(s=>{const r=n[s];e.setRequestHandler(s,r.handler,r.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager/NWBCHandler", ["sap/base/Log","sap/base/util/uid","sap/ushell/appIntegration/PostMessageManager","sap/ushell/Container","sap/ushell/utils"],function(e,t,a,s,r){"use strict";const o=[(e,a)=>{if(a.action==="pro54_setGlobalDirty"){a.service="sap.ushell.appIntegration.PostMessageManager.NWBCHandler.pro54_setGlobalDirty";delete a.action;a.body=a.parameters;delete a.parameters;if(!a.request_id){a.request_id=t()}if(!a.type){a.type="request"}return new MessageEvent("message",{data:JSON.stringify(a),origin:e.origin,source:e.source})}}];const l={"sap.ushell.appIntegration.PostMessageManager.NWBCHandler.pro54_setGlobalDirty":{async handler(t,a,o){const l=a.getGlobalDirtyStorageKey();if(localStorage.getItem(l)===s.DirtyState.PENDING){e.debug(`getGlobalDirty() pro54_setGlobalDirty SetItem key:${l} value: ${t.globalDirty}`,null,"sap.ushell.appIntegration.ApplicationContainer");r.localStorageSetItem(l,t.globalDirty,true)}},options:{provideApplicationContext:true}}};return{register(){o.forEach(e=>{a.addEventPreprocessor(e)});Object.keys(l).forEach(e=>{const t=l[e];a.setRequestHandler(e,t.handler,t.options)})}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessageManager/ServiceHandler", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/Log","sap/base/util/deepExtend","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/PostMessageManager","sap/ushell/appIntegration/PostMessageManager/ExtensionItems","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/library","sap/ushell/services/Navigation/compatibility","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(e,t,s,a,n,r,o,i,c,l,p,u,g,d,v){"use strict";const y=u.ContentNodeType;let h;const m=new r;const A={"sap.ushell.services.Navigation.getHref":{async handler(e,t){const{oTarget:s}=e;const a=await l.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.Navigation.backToPreviousApp":{async handler(e,t){const s=await l.getServiceAsync("Navigation");return s.backToPreviousApp()}},"sap.ushell.services.Navigation.historyBack":{async handler(e,t){const{iSteps:s}=e;const a=await l.getServiceAsync("Navigation");return a.historyBack(s)}},"sap.ushell.services.Navigation.isInitialNavigation":{async handler(e,t){const s=await l.getServiceAsync("Navigation");return s.isInitialNavigation()}},"sap.ushell.services.Navigation.navigate":{async handler(e,t){const{oTarget:s}=e;const n=await l.getServiceAsync("Navigation");const r=a({},s);d.storeSapSystemToLocalStorage(r);return n.navigate(r)}},"sap.ushell.services.Navigation.getPrimaryIntent":{async handler(e,t){const{sSemanticObject:s,oLinkFilter:a}=e;const n=await l.getServiceAsync("Navigation");return n.getPrimaryIntent(s,a)}},"sap.ushell.services.Navigation.getLinks":{async handler(e,t){const s=e;const a=await l.getServiceAsync("Navigation");return a.getLinks(s)}},"sap.ushell.services.Navigation.getSemanticObjects":{async handler(e,t){const s=await l.getServiceAsync("Navigation");return s.getSemanticObjects()}},"sap.ushell.services.Navigation.isNavigationSupported":{async handler(e,t){const{aTargets:s}=e;const a=await l.getServiceAsync("Navigation");return a.isNavigationSupported(s)}},"sap.ushell.services.Navigation.getAppState":{async handler(e,t){const{sAppStateKey:s}=e;const a=await l.getServiceAsync("Navigation");const n=await a.getAppState(m,s);delete n._oServiceInstance;return n}},"sap.ushell.services.Navigation.resolveIntent":{async handler(e,t){const{sHashFragment:s}=e;const a=await l.getServiceAsync("Navigation");return a.resolveIntent(s)}},"sap.ushell.services.Navigation.isUrlSupported":{async handler(e,t){const{sUrl:s}=e;const a=await l.getServiceAsync("Navigation");return a.isUrlSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.hrefForExternal":{async handler(e,t){const{oArgs:s}=e;const a=await l.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks":{async handler(e,t){const{sSemanticObject:s,mParameters:a,bIgnoreFormFactors:n,bCompactIntents:r}=e;return g.getSemanticObjectLinks(s,a,n,undefined,undefined,r)}},"sap.ushell.services.CrossApplicationNavigation.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;return g.isIntentSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await l.getServiceAsync("Navigation");return a.isNavigationSupported(s)}},"sap.ushell.services.CrossApplicationNavigation.backToPreviousApp":{async handler(e,t){const s=await l.getServiceAsync("Navigation");return s.backToPreviousApp()}},"sap.ushell.services.CrossApplicationNavigation.historyBack":{async handler(e,t){const{iSteps:s}=e;const a=await l.getServiceAsync("Navigation");return a.historyBack(s)}},"sap.ushell.services.CrossApplicationNavigation.getAppStateData":{async handler(e,t){const{sAppStateKey:s}=e;return g.getAppStateData(s)}},"sap.ushell.services.CrossApplicationNavigation.toExternal":{async handler(e,t){const{oArgs:s}=e;const n=await l.getServiceAsync("Navigation");const r=a({},s);d.storeSapSystemToLocalStorage(r);return n.navigate(r)}},"sap.ushell.services.CrossApplicationNavigation.registerBeforeAppCloseEvent":{async handler(e,t,s){const a=e;t.setBeforeAppCloseEvent({enabled:true,params:a})},options:{provideApplicationContext:true,allowInactive:true}},"sap.ushell.services.CrossApplicationNavigation.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.expandCompactHash(s);return d.promisify(n)}},"sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects":{async handler(e,t){const s=await l.getServiceAsync("Navigation");return s.getSemanticObjects()}},"sap.ushell.services.CrossApplicationNavigation.getLinks":{async handler(e,t){const s=e;return g.getLinks(s)}},"sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent":{async handler(e,t){const{sSemanticObject:s,mParameters:a}=e;const n=await l.getServiceAsync("Navigation");return n.getPrimaryIntent(s,a)}},"sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash":{async handler(e,t){const{sAppHash:s}=e;const a=await l.getServiceAsync("Navigation");return a.getHref(s)}},"sap.ushell.services.CrossApplicationNavigation.isInitialNavigation":{async handler(e,t){const s=await l.getServiceAsync("Navigation");return s.isInitialNavigation()}},"sap.ushell.services.CrossApplicationNavigation.getAppState":{async handler(e,t){const{sAppStateKey:s}=e;const a=await l.getServiceAsync("Navigation");const n=await a.getAppState(m,s);delete n._oServiceInstance;return n}},"sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute":{async handler(e,t){const{appSpecificRoute:s,writeHistory:a}=e;const n=v.parseShellHash(o.getHash());if(n.appSpecificRoute===s){return}n.appSpecificRoute=s;const r=`#${v.constructShellHash(n)}`;o.disableBlueBoxHashChangeTrigger=true;if(a===true||a==="true"){o.setHash(r)}else{o.replaceHash(r)}o.disableBlueBoxHashChangeTrigger=false}},"sap.ushell.services.CrossApplicationNavigation.setInnerAppStateData":{handler:e=>S(e)},"sap.ushell.services.CrossApplicationNavigation.resolveIntent":{async handler(e,t){const{sHashFragment:s}=e;const a=await l.getServiceAsync("Navigation");return a.resolveIntent(s)}},"sap.ushell.services.AppState.getAppState":{async handler(e,t){const{sKey:s}=e;const a=await l.getServiceAsync("AppState");const n=a.getAppState(s);const r=await d.promisify(n);delete r._oServiceInstance;return r}},"sap.ushell.services.AppState._saveAppState":{async handler(e,t){const{sKey:s,sData:a,sAppName:n,sComponent:r,bTransient:o,iPersistencyMethod:i,oPersistencySettings:c}=e;const p=await l.getServiceAsync("AppState");const u=p._saveAppState(s,a,n,r,o,i,c);return d.promisify(u)}},"sap.ushell.services.AppState._loadAppState":{async handler(e,t){const{sKey:s}=e;const a=await l.getServiceAsync("AppState");const n=a._loadAppState(s);return d.promisify(n)}},"sap.ushell.services.AppState.deleteAppState":{async handler(e,t){const{sKey:s}=e;const a=await l.getServiceAsync("AppState");const n=a.deleteAppState(s);return d.promisify(n)}},"sap.ushell.services.AppState.makeStatePersistent":{async handler(e,t){const{sKey:s,iPersistencyMethod:a,oPersistencySettings:n}=e;const r=await l.getServiceAsync("AppState");const o=r.makeStatePersistent(s,a,n);return d.promisify(o)}},"sap.ushell.services.Bookmark.addBookmarkUI5":{async handler(e,t){const{oParameters:s,vContainer:a}=e;const n=await l.getServiceAsync("AppLifeCycle");const r=await n.getCurrentApplication().getSystemContext();k(s,r);const o=await l.getServiceAsync("BookmarkV2");return o.addBookmark(s,a,r.id)}},"sap.ushell.services.Bookmark.addBookmark":{async handler(e,t){if(true){const{oParameters:t,groupId:s}=e;const a=await l.getServiceAsync("BookmarkV2");return a.addBookmarkByGroupId(t,s)}throw new Error("Bookmark.addBookmarkByGroupId is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.Bookmark.getShellGroupIDs":{async handler(e,t){if(true){const e=await l.getServiceAsync("BookmarkV2");return e.getShellGroupIDs()}throw new Error("Bookmark.getShellGroupIDs is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.Bookmark.addCatalogTileToGroup":{async handler(e,t){s.error("Bookmark.addCatalogTileToGroup is deprecated. Please use BookmarkV2.addBookmark instead.");if(true){const{sCatalogTileId:t,sGroupId:s,oCatalogData:a}=e;const n=await l.getServiceAsync("Bookmark");const r=n.addCatalogTileToGroup(t,s,a);return d.promisify(r)}throw new Error("Bookmark.addCatalogTileToGroup is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.Bookmark.countBookmarks":{async handler(e,t){const{sUrl:s}=e;const a=await l.getServiceAsync("AppLifeCycle");const n=await a.getCurrentApplication().getSystemContext();const r=await l.getServiceAsync("BookmarkV2");return r.countBookmarks(s,n.id)}},"sap.ushell.services.Bookmark.deleteBookmarks":{async handler(e,t){const{sUrl:s}=e;const a=await l.getServiceAsync("AppLifeCycle");const n=await a.getCurrentApplication().getSystemContext();const r=await l.getServiceAsync("BookmarkV2");return r.deleteBookmarks(s,n.id)}},"sap.ushell.services.Bookmark.updateBookmarks":{async handler(e,t){const{sUrl:s,oParameters:a}=e;const n=await l.getServiceAsync("AppLifeCycle");const r=await n.getCurrentApplication().getSystemContext();const o=await l.getServiceAsync("BookmarkV2");return o.updateBookmarks(s,a,r.id)}},"sap.ushell.services.Bookmark.getContentNodes":{async handler(e,t){const s=await l.getServiceAsync("BookmarkV2");return s.getContentNodes()}},"sap.ushell.services.Bookmark.addCustomBookmark":{async handler(e,t){const{sVizType:s,oConfig:a,vContentNodes:n}=e;const r=await l.getServiceAsync("AppLifeCycle");const o=await r.getCurrentApplication().getSystemContext();const i=await l.getServiceAsync("BookmarkV2");return i.addCustomBookmark(s,a,n,o.id)}},"sap.ushell.services.Bookmark.countCustomBookmarks":{async handler(e,t){const{oIdentifier:s}=e;const a=await l.getServiceAsync("AppLifeCycle");const n=await a.getCurrentApplication().getSystemContext();s.contentProviderId=n.id;const r=await l.getServiceAsync("BookmarkV2");return r.countCustomBookmarks(s)}},"sap.ushell.services.Bookmark.updateCustomBookmarks":{async handler(e,t){const{oIdentifier:s,oConfig:a}=e;const n=await l.getServiceAsync("AppLifeCycle");const r=await n.getCurrentApplication().getSystemContext();s.contentProviderId=r.id;const o=await l.getServiceAsync("BookmarkV2");return o.updateCustomBookmarks(s,a)}},"sap.ushell.services.Bookmark.deleteCustomBookmarks":{async handler(e,t){const{oIdentifier:s}=e;const a=await l.getServiceAsync("AppLifeCycle");const n=await a.getCurrentApplication().getSystemContext();s.contentProviderId=n.id;const r=await l.getServiceAsync("BookmarkV2");return r.deleteCustomBookmarks(s)}},"sap.ushell.services.Bookmark.addBookmarkToPage":{async handler(e,t){const{oParameters:s,sPageId:a}=e;const n=await l.getServiceAsync("AppLifeCycle");const r=await n.getCurrentApplication().getSystemContext();const o=await l.getServiceAsync("BookmarkV2");return o.addBookmarkToPage(s,a,r.id)}},"sap.ushell.services.BookmarkV2.addBookmarkUI5":{async handler(e,t){const{oParameters:s,vContainer:a}=e;const n=await l.getServiceAsync("AppLifeCycle");const r=await n.getCurrentApplication().getSystemContext();k(s,r);const o=await l.getServiceAsync("BookmarkV2");return o.addBookmark(s,a,r.id)}},"sap.ushell.services.BookmarkV2.addBookmark":{async handler(e,t){if(true){const{oParameters:t,groupId:s}=e;const a=await l.getServiceAsync("BookmarkV2");return a.addBookmarkByGroupId(t,s)}throw new Error("BookmarkV2.addBookmarkByGroupId is deprecated. Please use BookmarkV2.addBookmark instead.")}},"sap.ushell.services.BookmarkV2.getShellGroupIDs":{async handler(e,t){if(true){const e=await l.getServiceAsync("BookmarkV2");return e.getShellGroupIDs()}throw new Error("BookmarkV2.getShellGroupIDs is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.BookmarkV2.countBookmarks":{async handler(e,t){const{sUrl:s}=e;const a=await l.getServiceAsync("AppLifeCycle");const n=await a.getCurrentApplication().getSystemContext();const r=await l.getServiceAsync("BookmarkV2");return r.countBookmarks(s,n.id)}},"sap.ushell.services.BookmarkV2.deleteBookmarks":{async handler(e,t){const{sUrl:s}=e;const a=await l.getServiceAsync("AppLifeCycle");const n=await a.getCurrentApplication().getSystemContext();const r=await l.getServiceAsync("BookmarkV2");return r.deleteBookmarks(s,n.id)}},"sap.ushell.services.BookmarkV2.updateBookmarks":{async handler(e,t){const{sUrl:s,oParameters:a}=e;const n=await l.getServiceAsync("AppLifeCycle");const r=await n.getCurrentApplication().getSystemContext();const o=await l.getServiceAsync("BookmarkV2");return o.updateBookmarks(s,a,r.id)}},"sap.ushell.services.BookmarkV2.getContentNodes":{async handler(e,t){const s=await l.getServiceAsync("BookmarkV2");return s.getContentNodes()}},"sap.ushell.services.BookmarkV2.addCustomBookmark":{async handler(e,t){const{sVizType:s,oConfig:a,vContentNodes:n}=e;const r=await l.getServiceAsync("AppLifeCycle");const o=await r.getCurrentApplication().getSystemContext();const i=await l.getServiceAsync("BookmarkV2");return i.addCustomBookmark(s,a,n,o.id)}},"sap.ushell.services.BookmarkV2.countCustomBookmarks":{async handler(e,t){const{oIdentifier:s}=e;const a=await l.getServiceAsync("AppLifeCycle");const n=await a.getCurrentApplication().getSystemContext();s.contentProviderId=n.id;const r=await l.getServiceAsync("BookmarkV2");return r.countCustomBookmarks(s)}},"sap.ushell.services.BookmarkV2.updateCustomBookmarks":{async handler(e,t){const{oIdentifier:s,oConfig:a}=e;const n=await l.getServiceAsync("AppLifeCycle");const r=await n.getCurrentApplication().getSystemContext();s.contentProviderId=r.id;const o=await l.getServiceAsync("BookmarkV2");return o.updateCustomBookmarks(s,a)}},"sap.ushell.services.BookmarkV2.deleteCustomBookmarks":{async handler(e,t){const{oIdentifier:s}=e;const a=await l.getServiceAsync("AppLifeCycle");const n=await a.getCurrentApplication().getSystemContext();s.contentProviderId=n.id;const r=await l.getServiceAsync("BookmarkV2");return r.deleteCustomBookmarks(s)}},"sap.ushell.services.BookmarkV2.addBookmarkToPage":{async handler(e,t){const{oParameters:s,sPageId:a}=e;const n=await l.getServiceAsync("AppLifeCycle");const r=await n.getCurrentApplication().getSystemContext();const o=await l.getServiceAsync("BookmarkV2");return o.addBookmarkToPage(s,a,r.id)}},"sap.ushell.services.UserInfo.getThemeList":{async handler(e,t){const s=await l.getServiceAsync("UserInfo");const a=s.getThemeList();return d.promisify(a)}},"sap.ushell.services.UserInfo.getShellUserInfo":{async handler(e,t){const s=await l.getServiceAsync("UserInfo");return s.getShellUserInfo()}},"sap.ushell.services.UserInfo.getLanguageList":{async handler(e,t){const s=await l.getServiceAsync("UserInfo");const a=s.getLanguageList();return d.promisify(a)}},"sap.ushell.services.UserInfo.updateUserPreferences":{async handler(e,t){const{language:s}=e;if(s){const e=l.getUser();e.setLanguage(s);const t=await l.getServiceAsync("UserInfo");const a=t.updateUserPreferences();await d.promisify(a);e.resetChangedProperty("language")}}},"sap.ushell.services.UserInfo.openThemeManager":{async handler(e,t){p.emit("openThemeManager",Date.now())}},"sap.ushell.services.UserInfo.getLocaleData":{async handler(s,a){const n={calendarType:e.getCalendarType(),dateFormatShort:e.getDatePattern("short"),dateFormatMedium:e.getDatePattern("medium"),numberFormatGroup:e.getNumberSymbol("group"),numberFormatDecimal:e.getNumberSymbol("decimal"),timeFormatShort:e.getTimePattern("short"),timeFormatMedium:e.getTimePattern("medium"),calendarMapping:e.getCustomIslamicCalendarData(),timeZone:t.getTimezone(),currencyFormats:e.getCustomCurrencies()};return n}},"sap.ushell.services.UserDefaultParameters.getValue":{async handler(e,t){const{sParameterName:s}=e;const[a,n]=await Promise.all([l.getServiceAsync("AppLifeCycle"),l.getServiceAsync("UserDefaultParameters")]);const r=await a.getCurrentApplication().getSystemContext();return n.getValue(s,r)}},"sap.ushell.services.ShellNavigation.toExternal":{async handler(e,t){const{oArgs:s,bWriteHistory:a}=e;const n=await l.getServiceAsync("ShellNavigationInternal");n.toExternal(s,undefined,a)}},"sap.ushell.services.ShellNavigation.toAppHash":{async handler(e,t){const{sAppHash:s,bWriteHistory:a}=e;const n=await l.getServiceAsync("ShellNavigationInternal");n.toAppHash(s,a)}},"sap.ushell.services.ShellNavigationInternal.toExternal":{async handler(e,t){const{oArgs:s,bWriteHistory:a}=e;const n=await l.getServiceAsync("ShellNavigationInternal");n.toExternal(s,undefined,a)}},"sap.ushell.services.ShellNavigationInternal.toAppHash":{async handler(e,t){const{sAppHash:s,bWriteHistory:a}=e;const n=await l.getServiceAsync("ShellNavigationInternal");n.toAppHash(s,a)}},"sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects":{async handler(e,t){const s=await l.getServiceAsync("NavTargetResolutionInternal");const a=s.getDistinctSemanticObjects();return d.promisify(a)}},"sap.ushell.services.NavTargetResolution.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.expandCompactHash(s);return d.promisify(n)}},"sap.ushell.services.NavTargetResolution.resolveHashFragment":{async handler(e,t){const{sHashFragment:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.resolveHashFragment(s);return d.promisify(n)}},"sap.ushell.services.NavTargetResolution.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.isNavigationSupported(s);const r=await d.promisify(n);return r.reduce((e,t,a)=>{const n=s[a];e[n]=t;return e},{})}},"sap.ushell.services.NavTargetResolution.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.isNavigationSupported(s);return d.promisify(n)}},"sap.ushell.services.NavTargetResolutionInternal.getDistinctSemanticObjects":{async handler(e,t){const s=await l.getServiceAsync("NavTargetResolutionInternal");const a=s.getDistinctSemanticObjects();return d.promisify(a)}},"sap.ushell.services.NavTargetResolutionInternal.expandCompactHash":{async handler(e,t){const{sHashFragment:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.expandCompactHash(s);return d.promisify(n)}},"sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment":{async handler(e,t){const{sHashFragment:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.resolveHashFragment(s);return d.promisify(n)}},"sap.ushell.services.NavTargetResolutionInternal.isIntentSupported":{async handler(e,t){const{aIntents:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.isNavigationSupported(s);const r=await d.promisify(n);return r.reduce((e,t,a)=>{const n=s[a];e[n]=t;return e},{})}},"sap.ushell.services.NavTargetResolutionInternal.isNavigationSupported":{async handler(e,t){const{aIntents:s}=e;const a=await l.getServiceAsync("NavTargetResolutionInternal");const n=a.isNavigationSupported(s);return d.promisify(n)}},"sap.ushell.services.Renderer.addHeaderItem":{async handler(e,t,s){const{sId:a,sTooltip:n,sIcon:r,iFloatingNumber:o,bVisible:c,bCurrentState:p,aStates:u}=e;const g=await l.getServiceAsync("FrameBoundExtension");const d=await g.createHeaderItem({id:a,tooltip:n,icon:r,floatingNumber:o,press:function(){i.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:a},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}},{position:"begin"});h.storeItem(a,d);h.applyItemVisibility(d,c,p,u)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.addHeaderEndItem":{async handler(e,t,s){const{sId:a,sTooltip:n,sIcon:r,iFloatingNumber:o,bVisible:c,bCurrentState:p,aStates:u}=e;const g=await l.getServiceAsync("FrameBoundExtension");const d=await g.createHeaderItem({id:a,tooltip:n,icon:r,floatingNumber:o,press:function(){i.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:a},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}},{position:"end"});h.storeItem(a,d);h.applyItemVisibility(d,c,p,u)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.showHeaderItem":{async handler(e,t){const{aIds:s,bCurrentState:a,aStates:n}=e;const r=Array.isArray(s)?s:[s];h.visitItems(r,e=>{h.applyItemVisibility(e,true,a,n)})}},"sap.ushell.services.Renderer.showHeaderEndItem":{async handler(e,t){const{aIds:s,bCurrentState:a,aStates:n}=e;const r=Array.isArray(s)?s:[s];h.visitItems(r,e=>{h.applyItemVisibility(e,true,a,n)})}},"sap.ushell.services.Renderer.hideHeaderItem":{async handler(e,t){const{aIds:s,bCurrentState:a,aStates:n}=e;const r=Array.isArray(s)?s:[s];h.visitItems(r,e=>{h.applyItemVisibility(e,false,a,n)})}},"sap.ushell.services.Renderer.hideHeaderEndItem":{async handler(e,t){const{aIds:s,bCurrentState:a,aStates:n}=e;const r=Array.isArray(s)?s:[s];h.visitItems(r,e=>{h.applyItemVisibility(e,false,a,n)})}},"sap.ushell.services.Renderer.setHeaderTitle":{async handler(e,t){const{sTitle:s}=e;const a=await l.getServiceAsync("Extension");a.setSecondTitle(s)}},"sap.ushell.services.Renderer.setHeaderVisibility":{async handler(e,t){const{bVisible:s,bCurrentState:a,aStates:n}=e;const r=l.getRendererInternal("fiori2");r.setHeaderVisibility(s,!!a,n)}},"sap.ushell.services.Renderer.createShellHeadItem":{async handler(e,t,s){const{params:a}=e;a.press=async function(){i.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:a.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)};const[n]=await d.requireAsync(["sap/ushell/ui/shell/ShellHeadItem"]);new n(a)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.showActionButton":{async handler(e,t){const{aIds:s,bCurrentState:a,aStates:n}=e;const r=Array.isArray(s)?s:[s];h.visitItems(r,e=>{h.applyItemVisibility(e,true,a,n)})}},"sap.ushell.services.Renderer.hideActionButton":{async handler(e,t){const{aIds:s,bCurrentState:a,aStates:n}=e;const r=Array.isArray(s)?s:[s];h.visitItems(r,e=>{h.applyItemVisibility(e,false,a,n)})}},"sap.ushell.services.Renderer.addUserAction":{async handler(e,t,s){const{controlType:a,oControlProperties:n,bIsVisible:r,bCurrentState:o,aStates:c}=e.oParameters;const p=await l.getServiceAsync("Extension");n.press=async function(){i.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:n.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)};const u=await p.createUserAction(n,{controlType:a});h.storeItem(n.id,u);h.applyItemVisibility(u,r,o,c)},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.addOptionsActionSheetButton":{async handler(e,t,s){const a=e;const[n]=await d.requireAsync(["sap/m/Button"]);const r=await l.getServiceAsync("Extension");const o=Array.isArray(a)?a:[a];o.forEach(async e=>{I(e.id);new n({id:e.id,text:e.text,icon:e.icon,tooltip:e.tooltip,press:async function(){i.sendRequest("sap.ushell.appRuntime.buttonClick",{buttonId:e.id},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const s=await r.createUserAction({id:e.id});h.storeItem(e.id,s);h.applyItemVisibility(s,true,true,e.aStates)})},options:{provideApplicationContext:true}},"sap.ushell.services.Renderer.removeOptionsActionSheetButton":{async handler(e,t){const a=e;const n=Array.isArray(a)?a:[a];n.forEach(e=>{const t=h.getItem(e.id);if(t){h.applyItemVisibility(t,false,true,e.aStates);return I(e.id)}s.warning(`User action with id ${e.id} not found`)})}},"sap.ushell.services.Renderer.updateHeaderItem":{async handler(e,t){const{sId:s,oControlProperties:a}=e;if(!Object.hasOwn(a,"floatingNumber")){return}const n=h.getItem(s);if(n?.getControl){const e=await n.getControl();e?.setFloatingNumber?.(a.floatingNumber)}}},"sap.ushell.services.Renderer.destroyButton":{async handler(e,t){const{aIds:s}=e;const a=Array.isArray(s)?s:[s];a.forEach(e=>{I(e)})}},"sap.ushell.services.Extension.createHeaderItem":{async handler(e,t,s){const{controlProperties:a,events:n,parameters:r}=e;const o=h.generateItemId();n.forEach(e=>{a[e]=async function(){i.sendRequest("sap.ushell.services.Extension.handleControlEvent",{eventName:e,itemId:o},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const c=await l.getServiceAsync("Extension");const p=await c.createHeaderItem(a,r);h.storeItem(o,p);return{itemId:o}},options:{provideApplicationContext:true}},"sap.ushell.services.Extension.createUserAction":{async handler(e,t,s){const{controlProperties:a,events:n,parameters:r}=e;const o=h.generateItemId();n.forEach(e=>{a[e]=async function(){i.sendRequest("sap.ushell.services.Extension.handleControlEvent",{eventName:e,itemId:o},t.getPostMessageTarget(),t.getPostMessageTargetOrigin(),false)}});const c=await l.getServiceAsync("Extension");const p=await c.createUserAction(a,r);h.storeItem(o,p);return{itemId:o}},options:{provideApplicationContext:true}},"sap.ushell.services.Extension.Item.destroy":{async handler(e,t){const{itemId:s}=e;const a=h.getItem(s);if(a?.destroy){a.destroy();h.removeItem(s)}}},"sap.ushell.services.Extension.Item.showForCurrentApp":{async handler(e,t){const{itemId:s}=e;const a=h.getItem(s);if(a?.showForCurrentApp){a.showForCurrentApp()}}},"sap.ushell.services.Extension.Item.hideForCurrentApp":{async handler(e,t){const{itemId:s}=e;const a=h.getItem(s);if(a?.hideForCurrentApp){a.hideForCurrentApp()}}},"sap.ushell.services.Extension.Item.showForAllApps":{async handler(e,t){const{itemId:s}=e;const a=h.getItem(s);if(a?.showForAllApps){a.showForAllApps()}}},"sap.ushell.services.Extension.Item.hideForAllApps":{async handler(e,t){const{itemId:s}=e;const a=h.getItem(s);if(a?.hideForAllApps){a.hideForAllApps()}}},"sap.ushell.services.Extension.Item.showOnHome":{async handler(e,t){const{itemId:s}=e;const a=h.getItem(s);if(a?.showOnHome){a.showOnHome()}}},"sap.ushell.services.Extension.Item.hideOnHome":{async handler(e,t){const{itemId:s}=e;const a=h.getItem(s);if(a?.hideOnHome){a.hideOnHome()}}},"sap.ushell.services.Extension.setSecondTitle":{async handler(e,t){const{title:s}=e;const a=await l.getServiceAsync("Extension");return a.setSecondTitle(s)}},"sap.ushell.services.LaunchPage.getGroupsForBookmarks":{async handler(e,t){if(true){const e=await l.getServiceAsync("FlpLaunchPage");const t=e.getGroupsForBookmarks();return d.promisify(t)}throw new Error("LaunchPage.getGroupsForBookmarks is deprecated. Please use BookmarkV2.getContentNodes instead.")}},"sap.ushell.services.Menu.getSpacesPagesHierarchy":{async handler(e,t){const s=await l.getServiceAsync("Menu");const a=s.getContentNodes([y.Space,y.Page]);return a.map(({id:e,label:t,children:s})=>({id:e,title:t,pages:(s||[]).map(({id:e,label:t})=>({id:e,title:t}))}))}},"sap.ushell.services.CommonDataModel.getAllPages":{async handler(e,t){const s=await l.getServiceAsync("CommonDataModel");return s.getAllPages()}},"sap.ushell.services.UITracer.trace":{async handler(e,t){const{trace:s}=e;await l.getServiceAsync("UITracer");p.emit("UITracer.trace",s)}},"sap.ushell.services.SearchableContent.getApps":{async handler(e,t){const s=e.oOptions||{};const a=await l.getServiceAsync("SearchableContent");return a.getApps(s)}},"sap.ushell.services.ReferenceResolver.resolveReferences":{async handler(e,t){const{aReferences:s}=e;const a=await l.getServiceAsync("ReferenceResolver");return a.resolveReferences(s)}}};async function S(e){const{sData:t}=e;let s;if(t!==undefined){try{s=JSON.parse(t)}catch(e){s=t}}else{s=""}const a=await l.getServiceAsync("AppState");const n=a.createEmptyAppState();n.setData(s);n.save();const r=n.getKey();let i=o.getHash();if(i.indexOf("&/")>0){if(i.indexOf("sap-iapp-state=")>0){const e=/(?:sap-iapp-state=)([^&/]+)/.exec(i)[1];i=i.replace(e,r)}else{i=`${i}/sap-iapp-state=${r}`}}else{i=`${i}&/sap-iapp-state=${r}`}o.disableBlueBoxHashChangeTrigger=true;o.replaceHash(i);o.disableBlueBoxHashChangeTrigger=false;return r}function k(e,t){if(!e||!e.serviceUrl||!t){return}if(t.id===""||t.id==="saas_approuter"){e.serviceUrl=undefined;s.warning("Dynamic data bookmarks tiles are not supported for local content providers")}}function I(e){const t=n.getElementById(e);if(t?.destroy){t.destroy()}}return{register(){h=new c;Object.keys(A).forEach(e=>{const t=A[e];i.setRequestHandler(e,t.handler,t.options)})},stripBookmarkServiceUrlForLocalContentProvider:k}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/PostMessagePluginInterface", ["sap/base/util/deepExtend","sap/ui/thirdparty/jquery"],(e,jQuery)=>{"use strict";const s="user.postapi.";function t(){let e;let s;this.init=function(t,n){e=t;s=n};this.getInterface=function(){const t={};t.registerPostMessageAPIs=n.bind(null,s);t.createPostMessageResult=i;if(e){t.postMessageToApp=r.bind(null,e)}else{t.postMessageToFlp=r.bind(null,e)}return t}}function n(t,n,r){const i={status:"success",desc:""};const u={isActiveOnly:true,distributionType:["all"]};if(n===undefined||Object.keys(n).length<=0){i.status="error";i.desc="no handler was found to register";return i}if(r===undefined){r=false}Object.keys(n).forEach(t=>{if(typeof t!=="string"){i.status="error";i.desc="oPostMessageAPIs should contain only string keys"}else if(r===false&&t.indexOf(s)!==0){i.status="error";i.desc=`all user custom Message APIs must start with '${s}'`}else{Object.keys(n[t]).forEach(s=>{if(s==="inCalls"){n[t].oServiceCalls=n[t][s];delete n[t][s]}else if(s==="outCalls"){Object.keys(n[t][s]).forEach(r=>{n[t][s][r]=e({},u,n[t][s][r])});n[t].oRequestCalls=n[t][s];delete n[t][s]}else{i.status="error";i.desc="api should contain either 'inCalls' or 'outCalls'"}})}});if(i.status==="success"){t(n)}return i}function r(e,s,t,n){const r=new jQuery.Deferred;if(n===undefined){n={}}if(e){sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],e=>{const i=`${s}.${t}`;e.sendRequestToAllApplications(i,n,true).then(e=>{r.resolve(e[0]?.result)})})}else{sap.ui.require(["sap/ushell/appRuntime/ui5/AppRuntimeService"],e=>{e.sendMessageToOuterShell(`${s}.${t}`,n).done(e=>{r.resolve(e)})})}return r.promise()}function i(e){if(e===undefined){e={}}return(new jQuery.Deferred).resolve(e).promise()}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/UI5ApplicationContainer", ["sap/base/Log","sap/ui/core/ComponentContainer","sap/ui/core/EventBus","sap/ushell/appIntegration/ApplicationContainer","sap/ushell/appIntegration/UI5ApplicationContainerRenderer","sap/ushell/Container","sap/ushell/library","sap/ushell/utils"],(t,e,n,o,i,a,s,p)=>{"use strict";const r=o.extend("sap.ushell.appIntegration.UI5ApplicationContainer",{metadata:{library:"sap.ushell",properties:{componentHandle:{type:"object"},ui5ComponentId:{type:"string"},ui5ComponentName:{type:"string"}},aggregations:{child:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},renderer:i});r.prototype.init=function(){o.prototype.init.apply(this,arguments)};r.prototype.onBeforeRendering=function(){if(!this.getReadyForRendering()){return}this._createComponentContainer()};r.prototype._createComponentContainer=function(){if(this.getAggregation("child")){return}n.getInstance().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:this.getUi5ComponentName()});const t=this.getComponentHandle().getInstance();this.fireEvent("applicationConfiguration",{configuration:t.getManifestEntry("/sap.ui5/config")});const o=new e({id:this.getUi5ComponentId().replace("-component","-content"),component:t});o.setHeight(this.getHeight());o.setWidth(this.getWidth());o.addStyleClass("sapUShellApplicationContainer");this._fnDisableRouterEventHandler=this._disableRouter.bind(this);n.getInstance().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",this._fnDisableRouterEventHandler);this.setAggregation("child",o);return this._publishAppComponentLoaded(t)};r.prototype.setReadyForRendering=function(t){o.prototype.setReadyForRendering.apply(this,arguments);if(!this.getRenderComplete()){this.rerender()}return this};r.prototype._publishAppComponentLoaded=async function(t){const e=await a.getServiceAsync("PluginManager");await p.promisify(e.getPluginLoadingPromise("RendererExtensions"));await p.awaitTimeout(0);n.getInstance().publish("sap.ushell","appComponentLoaded",{component:t})};r.prototype._disableRouter=function(){const e=this.getComponentHandle().getInstance();if(!e||!e.isA("sap.ui.core.UIComponent")){return}const n=e.getRouter();if(!n){return}t.info(`router stopped for instance ${e.getId()}`);n.stop()};r.prototype._destroyChild=function(){const e=this.getAggregation("child");if(!e){return}const n=e.getComponentInstance().getMetadata().getComponentName();t.debug(`unloading component ${n}`,null,"sap.ushell.appIntegration.ApplicationContainer");this.destroyAggregation("child")};r.prototype.exit=function(){if(this._fnDisableRouterEventHandler){n.getInstance().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",this._fnDisableRouterEventHandler)}this._destroyChild();const t=this.getComponentHandle();if(t){t.destroy()}o.prototype.exit.apply(this,arguments)};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/UI5ApplicationContainerRenderer", ["sap/ui/core/Renderer","sap/ushell/appIntegration/ApplicationContainerRenderer"],(e,t)=>{"use strict";const a=e.extend(t);a.render=function(e,a){if(!a.getReadyForRendering()){t.render(e,a);return}const r=a.getAggregation("child");if(!r){return}e.openStart("div",a);e.accessibilityState(a);e.attr("data-help-id",a.getDataHelpId());e.attr("data-sap-ushell-active",a.getActive());e.attr("data-sap-ushell-initial-app-id",a.getInitialAppId());e.attr("data-sap-ushell-current-app-id",a.getCurrentAppId());e.attr("data-sap-ushell-stateful-type",a.getStatefulType());e.attr("data-sap-ushell-framework-id",a.getFrameworkId());e.class("sapUShellApplicationContainer");e.style("height",a.getHeight());e.style("width",a.getWidth());e.openEnd();e.renderControl(r);e.close("div");a.setRenderComplete(true)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/EmbeddedUI5Handler", ["sap/base/Log","sap/base/util/Deferred","sap/ui/core/EventBus","sap/ushell/Container","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(e,t,n,i,r,o,a){"use strict";class s{async createApp(e,t,o){const s=t?.ui5ComponentName;n.getInstance().publish("ApplicationContainer","_prior.newUI5ComponentInstantion",{name:s});const p=await i.getServiceAsync("Ui5ComponentLoader");const c=a.getBasicHash(t.sFixedShellHash);t.ui5ComponentId=`application-${c}-component`;e.setUi5ComponentId(t.ui5ComponentId);await p.createComponent(t,o,[this.#e()],r.Application)}#e(){const n=i.getRendererInternal();if(n){e.debug("Shell controller._createWaitForRendererCreatedPromise: shell renderer already created, return empty array.");return[]}const r=new t;const o=r.resolve.bind(r);i.attachRendererCreatedEvent(o);return r.promise.then(()=>{e.info("Shell controller: resolving component waitFor promise after shell renderer created event fired.");i.detachRendererCreatedEvent(o)})}async getNavigationRedirectHash(e){const t=e.getComponentHandle();if(!t){return}const n=t.getInstance({});if(!n){return}if(typeof n.navigationRedirect!=="function"){return}const i=n.navigationRedirect();if(!i||typeof i.then!=="function"){return}try{const e=await o.promisify(i);return e}catch{}}async storeApp(e){const t=e.getCurrentAppTargetResolution();n.getInstance().publish("sap.ushell","appKeepAliveDeactivate",t);const i=e.getComponentHandle();const r=i.getInstance();if(r.isKeepAliveSupported?.()){r.deactivate();return}if(typeof r.suspend==="function"){r.suspend()}const o=r.getRouter?.();if(o&&typeof o.stop==="function"){o.stop()}}async restoreAppAfterNavigate(e,t){const i=e.getCurrentAppTargetResolution();n.getInstance().publish("sap.ushell","appKeepAliveActivate",i);const r=e.getComponentHandle();const o=r.getInstance();if(o.isKeepAliveSupported?.()){o.activate();return}if(typeof o.restore==="function"){o.restore()}const a=o.getRouter?.();if(a&&typeof a.initialize==="function"){if(t.enableRouterRetrigger===false){a.initialize()}else{a.initialize(true)}}if(typeof o.setInitialConfiguration==="function"){o.setInitialConfiguration()}}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/StatefulContainerV1Handler", ["sap/ushell/utils","sap/ushell/Container"],function(e,t){"use strict";class a{async createApp(e,t,a){e.setCurrentAppId(t);e.setCurrentAppUrl(a.url);e.setCurrentAppTargetResolution(a);e.setIframeReusedForApp(true);const s=await this.#e(e,a);await e.sendRequest("sap.its.startService",s,true)}async#e(a,s){let r=s.url;r=await e.appendSapShellParam(r);r=e.filterOutParamsFromLegacyAppURL(r);let p;const i={url:r};if(a.getIframeWithPost&&a.getIframeWithPost()===true){const a=e.getParamKeys(r);if(a.aAppStateNamesArray.length>0){const e=await t.getServiceAsync("Navigation");try{const t=await e.getAppStateData(a.aAppStateKeysArray);p={};a.aAppStateNamesArray.forEach(function(e,a){if(t[a]){p[e]=t[a]}})}catch{}}else{p={}}}if(p){p["sap-flp-url"]=t.getFLPUrl(true);p["system-alias"]=a.getSystemAlias();i["sap-flp-params"]=p}return i}async destroyApp(e){e.setCurrentAppId("");await e.sendRequest("sap.gui.triggerCloseSession",{},false)}}return new a},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appIntegration/contracts/StatefulContainerV2Handler", ["sap/ushell/ApplicationType/UrlPostProcessing","sap/ui/thirdparty/hasher","sap/ushell/utils","sap/ushell/Container"],(e,s,t,r)=>{"use strict";class a{async createApp(a,p,i,n){let l;a.setReservedParameters(n.reservedParameters);a.setCurrentAppUrl(p);a.setCurrentAppId(i);a.setCurrentAppTargetResolution(n);a.setIframeReusedForApp(true);p=e.processUrl(p,n.applicationType,false,a);const u={sCacheId:i,sUrl:p,sHash:s.getHash()};if(p.indexOf("sap-iframe-hint=GUI")>0||p.indexOf("sap-iframe-hint=WDA")>0||p.indexOf("sap-iframe-hint=WCF")>0){const e=t.getParamKeys(p);if(e.aAppStateNamesArray.length>0){try{const s=await r.getServiceAsync("Navigation");const t=await s.getAppStateData(e.aAppStateKeysArray);l={};e.aAppStateNamesArray.forEach((e,s)=>{if(t[s]){l[e]=t[s]}})}catch{}}else{l={}}}if(l){l["sap-flp-url"]=r.getFLPUrl(true);l["system-alias"]=a.getSystemAlias();u["sap-flp-params"]=l}const c=await a.sendRequest("sap.ushell.services.appLifeCycle.create",u,true);return c?.result}async destroyApp(e,s){const t=e.getCurrentAppId()===s;if(t){e.setCurrentAppUrl("");e.setCurrentAppId("");e.setCurrentAppTargetResolution(undefined);r.setAsyncDirtyStateProvider(undefined)}await e.sendRequest("sap.ushell.services.appLifeCycle.destroy",{sCacheId:s},true)}async storeAppWithinSameFrame(e,s){e.setCurrentAppUrl("");e.setCurrentAppId("");e.setCurrentAppTargetResolution(undefined);r.setAsyncDirtyStateProvider(undefined);await e.sendRequest("sap.ushell.services.appLifeCycle.store",{sCacheId:s},true)}async restoreAppWithinSameFrame(e,t,r,a){e.setCurrentAppUrl(t);e.setCurrentAppId(r);e.setCurrentAppTargetResolution(a);e.setIframeReusedForApp(true);await e.sendRequest("sap.ushell.services.appLifeCycle.restore",{sCacheId:r,sUrl:a.url,sHash:s.getHash()},true)}isStatefulContainerSupportingKeepAlive(e){if(!e){return false}return e.supportsCapabilities(["sap.ushell.services.AppLifeCycle.create","sap.ushell.services.appLifeCycle.destroy","sap.ushell.services.appLifeCycle.store","sap.ushell.services.appLifeCycle.restore"])}isIframeIsValidSupported(e){if(!e){return false}return e.supportsCapabilities(["sap.ushell.services.appRuntime.iframeIsValid"])}}return new a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppCommunicationMgr", ["sap/base/util/deepExtend","sap/base/util/Deferred","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/utils"],function(e,s,t,n,i){"use strict";var r="sap.ushell.appRuntime.ui5.AppCommunicationMgr";var a={},o=[],u=0;function g(){this.init=async function(e){var s=this;s.handleMessageEvent=g.prototype._handleMessageEvent.bind(s,s);addEventListener("message",s.handleMessageEvent);if(e===true){s.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid");setInterval(function(){s.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid")},2500)}const t=await this._getPostMessageInterface();t.init(false,this.registerCommHandlers.bind(this))};this._getPostMessageInterface=async function(){const[e]=await i.requireAsync(["sap/ushell/appIntegration/PostMessagePluginInterface"]);return e};this.destroy=function(){removeEventListener("message",this.handleMessageEvent)};this.registerCommHandlers=function(s){e(a,s)};this._handleMessageResponse=function(e){if(e.request_id&&o[e.request_id]){var s=o[e.request_id];delete o[e.request_id];if(e.status==="success"){s.resolve(e.body.result)}else{let t;if(e?.body?.message){t=new Error(e.body.message)}else{t=new Error("Unknown error")}if(e?.body?.stack){t.stack=e.body.stack}s.reject(t)}}};this._handleMessageRequest=function(e,s,i){var o=t.create("sap-ushell-config.services.PostMessage.config"),u=i&&i.service,g,c,d,l,p;n.debug("App Runtime received post message request from origin '"+s.origin+"': "+JSON.stringify(i),null,r);if(!u){return}if(o&&o.enabled===false){n.warning("App Runtime received message for "+c+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,r);return}if(!this._isTrustedPostMessageSource(e,s)){n.warning("App Runtime received message from untrusted origin '"+s.origin+"': "+JSON.stringify(s.data),null,r);return}if(u==="sap.ushell.services.MessageBroker"){u=u.concat("._execute")}if(u.indexOf(".")>0){g=u.split(".");d=g[g.length-1];c=u.substr(0,u.length-d.length-1)}else{n.warning("App Runtime received message with invalid service name ("+u+") :"+JSON.stringify(s.data),null,r);return}var f={oMessage:s,oMessageData:i,oContainer:e};try{l=a[c];p=l&&l.oServiceCalls[d];if(p&&p.executeServiceCallFn){try{p.executeServiceCallFn(f).then(e=>{var t=e&&e.hasOwnProperty("_noresponse_")?true:false;if(!t){this.sendResponseMessage(s,i,"success",{result:e})}},e=>{let t;let n=e;if(e instanceof Error){n=e.message;t=e.stack}this.sendResponseMessage(s,i,"error",{message:n,stack:t})})}catch(e){this.sendResponseMessage(s,i,"error",{message:e.message,stack:e.stack})}}else{n.warning("App Runtime received message with unknown service name ("+i.service+") :"+JSON.stringify(s.data),null,r)}}catch(e){n.warning("Error in processing message: "+e.message+") :"+JSON.stringify(s.data),null,r)}};this._getCFLPWindow=function(){return window.parent};this._isTrustedPostMessageSource=function(e,s){var t=false,n=e._getCFLPWindow();if(n){t=s.source===n}return t};this.sendResponseMessage=function(e,s,t,i){var a=JSON.stringify({type:"response",service:s.service,request_id:s.request_id,status:t,body:i});n.debug("Sending post message response to origin ' "+e.origin+"': "+a,null,r);if(typeof e.source!=="object"||e.source===null){n.debug("Cannot send response message to origin ' "+e.origin,"`source` member of request message is not an object",r);return}e.source.postMessage(a,e.origin)};this._getTargetWindow=function(){return window.parent};this.postMessage=function(e){var s,t=this._getTargetWindow();if(e){try{if(e.type==="request"&&!e.request_id){e.request_id=this.getId()}s=JSON.stringify(e);t.postMessage(s,"*")}catch(s){n.error("Message '"+e+"' cannot be posted: "+s,"sap.ui5Isolation.AppCommunicationMgr")}}};this.sendMessageToOuterShell=function(e,t,n,i,r){const a=new s;const u={type:"request",service:e,body:t||{},request_id:n};this.postMessage(u);o[u.request_id]=a;if(i){setTimeout(function(){a.resolve(r)},i)}return a.promise};this.getId=function(){return"SAPUI5_APPRUNTIME_MSGID_"+ ++u}}g.prototype._handleMessageEvent=function(e,s){if(s===undefined){return}var t=s.data;if(typeof t==="string"){try{t=JSON.parse(s.data,this)}catch(e){n.debug("Message received from origin '"+s.origin+"' cannot be parsed: "+e,t,r);return}}if(t.type==="request"){return e._handleMessageRequest(e,s,t)}else if(t.type==="response"){return e._handleMessageResponse(t)}};return new g});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimeContext", ["sap/base/assert","sap/ushell/utils/UrlParsing","sap/base/util/deepClone","sap/ushell/appRuntime/ui5/services/Container"],function(e,t,n,s){"use strict";function i(){var e=false,i="",a;this.setAppLifeCycleAgent=function(e){a=e};this.setIsScube=function(t){e=t};this.getIsScube=function(){return e};this.setRemoteSystemId=function(e){i=e};this.getRemoteSystemId=function(){return i};this.checkDataLossAndContinue=function(){return a?a.checkDataLossAndContinue():true};this.checkIntentsConversionForScube=function(e){var i=this;if(!this.getIsScube()||!e||e.length===0){return Promise.resolve(e)}return new Promise(function(a){var r=n(e);var u=[];var o;u=r.map(function(e){return{target:{shellHash:e.intent}}});s.getServiceAsync("Navigation").then(function(e){e.isNavigationSupported(u,undefined,true).then(function(e){for(var n=0;n<e.length;n++){if(!e[n].supported){o=t.parseShellHash(r[n].intent);o.params["sap-shell-so"]=o.semanticObject;o.params["sap-shell-action"]=o.action;o.params["sap-remote-system"]=i.getRemoteSystemId();o.semanticObject="Shell";o.action="startIntent";r[n].intent="#"+t.constructShellHash(o)}}a(r)})})})}}return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimeService", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],function(e){"use strict";function n(){this.sendMessageToOuterShell=function(n,s,t,r,u){const i=new jQuery.Deferred;e.sendMessageToOuterShell(n,s,t,r,u).then(i.resolve.bind(i)).catch(i.reject.bind(i));return i.promise()};this.postMessageToFLP=function(n,s,t,r,u){return e.sendMessageToOuterShell(n,s,t,r,u)}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/SessionHandlerAgent", ["sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/URI","sap/base/Log"],function(e,t,n,i,s){"use strict";var r;function u(){this.init=function(){t.registerCommHandlers({"sap.ushell.sessionHandler":{oServiceCalls:{beforeApplicationHide:{executeServiceCallFn:function(e){return Promise.resolve()}},afterApplicationShow:{executeServiceCallFn:function(e){return Promise.resolve()}},logout:{executeServiceCallFn:function(e){return r.handleLogoutEvent(e)}},extendSessionEvent:{executeServiceCallFn:function(e){return r.handleExtendSessionEvent(e)}}}}});this.attachUserEvents();this.userActivityHandler()};this.handleLogoutEvent=function(){return new Promise((t,n)=>{r.detachUserEvents();e.getFLPUrlAsync(true).then(function(i){if(r.isSameDomain(i,document.URL)===false){e.logout().then(t,n)}else{t()}})})};this.isSameDomain=function(e,t){var n,r,u=false;if(e===undefined||t===undefined){return false}try{n=new i(e);r=new i(t);if(n.origin()===r.origin()){u=true}}catch(n){s.error("Check for same domain of iframe and FLP failed: "+e+" "+t,n,"sap.ushell.appRuntime.ui5.SessionHandlerAgent")}return u};this.handleExtendSessionEvent=function(){e.sessionKeepAlive();return Promise.resolve()};this.attachUserEvents=function(){document.addEventListener("mousedown",this.userActivityHandler);document.addEventListener("mousemove",this.userActivityHandler);document.addEventListener("keyup",this.userActivityHandler);document.addEventListener("touchstart",this.userActivityHandler)};this.detachUserEvents=function(){document.removeEventListener("mousedown",this.userActivityHandler);document.removeEventListener("mousemove",this.userActivityHandler);document.removeEventListener("keyup",this.userActivityHandler);document.removeEventListener("touchstart",this.userActivityHandler)};this.userActivityHandler=function(e){if(r.oUserActivityTimer!==undefined){return}r.oUserActivityTimer=setTimeout(function(){n.postMessageToFLP("sap.ushell.sessionHandler.notifyUserActive",{});r.oUserActivityTimer=undefined},1e4)}}var o=new u;r=o;return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/performance/FesrEnhancer", ["sap/ui/performance/trace/FESR","sap/ui/performance/trace/Interaction","sap/ushell/utils/type"],function(e,t,r){"use strict";var n={_fnOriginalOnBeforeCreated:undefined,_currentAppShortId:undefined,init:function(){if(e.getActive()){this._fnOriginalOnBeforeCreated=e.onBeforeCreated;e.onBeforeCreated=this._onBeforeCreatedHandler.bind(this)}},_onBeforeCreatedHandler:function(e,t){if(this._currentAppShortId){e.appNameShort=this._currentAppShortId}if(e.interactionType===1&&(e.stepName==="undetermined_startup"||e.stepName==="undetermined_appruntime_app_startup")){e.stepName="APPRT@APP_START"}return e},reset:function(){if(e.getActive()){e.onBeforeCreated=this._fnOriginalOnBeforeCreated;this.setAppShortId()}},startInteraction:function(){if(e.getActive()){t.start("appruntime_app_startup")}},setAppShortId:function(t){function n(e,t){var n=e.getManifestEntry(t)||[];if(!r.isArray(n)){n=[n]}return typeof n[0]==="string"?n[0]:undefined}if(e.getActive()){try{if(t){var i=t.getInstance().getComponentData().technicalParameters||{};this._currentAppShortId=i["sap-fiori-id"]||n(t,"/sap.fiori/registrationIds")}else{this._currentAppShortId=undefined}}catch(e){this._currentAppShortId=undefined}}}};return n},true);
/*!
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils", [],function(){"use strict";const e={getAppLifeCycleService:function(){const n=e.getContainer();return n.getServiceAsync("AppLifeCycle").catch(function(e){const n="Error getting AppLifeCycle service from ushell container: "+e;throw new Error(n)})},getContainer:function(){const e=sap.ui.require("sap/ushell/Container");if(!e){throw new Error("Illegal state: shell container not available; this component must be executed in a unified shell runtime context.")}return e},getCurrentRunningApplication:function(){return e.getAppLifeCycleService().then(function(e){return e.getCurrentApplication()})}};return e});
/*!
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus", function(){"use strict";return{STATUS_STARTING:"starting",STATUS_STARTED:"started",STATUS_STOPPING:"stopping",STATUS_STOPPED:"stopped"}},true);
/*!
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions", ["sap/ui/Device","sap/ui/fl/initial/api/InitialFlexAPI","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(e,t,n){"use strict";var a={_getAppDescriptor:function(e){if(e&&e.getMetadata){var t=e.getMetadata();if(t&&t.getManifest){return t.getManifest()}}return{}},checkRestartRTA:function(e){var t=new URLSearchParams(window.location.search);var n=t.get("sap-ui-layer");e=n||e;return!!window.sessionStorage.getItem("sap.ui.rta.restart."+e)},checkRtaPrerequisites:async function(){const e=await Promise.all([this.checkUI5App(),t.isKeyUser(),this.checkDesktopDevice()]);return e.every(e=>e)},checkUI5App:function(){return n.getCurrentRunningApplication().then(function(e){if(e){var t=e.applicationType==="UI5";var n=e.componentInstance&&e.componentInstance.getManifestEntry&&e.componentInstance.getManifestEntry("sap.app").type==="application";return t&&n}return false})},checkDesktopDevice:function(){return e.system.desktop}};return a},true);
/*!
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer", ["sap/base/Log","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(e,n){"use strict";const t={createActionButton:async function(t,i,o){const s=n.getContainer();const c=await s.getServiceAsync("FrameBoundExtension");try{const e=await c.createUserAction({id:t.mConfig.id,text:t.mConfig.i18n.getText(t.mConfig.text),icon:t.mConfig.icon,press:i},{controlType:"sap.ushell.ui.launchpad.ActionItem"});if(o){e.showForAllApps()}else{e.hideForAllApps()}return e}catch(n){e.error(n,undefined,t.mConfig.sComponentName)}},exit:function(){}};return t},true);
/*!
 * Copyright (c) 2009-2025 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger", ["sap/ui/thirdparty/hasher","sap/ui/core/BusyIndicator","sap/ui/core/EventBus","sap/ui/core/Lib","sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(t,i,e,s,n,r){"use strict";var o=n.STATUS_STARTING;var a=n.STATUS_STARTED;var h=n.STATUS_STOPPING;var u=n.STATUS_STOPPED;var p=function(t){this.mConfig=t;this.sStatus=n.STATUS_STOPPED;this.oStartingPromise=null;this.oStoppingPromise=null;var i=r.getContainer();i.registerDirtyStateProvider(this._dirtyStateProvider.bind(this));this.oInitPromise=i.getServiceAsync("URLParsing").then(function(t){this.oURLParsingService=t}.bind(this)).catch(function(t){throw new Error("Error during retrieval of URLParsing ushell service: "+t)})};function l(){return new Promise(function(t,i){sap.ui.require(["sap/ui/rta/api/startAdaptation"],t,i)})}function c(){return r.getCurrentRunningApplication().then(function(t){return t.componentInstance})}function g(t,i){var e;if(t instanceof Error){e=i.getText("TECHNICAL_ERROR")}else if(typeof t==="string"){e=t}sap.ui.require(["sap/ui/rta/Utils","sap/m/MessageBox"],function(t,s){s.error(e,{title:i.getText("ERROR_TITLE"),onClose:null,styleClass:t.getRtaStyleClassName()})})}p.prototype.getInitPromise=function(){return this.oInitPromise};p.prototype._onRtaFailed=function(t){i.hide();this._oRTA=t.getSource();this.mConfig.onErrorHandler();g(t.getParameter("error"),this.mConfig.i18n)};p.prototype._startRta=function(){this.sStatus=o;e.getInstance().subscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);e.getInstance().subscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this);i.show(0);var n;return c().then(function(t){n=t;return s.load({name:"sap.ui.rta"})}).then(l.bind(this)).then(function(i){this.sOldHash=t.getHash();var e={rootControl:n,flexSettings:{layer:this.mConfig.layer,developerMode:this.mConfig.developerMode}};return i(e,this.mConfig.loadPlugins,this.mConfig.onStartHandler,this._onRtaFailed.bind(this),this.mConfig.onStopHandler)}.bind(this)).then(function(t){i.hide();this._oRTA=t;this.sStatus=a}.bind(this)).catch(function(t){i.hide();if(t.reason==="flexEnabled"){this.handleFlexDisabledOnStart()}this.sStatus=u}.bind(this))};p.prototype._stopRta=function(){this.sStatus=h;return this._oRTA.stop.apply(this._oRTA,arguments).then(function(){this.exitRta()}.bind(this))};p.prototype.triggerStartRta=function(){var t=this.sStatus;switch(t){case o:break;case a:this.oStartingPromise=Promise.resolve();break;case h:this.oStartingPromise=this.oStoppingPromise.then(function(){return this._startRta()}.bind(this));break;case u:this.oStartingPromise=this._startRta();break;default:}if(t!==o){this.oStartingPromise.then(function(){this.oStartingPromise=null}.bind(this))}return this.oStartingPromise};p.prototype.triggerStopRta=function(){var t=this.sStatus;switch(t){case o:this.oStoppingPromise=this.oStartingPromise.then(function(){return this._stopRta.apply(this,arguments)}.bind(this));break;case a:this.oStoppingPromise=this._stopRta.apply(this,arguments);break;case h:break;case u:this.oStoppingPromise=Promise.resolve();break;default:}if(t!==h){this.oStoppingPromise.then(function(){this.oStoppingPromise=null}.bind(this))}return this.oStoppingPromise};p.prototype.handleFlexDisabledOnStart=function(){sap.ui.require(["sap/ui/rta/util/showMessageBox","sap/m/MessageBox"],function(t,i){t(this.mConfig.i18n.getText("MSG_FLEX_DISABLED"),{icon:i.Icon.INFORMATION,title:this.mConfig.i18n.getText("HEADER_FLEX_DISABLED"),actions:[i.Action.OK],initialFocus:null,isCustomAction:false})}.bind(this))};p.prototype._dirtyStateProvider=function(){if(this._oRTA&&this.sStatus===a){var i=t.getHash();var e=this.oURLParsingService.parseShellHash(i);var s=this.oURLParsingService.parseShellHash(this.sOldHash);this.sOldHash=i;if(e.semanticObject===s.semanticObject&&e.action===s.action&&e.appSpecificRoute!==s.appSpecificRoute){return false}return this._oRTA.canSave()}return false};p.prototype.exitRta=function(){if(this._oRTA){this._oRTA.destroy();this.sStatus=u;this.oStartingPromise=null;this.oStoppingPromise=null;this._oRTA=null}e.getInstance().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);e.getInstance().unsubscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this)};p.prototype._onAppClosed=function(){this.triggerStopRta(true,true)};return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaAgent/Component", ["sap/base/Log","sap/ui/core/Component","sap/ui/core/EventBus","sap/ui/fl/initial/api/InitialFlexAPI","sap/ushell/api/RTA","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions","sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger"],function(t,e,i,n,s,r,o,a){"use strict";let u;function p(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",layer:"CUSTOMER",developerMode:false}}function l(t){return new Promise(function(e,i){u.postMessageToFlp("user.postapi.rtaPlugin","switchToolbarVisibility",{visible:t}).done(e).fail(i)})}function h(){return new Promise(function(t,e){u.postMessageToFlp("user.postapi.rtaPlugin","activatePlugin").done(t).fail(e)})}function c(){return o.checkUI5App().then(function(t){if(t){u.postMessageToFlp("user.postapi.rtaPlugin","showAdaptUI").fail(function(t){throw new Error(t)})}})}function d(){this.oTrigger.triggerStopRta(true,true)}return e.extend("sap.ushell.appRuntime.ui5.plugins.rtaAgent.Component",{metadata:{manifest:"json"},init:function(){this.mConfig=p();this._oPluginPromise=Promise.resolve();u=this.getComponentData().oPostMessageInterface;n.isKeyUser().then(function(t){if(t){return h()}return Promise.reject()}).then(function(){this.mConfig.i18n=this.getModel("i18n").getResourceBundle();this.mConfig.onStartHandler=this._onStartHandler.bind(this);this.mConfig.onErrorHandler=this._onErrorHandler.bind(this);this.mConfig.onStopHandler=this._onStopHandler.bind(this);this.oTrigger=new a(this.mConfig);return this.oTrigger.getInitPromise()}.bind(this)).then(function(){this._registerPostMessages();return this._restartRtaIfRequired()}.bind(this)).then(function(){return r.getAppLifeCycleService()}).then(function(t){t.attachAppLoaded(this._onAppLoaded,this)}.bind(this)).then(c).catch(function(e){if(e){t.error(e)}})},getPluginPromise:function(){return this._oPluginPromise},_registerPostMessages:function(){u.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{startUIAdaptation:{executeServiceCallFn:function(){i.getInstance().subscribe("sap.ushell","appClosed",d.bind(this));s.addTopHeaderPlaceHolder();this.oTrigger.triggerStartRta(this);return u.createPostMessageResult()}.bind(this)}},outCalls:{activatePlugin:{},showAdaptUI:{}}}})},_restartRtaIfRequired:function(){return o.checkUI5App().then(function(t){if(t){if(o.checkRestartRTA(this.mConfig.layer)){return l(false).then(function(){s.addTopHeaderPlaceHolder();return this.oTrigger.triggerStartRta(this)}.bind(this))}}return undefined}.bind(this))},_onAppLoaded:function(){o.checkUI5App().then(function(t){if(t){this._restartRtaIfRequired().then(function(){return c()})}}.bind(this))},_onStopHandler:function(){this._exitAdaptation()},_onStartHandler:function(){},_onErrorHandler:function(){this._exitAdaptation()},_exitAdaptation:function(){i.getInstance().unsubscribe("sap.ushell","appClosed",d.bind(this));l(true);this.oTrigger.exitRta();s.removeTopHeaderPlaceHolder()},exit:function(){i.getInstance().unsubscribe("sap.ushell","appClosed",d.bind(this));l(true);this._oPluginPromise=this._oPluginPromise.then(r.getAppLifeCycleService.bind(r)).then(function(t){t.detachAppLoaded(this._onAppLoaded,this)}.bind(this))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaShell/Component", ["sap/ui/core/Component","sap/ui/core/Element","sap/ui/thirdparty/jquery","sap/ushell/api/RTA","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer"],function(t,e,jQuery,i,n,s){"use strict";let o;function a(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaShell",layer:"CUSTOMER",id:"RTA_AppRuntime_Plugin_ActionButton",text:"RTA_BUTTON_TEXT",icon:"sap-icon://wrench",visible:false}}function u(t){i.setShellHeaderVisibility(t,false)}function l(){return new Promise(function(t,e){u(false);o.postMessageToApp("user.postapi.rtaPlugin","startUIAdaptation").done(t).fail(e)})}return t.extend("sap.ushell.appRuntime.ui5.plugins.rtaShell.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){this.mConfig=a();o=this.getComponentData().oPostMessageInterface;this._registerPostMessages()},_registerPostMessages:function(){o.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{activatePlugin:{executeServiceCallFn:function(){return o.createPostMessageResult(this._initPlugin())}.bind(this)},showAdaptUI:{executeServiceCallFn:async function(){await this._changeActionButtonVisibility(true);return o.createPostMessageResult()}.bind(this)},switchToolbarVisibility:{executeServiceCallFn:function(t){const e=t.oMessageData.body.visible;u(e);return o.createPostMessageResult()}}},outCalls:{startUIAdaptation:{}}}})},_initPlugin:function(){if(this.bIsInitialized){return(new jQuery.Deferred).resolve()}this.bIsInitialized=true;this.mConfig.i18n=this.getModel("i18n").getResourceBundle();return new jQuery.Deferred(function(t){s.createActionButton(this,l.bind(undefined),this.mConfig.visible).then(function(t){this.oActionButton=t;return n.getAppLifeCycleService()}.bind(this)).then(function(t){t.attachAppLoaded(this._onAppLoaded,this)}.bind(this)).catch(function(t){this.bIsInitialized=false;return Promise.reject(t)}.bind(this)).then(t.resolve,t.reject)}.bind(this)).promise()},_changeActionButtonVisibility:async function(t){if(!this.oActionButton){return}const e=await n.getAppLifeCycleService();if(t&&e.getCurrentApplication().applicationType==="URL"){this.oActionButton.showForAllApps()}else{this.oActionButton.hideForAllApps()}},_onAppLoaded:function(){this._changeActionButtonVisibility(false)},exit:function(){u(false);n.getAppLifeCycleService().then(function(t){t.detachAppLoaded(this._onAppLoaded,this)}.bind(this))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/scriptAgent/Component", ["sap/ui/core/Component","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,jQuery,s){"use strict";return e.extend("sap.ushell.appRuntime.ui5.plugins.scriptAgent.Component",{metadata:{version:"1.0.0",dependencies:{libs:["sap.m"],components:[]}},init:function(){var e=this.getComponentData(),a=(new t).search(true),n;if(!e.hasOwnProperty("config")){return}if(e.config.hasOwnProperty("scube")){if(a.hasOwnProperty("sap-wa-debug")&&a["sap-wa-debug"]==="dev"){n="https://education3.hana.ondemand.com/education3/web_assistant/framework/FioriAgent.js"}else if(a.hasOwnProperty("sap-wa-debug")&&a["sap-wa-debug"]==="prev"){n="https://webassistant-outlook.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}else{n="https://webassistant.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}}else{n=e.config.url}try{jQuery.getScript(n)}catch(e){s.error(e)}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent", ["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){"use strict";var t=function(){this.init=function(){document.addEventListener("keydown",function(t){var y=false,i;if(t.altKey&&!t.ctrlKey&&!t.shiftKey){if(t.keyCode===65||t.keyCode===70||t.keyCode===72||t.keyCode===77||t.keyCode===78||t.keyCode===83){y=true}}else if(t.ctrlKey&&!t.altKey&&!t.shiftKey){if(t.keyCode===188||t.keyCode===112||t.keyCode===83){y=true}}else if(t.ctrlKey&&t.shiftKey&&!t.altKey){if(t.keyCode===70){y=true}}if(y){i={altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,keyCode:t.keyCode,key:t.key};if(t.keyCode===188){i.key=","}e.postMessageToFLP("sap.ushell.services.ShellUIService.processHotKey",i)}}.bind(this),true)}};return new t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer", ["sap/base/util/uid","sap/base/util/ObjectPath","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions"],function(e,t,s,r,jQuery,i){"use strict";var n=[];function o(){var i=this;t.set("sap.ushell.renderers.fiori2.Renderer",i);["init","createContent","createExtendedShellState","applyExtendedShellState","showLeftPaneContent","showHeaderItem","showRightFloatingContainerItem","showRightFloatingContainer","showToolAreaItem","showFloatingActionButton","showHeaderEndItem","setHeaderVisibility","showSubHeader","showSignOutItem","showSettingsItem","setFooter","setShellFooter","setFooterControl","hideHeaderItem","removeToolAreaItem","removeRightFloatingContainerItem","hideLeftPaneContent","hideFloatingActionButton","hideSubHeader","removeFooter","getCurrentViewportState","addShellSubHeader","addSubHeader","addUserAction","addActionButton","addFloatingButton","addFloatingActionButton","addSidePaneContent","addLeftPaneContent","addHeaderItem","addRightFloatingContainerItem","addToolAreaItem","getModelConfiguration","addUserPreferencesEntry","addUserPreferencesGroupedEntry","setHeaderTitle","setLeftPaneVisibility","showToolArea","setHeaderHiding","setFloatingContainerContent","setFloatingContainerVisibility","getFloatingContainerVisiblity","getRightFloatingContainerVisibility","setFloatingContainerDragSelector","createTriggers","convertButtonsToActions","createItem","addEntryInShellStates","removeCustomItems","addCustomItems","addRightViewPort","addLeftViewPort","getShellController","getViewPortContainerCurrentState","ViewPortContainerNavTo","switchViewPortStateByControl","setUserActionsMenuSelected","getUserActionsMenuSelected","setNotificationsSelected","getNotificationsSelected","addShellDanglingControl","getShellConfig","reorderUserPrefEntries","logRecentActivity","setCurrentCoreView","getCurrentCoreView"].forEach(function(e){i[e]=function(){r.error("'Renderer' api '"+e+"' is not supported when UI5 application is running inside an iframe (sap.ushell.appRuntime.ui5.renderers.fiori2.Renderer)")}});this.LaunchpadState={App:"app",Home:"home"};this._addButtonHandler=function(e,t){n[e]=t};this.handleHeaderButtonClick=function(e){if(n[e]!==undefined){n[e]()}};this.addHeaderItem=function(e,t,s,r,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];s=arguments[1];r=arguments[2];i=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderItem",t,s,r,i)};this.addHeaderEndItem=function(e,t,s,r,i){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];s=arguments[1];r=arguments[2];i=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderEndItem",t,s,r,i)};this.showHeaderItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.showHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.showHeaderEndItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.showHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.hideHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderEndItem=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.hideHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this._addHeaderItem=function(t,r,i){if(!r.id){r.id=e()}if(r.click!==undefined){this._addButtonHandler(r.id,r.click)}else if(r.press!==undefined){this._addButtonHandler(r.id,r.press)}return s.postMessageToFLP(t,{sId:r.id,sTooltip:r.tooltip,sIcon:r.icon,iFloatingNumber:r.floatingNumber,bVisible:i,bCurrentState:true})};this.setHeaderTitle=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.setHeaderTitle",{sTitle:e})};this.setHeaderVisibility=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.setHeaderVisibility",{bVisible:e,bCurrentState:t,aStates:r})};this.createShellHeadItem=function(t){if(!t.id){t.id=e()}if(t.press!==undefined){this._addButtonHandler(t.id,t.press);delete t.press}return s.postMessageToFLP("sap.ushell.services.Renderer.createShellHeadItem",{params:t})};this.showActionButton=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.showActionButton",{aIds:e,bCurrentState:t,aStates:r})};this.hideActionButton=function(e,t,r){s.postMessageToFLP("sap.ushell.services.Renderer.hideActionButton",{aIds:e,bCurrentState:t,aStates:r})};this.addUserAction=function(t){if(!t.oControlProperties.id){t.oControlProperties.id=e()}if(t.oControlProperties.press!==undefined){this._addButtonHandler(t.oControlProperties.id,t.oControlProperties.press);delete t.oControlProperties.press}return s.postMessageToFLP("sap.ushell.services.Renderer.addUserAction",{oParameters:t})};this.addTopHeaderPlaceHolder=function(){if(jQuery("#rmheader").length===0){jQuery("body").prepend("<div id='rmheader' class='sapUshellHeaderPlaceHolder'></div>");jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","calc(100% - 2.75rem)")}};this.removeTopHeaderPlaceHolder=function(){jQuery("#rmheader").remove();jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","100%")};this.updateHeaderItem=function(e,t){s.postMessageToFLP("sap.ushell.services.Renderer.updateHeaderItem",{sId:e,oControlProperties:t})};this.destroyButton=function(e){s.postMessageToFLP("sap.ushell.services.Renderer.destroyButton",{aIds:e})}}var a=new o;i.setRenderer(a);return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions", ["sap/base/util/uid","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext"],function(t,e,n){"use strict";var i={};function o(t,e,n){}function s(t,e,n){}function r(t,e,n){}function u(t,e,n){}function a(n,o,s){var r=Array.isArray(n)?n:[n],u=[o],a=[];if(s!==undefined){u.push(s)}r.forEach(function(e){var n=t()+"-apprt";e.idAppRuntime=n;i._addButtonHandler(n,function(){e.firePress()});a.push({id:n,text:e.getText(),icon:e.getIcon(),tooltip:e.getTooltip(),aStates:u})});return e.postMessageToFLP("sap.ushell.services.Renderer.addOptionsActionSheetButton",a)}function d(t,n,i){var o=Array.isArray(t)?t:[t],s=[n],r=[];if(i!==undefined){s.push(i)}o.forEach(function(t){r.push({id:t.idAppRuntime,aStates:s})});return e.postMessageToFLP("sap.ushell.services.Renderer.removeOptionsActionSheetButton",r)}function c(t,e,n){}function f(t,e){}function h(t,e,n){}function p(t,e,n){}function m(t,e,n){}function l(t,e,n){}function v(){if(n.getIsScube()){return{enablePersonalization:true}}return{}}function A(t,e,n,i){}function H(t,e){}function g(t){}function S(t){}function P(t){}function R(t,e){}function b(t){}function y(t){}function I(){}function B(t){i=t}function E(){this.addHeaderItem=r;this.setHeaderItemVisibility=A;this.addSubHeader=o;this.removeSubHeader=s;this.addHeaderEndItem=m;this.removeHeaderItem=u;this.removeHeaderEndItem=l;this.addEndUserFeedbackCustomUI=H;this.addOptionsActionSheetButton=a;this.removeOptionsActionSheetButton=d;this.setFooter=y;this.removeFooter=I;this.addUserPreferencesEntry=g;this.addUserPreferencesGroupedEntry=S;this.setHeaderTitle=P;this.setHeaderHiding=b;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=h;this.removeFloatingActionButton=p;this.setLeftPaneContent=c;this.removeLeftPaneContent=f;this.setLeftPaneVisibility=R;this.getConfiguration=v;this.setRenderer=B}return new E});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppConfiguration", ["sap/base/util/ObjectPath","sap/m/library","sap/ui/core/IconPool","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/EventHub","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions","sap/ushell/resources","sap/ushell/services/AppConfiguration"],function(t,e,i,s,n,o,a,p){"use strict";var l=e.ButtonType;function u(){var e=[];var u=false;t.set("sap.ushell.services.AppConfiguration",this);p.constructor.call(this);n.on("appWidthChange").do(function(t){var e=document.body;e.classList.toggle("sapUiSizeCompact",t);e.classList.toggle("sapUShellApplicationContainerLimitedWidth",!t);e.classList.toggle("sapUShellApplicationContainer",!t)});n.on("setApplicationFullWidth").do(function(t){document.body.classList.toggle("sapUShellApplicationContainerLimitedWidth",!t.bValue);document.body.classList.toggle("sapUShellApplicationContainer",!t.bValue)});this.setApplicationFullWidth=function(t){if(u===true||u==="true"){n.emit("appWidthChange",t)}else{s.postMessageToFLP("sap.ushell.services.AppConfiguration.setApplicationFullWidth",{bValue:t})}};this.setFullWidthFromManifest=function(t){u=t};this.addApplicationSettingsButtons=function(t){for(var s=0;s<t.length;s++){var n=t[s];n.setIcon(n.getIcon()||i.getIconURI("customize"));if(a.i18n.getText("userSettings")===n.getProperty("text")){n.setProperty("text",a.i18n.getText("userAppSettings"))}n.setType(l.Unstyled)}o.removeOptionsActionSheetButton(e,"app").then(function(){e=t;o.addOptionsActionSheetButton(e,"app")})}}return new u},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppLifeCycle", ["sap/base/Log","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/AppLifeCycle"],function(e,p,r){"use strict";function s(s,t,a){r.call(this,s,t,a);this.reloadCurrentApp=async function(){try{await p.postMessageToFLP("sap.ushell.services.AppLifeCycle.reloadCurrentApp",{})}catch(p){e.error("reloadCurrentApp failed: ",p)}}}s.prototype=r.prototype;s.hasNoAdapter=r.hasNoAdapter;return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent", ["sap/base/Log","sap/base/util/extend","sap/base/util/UriParameters","sap/base/assert","sap/ui/core/EventBus","sap/ui/thirdparty/URI","sap/ui/Device","sap/ui/core/BusyIndicator","sap/ushell/EventHub","sap/ui/thirdparty/hasher","sap/ushell/utils/UrlParsing","sap/ushell/resources","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/performance/FesrEnhancer"],function(e,t,n,s,r,a,i,p,o,u,l,c,f,d,h,g,m){"use strict";function A(){var A=this,v,y,I=true,C={},b,S={},P={},R={},w={},F,L,N,H;this.init=function(e,t,n,s,r,a){this.resetCurrentApp();v=e;b=t;L=n;if(s!==undefined){I=s}this.addAppInfoToCache(r,a);h.registerCommHandlers({"sap.ushell.services.appLifeCycle":{oServiceCalls:{create:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);return A.create(t)}},destroy:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);return A.destroy(t)}},store:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);return A.store(t)}},restore:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);return A.restore(t)}}}}});o.on("disableKeepAliveRestoreRouterRetrigger").do(function(e){if(e.componentId&&P[e.componentId]){P[e.componentId]=e.disable}});this._sendAppRuntimeSetup();if(!c.browserI18n){c.browserI18n=c.getTranslationModel(window.navigator.language).getResourceBundle()}H=c.browserI18n.getText("dataLossExternalMessage");window.onbeforeunload=function(){if(f.getDirtyFlag()){return H}return undefined}};this._sendAppRuntimeSetup=()=>{const e={isStateful:true,isKeepAlive:true,isIframeValid:true,session:{bLogoutSupport:true}};const t={session:{bLogoutSupport:true}};g.postMessageToFLP("sap.ushell.services.appLifeCycle.setup",window["sap-ushell-config"]?.ui5appruntime?.config?.stateful===false?t:e)};this.create=function(e){return new Promise(function(t,o){var c,f,h,g,v="";m.startInteraction();c=e.body.sUrl;if(d.getIsScube()){h=n.fromURL(c).get("sap-remote-intent");s(typeof h==="string","AppLifeCycleAgent::create - sAppIntent must be string");if(e.body.sHash.indexOf("Shell-startIntent")===0){g=l.parseShellHash(e.body.sHash);v=g.params["sap-shell-so"]+"-"+g.params["sap-shell-action"]}}else{f=n.fromURL(c).get("sap-ui-app-id");s(typeof f==="string","AppLifeCycleAgent::create - sAppId must be string")}u.disableCFLPUpdate=true;u.replaceHash("");u.replaceHash(e.body.sHash);u.disableCFLPUpdate=false;if(i.browser.chrome){p.show(0)}if(N){N._resetBackNavigationCallback()}r.getInstance().publish("launchpad","appOpening",{});A.getAppInfo(f,c,h).then(function(e){const n=e.oResolvedHashFragment?.ui5ComponentName||e.oResolvedHashFragment?.name;const s=Object.keys(S).find(e=>{if(d.getIsScube()&&v.length>0){return S[e].sAppIntent===v&&S[e].ui5ComponentName===n}return S[e].ui5ComponentName&&S[e].ui5ComponentName===n});if(s){A.destroy({body:{sCacheId:s}},true)}A.expandSapIntentParams(new a(c).query(true)).then(function(n){b(f,n,e.oResolvedHashFragment,h,e.oParsedHash).then(function(e){L(e);r.getInstance().publish("sap.ushell","appOpened",{});t({deletedKeepAliveId:s})})})})})};this.destroy=function(t,n){function s(t){var n=t.sId||"<unknown>";try{t.destroy()}catch(t){e.error("exception when trying to close sapui5 application with id '"+n+"' when running inside the appruntime iframe '"+document.URL+"'. This error must be fixed in order for the iframe to operate properly.\n",t.stack,"sap.ushell.appRuntime.ui5.services.AppLifeCycleAgent::destroy")}}var a=t.body.sCacheId;if(F.oApp===undefined&&a===undefined){g.postMessageToFLP("sap.ushell.appRuntime.isInvalidIframe",{bValue:true});return Promise.resolve()}if(a&&S[a]){if(S[a].oApp===F.oApp){this.resetCurrentApp()}delete P[S[a].oApp.sId];s(S[a].oApp);delete S[a]}else if(F.oApp){delete P[F.oApp.sId];s(F.oApp);this.resetCurrentApp()}f.cleanDirtyStateProviderArray();if(N){N._resetBackNavigationCallback()}m.setAppShortId();r.getInstance().publish("sap.ushell","appClosed",{});return Promise.resolve()};this.store=function(e){var t=e.body.sCacheId,n=this.cloneCurrentAppEntry(F),s;if(F.oApp===undefined){g.postMessageToFLP("sap.ushell.appRuntime.isInvalidIframe",{bValue:true});return Promise.resolve()}S[t]=n;if(N){w[t]=N._getBackNavigationCallback()}s=n.oApp.getComponentInstance();n.oApp.setVisible(false);R[t]=f.getAsyncDirtyStateProviders();f.cleanDirtyStateProviderArray();if(s){if(s.isKeepAliveSupported&&s.isKeepAliveSupported()===true){s.deactivate()}else{if(s.suspend){s.suspend()}if(s.getRouter&&s.getRouter()){s.getRouter().stop()}}}r.getInstance().publish("sap.ushell","appClosed",{});return Promise.resolve()};this.restore=function(e){var t=e.body.sCacheId,n=S[t],s=n.oApp.getComponentInstance(),a=P[n.oApp.sId];u.disableCFLPUpdate=true;u.replaceHash("");u.replaceHash(e.body.sHash);u.disableCFLPUpdate=false;r.getInstance().publish("launchpad","appOpening",{});n.oApp.setVisible(true);if(R[t]){f.setAsyncDirtyStateProviders(R[t])}if(N){N.setBackNavigation(w[t])}if(s){if(s.isKeepAliveSupported&&s.isKeepAliveSupported()===true){s.activate()}else{if(s.restore){s.restore()}if(s.getRouter&&s.getRouter()&&s.getRouter().initialize){if(a===false){s.getRouter().initialize()}else{s.getRouter().initialize(true)}}}F=this.cloneCurrentAppEntry(n)}r.getInstance().publish("sap.ushell","appOpened",{});setTimeout(function(){g.postMessageToFLP("sap.ushell.services.AppLifeCycle.setNewAppInfo",{info:n.oAppAttributes})},500);return Promise.resolve()};this.expandSapIntentParams=function(e){return new Promise(function(n,s){if(e.hasOwnProperty("sap-intent-param")){var r=e["sap-intent-param"];g.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:r}).then(function(s){delete e["sap-intent-param"];var r=t({},e,new a("?"+s).query(true),true);n(r)},function(t){n(e)})}else{n(e)}})};this.addAppParamsToIntent=function(e,t){return A.expandSapIntentParams(new a(e).query(true)).then(function(e){return A.getApplicationParameters(e)})};this.getApplicationParameters=function(e){return new Promise(function(t){var n,s,r;function i(e,t){var n="";if(e&&e.length>0){n=(e.startsWith("?")?"":"?")+e}if(t&&t.length>0){n+=(n.length>0?"&":"?")+t}return n}if(e.hasOwnProperty("sap-startup-params")){n=new a("?"+e["sap-startup-params"]).query(true);if(n.hasOwnProperty("sap-intent-param")){s=n["sap-intent-param"];delete n["sap-intent-param"]}r=new a("?").query(n).toString();if(s){g.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:s}).then(function(e){t(i(r,e))},function(e){t(i(r))})}else{t(i(r))}}else{t("")}})};this.getAppInfo=function(e,t,n){return new Promise(function(s){if(n){A.addAppParamsToIntent(t,n).then(function(e){if(e.length>0){e=new a(e).removeSearch("sap-remote-system").removeSearch("sap-ushell-defaultedParameterNames").toString()}f.getServiceAsync("NavTargetResolutionInternal").then(function(t){t.resolveHashFragmentLocal("#"+n+e).done(function(t){var r=l.parseShellHash("#"+n+e);s({oResolvedHashFragment:t,oParsedHash:r})}).fail(function(e){})})})}else{var r=function(){y.getAppInfo(e,t).then(function(t){A.addAppInfoToCache(e,t);s({oResolvedHashFragment:t})})};if(I===true&&C[e]){s({oResolvedHashFragment:JSON.parse(JSON.stringify(C[e]))})}else if(y){r()}else{sap.ui.require([v.replace(/\./g,"/")],function(e){y=e;r()})}}})};this.addAppInfoToCache=function(e,t){if(e&&t&&I===true&&C[e]===undefined){C[e]=JSON.parse(JSON.stringify(t))}};this.setCurrentApp=function(e,t,n){this.resetCurrentApp();F.oApp=e;F.sAppIntent=t;F.ui5ComponentName=n;if(F.oApp){P[F.oApp.sId]=true}};this.setCurrentAppAttributes=function(e){F.oAppAttributes=e};this.resetCurrentApp=function(){F={oApp:undefined,sAppIntent:undefined,ui5ComponentName:undefined,oAppAttributes:{}}};this.cloneCurrentAppEntry=function(e){return{oApp:e.oApp,sAppIntent:e.sAppIntent,ui5ComponentName:e.ui5ComponentName,oAppAttributes:e.oAppAttributes}};this.setShellUIService=function(e){N=e};this.checkDataLossAndContinue=function(){if(f.getDirtyFlag()){if(window.confirm(H)){f.setDirtyFlag(false);return true}return false}return true}}return new A},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppState", ["sap/ushell/services/AppState","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/appstate/AppState","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/AppRuntimeContext"],function(e,t,s,jQuery,a){"use strict";function p(p,n,i,r){e.call(this,p,n,i,r);this.createEmptyAppStateOrig=this.createEmptyAppState;this.createEmptyAppState=function(e,t,s,p){if(a.getIsScube()){t=false}var n=this.createEmptyAppStateOrig(e,t,s,p);if(typeof t==="boolean"&&n._bTransient!==t){n._bTransient=t;n._sKey=this._getGeneratedKey(t)}return n};this.getAppState=function(e){let a=this;const p=new jQuery.Deferred;t.postMessageToFLP("sap.ushell.services.AppState.getAppState",{sKey:e}).then(function(e){const t=new s(a,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient,e._iPersistencyMethod,e._oPersistencySettings);p.resolve(t)});return p.promise()};this._saveAppState=function(e,s,a,p,n,i,r){return t.sendMessageToOuterShell("sap.ushell.services.AppState._saveAppState",{sKey:e,sData:s,sAppName:a,sComponent:p,bTransient:n,iPersistencyMethod:i,oPersistencySettings:r})};this._loadAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState._loadAppState",{sKey:e})};e.prototype.deleteAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.deleteAppState",{sKey:e})};this.getAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:e})};this.createNewInAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.createNewInAppState",{sData:e})};this.updateInAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.updateInAppState",{sData:e})};this.getInAppStateData=function(){return t.sendMessageToOuterShell("sap.ushell.services.AppState.getInAppStateData")};this.makeStatePersistent=function(e,s,a){return t.sendMessageToOuterShell("sap.ushell.services.AppState.makeStatePersistent",{sKey:e,iPersistencyMethod:s,oPersistencySettings:a})}}p.prototype=e.prototype;p.hasNoAdapter=e.hasNoAdapter;p.WindowAdapter=e.WindowAdapter;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Bookmark", ["sap/ushell/services/Bookmark","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext"],function(e,o,s){"use strict";function t(t,r,a){e.call(this,t,r,a);this.addBookmark=function(e,t){var r=new jQuery.Deferred;var a=function(){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmarkUI5",{oParameters:e,vContainer:t})};if(e.url.startsWith("#")){s.checkIntentsConversionForScube([{intent:e.url}]).then(function(o){e.url=o[0].intent;a().then(r.resolve,r.reject)})}else{a().then(r.resolve,r.reject)}return r.promise()};this.getShellGroupIDs=function(){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.getShellGroupIDs")};this.addBookmarkByGroupId=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmark",{oParameters:e,groupId:s})};this.addCatalogTileToGroup=function(e,s,t){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCatalogTileToGroup",{sCatalogTileId:e,sGroupId:s,oCatalogData:t})};this.countBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.countBookmarks",{sUrl:e})};this.deleteBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteBookmarks",{sUrl:e})};this.updateBookmarks=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateBookmarks",{sUrl:e,oParameters:s})};this.getContentNodes=function(){return o.postMessageToFLP("sap.ushell.services.Bookmark.getContentNodes")};this.addCustomBookmark=function(e,s,t){return o.postMessageToFLP("sap.ushell.services.Bookmark.addCustomBookmark",{sVizType:e,oConfig:s,vContentNodes:t})};this.countCustomBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.Bookmark.countCustomBookmarks",{oIdentifier:e})};this.updateCustomBookmarks=function(e,s){return o.postMessageToFLP("sap.ushell.services.Bookmark.updateCustomBookmarks",{oIdentifier:e,oConfig:s})};this.deleteCustomBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.Bookmark.deleteCustomBookmarks",{oIdentifier:e})};this.addBookmarkToPage=function(e,s){return o.postMessageToFLP("sap.ushell.services.Bookmark.addBookmarkToPage",{oParameters:e,sPageId:s})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/BookmarkV2", ["sap/ushell/services/BookmarkV2","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext"],function(e,o,s){"use strict";function t(t,r,a){e.call(this,t,r,a);this.addBookmark=function(e,t){var r=function(){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmarkUI5",{oParameters:e,vContainer:t})};return new Promise((o,t)=>{if(e.url.startsWith("#")){s.checkIntentsConversionForScube([{intent:e.url}]).then(function(s){e.url=s[0].intent;r().then(o).catch(t)}).catch(t)}else{r().then(o).catch(t)}})};this.getShellGroupIDs=function(){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.getShellGroupIDs")};this.addBookmarkByGroupId=function(e,s){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmark",{oParameters:e,groupId:s})};this.countBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.countBookmarks",{sUrl:e})};this.deleteBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.deleteBookmarks",{sUrl:e})};this.updateBookmarks=function(e,s){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.updateBookmarks",{sUrl:e,oParameters:s})};this.getContentNodes=function(){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.getContentNodes")};this.addCustomBookmark=function(e,s,t){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.addCustomBookmark",{sVizType:e,oConfig:s,vContentNodes:t})};this.countCustomBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.countCustomBookmarks",{oIdentifier:e})};this.updateCustomBookmarks=function(e,s){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.updateCustomBookmarks",{oIdentifier:e,oConfig:s})};this.deleteCustomBookmarks=function(e){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.deleteCustomBookmarks",{oIdentifier:e})};this.addBookmarkToPage=function(e,s){return o.postMessageToFLP("sap.ushell.services.BookmarkV2.addBookmarkToPage",{oParameters:e,sPageId:s})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CommonDataModel", ["sap/ushell/services/CommonDataModel","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(t,a,o,p){e.call(this,t,a,o,p);this.getAllPages=function(){return s.postMessageToFLP("sap.ushell.services.CommonDataModel.getAllPages")}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Container", ["sap/ushell/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/assert"],function(n,t,e){"use strict";var r,i,u,o=false,a=[],s=[],c=[],f=false;n.inAppRuntime=function(){return true};n.runningInIframe=this.inAppRuntime;n.getFLPUrl=function(n){return t.sendMessageToOuterShell("sap.ushell.services.Container.getFLPUrl",{bIncludeHash:n})};n.getFLPUrlAsync=function(n){return this.getFLPUrl(n)};n.getRenderer=function(){return u};n.getRendererInternal=function(){return u};n.logout=function(){return r.logout()};n.getFLPPlatform=function(){return t.sendMessageToOuterShell("sap.ushell.services.Container.getFLPPlatform")};n.extendSession=function(){i?.userActivityHandler()};n.setDirtyFlag=function(n){o=n};n.getDirtyFlag=function(){return o||this.handleDirtyStateProvider()};n.registerDirtyStateProvider=function(n){if(typeof n!=="function"){throw new Error("fnDirty must be a function")}a.push(n)};n.handleDirtyStateProvider=function(n){var t=false;if(a.length>0){const r=n||this._oShellNavigationInternal.getNavigationContext();for(var e=0;e<a.length&&t===false;e++){t=t||(a[e](r)||false)}}return t};n.deregisterDirtyStateProvider=function(n){if(typeof n!=="function"){throw new Error("fnDirty must be a function")}var t=-1;for(var e=a.length-1;e>=0;e--){if(a[e]===n){t=e;break}}if(t>=0){a.splice(t,1)}};n.cleanDirtyStateProviderArray=function(){a=[];o=false};this.setAsyncDirtyStateProvider=function(){};n.getAsyncDirtyStateProviders=function(){return a};n.setAsyncDirtyStateProviders=function(n){a=n};function l(n,t){var e=false;for(var r=0;r<n.length;r++){if(n[r]===t){e=true;break}}if(!e){n.push(t)}}n.attachLogoutEvent=function(n,r){e(typeof n==="function","Container.attachLogoutEvent: fnFunction must be a function");if(r===true){l(s,n)}else{l(c,n)}if(!f){f=true;t.postMessageToFLP("sap.ushell.services.Container.attachLogoutEvent",{})}};n._getAsyncFunctionsArray=function(){return s};n._getSyncFunctionsArray=function(){return s};n.executeAsyncAndSyncLogoutFunctions=function(){return new Promise(function(n,t){var e=[];if(c.length>0){for(var r=0;r<c.length;r++){c[r]()}}if(s.length>0){for(var i=0;i<s.length;i++){e.push(s[i]())}}Promise.all(e).then(n)})};function g(n,t){for(var e=0;e<n.length;e++){if(n[e]===t){n.splice(e,1);break}}}n.detachLogoutEvent=function(n){g(c,n);g(s,n)};n._getAsyncFunctionsArray=function(){return s};n._getSyncFunctionsArray=function(){return c};n._clearAsyncFunctionsArray=function(){s=[]};n._clearSyncFunctionsArray=function(){c=[]};const h=n.init.bind(n);n.init=function(t,e){return new Promise(function(o){sap.ui.require(["sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy"],function(a,s){i=a;u=s;h(t,e).then(()=>{r=n._getAdapter();return n.getServiceAsync("ShellNavigationInternal")}).then(function(t){n._oShellNavigationInternal=t;o()})})})};return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CrossApplicationNavigation", ["sap/ushell/services/CrossApplicationNavigation","sap/ushell/services/appstate/AppState","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing"],function(e,s,jQuery,t,i,n,a,r,o){"use strict";function p(p,l,c){e.call(this,p,l,c);this.backToPreviousApp=function(){if(a.checkDataLossAndContinue()){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.backToPreviousApp")}};this.expandCompactHashLocal=this.expandCompactHash;this.expandCompactHash=function(e){if(a.getIsScube()){return this.expandCompactHashLocal(e)}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.expandCompactHash",{sHashFragment:e})};this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){if(a.getIsScube()){return this.getDistinctSemanticObjectsLocal()}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects")};this.getLinksLocal=this.getDistinctSemanticObjects;this.getLinks=function(e){var s=new jQuery.Deferred;function t(e){if(Array.isArray(e)){e.forEach(function(e){if(e[0]){delete e[0].ui5Component}})}else{delete e.ui5Component}}if(a.getIsScube()){this.getLinksLocal(e).then(function(i){t(e);n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getLinks",e).then(function(e){if(i.length===0){s.resolve(e)}else{e=e.concat(i);s.resolve(e)}})})}else{t(e);n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getLinks",e).then(s.resolve,s.reject)}return s.promise()};this.getPrimaryIntent=function(e,s){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent",{sSemanticObject:e,mParameters:s})};this.getSemanticObjectLinks=function(e,s,t,i,a,r){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{sSemanticObject:e,mParameters:s,bIgnoreFormFactor:t,sAppStateKey:a,bCompactIntents:r})};this.historyBack=function(e){if(a.checkDataLossAndContinue()){n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.historyBack",{iSteps:e})}};this.isIntentSupported=function(e,s){if(a.getIsScube()){var t=new jQuery.Deferred;i.getServiceAsync("NavTargetResolutionInternal").then(function(i){i.isIntentSupported(e,s).done(t.resolve,t.reject)});return t.promise()}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{aIntents:e})};this.isNavigationSupported=function(e,s,t){var o=function(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{aIntents:e})};if(t===true){return o(e)}if(a.getIsScube()){var p=new jQuery.Deferred,l;l=e.map(function(e){if(typeof e==="object"){var s=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){s=r(e);delete s.params["sap-app-origin"]}return s}return e});i.getServiceAsync("NavTargetResolutionInternal").then(function(e){e.isNavigationSupported(l,s).done(p.resolve,p.reject)});return p.promise()}return o(e)};this.toExternal=function(e,s){if(a.getIsScube()){if(e.target&&e.target.shellHash){var t=o.parseShellHash(e.target.shellHash);if(t.params){delete t.params["sap-app-origin"];e.target.shellHash=o.constructShellHash(t)}}else if(e.params){delete e.params["sap-app-origin"]}i.getServiceAsync("ShellNavigationInternal").then(function(t){t.toExternal(e,s)})}else if(a.checkDataLossAndContinue()){n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}return(new jQuery.Deferred).resolve().promise()};this.getAppState=function(e,t){var a=new jQuery.Deferred;n.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.getAppState",{sAppStateKey:t}).then(function(e){i.getServiceAsync("AppState").then(function(t){var i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);a.resolve(i)})});return a.promise()};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(a.getIsScube()){return this.resolveIntentLocal(e)}return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.resolveIntent",{sHashFragment:e})};this.hrefForExternalAsync=function(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForExternal",{oArgs:e})};this.hrefForAppSpecificHashAsync=function(e){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash",{sAppHash:e})};this.isInitialNavigation=function(){t.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");return false};this.isInitialNavigationAsync=function(){return n.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isInitialNavigation",{})}}p.prototype=e.prototype;p.hasNoAdapter=e.hasNoAdapter;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Extension", ["sap/base/util/isPlainObject","sap/ushell/appRuntime/ui5/services/Extension/Item","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppCommunicationMgr"],function(e,t,s,o){"use strict";function n(){this._oItemMap={};o.registerCommHandlers({"sap.ushell.services.Extension":{oServiceCalls:{handleControlEvent:{executeServiceCallFn:async e=>{const{itemId:t,eventName:s,eventParameters:o}=e.oMessageData.body;await this._handleControlEvent(t,s,o)}}}}})}n.prototype._extractControlProperties=function(t){const s={primitive:{},complex:{},events:{}};Object.keys(t).forEach(o=>{const n=t[o];if(typeof n==="function"){s.events[o]=n}else if(typeof n==="object"){if(e(n)){s.primitive[o]=n}else{s.complex[o]=n}}else{s.primitive[o]=n}});return s};n.prototype.createHeaderItem=async function(e,o={}){const n=this._extractControlProperties(e);if(Object.keys(n.complex).length>0){throw new Error("Complex properties (aggregations, controls, non plain objects) are not allowed for header items!")}const{itemId:r}=await s.postMessageToFLP("sap.ushell.services.Extension.createHeaderItem",{controlProperties:n.primitive,events:Object.keys(n.events),parameters:o});const i=new t(r,n.events);this._oItemMap[r]=i;return i};n.prototype.createUserAction=async function(e,o={}){const n=this._extractControlProperties(e);if(Object.keys(n.complex).length>0){throw new Error("Complex properties (aggregations, controls, non plain objects) are not allowed for user actions!")}const{itemId:r}=await s.postMessageToFLP("sap.ushell.services.Extension.createUserAction",{controlProperties:n.primitive,events:Object.keys(n.events),parameters:o});const i=new t(r,n.events);this._oItemMap[r]=i;return i};n.prototype._handleControlEvent=function(e,t){const s=this._oItemMap[e];if(s){s.handleEvent(t)}};n.prototype.setSecondTitle=function(e){return s.postMessageToFLP("sap.ushell.services.Extension.setSecondTitle",{title:e})};n.hasNoAdapter=true;return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Extension/Item", ["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){"use strict";class s{#e=null;#s=null;constructor(e,s){this.#e=e;this.#s=s}async destroy(){e.postMessageToFLP("sap.ushell.services.Extension.Item.destroy",{itemId:this.#e})}showForCurrentApp(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showForCurrentApp",{itemId:this.#e});return this}hideForCurrentApp(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideForCurrentApp",{itemId:this.#e});return this}showForAllApps(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showForAllApps",{itemId:this.#e});return this}hideForAllApps(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideForAllApps",{itemId:this.#e});return this}showOnHome(){e.postMessageToFLP("sap.ushell.services.Extension.Item.showOnHome",{itemId:this.#e});return this}hideOnHome(){e.postMessageToFLP("sap.ushell.services.Extension.Item.hideOnHome",{itemId:this.#e});return this}handleEvent(e){if(this.#s[e]){this.#s[e]()}}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/FlpLaunchPage", [],function(){"use strict";function e(){throw new Error("The 'FlpLaunchPage' is not supported in the iframe environment.")}e.hasNoAdapter=true;return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/FrameBoundExtension", [],function(){"use strict";function e(){throw new Error("The 'FrameBoundExtension' is not supported in the iframe environment.")}e.hasNoAdapter=true;return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/LaunchPage", ["sap/ushell/services/LaunchPage","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(t,r,o){e.call(this,t,r,o);this.getGroupsForBookmarks=function(){return s.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getGroupsForBookmarks")}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/MessageBroker", ["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){"use strict";var s={};var n=function(){};n.prototype.connect=function(s){return new Promise(function(n,t){e.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:s,messageName:"connect"}).then(n).catch(t)})};n.prototype.disconnect=function(n){return new Promise(function(t,a){s={};e.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:n,messageName:"disconnect"}).then(t).catch(a)})};n.prototype.subscribe=function(n,t,a,c){return new Promise(function(r,o){s={fnMessageCallback:a,fnClientConnectionCallback:c};e.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:n,messageName:"subscribe",subscribedChannels:t}).then(r).catch(o)})};n.prototype.unsubscribe=function(n,t){return new Promise(function(a,c){s={};e.postMessageToFLP("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:n,messageName:"unsubscribe",subscribedChannels:t}).then(a).catch(c)})};n.prototype.publish=function(s,n,t,a,c,r){return new Promise(function(o,i){e.postMessageToFLP("sap.ushell.services.MessageBroker",{clientId:n,channelId:s,targetClientIds:c,messageName:a,data:r},t).then(o).catch(i)})};n.prototype.addAcceptedOrigin=function(e){};n.prototype.removeAcceptedOrigin=function(e){};n.prototype.getAcceptedOrigins=function(){};n.prototype.getAcceptedOrigins=function(){};n.prototype.handleMessage=function(e){return new Promise(function(n,t){switch(e.messageName){case"clientSubscribed":case"clientUnsubscribed":s.fnClientConnectionCallback(e.messageName,e.clientId,e.channels);break;default:s.fnMessageCallback(e.clientId,e.channelId,e.messageName,e.data);break}n({_noresponse_:true})})};n.hasNoAdapter=true;return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/NavTargetResolution", ["sap/ushell/services/NavTargetResolution","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],function(e,t,s,jQuery){"use strict";function n(n,r,i,a){e.call(this,n,r,i,a);this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred,n=[],r;n.push(s.getIsScube()?this.getDistinctSemanticObjectsLocal():Promise.resolve([]));n.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects"));Promise.allSettled(n).then(function(t){r=t[0].status==="fulfilled"?t[0].value:[];r=r.concat(t[1].status==="fulfilled"?t[1].value:[]);r=r.filter(function(e,t,s){return s.indexOf(e)===t}).sort();e.resolve(r)});return e.promise()};this.expandCompactHash=function(e){if(e&&e.indexOf("sap-intent-param")>0){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.expandCompactHash",{sHashFragment:e})}return(new jQuery.Deferred).resolve(e).promise()};this.resolveHashFragmentLocal=this.resolveHashFragment;this.resolveHashFragment=function(e){if(s.getIsScube()){var n=new jQuery.Deferred;this.resolveHashFragmentLocal(e).done(n.resolve).fail(function(){return t.postMessageToFLP("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e}).then(n.resolve,n.reject)});return n.promise()}return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e})};this.isIntentSupportedLocal=this.isIntentSupported;this.isIntentSupported=function(e){var n=new jQuery.Deferred;var r=[];var i;var a;r.push(s.getIsScube()?this.isIntentSupportedLocal(e):Promise.resolve(undefined));r.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolution.isIntentSupported",{aIntents:e}));Promise.allSettled(r).then(function(t){i=t[0].status==="fulfilled"?t[0].value:undefined;a=t[1].status==="fulfilled"?t[1].value:undefined;if(i&&a){Object.keys(i).forEach(function(e){i[e].supported=i[e].supported||a[e].supported})}else if(i||a){i=i||a}else{i={};e.forEach(function(e){i[e]={supported:undefined}})}n.resolve(i)});return n.promise()};this._isIntentSupportedLocal=this.isIntentSupportedLocal;this._isIntentSupported=this.isIntentSupported}n.prototype=e.prototype;n.hasNoAdapter=e.hasNoAdapter;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/NavTargetResolutionInternal", ["sap/ushell/services/NavTargetResolutionInternal","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],function(e,t,s,jQuery){"use strict";function n(n,r,i,a){e.call(this,n,r,i,a);this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred,n=[],r;n.push(s.getIsScube()?this.getDistinctSemanticObjectsLocal():Promise.resolve([]));n.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.getDistinctSemanticObjects"));Promise.allSettled(n).then(function(t){r=t[0].status==="fulfilled"?t[0].value:[];r=r.concat(t[1].status==="fulfilled"?t[1].value:[]);r=r.filter(function(e,t,s){return s.indexOf(e)===t}).sort();e.resolve(r)});return e.promise()};this.expandCompactHash=function(e){if(e&&e.indexOf("sap-intent-param")>0){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolutionInternal.expandCompactHash",{sHashFragment:e})}return(new jQuery.Deferred).resolve(e).promise()};this.resolveHashFragmentLocal=this.resolveHashFragment;this.resolveHashFragment=function(e){if(s.getIsScube()){var n=new jQuery.Deferred;this.resolveHashFragmentLocal(e).done(n.resolve).fail(function(){return t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment",{sHashFragment:e}).then(n.resolve,n.reject)});return n.promise()}return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolutionInternal.resolveHashFragment",{sHashFragment:e})};this.isIntentSupportedLocal=this.isIntentSupported;this.isIntentSupported=function(e){var n=new jQuery.Deferred,r=[],i,a;r.push(s.getIsScube()?this.isIntentSupportedLocal(e):Promise.resolve(undefined));r.push(t.postMessageToFLP("sap.ushell.services.NavTargetResolutionInternal.isIntentSupported",{aIntents:e}));Promise.allSettled(r).then(function(t){i=t[0].status==="fulfilled"?t[0].value:undefined;a=t[1].status==="fulfilled"?t[1].value:undefined;if(i&&a){Object.keys(i).forEach(function(e){i[e].supported=i[e].supported||a[e].supported})}else if(i||a){i=i||a}else{i={};e.forEach(function(e){i[e]={supported:undefined}})}n.resolve(i)});return n.promise()};this._isIntentSupportedLocal=this.isIntentSupportedLocal;this._isIntentSupported=this.isIntentSupported}n.prototype=e.prototype;n.hasNoAdapter=e.hasNoAdapter;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Navigation", ["sap/ushell/services/Navigation","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/appstate/AppState","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing","sap/ushell/appRuntime/ui5/services/Container"],function(e,t,s,i,a,n,r){"use strict";function o(o,p,u){e.call(this,o,p,u);this.getHref=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.getHref",{oTarget:e})};this.backToPreviousApp=function(){if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.backToPreviousApp")}return Promise.resolve()};this.historyBack=function(e){if(i.checkDataLossAndContinue()){t.postMessageToFLP("sap.ushell.services.Navigation.historyBack",{iSteps:e})}};this.isInitialNavigation=function(){return t.postMessageToFLP("sap.ushell.services.Navigation.isInitialNavigation",{})};this.navigate=function(e,s){if(i.getIsScube()){if(e.target&&e.target.shellHash){var a=n.parseShellHash(e.target.shellHash);if(a.params){delete a.params["sap-app-origin"];e.target.shellHash=n.constructShellHash(a)}}else if(e.params){delete e.params["sap-app-origin"]}return r.getServiceAsync("ShellNavigationInternal").then(function(t){return t.toExternal(e,s)})}else if(i.checkDataLossAndContinue()){return t.postMessageToFLP("sap.ushell.services.Navigation.navigate",{oTarget:e})}return Promise.resolve()};this.getPrimaryIntent=async function(e,s){return t.postMessageToFLP("sap.ushell.services.Navigation.getPrimaryIntent",{sSemanticObject:e,oLinkFilter:s})};this.getLinksLocal=this.getLinks;this.getLinks=function(e=[]){function s(e){e.forEach(function(e){if(e){delete e.ui5Component}})}if(!Array.isArray(e)){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}if(i.getIsScube()){this.getLinksLocal(e).then(function(i){s(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e).then(function(e){if(i.length!==0){e=e.concat(i)}return e})})}else{s(e);return t.postMessageToFLP("sap.ushell.services.Navigation.getLinks",e)}};this.getSemanticObjectsLocal=this.getSemanticObjects;this.getSemanticObjects=function(){if(i.getIsScube()){return this.getSemanticObjectsLocal()}return t.postMessageToFLP("sap.ushell.services.Navigation.getSemanticObjects")};this.isNavigationSupported=function(e,s,n){var o=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isNavigationSupported",{aTargets:e})};if(n===true){return o(e)}if(i.getIsScube()){var p;p=e.map(function(e){if(typeof e==="object"){var t=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){t=a(e);delete t.params["sap-app-origin"]}return t}return e});return r.getServiceAsync("NavTargetResolutionInternal").then(function(e){return e.isNavigationSupported(p,s)})}return o(e)};this.getAppState=function(e,i){return t.postMessageToFLP("sap.ushell.services.Navigation.getAppState",{sAppStateKey:i}).then(function(e){return r.getServiceAsync("AppState").then(function(t){var i=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);return i})})};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(i.getIsScube()){return this.resolveIntentLocal(e)}return t.postMessageToFLP("sap.ushell.services.Navigation.resolveIntent",{sHashFragment:e})};this.isUrlSupported=function(e){return t.postMessageToFLP("sap.ushell.services.Navigation.isUrlSupported",{sUrl:e})}}o.prototype=e.prototype;o.hasNoAdapter=e.hasNoAdapter;return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ReferenceResolver", ["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){"use strict";function s(){this.resolveReferences=function(s,r){return e.sendMessageToOuterShell("sap.ushell.services.ReferenceResolver.resolveReferences",{aReferences:s})}}s.hasNoAdapter=true;return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellNavigation", ["sap/ushell/services/ShellNavigation","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/utils/UrlParsing"],function(e,t,s,a,n){"use strict";function i(i,l,r){e.call(this,i,l,r);this.toExternal=function(e,i,l){if(!a.checkDataLossAndContinue()){return}if(a.getIsScube()){t.getServiceAsync("NavTargetResolutionInternal").then(function(t){var i=n.constructShellHash(e);t.isIntentSupportedLocal([i]).then(function(t){if(t[i].supported===true){if(e.target.shellHash){e=n.parseShellHash(e.target.shellHash);e.target={semanticObject:e.semanticObject,action:e.action};delete e.semanticObject;delete e.action}e.params["sap-shell-so"]=e.target.semanticObject;e.params["sap-shell-action"]=e.target.action;e.params["sap-remote-system"]=a.getRemoteSystemId();e.target.semanticObject="Shell";e.target.action="startIntent";return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})})})}else{s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}};this.toAppHash=function(e,t){s.sendMessageToOuterShell("sap.ushell.services.ShellNavigationInternal.toExternal",{sAppHash:e,bWriteHistory:t})}}i.prototype=e.prototype;i.hasNoAdapter=e.hasNoAdapter;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellNavigationInternal", ["sap/ushell/services/ShellNavigationInternal","sap/ushell/appRuntime/ui5/services/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/utils/UrlParsing"],function(e,t,s,a,n){"use strict";function i(i,r,l){e.call(this,i,r,l);this.toExternal=async function(e,i,r){if(!a.checkDataLossAndContinue()){return}if(a.getIsScube()){return t.getServiceAsync("NavTargetResolutionInternal").then(function(t){var i=n.constructShellHash(e);return t.isIntentSupportedLocal([i]).then(function(t){if(t[i].supported===true){if(e.target.shellHash){e=n.parseShellHash(e.target.shellHash);e.target={semanticObject:e.semanticObject,action:e.action};delete e.semanticObject;delete e.action}e.params["sap-shell-so"]=e.target.semanticObject;e.params["sap-shell-action"]=e.target.action;e.params["sap-remote-system"]=a.getRemoteSystemId();e.target.semanticObject="Shell";e.target.action="startIntent"}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})})})}s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})};this.toAppHash=function(e,t){s.sendMessageToOuterShell("sap.ushell.services.ShellNavigationInternal.toExternal",{sAppHash:e,bWriteHistory:t})}}i.prototype=e.prototype;i.hasNoAdapter=e.hasNoAdapter;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellUIService", ["sap/ui/core/EventBus","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ushell/ui5service/ShellUIService","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/services/AppConfiguration","sap/ui/thirdparty/jquery"],function(e,i,s,t,n,a,r,l,jQuery){"use strict";var c,u=false,o;var p=t.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(e,i){if(!e){return}c=e;a.postMessageToFLP("sap.ushell.services.ShellUIService.setTitle",{sTitle:e,oAdditionalInformation:i})},getTitle:function(){return c},setHierarchy:function(e){return r.checkIntentsConversionForScube(e).then(function(e){return a.postMessageToFLP("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:e})})},setRelatedApps:function(e){return r.checkIntentsConversionForScube(e).then(function(e){return a.postMessageToFLP("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:e})})},setBackNavigation:function(e){if(!u){u=true;n.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{handleBackNavigation:{executeServiceCallFn:function(e){if(o){o()}else if(r.checkDataLossAndContinue()){window.history.back()}return(new jQuery.Deferred).resolve().promise()}}}}})}o=e;a.postMessageToFLP("sap.ushell.ui5service.ShellUIService.setBackNavigation",{callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}})},_getBackNavigationCallback:function(){return o},_resetBackNavigationCallback:function(){this.setBackNavigation()},setApplicationFullWidth:function(e){l.setApplicationFullWidthInternal(e)}});p._resetTitle=function(){c=undefined};e.getInstance().subscribe("sap.ushell","appClosed",p._resetTitle);i.register("sap.ushell.ui5service.ShellUIService",new s(p));return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/UserDefaultParameters", ["sap/ushell/services/UserDefaultParameters","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/util/ObjectPath"],function(e,s,t){"use strict";function a(t,a){e.call(this,t,a);this.getValue=function(e){return s.sendMessageToOuterShell("sap.ushell.services.UserDefaultParameters.getValue",{sParameterName:e})}}t.set("sap.ushell.services.UserDefaultParameters",a);a.prototype=e.prototype;a.hasNoAdapter=true;return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/UserInfo", ["sap/ushell/services/UserInfo","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/util/ObjectPath"],function(e,s,t){"use strict";function r(t,r){e.call(this,t,r);this.getThemeList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getThemeList")};this.updateUserPreferences=function(){var e=new jQuery.Deferred;sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],function(t){s.postMessageToFLP("sap.ushell.services.UserInfo.updateUserPreferences",{language:t.getUser().getLanguage()}).then(e.resolve,e.reject)});return e.promise()};this.getLanguageList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getLanguageList")};this.getShellUserInfo=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getShellUserInfo")}}t.set("sap.ushell.services.UserInfo",r);r.prototype=e.prototype;r.hasNoAdapter=true;return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/ContainerAdapter", ["sap/base/Log","sap/base/i18n/Formatting","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/ushell/User"],function(e,t,s,r,jQuery,o){"use strict";var i=function(i,n,a){var u,d,l,f,p,c;this.load=function(){var e;d=r.get("config.systemProperties.logoutUrl",a);l=r.get("config.systemProperties.logoutMethod",a)||"GET";f=r.get("config.systemProperties.csrfTokenUrl",a);p=r.get("config.systemProperties.sessionKeepAlive.url",a);c=r.get("config.systemProperties.sessionKeepAlive.method",a);e=s({id:""},r.get("config.userProfile.defaults",a));u=new o(e);m(e);return(new jQuery.Deferred).resolve().promise()};this.getSystem=function(){return i};this.getUser=function(){return u};this._getLogoutUrl=function(){return d};this._setWindowLocation=function(e){window.location.href=e};this.logout=function(){var t=new jQuery.Deferred,s=this;if(l==="POST"){e.info("performing logout from system via POST",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");jQuery.ajax({type:"HEAD",url:f,headers:{"X-CSRF-Token":"Fetch"},success:function(r,o,i){jQuery.ajax({type:"POST",url:d,headers:{"X-CSRF-Token":i.getResponseHeader("X-CSRF-Token")},success:function(e){s._setWindowLocation(e);t.resolve()},error:function(){e.error("Logging out via POST failed",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})},error:function(){e.error("fetching X-CSRF-Token for logout via POST failed for system: "+i.getAlias(),undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})}else{try{if(typeof d==="string"&&d.length>0){this._logoutViaHiddenIFrame(t,d);setTimeout(t.resolve,4e3)}else{t.resolve()}}catch(s){e.error("logout from iframe "+document.URL+" failed",s,"sap.ushell.appRuntime.ui5.SessionHandlerAgent");t.resolve()}}return t.promise()};this._logoutViaHiddenIFrame=function(e,t){var s=document.createElement("iframe"),r=t.replace(/"/g,'\\"');window.addEventListener("message",function(s){if((s.data&&s.data.url)===t){e.resolve()}});s.style.visibility="hidden";s.setAttribute("src",t);function o(){this.contentWindow.parent.postMessage({url:r,request_id:"dummy-logout-id"},"*")}s.addEventListener("load",o);s.addEventListener("error",o);document.body.appendChild(s)};this.sessionKeepAlive=function(){if(typeof p==="string"&&p.length>0&&typeof c==="string"&&c.length>0){var t=new XMLHttpRequest;t.open(c,p,true);t.onreadystatechange=function(){if(this.readyState===4){e.debug("Server session was extended")}};t.send()}};function m(e){if(e.sapDateFormat){t.setABAPDateFormat(e.sapDateFormat)}if(e.sapDateCalendarCustomizing){t.setCustomIslamicCalendarData(e.sapDateCalendarCustomizing)}if(e.sapNumberFormat){t.setABAPNumberFormat(e.sapNumberFormat)}if(e.sapTimeFormat){t.setABAPTimeFormat(e.sapTimeFormat)}if(typeof e.currencyFormats==="object"){t.addCustomCurrencies(e.currencyFormats)}}};return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/EmptyAdapter", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var e=function(){this.getSite=function(){return(new jQuery.Deferred).resolve({}).promise()};this.getInbounds=function(){return(new jQuery.Deferred).resolve([]).promise()}};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/Ui5ComponentLoaderAdapter", [],function(){"use strict";function n(){}return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/ui/UIProxy", ["sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/m/Button","sap/base/util/ObjectPath"],function(e,t,n){"use strict";function s(){n.set("sap.ushell.ui.shell.ShellHeadItem",function(t){var n=this;Object.keys(t).forEach(function(e){n[e]=t[e];n["get"+e[0].toUpperCase()+e.slice(1)]=function(){return t[e]}});e.createShellHeadItem(t)})}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.constants", [],function(){"use strict";return{uiDebugKey:"sap-ui-debug",bootScriptId:"sap-ui-bootstrap",bwcBootScriptId:"sap-ushell-bootstrap",configMetaPrefix:"sap.ushellConfig",ushellConfigNamespace:"sap-ushell-config"}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.create.configcontract.core", ["sap/base/util/ObjectPath","sap/ushell/bootstrap/common/common.debug.mode","sap/base/util/deepExtend"],(e,n,a)=>{"use strict";const o={};const s=new URLSearchParams(document.location.search);function i(i){const l={};function r(e,n){const a=n.split("/");const o=a.slice(0,a.length-1).join("/");const s=a.pop();if(e.hasOwnProperty(o)){return e[o][s]}const l=a.reduce((e,n)=>{if(!e||!e.hasOwnProperty(n)){return{}}return e[n]},i);e[o]=l;return l[s]}function t(e,n){const a=r(l,e);o[e]=n;return a!==undefined?a:n}function c(){const e="renderers/fiori2/componentData/config/enableBackGroundShapes";let n=!!r(l,e);if(n){n=!t("ushell/spaces/enabled",false)}o[e]=n;return n}function u(){return t("renderers/fiori2/componentData/config/enablePersonalization",t("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true))}function d(){let e=t("renderers/fiori2/componentData/config/rootIntent","");if(e){e=`#${e}`}return e}function p(){return t("ushell/spaces/enabled",false)&&!!t("ushell/homeApp/component",false)}const f=t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",true);const h={enableEasyAccessOnTablet:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuOnTablet",false),enableEasyAccessSAPMenu:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",f),enableEasyAccessSAPMenuSearch:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenuSearch",true),enableEasyAccessUserMenu:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",f),enableEasyAccessUserMenuSearch:t("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuSearch",true)};function m(e){if(f===true){return h[e]?h[`${e}Search`]:false}return false}function g(e){if(typeof e!=="string"){return[]}return e.split(",").map(e=>e.trim())}function b(){return{name:"sap.ushell.components.workPageRuntime",asyncHints:{preloadBundles:["sap/ushell/preload-bundles/workpage-rt-common.js","sap/ushell/preload-bundles/workpage-rt-0.js","sap/ushell/preload-bundles/workpage-rt-1.js","sap/ushell/preload-bundles/workpage-rt-2.js","sap/ushell/preload-bundles/workpage-rt-3.js"]}}}function S(){const n={};e.set("spaces.enabled",true,n);if(t("ushell/menu/position")==="Side"){e.set("spaces.selectable",false,n)}else{e.set("spaces.selectable",true,n);e.set("favorites.enabled",true,n)}if(t("ushell/sideNavigation/mode")==="Docked"||t("ushell/menu/position")==="Side"){e.set("spaces.defaultIcon","sap-icon://document-text",n)}return JSON.stringify(n)}function v(){const n={};if(t("ushell/menu/position")!=="Side"){e.set("spaces.personalization.enabled",P(),n)}return JSON.stringify(n)}function A(){return t("ushell/sideNavigation/enabled",false)||t("ushell/menu/position")==="Side"}function P(){return t("ushell/menu/personalization/enabled",false)}const y={core:{site:{siteId:t("ushell/site/siteId",null),sapCdmVersion:t("ushell/site/sapCdmVersion",null)},extension:{dap:{pluginName:t("ushell/extension/dap/pluginName","DAP_PLUGIN"),enabled:t("ushell/extension/dap/enabled",true)},enableHelp:t("renderers/fiori2/componentData/config/enableHelp",false),SupportTicket:t("services/SupportTicket/config/enabled",false)},services:{allMyApps:{enabled:t("services/AllMyApps/config/enabled",true),showHomePageApps:t("services/AllMyApps/config/showHomePageApps",true),showCatalogApps:t("services/AllMyApps/config/showCatalogApps",true)}},navigation:{enableInPlaceForClassicUIs:{GUI:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:t("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true,flpURLDetectionPattern:t("services/ClientSideTargetResolution/config/flpURLDetectionPattern","[/]FioriLaunchpad.html[^#]+#[^-]+?-[^-]+"),enableWdaCompatibilityMode:t("ushell/navigation/wdaCompatibilityMode",false)},spaces:{enabled:t("ushell/spaces/enabled",false),configurable:t("ushell/spaces/configurable",false),myHome:{userEnabled:true,enabled:t("startupConfig/spacesMyhome",false)||p(),myHomeSpaceId:t("startupConfig/spacesMyhomeSpaceid",null),myHomePageId:t("startupConfig/spacesMyhomePageid",null),presetSectionId:"3WO90XZ1DX1AS32M7ZM9NBXEF"},hideEmptySpaces:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/spaces/hideEmptySpaces/enabled",false),userEnabled:true},extendedChangeDetection:{enabled:t("ushell/spaces/extendedChangeDetection/enabled",true)},homeNavigationTarget:t("renderers/fiori2/componentData/config/homeNavigationTarget",undefined),currentSpaceAndPage:undefined},workPages:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/workPages/enabled",false),defaultComponent:b(),component:t("ushell/workPages/component",a(b(),{addCoreResourcesComplement:false})),contentApiUrl:t("ushell/workPages/contentApiUrl","/cep/content"),tileCard:t("ushell/workPages/tileCard",!!s.get("sap-ushell-tilecard")),customTileCard:t("ushell/workPages/customTileCard",!!s.get("sap-ushell-customtilecard")),myHome:{pageId:t("ushell/spaces/myHome/myHomePageId",null)},runtimeSwitcher:t("ushell/workPages/runtimeSwitcher",t("ushell/spaces/myHome/myHomePageId",null)===null),contentFinderStandalone:t("core/workPages/contentFinderStandalone",true)&&t("ushell/workPages/enabled",false)},shellBar:{enabled:t("ushell/shellBar/enabled",false)},homeApp:{enabled:p(),component:t("ushell/homeApp/component",{})},sideNavigation:{enabled:A(),mode:t("ushell/sideNavigation/mode","Docked"),navigationListProvider:{modulePath:t("ushell/sideNavigation/navigationListProvider/modulePath",t("ushell/menu/position")==="Side"?"sap/ushell/components/shell/SideNavigation/modules/SpacesNavigationListProvider":"sap/ushell/components/shell/SideNavigation/modules/GenericNavigationListProvider"),configuration:t("ushell/sideNavigation/navigationListProvider/configuration",S())},fixedNavigationListProvider:{modulePath:t("ushell/sideNavigation/fixedNavigationListProvider/modulePath",t("ushell/menu/position")==="Side"?"":"sap/ushell/components/shell/SideNavigation/modules/GenericFixedNavigationListProvider"),configuration:t("ushell/sideNavigation/fixedNavigationListProvider/configuration",v())}},notifications:{enabled:t("ushell/notifications/enabled",false)},menu:{enabled:t("ushell/spaces/enabled",false)&&t("ushell/menu/enabled")!==false&&!A()||t("ushell/menu/enabled",false),personalization:{enabled:P(),showNavigationBarMenuButton:t("ushell/menu/personalization/showNavigationBarMenuButton",P()&&!A())},visibleInAllStates:t("ushell/menu/visibleInAllStates",false)},menuQueryAvailable:t("ushell/menuQueryAvailable",false),darkMode:{enabled:t("ushell/darkMode/enabled",false),supportedThemes:t("ushell/darkMode/supportedThemes",[{dark:"sap_fiori_3_dark",light:"sap_fiori_3"},{dark:"sap_fiori_3_hcb",light:"sap_fiori_3_hcw"},{dark:"sap_horizon_dark",light:"sap_horizon"},{dark:"sap_horizon_hcb",light:"sap_horizon_hcw"}])},contentProviders:{providerInfo:{enabled:t("ushell/contentProviders/providerInfo/enabled",false),userConfigurable:t("ushell/contentProviders/providerInfo/enabled",false)&&t("ushell/contentProviders/providerInfo/userConfigurable",false),showContentProviderInfoOnVisualizations:t("ushell/contentProviders/providerInfo/enabled",false)&&t("ushell/contentProviders/providerInfo/userConfigurable",false)}},productSwitch:{enabled:!!t("ushell/productSwitch/url",""),url:t("ushell/productSwitch/url","")},shellHeader:{rootIntent:t("renderers/fiori2/componentData/config/rootIntent",""),homeUri:d()},companyLogo:{accessibleText:t("ushell/companyLogo/accessibleText",""),url:t("ushell/companyLogo/url","")},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},userSettings:{displayUserId:t("renderers/fiori2/componentData/config/displayUserId",false)},userActionsMenu:{displayUserId:t("ushell/userActionsMenu/displayUserId",false),displayAvatar:t("ushell/userActionsMenu/displayAvatar",false)},shell:{cacheConfiguration:t("renderers/fiori2/componentData/config/cacheConfiguration",{}),enableAbout:t("renderers/fiori2/componentData/config/enableAbout",true),enablePersonalization:u(),enableRecentActivity:t("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:t("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:true,sessionTimeoutIntervalInMinutes:t("renderers/fiori2/componentData/config/sessionTimeoutIntervalInMinutes",-1),enableFeaturePolicyInIframes:t("renderers/fiori2/componentData/config/enableFeaturePolicyInIframes",true),enableOpenIframeWithPost:t("renderers/fiori2/componentData/config/enableOpenIframeWithPost",true),favIcon:t("renderers/fiori2/componentData/config/favIcon",undefined),enableMessageBroker:t("services/MessageBroker/config/enabled",true),enablePersistantAppstateWhenSharing:t("services/AppState/config/persistentWhenShared",false),homePageTitle:t("ushell/header/title/home",""),windowTitleExtension:t("ushell/window/title/extension",""),useAppTitleFromNavTargetResolution:g(t("ushell/useAppTitleFromNavTargetResolution")),intentNavigation:t("ushell/intentNavigation",false),model:{enableSAPCopilotWindowDocking:undefined,enableBackGroundShapes:c(),personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,enableTrackingActivity:undefined,searchAvailable:false,searchFiltering:true,searchTerm:"",isPhoneWidth:false,enableNotifications:t("services/NotificationsV2/config/enabled",t("services/Notifications/config/enabled",false)),enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",migrationConfig:undefined,shellAppTitleState:"",allMyAppsMasterLevel:undefined,userStatus:undefined,userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userImage:{personPlaceHolder:null,account:"sap-icon://account"},showRecentActivity:true}},state:{shellMode:t("renderers/fiori2/componentData/config/appState","")},home:{disableSortedLockedGroups:t("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableHomePageSettings:t("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableRenameLockedGroup:t("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:t("renderers/fiori2/componentData/config/enableTileActionsIcon",t("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTransientMode:t("ushell/home/enableTransientMode",false),featuredGroup:{enable:t("ushell/home/featuredGroup/enable",false),frequentCard:t("ushell/home/featuredGroup/frequentCard",true)&&t("ushell/home/featuredGroup/enable",false),recentCard:t("ushell/home/featuredGroup/recentCard",true)&&t("ushell/home/featuredGroup/enable",false)},homePageGroupDisplay:t("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:t("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:t("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:t("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:t("ushell/home/tilesWrappingType","Normal"),segments:t("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false},catalog:{enabled:u()||t("renderers/fiori2/componentData/config/enableAppFinder",false),appFinderDisplayMode:t("renderers/fiori2/componentData/config/applications/Shell-home/AppFinderDisplayMode",t("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined)),easyAccessNumbersOfLevels:t("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:t("renderers/fiori2/componentData/config/enableSearchFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:t("renderers/fiori2/componentData/config/enableCatalogSelection",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:t("renderers/fiori2/componentData/config/applications/Shell-home/enableTagFiltering",t("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:f,enableEasyAccessSAPMenu:f?h.enableEasyAccessSAPMenu:false,enableEasyAccessOnTablet:f?h.enableEasyAccessOnTablet:false,enableEasyAccessSAPMenuSearch:m("enableEasyAccessSAPMenu"),enableEasyAccessUserMenu:f?h.enableEasyAccessUserMenu:false,enableEasyAccessUserMenuSearch:m("enableEasyAccessUserMenu"),enableHideGroups:t("renderers/fiori2/componentData/config/enableHideGroups",t("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:t("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)},esearch:{defaultSearchScopeApps:t("renderers/fiori2/componentData/config/esearch/defaultSearchScopeApps",false),searchBusinessObjects:t("renderers/fiori2/componentData/config/esearch/searchBusinessObjects",true),searchScopeWithoutAll:t("renderers/fiori2/componentData/config/esearch/searchScopeWithoutAll",false)},customPreload:{enabled:!n.isDebug()&&t("ushell/customPreload/enabled",false),coreResourcesComplement:t("ushell/customPreload/coreResourcesComplement",[])},ui5:{timeZoneFromServerInUI5:t("ui5/timeZoneFromServerInUI5",false)},uiTracer:{enabled:t("services/UITracer/config/enabled",false)}}};return y}function l(){return o}return{createConfigContract:i,getDefaultConfiguration:l}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.debug.mode", ["./common.constants"],function(t){"use strict";var e;var n=/[?&]sap-ui-debug=(true|x|X)(&|$)/.test(window.location.search);if(!n){try{e=window.localStorage.getItem(t.uiDebugKey);n=!!e&&/^(true|x|X)$/.test(e)}catch(t){}}return{isDebug:function(){return n}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.util", ["sap/base/Log","sap/base/util/ObjectPath"],function(e,t){"use strict";const o=Object.getOwnPropertyNames(Object.prototype);function i(e){Object.keys(e).filter(function(t){return typeof e[t]==="object"}).forEach(function(t){e[t]=i(e[t])});return Object.freeze(e)}function s(){return location.protocol+"//"+location.host}function r(e){if(typeof e==="string"&&e.charAt(e.length-1)!=="/"){return e+"/"}return e}function n(e,t,i){var s;if(!t){return}s=i?JSON.parse(JSON.stringify(t)):t;Object.keys(s).forEach(function(t){if(o.includes(t)){return}if(typeof e[t]==="object"&&typeof s[t]==="object"){n(e[t],s[t],false);return}e[t]=s[t]})}function a(t){var o=t||window.location.search,i=/sap-statistics=(true|x|X)/.test(o);if(!i){try{i=window.localStorage.getItem("sap-ui-statistics")==="X"}catch(t){e.warning("failed to read sap-statistics setting from local storage",null,"sap.ushell.bootstrap.common.common.util")}}return!!i}function c(o){window["sap-ushell-config-migration"]=true;[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(i=>{const s=i.from.split(".")[1];const r=t.get(i.from,o);const n=t.get(i.to,o);if(r&&!n){e.warning(`The service config for ${i.from} is migrated to ${i.to}`,"common.util");const n={...r};if(n.module===`sap.ushell.services.${s}`){delete n.module}t.set(i.to,n,o)}})}function f(o){window["sap-ushell-config-migration"]=true;const i={};[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(s=>{const r=s.from.split(".")[1];const n=t.get(s.from,o);const a=t.get(s.to,o);if(n&&!a){e.warning(`The service config for ${s.from} is migrated to ${s.to}`,"common.util");const o={...n};if(o.module===`sap.ushell.services.${r}`){delete o.module}t.set(s.to,o,i)}});return JSON.parse(JSON.stringify(i))}return{deepFreeze:i,getLocationOrigin:s,ensureTrailingSlash:r,mergeConfig:n,isSapStatisticsSet:a,migrateV2ServiceConfig:c,getV2ServiceMigrationConfig:f}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/iconfonts", ["sap/ui/core/IconPool"],F=>{"use strict";const E={};E.registerFiori2IconFont=function(){F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts/"),lazy:true});F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"TNTIcons",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts/"),lazy:true});F.registerFont({fontFamily:"BusinessSuiteInAppSymbols",collectionName:"BusinessSuiteInAppSymbols",fontURI:sap.ui.require.toUrl("sap/ushell/themes/base/fonts/"),lazy:true});const E={fontFamily:"SAP-icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0020","e0c3"],["F0021","e10d"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]};const e={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E214"],["F0429","E2A6"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10n","E2B5"],["FK10n","E2B6"],["FS10n","E2B7"],["FBL5n","E2B8"],["FBL1n","E2B9"],["FFS01","E2BA"],["FBL3n","E2BB"],["FCOA1","E2BC"]]};const o={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]};const i={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2EA"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],// License Blocked Documents
["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"]]};const n={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F2001","E31E"],["F0839","E320"],["F0263","E321"],["F0266","E322"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E384"],["F0718","E383"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]};const t={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"],["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"]]};const s={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F0955","E3B9"],["F1068","E3BA"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F1476","E3C7"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"]]};const a={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1520","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]};const r={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1562","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"],["partner-enablement","E40A"]]};const c={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]};const l={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","e700"],["Open","e701"],["Blocked","e702"],["Partially Blocked","e703"],["Open1","e704"],["Partially Adopted","e705"],["Due","e706"],["Overdue","e707"],["Sort","e708"],["Missing Parts","e709"],["Fire","e70a"],["Dangerous Chemicals","e70b"],["Share","e70c"],["Entertainment","e70d"],["Gift","e70e"],["QR Code","e70f"],["Wifi-Online","e710"],["Wifi-Offline","e711"],["Sunrise","e712"],["Sunset","e713"],["Afternoon","e714"],["Night","e715"],["Loading Date","e715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71a"],["Heavy Rain","e71b"],["Foggy","e71c"],["Snow","e71d"],["Risk Assessment","e71e"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72a"],["Location Assets","e72b"],["Transport Systems","e72c"],["Field","e72d"],["Field Group","e72e"],["Record","e730"],["Record Group","e731"]]};const A={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(e,E,o,i,n,t,s,a,r,l,A,c)};E.registerFonts=function(...E){E.forEach(E=>{E.icons.forEach(e=>{F.addIcon(e[0],E.collectionName,{fontFamily:E.fontFamily,content:e[1],overWrite:false,suppressMirroring:true})})})};return E},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/library", ["sap/ui/core/Lib","sap/ui/core/library","sap/m/library"],function(e,l,a){"use strict";const t=e.init({name:"sap.ushell",version:"1.136.1",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.appIntegration.contracts.StatefulType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.FloatingNumberType"],interfaces:["sap.ushell.renderer.INavContainerPage"],controls:["sap.ushell.appIntegration.ApplicationContainer","sap.ushell.appIntegration.IframeApplicationContainer","sap.ushell.appIntegration.UI5ApplicationContainer","sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.renderer.NavContainer","sap.ushell.ui.launchpad.VizInstance","sap.ushell.ui.launchpad.VizInstanceBase","sap.ushell.ui.launchpad.VizInstanceAbap","sap.ushell.ui.launchpad.VizInstanceCdm","sap.ushell.ui.launchpad.VizInstanceLaunchPage","sap.ushell.ui.launchpad.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.AppBoxInternal","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.TileStateInternal","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.SidePane","sap.ushell.ui.shell.SubHeader","sap.ushell.ui.shell.SysInfoBar","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:["sap.ushell.ui.launchpad.AccessibilityCustomData"],extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});t.AllMyAppsState={FirstLevel:"FirstLevel",SecondLevel:"SecondLevel",Details:"Details",FirstLevelSpread:"FirstLevelSpread"};t.AllMyAppsProviderType={HOME:0,EXTERNAL:1,CATALOG:2};t.AppTitleState={ShellNavMenuOnly:"ShellNavMenuOnly",AllMyAppsOnly:"AllMyAppsOnly",ShellNavMenu:"ShellNavMenu",AllMyApps:"AllMyApps"};t.ContentNodeType={HomepageGroup:"HomepageGroup",Space:"Space",Page:"Page",Visualization:"Visualization"};t.appIntegration=t.appIntegration||{};t.appIntegration.contracts=t.appIntegration.contracts||{};t.appIntegration.contracts.StatefulType={NotSupported:"NotSupported",ContractV1:"ContractV1",ContractV2:"ContractV2"};t.components=t.components||{};t.components.container=t.components.container||{};t.components.container.ApplicationType={NWBC:"NWBC",SAPUI5:"SAPUI5",TR:"TR",URL:"URL",WCF:"WCF",WDA:"WDA"};t.DisplayFormat={Standard:"standard",Compact:"compact",Flat:"flat",FlatWide:"flatWide",StandardWide:"standardWide"};t.NavigationState={InProgress:"InProgress",Finished:"Finished"};t.ui=t.ui||{};t.ui.launchpad=t.ui.launchpad||{};t.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};t.ui.tile=t.ui.tile||{};t.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};t.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};t.VisualizationLoadState={Loading:"Loading",Loaded:"Loaded",InsufficientRoles:"InsufficientRoles",OutOfRoleContext:"OutOfRoleContext",NoNavTarget:"NoNavTarget",Failed:"Failed",Disabled:"Disabled"};t.AppType={OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",URL:"External Link",APP:"Application"};t.FloatingNumberType={None:"None",Notifications:"Notifications",OverflowButton:"OverflowButton"};t.NavigationBarMenuState={Button:"Button",Menu:"Menu"};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/navigationMode", ["sap/base/Log","sap/base/util/isPlainObject","sap/ushell/Config"],function(e,n,a){"use strict";var i={};var o=function(n){var a=true;if(n){if(typeof n!=="object"){a=false}else{Object.keys(n).forEach(function(e){if(["GUI","WDA","WCF"].indexOf(e)===-1){a=false}else if(typeof n[e]!=="boolean"){a=false}})}}if(!a){e.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean","Actual parameter: "+JSON.stringify(n),"sap.ushell.services.navigationMode")}};var d=function(e){switch(e){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined}};i._isInplaceEnabledForApplicationType=function(e){var i=a.last("/core/navigation/enableInPlaceForClassicUIs");o(i);if(n(i)){return i[d(e)]}return false};i._getInternalNavigationMode=function(n,a){var i=a.applicationType;var o={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},URL:{inplace:"embedded",explace:"newWindow",frameless:"newWindow"},WCF:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"}};if(!o.hasOwnProperty(i)){e.error(i+" is not a valid application type","expected one of "+Object.keys(o).join(", "),"sap.ushell.navigationMode");return null}if(n!=="inplace"&&n!=="explace"&&n!=="frameless"){e.error(n+" is not a valid external navigation mode","expected one of 'inplace', 'explace' or 'frameless'","sap.ushell.navigationMode");return null}if(i==="SAPUI5"&&n==="frameless"){e.error("'"+n+"' is not a valid external navigation mode for application type '"+i+"'","falling back to internal navigation mode '"+o.SAPUI5.frameless+"'","sap.ushell.navigationMode")}if(i==="URL"){var d=a.appCapabilities?a.appCapabilities.templateNavigationMode:undefined;if(d){var t={embedded:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},standalone:{inplace:"newWindow",explace:"newWindow",frameless:"newWindow"}};if(d==="standalone"&&n==="inplace"){e.warning("Inplace navigation was requested for an app that supports only standalone mode! 'newWindow' used instead...","sap.ushell.navigationMode")}if(d==="embedded"&&n==="frameless"){e.warning("Frameless navigation was requested for an app that supports only embedded mode! 'newWindowThenEmbedded' used instead...","sap.ushell.navigationMode")}return t[d][n]}}return o[i][n]};i.getExternalNavigationMode=function(n){var a={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!a.hasOwnProperty(n)){e.error(n+" is not a recognized internal navigation mode","expected one of "+Object.keys(a).join(","),"sap.ushell.navigationMode");return null}return a[n]};var t=["NWBC","WDA","TR","WCF"];i.getNavigationMode=function(n,a,o){var d=n.additionalInformation;var r=n.applicationType;var l;var s;var p={navigationMode:undefined,explicitNavMode:false};if(["inplace","explace"].indexOf(o)>=0){p["sap-ushell-next-navmode"]=o}if(["inplace","explace","frameless"].indexOf(a)>=0){var f=i._getInternalNavigationMode(a,n);e.debug("Navigation mode was forced to "+f+" because sap-ushell-navmode parameter was set to "+a+" for target","sap.ushell.navigationMode");p.navigationMode=f;p.explicitNavMode=true;return p}if(i._isInplaceEnabledForApplicationType(r)===true){p.navigationMode=i._getInternalNavigationMode("inplace",n)}if(n.appCapabilities&&n.appCapabilities.navigationMode){p.navigationMode=n.appCapabilities.navigationMode;return p}if((d===null||typeof d==="string"||typeof d==="undefined")&&(r==="URL"||r==="SAPUI5")){if(d&&d.indexOf("managed=")===0){if(d==="managed=FioriWave1"){p.navigationMode="embedded";return p}if(d==="managed="){p.navigationMode="newWindow";return p}return p}if(d&&d.indexOf("SAPUI5.Component=")===0){l="[a-zA-Z0-9_]+";s=["^SAPUI5.Component=",l,"([.]",l,")*$"].join("");if(!new RegExp(s).test(d)){e.warning(["The UI5 component name in",d,"is not valid.","Please use names satisfying",s].join(" "))}p.navigationMode="embedded";return p}p.navigationMode="newWindow";return p}if(p.navigationMode===undefined){if(t.indexOf(r)>-1){p.navigationMode="newWindowThenEmbedded"}else if(r==="SAPUI5"){p.navigationMode="embedded"}else{p.navigationMode="newWindow";e.error("Invalid ApplicationType: "+r)}}return p};i.computeNavigationModeForHomepageTiles=function(e,n,a){var i={applicationType:e,additionalInformation:n};if(t.indexOf(e)>-1&&a){return"embedded"}return this.getNavigationMode(i).navigationMode};return i},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/History", [],function(){"use strict";var i=function(){this._history=[];this._backwards=false;this._historyPosition=-1;this._virtual={};this.hashChange=function(i){var t=this._history.indexOf(i);if(t===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1)}this._history.push(i);this._historyPosition+=1;this.backwards=false;this.forwards=false}else{this.backwards=this._historyPosition>t;this.forwards=this._historyPosition<t;this._historyPosition=t}};this.pop=function(){var i;if(this._history.length>0){i=this._history.pop();this._historyPosition--}return i};this.isVirtualHashchange=function(i,t){return this._virtual.hasOwnProperty(t)&&this.getCurrentHash()===i&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===t};this.setVirtualNavigation=function(i){this._virtual[i]=true};this.getCurrentHash=function(){return this._history[this._historyPosition]||null};this.getHashIndex=function(i){return this._history.indexOf(i)};this.getHistoryLength=function(){return this._history.length}};return new i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/ShellLayout", ["sap/base/Log"],function(e){"use strict";const a={RootDomRef:"shellLayout",ShellHeader:"header-shellArea",RendererRootView:"canvas",SideNavigation:"sideNavigation-shellArea",SidePane:"sidePane-shellArea",Footer:"footer-shellArea",ToolArea:"toolArea-shellArea",SubHeader:"subHeader-shellArea",NavigationBar:"navigationBar-shellArea",FloatingActions:"floatingActions-shellArea",FloatingContainer:"floatingContainer-shellArea",FloatingContainerDockStart:"floatingContainerDockStart-shellArea",FloatingContainerDockEnd:"floatingContainerDockEnd-shellArea",ShellShapes:"shapes-shellArea",RightFloatingContainer:"rightFloatingContainer-shellArea",BackgroundImage:"backgroundImage-shellArea",HelpContent:"helpContent-shellArea",WebComponents:"WebComponents-shellArea"};function t(t){var o=document.getElementById(t);a.RendererRootView=t;var i=[`<div id='${a.RootDomRef}' class='sapUshellFlexRow'>`,`    <div id='${a.BackgroundImage}' data-sap-ui-root-content=true></div>`,`    <div id='${a.WebComponents}' data-sap-ui-root-content=true></div>`,`    <div id='${a.ShellShapes}' data-sap-ui-root-content=true></div>`,"    <div id='sapUshellPopupWithinArea' class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`        <div id='${a.FloatingContainerDockStart}' class='sapUshellFloatingContainerDock' data-sap-ui-root-content=true></div>`,"        <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`            <div id='${a.ShellHeader}' data-sap-ui-root-content=true></div>`,"            <div class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`                <div id='${a.SideNavigation}' data-sap-ui-root-content=true></div>`,"                <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`                    <div id='${a.SubHeader}' data-sap-ui-root-content=true></div>`,"                    <div class='sapUshellFlexGrowShrink sapUshellFlexRow'>",`                        <div id='${a.ToolArea}' class='sapUshellPositionRelative' data-sap-ui-root-content=true></div>`,`                        <div id='${a.SidePane}' data-sap-ui-root-content=true></div>`,"                        <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>",`                            <div id='${a.NavigationBar}' data-sap-ui-root-content=true></div>`,"                            <div class='sapUshellFlexGrowShrink sapUshellPositionRelative sapUshellOverflowHidden sapUshellFlexColumn'>",`                                <div id='${a.RendererRootView}' class='sapUshellFlexGrowShrink sapUshellPositionRelative sapUshellShell' data-sap-ui-root-content=true></div>`,`                                <div id='${a.FloatingActions}' data-sap-ui-root-content=true></div>`,`                                <div id='${a.RightFloatingContainer}' data-sap-ui-root-content=true></div>`,"                            </div>","                        </div>","                    </div>","                </div>","            </div>",`            <footer id='${a.Footer}' class='sapUshellPositionStatic sapMPageFooter' data-sap-ui-root-content=true></footer>`,"        </div>",`        <div id='${a.FloatingContainerDockEnd}' class='sapUshellFloatingContainerDock' data-sap-ui-root-content=true></div>`,`        <div id='${a.FloatingContainer}' data-sap-ui-root-content=true></div>`,"    </div>",`    <div id='${a.HelpContent}' data-sap-ui-root-content=true></div>`,"</div>"].join("\n");var l=Object.keys(a).some(function(e){if(e==="RendererRootView"){return false}var t=a[e];return!!document.getElementById(t)});if(l){e.warning("Found a ShellArea element. Did not apply the layout","sap.ushell.renderer.ShellLayout");return}document.body.insertAdjacentHTML("afterbegin","<div id='tmp'>"+i+"</div>");var n=document.getElementById("tmp");o.replaceWith.apply(o,Array.from(n.childNodes));n.remove()}function o(){var e=document.getElementById(a.RootDomRef);if(e){document.getElementById(a.RootDomRef).remove()}}return{applyLayout:t,destroyLayout:o,ShellArea:a}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/utils", ["sap/ui/core/EventBus","sap/ushell/EventHub"],function(e,n){"use strict";function r(r){setTimeout(function(){e.getInstance().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"})},0);n.emit("RendererLoaded",{rendererName:"fiori2"})}function i(n,r){setTimeout(function(){e.getInstance().publish("sap.ushell.renderers.fiori2.Renderer",n,r)},0)}return{publishExternalEvent:i,init:r}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/History", ["sap/ushell/renderer/History"],function(e){"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/resources", ["sap/base/i18n/Localization","sap/ui/model/resource/ResourceModel"],function(e,r){"use strict";var t={};t.getTranslationModel=function(e){if(!this._oResourceModel){this._oResourceModel=new r({bundleUrl:sap.ui.require.toUrl("sap/ushell/renderer/resources/resources.properties"),bundleLocale:e})}return this._oResourceModel};t.getTranslationFromJSON=function(r){if(!r){return""}try{const t=JSON.parse(r);const o=e.getLanguage().toLowerCase();for(const[e,r]of Object.entries(t)){if(e.toLowerCase()===o){return r}}for(const[e,r]of Object.entries(t)){const t=e.toLowerCase();if(t.startsWith(o)||o.startsWith(t)){return r}}return t.default||""}catch(e){return r}};t.getRTL=function(){return e.getRTL()};t.i18nModel=t.getTranslationModel(e.getLanguage());t.i18n=t.i18nModel.getResourceBundle();return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppConfiguration", ["sap/base/i18n/Localization","sap/base/i18n/ResourceBundle","sap/base/Log","sap/base/util/ObjectPath","sap/m/library","sap/ui/core/IconPool","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/util/Mobile","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/UrlParsing","sap/ushell/utils","sap/ushell/Container","sap/ushell/Config"],function(t,e,n,i,s,a,o,jQuery,r,c,p,l,u,h,f){"use strict";const g=s.ButtonType;function d(){const s={};let d=true;let m=null;let y=[];const I=[];this._applicationOpenedHandler=function(){d=false;while(I.length>0){I.shift()()}};c.on("AppRendered").do(this._applicationOpenedHandler.bind(this));this.addActivity=function(t){const e=new jQuery.Deferred;h.getServiceAsync("UserRecents").then(e=>e.addActivity(t)).then(e.resolve).catch(e.reject);return e.promise()};this.setApplicationInInitMode=function(){d=true};this.getApplicationRequestQueue=function(){return I};this.getCurrentApplication=function(){return m};this.getCurrentAppliction=this.getCurrentApplication;this.getMetadata=function(t,e){if(!t){t=m}if(t){let n;if(e){n=e.slice(1)}else{n=o?.getHash?o.getHash():""}const i=this._getMemoizationKey(n);return this._getMetadata(t,i)}return{}};this._getMemoizationKey=function(t){const[e,n]=t.split("?");const i=this._processParams(n);if(i){return e+i}const s=l.parseShellHash(t);if(s){const{semanticObject:t,action:e}=s;return`${t}-${e}`}return""};this._processParams=function(t){if(!t){return""}const e={};t.split("&").forEach(t=>{const[n,i]=t.split("=");e[n]=i});const n=Object.keys(e).sort();const i=n.reduce((t,n,i)=>{const s=`${n}=${e[n]}`;return`${t}${i>0?"&":"?"}${s}`},"");return i};this._getMetadata=function(t,e){if(!s.hasOwnProperty(e)||!s[e].complete){this.addMetadata(t,e)}if(!s[e]){s[e]={complete:false}}if(!s[e].title){s[e].title=t.text||p.i18n.getText("default_app_title")}return s[e]};this.setCurrentApplication=function(t){m=t;I.splice(0)};this.setHeaderHiding=function(){n.warning("Application configuration headerHiding property is deprecated and has no effect")};this.addApplicationSettingsButtons=function(t){if(d){I.push(()=>{this._addApplicationSettingsButtons(t)})}else{this._addApplicationSettingsButtons(t)}};this._addApplicationSettingsButtons=function(t){const e=h.getRendererInternal("fiori2");const n=[];for(let e=0;e<t.length;e++){const i=t[e];n.push(i.getId());i.setIcon(i.getIcon()||a.getIconURI("customize"));if(p.i18n.getText("userSettings")===i.getProperty("text")){i.setProperty("text",p.i18n.getText("userAppSettings"))}i.setType(g.Unstyled)}if(e){if(y.length){e.hideActionButton(y,true)}y=n;e.showActionButton(n,true,undefined,true)}};this.setWindowTitle=function(t){const e=p.getTranslationFromJSON(f.last("/core/shell/windowTitleExtension"));if(e){if(p.getRTL()){t=`${e} - ${t}`}else{t=`${t} - ${e}`}}window.document.title=t};this.setIcons=function(t){r.setIcons(t)};this.setApplicationFullWidth=function(t){this.setApplicationFullWidthInternal(t)};this.setApplicationFullWidthInternal=function(t){c.emit("setApplicationFullWidth",{bValue:t,date:Date.now()})};this.getApplicationName=function(t){const e=t?.additionalInformation;if(e){const t=/^SAPUI5\.Component=(.+)$/i.exec(e);if(t){return t[1]}}return null};this.getApplicationUrl=function(t){let e=t?.url;const n="P_TCODE";if(e){if(t.applicationType==="NWBC"&&e.indexOf(n)){return e}const i=e.indexOf("?");if(i>=0){e=e.slice(0,i)}if(e.slice(-1)!=="/"){e+="/"}}return e};this._getPropertyValueFromConfig=function(t,e,n){const i=`${e}Resource`;if(n&&t.hasOwnProperty(i)){return n.getText(t[i])}if(t.hasOwnProperty(e)){return t[e]}};this._getPropertyValueFromManifest=function(t,e,n){const s=e[n].manifestEntryKey;const a=e[n].path||"";const o=t.getManifestEntry(s);return i.get(a,o)};this.addMetadata=function(i,a){try{const o=this.getApplicationName(i);const r=this.getApplicationUrl(i);const c={fullWidth:{manifestEntryKey:"sap.ui",path:"fullWidth"},hideLightBackground:{manifestEntryKey:"sap.ui",path:"hideLightBackground"},title:{manifestEntryKey:"sap.app",path:"title"},icon:{manifestEntryKey:"sap.ui",path:"icons.icon"},favIcon:{manifestEntryKey:"sap.ui",path:"icons.favIcon"},homeScreenIconPhone:{manifestEntryKey:"sap.ui",path:"icons.phone"},"homeScreenIconPhone@2":{manifestEntryKey:"sap.ui",path:"icons.phone@2"},homeScreenIconTablet:{manifestEntryKey:"sap.ui",path:"icons.tablet"},"homeScreenIconTablet@2":{manifestEntryKey:"sap.ui",path:"icons.tablet@2"},startupImage320x460:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x920:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x1096:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x1096"},startupImage768x1004:{manifestEntryKey:"sap.ui",path:"icons.startupImage768x1004"},startupImage748x1024:{manifestEntryKey:"sap.ui",path:"icons.startupImage748x1024"},startupImage1536x2008:{manifestEntryKey:"sap.ui",path:"icons.startupImage1536x2008"},startupImage1496x2048:{manifestEntryKey:"sap.ui",path:"icons.startupImage1496x2048"},compactContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.compact"},cozyContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.cozy"}};const p=i?.componentHandle;if(!a){return}if(!s.hasOwnProperty(a)){s[a]={complete:false}}if(!s[a].complete){let l;let h;if(p){l=p.getInstance();h=p.getMetadata()}else if(o){n.warning(`No component handle available for '${o}'; SAPUI5 component metadata is incomplete`,null,"sap.ushell.services.AppConfiguration");return}if(l&&h){let n;const o=l._getManifestEntry("/sap.ui5/config",true);s[a].complete=true;if(o){let i=o.resourceBundle;if(i){if(i.slice(0,1)!=="/"){i=r+i}n=e.create({url:i,locale:t.getLanguage()})}}const p=!!l.getManifest();for(const t in c){if(c.hasOwnProperty(t)){if(p){s[a][t]=this._getPropertyValueFromManifest(l,c,t)}if(o&&s[a][t]===undefined){s[a][t]=this._getPropertyValueFromConfig(o,t,n)}}}s[a].version=l.getManifestEntry("/sap.app/applicationVersion/version");s[a].technicalName=h.getComponentName();this._setTitleFromNavResult(s[a],i)}else if(u.isApplicationTypeEmbeddedInIframe(i.applicationType)){const t="/~canvas;window=app/wda/";const e=i.url.indexOf(t);const n="/sap/bc/webdynpro/sap/";const o="/bc/gui/sap/its/webgui";const r=i.url.indexOf(o);if(e>=0){s[a].technicalName=i.url.substring(e+t.length,i.url.indexOf("/",e+t.length))}if(i.url.indexOf(n)>=0){s[a].technicalName=new RegExp(`${n}(.*)[?]`).exec(i.url)[1]}s[a].complete=true;if(r>=0){const t="etransaction=";const e=i.url.indexOf(t,r+o.length);const n=i.url.indexOf("&",e);const c=n>=0?n:i.url.length;s[a].technicalName=`${decodeURIComponent(i.url.substring(e+t.length,c))} (TCODE)`}}else{n.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration")}}const l=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];const h=r?.[r.length-1]==="/"?r.substring(0,r.length-1):r;l.forEach(t=>{const e=s[a][t];let n=null;if(e){n=this._isUrlRelative(e)?`${h}/${e}`:e}s[a][t]=n})}catch(t){n.warning("Application configuration could not be parsed")}};this._isUrlRelative=function(t){if(!t){return false}if(t.match(/^https?:\/\/.*/)){return false}return t[0]!=="/"};this._setTitleFromNavResult=function(t,e){const n=e?.text;const i=t.technicalName;const s=f.last("/core/shell/useAppTitleFromNavTargetResolution")||[];if(n&&s.includes(i)){t.title=n}}}return new d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppLifeCycle", ["sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/thirdparty/hasher","sap/ui/thirdparty/URI","sap/ushell/AppInfoParameters","sap/ushell/appIntegration/AppLifeCycle","sap/ushell/Config","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/TechnicalParameters"],(e,t,n,p,o,i,r,a,s,l,c)=>{"use strict";const u="appLoaded";function h(t,n,p,o){this._oCurrentApplication=null;this._oCurrentApplicationContainer=null;this._oEventProvider=new e;if(window.QUnit===undefined&&a.inAppRuntime()===false){if(r.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{e.subscribe("FLP",[{channelId:"flp-app-info",version:"1.0"}],this._handleIncomingMessageBrokerMessage.bind(this,e),()=>{})})}}}h.prototype.init=function(e){e.attachAfterNavigate(this.onAfterNavigate.bind(this))};h.prototype._handleIncomingMessageBrokerMessage=function(e,t,n,p,o){if(n==="flp-app-info"&&p==="get-current-app-info"&&this._oCurrentApplication){this._oCurrentApplication.getAllAppInfo(true).then(n=>{e.publish("flp-app-info","FLP",Date.now().toString(),p,[t],n)})}};h.prototype.onAfterNavigate=async function(e){let n=false;const p=e.getParameter("to");let o;if(p?.isA?.("sap.ushell.appIntegration.ApplicationContainer")){o=p}let i;if(o&&typeof o.getComponentHandle==="function"&&o.getComponentHandle()){i=o.getComponentHandle().getInstance()}else if(o){const e=o.getAggregation("child");if(e){i=e.getComponentInstance()}}else{i=t.getComponentById(p?.getComponent?.());if(i?.isA?.("sap.ushell.renderer.rendererTargetWrapper.Component")){i=await i.getComponentInstance()}}if(i){const e=i.getId();n=e.indexOf("Shell-home-component")!==-1||e.indexOf("pages-component")!==-1||e.indexOf("workPageRuntime-component")!==-1||e.indexOf("Shell-appfinder-component")!==-1||e.indexOf("homeApp-component")!==-1||e.indexOf("runtimeSwitcher-component")!==-1}let r=o&&typeof o.getApplicationType==="function"&&o.getApplicationType();if((!r||r==="URL")&&i){r="UI5"}this._setCurrentApplicationObject(r,i,n,o)};h.prototype._getAppIntent=function(e){const t=n.getHash();let o;if(!t){return Promise.reject("Could not identify current application hash")}const i=a.getServiceAsync("URLParsing");return i.then(n=>{o=n.parseShellHash(t);if(e===true&&this._oCurrentApplicationContainer&&typeof this._oCurrentApplicationContainer.getCurrentAppUrl==="function"){const e=this._oCurrentApplicationContainer.getCurrentAppUrl();if(e){const t=new p(e).search(true);if(t.hasOwnProperty("sap-remote-intent")){o.semanticObject=t["sap-remote-intent"].split("-")[0];o.action=t["sap-remote-intent"].split("-")[1];delete o.params["sap-shell-so"];delete o.params["sap-shell-action"]}}}return o})};h.prototype._setCurrentApplicationObject=function(e,t,n,p){this._oCurrentApplicationContainer=p;this._oCurrentApplication={applicationType:e,componentInstance:t,homePage:n,getTechnicalParameter:function(n){return c.getParameterValue(n,t,p,e)},getIntent:this._getAppIntent.bind(this),getInfo:function(e){return o.getInfo(e,this._oCurrentApplication,p)}.bind(this),getAllAppInfo:function(e){return o.getAllAppInfo(e,this._oCurrentApplication,t,p).then(t=>{if(e===true){t.applicationType=this._oCurrentApplication.applicationType;t.homePage=this._oCurrentApplication.homePage}else{t.applicationType={value:this._oCurrentApplication.applicationType};t.homePage={value:this._oCurrentApplication.homePage}}return t})}.bind(this),getSystemContext:function(){const e=l.getCurrentApplication()||{};const t=e.contentProviderId||"";return a.getServiceAsync("ClientSideTargetResolution").then(e=>e.getSystemContext(t))},disableKeepAliveAppRouterRetrigger:function(e){s.emit("disableKeepAliveRestoreRouterRetrigger",{disable:e,appId:this._oCurrentApplicationContainer?.getCurrentAppId(),componentId:this._oCurrentApplication.componentInstance?.oContainer?.sId,date:Date.now()})}.bind(this)};setTimeout(()=>{this._oEventProvider.fireEvent(u,this._oCurrentApplication);s.emit("FESRAppLoaded",{technicalName:this._oCurrentApplication?.technicalName});if(window.QUnit===undefined&&a.inAppRuntime()===false){if(r.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{this._oCurrentApplication.getAllAppInfo(true).then(t=>{e.publish("flp-app-info","FLP",Date.now().toString(),"new-app-info","*",t)})})}}},0)};h.prototype.getCurrentApplication=function(){return this._oCurrentApplication};h.prototype.attachAppLoaded=function(e,t,n){this._oEventProvider.attachEvent(u,e,t,n)};h.prototype.detachAppLoaded=function(e,t){this._oEventProvider.detachEvent(u,e,t)};h.prototype.prepareCurrentAppObject=function(e,t,n,p,o){this._setCurrentApplicationObject(e,t,n,p,o)};h.prototype.reloadCurrentApp=function(){var e=this.getCurrentApplication();s.emit("reloadCurrentApp",{sAppContainerId:this._oCurrentApplicationContainer?.getId?.(),sAppId:e.componentInstance?.getId?.(),sCurrentHash:n.getHash(),date:Date.now()})};h.prototype.setAppInfo=function(e,t){o.setCustomAttributes(e?.info);if(r.last("/core/shell/enableMessageBroker")){a.getServiceAsync("MessageBroker").then(e=>{this._oCurrentApplication.getAllAppInfo(true).then(n=>{e.publish("flp-app-info","FLP",Date.now().toString(),t===true?"new-app-info":"app-info-update","*",n)})})}};h.prototype.ApplicationType={UI5:"UI5",WDA:"WDA",NWBC:"NWBC",URL:"URL",TR:"TR"};h.prototype.AppInfoParameterName={productName:"productName",theme:"theme",languageTag:"languageTag",appIntent:"appIntent",appFrameworkId:"appFrameworkId",technicalAppComponentId:"technicalAppComponentId",appId:"appId",appVersion:"appVersion",appSupportInfo:"appSupportInfo",appFrameworkVersion:"appFrameworkVersion","abap.transaction":"abap.transaction"};h.hasNoAdapter=true;return h},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppState", ["sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/ushell/services/appstate/AppState","sap/ushell/services/appstate/AppStatePersistencyMethod","sap/ushell/services/appstate/Sequentializer","sap/ushell/services/appstate/SequentializingAdapter","sap/ushell/services/appstate/WindowAdapter","sap/ushell/utils"],function(e,jQuery,t,n,s,i,r,a){"use strict";function o(e){return a.isDefined(e)&&a.isDefined(e.transient)?!!e.transient:true}function p(e,t,n,s){this._oConfig=s&&s.config;this._sSessionKey="";this._oAdapter=new i(e);this._oAdapter=new r(this,this._oAdapter,s)}p.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey()}return this._sSessionKey};p.prototype.getAppState=function(e){var n=new jQuery.Deferred;var s=this;var i;this._loadAppState(e).done(function(e,r,a,o){i=new t(s,e,false,r,undefined,undefined,undefined,a,o);n.resolve(i)}).fail(function(){i=new t(s,e);n.resolve(i)});return n.promise()};p.prototype._getGeneratedKey=function(e){var t=a.generateRandomKey();if(e){t=("TAS"+t).substring(0,41)}else{t=("AS"+t).substring(0,40)}return t};p.prototype.createEmptyAppState=function(s,i,r,a){var p;var d="";var f="";var u=i||o(this._oConfig);var h=this._getGeneratedKey(u);if(r!==undefined&&!this.isPersistencyMethodSupported(r)){r=undefined;a=undefined}if(s){if(!e.isObjectA(s,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}if(s.getMetadata&&s.getMetadata()&&typeof s.getMetadata().getName==="function"){d=s.getMetadata().getName()||""}if(!d&&s.getMetadata&&s.getMetadata().getComponentName){d=s.getMetadata().getComponentName()}if(s.getMetadata&&s.getMetadata()&&typeof s.getManifest==="function"&&typeof s.getManifest()==="object"&&typeof s.getManifest()["sap.app"]==="object"){f=s.getManifest()["sap.app"].ach||""}}if(u===true){r=a=undefined}else if(r===undefined&&this.isPersistencyMethodSupported(n.PersonalState)){r=n.PersonalState;a=undefined}p=new t(this,h,true,undefined,d,f,u,r,a);return p};p.prototype.createEmptyUnmodifiableAppState=function(){var e=this._getGeneratedKey();var n=new t(this,e,false);return n};p.prototype._saveAppState=function(e,t,s,i,r,p,d){var f=this._getSessionKey();var u=a.isDefined(r)?r:o(this._oConfig);if(u){p=undefined;d=undefined}else if(p!==undefined){if(!this.isPersistencyMethodSupported(p)){if(this.isPersistencyMethodSupported(n.PersonalState)){p=n.PersonalState}else{p=undefined}d=undefined}}return this._oAdapter.saveAppState(e,f,t,s,i,u,p,d)};p.prototype._keyIsJson=function(e){if(typeof e==="string"&&e.indexOf("{")===0){try{JSON.parse(e);return true}catch(e){return false}}return false};p.prototype._loadAppState=function(e){if(this._keyIsJson(e)){return(new jQuery.Deferred).resolve(e,e).promise()}return this._oAdapter.loadAppState(e)};p.prototype.deleteAppState=function(e){return this._oAdapter.deleteAppState(e)};p._getSequentializer=function(){return new s};p.prototype.getSupportedPersistencyMethods=function(){if(this._oAdapter.getSupportedPersistencyMethods){return this._oAdapter.getSupportedPersistencyMethods()}return[]};p.prototype.isPersistencyMethodSupported=function(e){var t=this.getSupportedPersistencyMethods();if(t.length>0&&e!==undefined){return t.indexOf(e)>=0}return false};p.prototype.setAppStateToPublic=function(e){var t=d(e,"sap-xapp-state");var s=d(e,"sap-iapp-state");var i=(new jQuery.Deferred).resolve();var r=(new jQuery.Deferred).resolve();var a=new jQuery.Deferred;var o;var p;if(t!==undefined){i=this.makeStatePersistent(t,n.PublicState).done(function(n){if(t!==n){e=e.replace(t,n);o=n}}).fail(a.reject)}if(s!==undefined){r=this.makeStatePersistent(s,n.PublicState).done(function(t){if(s!==t){e=e.replace(s,t);p=t}}).fail(a.reject)}jQuery.when(i,r).done(function(){a.resolve(e,t,s,o,p)});return a.promise()};function d(e,t){var n=new RegExp("(?:"+t+"=)([^&/]+)");var s=n.exec(e);var i;if(s&&s.length===2){i=s[1]}return i}p.prototype.makeStatePersistent=function(e,t,n){var s=new jQuery.Deferred;if(this.getSupportedPersistencyMethods().length===0){return s.resolve(e)}if(this._keyIsJson(e)){return s.resolve(e)}if(this.isPersistencyMethodSupported(t)){this.getAppState(e).done(function(i){if(i._iPersistencyMethod!==t){i.bTransient=false;i._iPersistencyMethod=t;i._oPersistencySettings=n;if(e.startsWith("TAS")){e=e.substring(1,e.length)}this._saveAppState(e,i._sData,i._sAppName,i._sACHComponent,false,t,n).done(function(){s.resolve(e)}).fail(s.reject)}else{s.resolve(e)}}.bind(this)).fail(s.reject)}else{s.reject("AppState.makeStatePersistent - adapter does not support persistence method: "+t)}return s.promise()};p.prototype.getPersistentWhenShared=function(){return this._oConfig&&this._oConfig.persistentWhenShared===true?true:false};p.WindowAdapter=r;p.hasNoAdapter=false;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Bookmark", ["sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/library","sap/ushell/utils","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log"],function(e,jQuery,r,t,o,n,a,i){"use strict";var s="sap.ushell.services.Bookmark";var u="X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG";var c=t.ContentNodeType;function l(){this._oLaunchPageServicePromise=sap.ushell.Container.getServiceAsync("LaunchPage");if(r.last("/core/spaces/enabled")){this._oPagesServicePromise=sap.ushell.Container.getServiceAsync("Pages")}this._addBookmarkToContentNodes=function(e,r,t,o){var n=r.map(function(r){if(r&&r.hasOwnProperty("type")&&r.isContainer){switch(r.type){case c.Page:return this.addBookmarkToPage(e,r.id,o);case c.HomepageGroup:return new Promise(function(e,t){this._oLaunchPageServicePromise.then(function(o){o.getGroupById(r.id).done(e).fail(t)})}.bind(this)).then(function(r){return this.addBookmarkToHomepageGroup(e,r,t,o)}.bind(this));default:return Promise.reject("Bookmark Service: The API needs to be called with a valid content node type. '"+r.type+"' is not supported.")}}return Promise.reject("Bookmark Service: Not a valid content node.")}.bind(this));return Promise.all(n)};this.addBookmark=function(e,t,o){var n=new jQuery.Deferred;var a=r.last("/core/shell/enablePersonalization");var u=r.last("/core/spaces/enabled");var c=r.last("/core/spaces/myHome/enabled");if(!a&&(!u||!c)){return n.resolve().promise()}this._checkBookmarkParameters(e).then(()=>this._changeUrlStatesToPersistent(e.url)).then(function(r){e.url=r;if(typeof t==="undefined"&&u){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getDefaultSpace()}).then(function(e){var r=e&&e.children&&e.children[0];return r}).then(function(r){return this._addBookmarkToContentNodes(e,[r],false,o)}.bind(this))}if((typeof t==="undefined"||!t.hasOwnProperty("type"))&&!Array.isArray(t)){return this.addBookmarkToHomepageGroup(e,t,false,o)}var n=[].concat(t);return this._addBookmarkToContentNodes(e,n,false,o)}.bind(this)).then(n.resolve).catch(function(e){i.error("Error during Bookmark creation: ",e,s);n.reject(e)});return n.promise()};this.addCustomBookmark=async function(e,r,t,o){var i=n(r);var s=a(i,{vizType:e,vizConfig:{"sap.flp":{chipConfig:i.chipConfig},"sap.platform.runtime":{includeManifest:!i.loadManifest}}});delete s.chipConfig;delete s.loadManifest;s.url=await this._changeUrlStatesToPersistent(s.url);var u=[].concat(t);return this._addBookmarkToContentNodes(s,u,true,o)};this.addBookmarkToHomepageGroup=function(t,o,n,a){if(r.last("/core/spaces/enabled")){var i="Bookmark Service: The API is not available in spaces mode.";return Promise.reject(i)}return new Promise(function(r,i){this._oLaunchPageServicePromise.then(function(s){var u;if(n){u=s.addCustomBookmark(t,o,a)}else{u=s.addBookmark(t,o,a)}u.done(function(t){var n={tile:t,group:o};e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",n);r()}).fail(i)})}.bind(this))};this.addBookmarkToPage=function(e,t,o){if(!r.last("/core/spaces/enabled")){return Promise.reject("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad home page mode, use 'addBookmark' instead.")}var n=r.last("/core/shell/enablePersonalization");var a=r.last("/core/spaces/myHome/enabled");var i=r.last("/core/spaces/myHome/myHomePageId");if(!n&&(!a||a&&t!==i)){return Promise.reject("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.")}if(e&&(typeof e.title!=="string"||typeof e.url!=="string")){return Promise.reject("Bookmark Service - Invalid bookmark data.")}return this._oPagesServicePromise.then(function(r){return r.addBookmarkToPage(t,e,undefined,o)})};this.addBookmarkByGroupId=function(e,t,o){var n=new jQuery.Deferred;if(r.last("/core/spaces/enabled")){var a="Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.";return n.reject(a).promise()}this._oLaunchPageServicePromise.then(function(r){r.getGroups().done(function(r){var a=r.find(function(e){return e.id===t})||null;this.addBookmark(e,a,o).done(n.resolve).fail(n.reject)}.bind(this)).fail(n.reject)}.bind(this)).catch(n.reject);return n.promise()};this.getShellGroupIDs=function(e){var t=new jQuery.Deferred;if(r.last("/core/spaces/enabled")){var o="Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.";return t.reject(o).promise()}this._oLaunchPageServicePromise.then(function(r){r.getGroupsForBookmarks(e).done(function(e){e=e.map(function(e){return{id:r.getGroupId(e.object),title:e.title}});t.resolve(e)}).fail(t.reject)});return t.promise()};this._doAddCatalogTileToGroup=function(e,r,t,o){this._oLaunchPageServicePromise.then(function(n){if(o){n.getGroups().fail(e.reject).done(function(a){var s=a.some(function(a){if(n.getGroupId(a)===o){this._addToGroup(t,e,r,a);return true}}.bind(this));if(!s){var u="Group '"+o+"' is unknown";i.error(u,null,"sap.ushell.services.Bookmark");e.reject(u)}}.bind(this))}else{n.getDefaultGroup().fail(e.reject).done(function(o){this._addToGroup(t,e,r,o)}.bind(this))}}.bind(this));return e.promise()};this._isSameCatalogTile=function(e,r,t){var o=t.getCatalogTileId(r);if(o===undefined){return false}return o.indexOf(e)===0};this._addToGroup=function(r,t,o,n){return this._oLaunchPageServicePromise.then(function(a){a.getCatalogTiles(r).fail(t.reject).done(function(s){var u=a.getGroupId(n);var c=s.some(function(r){if(this._isSameCatalogTile(o,r,a)){a.addTile(r,n).fail(t.reject).done(function(){t.resolve();e.getInstance().publish("sap.ushell.services.Bookmark","catalogTileAdded",u)});return true}}.bind(this));if(!c){var l="No tile '"+o+"' in catalog '"+a.getCatalogId(r)+"'";i.error(l,null,"sap.ushell.services.Bookmark");t.reject(l)}}.bind(this))}.bind(this))};this.addCatalogTileToGroup=function(e,t,o){var n=new jQuery.Deferred;var a;i.error("Deprecated API call of 'sap.ushell.Bookmark.addCatalogTileToGroup'. Please use 'addBookmark' instead",null,"sap.ushell.services.Bookmark");if(r.last("/core/spaces/enabled")){a="Bookmark Service: The API 'addCatalogTileToGroup' is not supported in launchpad spaces mode.";return n.reject(a).promise()}this._oLaunchPageServicePromise.then(function(r){var s=o?this._isMatchingRemoteCatalog:this._isLegacyHANACatalog;o=o||{id:u};r.onCatalogTileAdded(e);r.getCatalogs().fail(n.reject).done(function(u){var c;u.forEach(function(e){if(s(e,o,r)){if(!c){c=e}else{i.warning("More than one matching catalog: "+JSON.stringify(o),null,"sap.ushell.services.Bookmark")}}});if(c){this._doAddCatalogTileToGroup(n,e,c,t)}else{a="No matching catalog found: "+JSON.stringify(o);i.error(a,null,"sap.ushell.services.Bookmark");n.reject(a)}}.bind(this))}.bind(this));return n.promise()};this._checkBookmarkParameters=function(e){return Promise.resolve().then(function(){if(!e){throw new Error("Invalid Bookmark Data: No bookmark parameters passed.")}var r=e.dataSource;var t;if(r){if(r.type!=="OData"){throw new Error("Invalid Bookmark Data: Unknown data source type: "+r.type)}t=r.settings&&r.settings.odataVersion;var o=["2.0","4.0"];if(!o.includes(t)){throw new Error("Invalid Bookmark Data: Unknown OData version in the data source: "+t)}}if(e.serviceUrl){return sap.ushell.Container.getServiceAsync("ReferenceResolver").then(function(t){if(t.hasSemanticDateRanges(e.serviceUrl)&&!r){throw new Error("Invalid Bookmark Data: Provide a data source to use semantic date ranges.")}})}})};this._isMatchingRemoteCatalog=function(e,r,t){var o=t.getCatalogData(e);return o.remoteId===r.remoteId&&o.baseUrl.replace(/\/$/,"")===r.baseUrl.replace(/\/$/,"")};this._isLegacyHANACatalog=function(e,r,t){return t.getCatalogId(e)===u};this.countBookmarks=function(e,t){var o=new jQuery.Deferred;if(r.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(r){return r.countBookmarks({url:e,contentProviderId:t})}).then(o.resolve,o.reject)}else{this._oLaunchPageServicePromise.then(function(r){r.countBookmarks(e,t).done(o.resolve).fail(o.reject)})}return o.promise()};this.countCustomBookmarks=function(e){if(!e||!e.url||!e.vizType){return Promise.reject("countCustomBookmarks: Some required parameters are missing.")}if(r.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(r){return r.countBookmarks(e)})}return this._oLaunchPageServicePromise.then(function(r){return r.countCustomBookmarks(e)})};this.deleteBookmarks=function(t,o){var n=new jQuery.Deferred;if(r.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(e){return e.deleteBookmarks({url:t,contentProviderId:o})}).then(n.resolve,n.reject)}else{this._oLaunchPageServicePromise.then(function(r){r.deleteBookmarks(t,o).done(function(r){e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",t);n.resolve(r)}).fail(n.reject)})}return n.promise()};this.deleteCustomBookmarks=function(t){if(!t||!t.url||!t.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.")}if(r.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(e){return e.deleteBookmarks(t)})}return this._oLaunchPageServicePromise.then(function(e){return e.deleteCustomBookmarks(t)}).then(function(){e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",t.url)})};this.updateBookmarks=function(e,t,o){var n=new jQuery.Deferred;if(r.last("/core/spaces/enabled")){Promise.all([this._oPagesServicePromise,this._changeUrlStatesToPersistent(t.url)]).then(function([r,n]){t.url=n;return r.updateBookmarks({url:e,contentProviderId:o},t)}).then(n.resolve,n.reject)}else{Promise.all([this._oLaunchPageServicePromise,this._changeUrlStatesToPersistent(t.url)]).then(function([r,a]){t.url=a;r.updateBookmarks(e,t,o).done(n.resolve).fail(n.reject)})}return n.promise()};this.updateCustomBookmarks=async function(e,t){if(!e||!e.url||!e.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.")}var o=a({},t,{vizConfig:{"sap.flp":{chipConfig:t.chipConfig},"sap.platform.runtime":{includeManifest:!t.loadManifest}}});delete o.chipConfig;delete o.loadManifest;o.url=await this._changeUrlStatesToPersistent(o.url);if(r.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(r){return r.updateBookmarks(e,o)})}return this._oLaunchPageServicePromise.then(function(r){return r.updateCustomBookmarks(e,o)})};this.getContentNodes=function(){if(r.last("/core/spaces/enabled")){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getContentNodes()})}return new Promise(function(e,r){this._oLaunchPageServicePromise.then(function(t){t.getGroupsForBookmarks().done(function(r){var o=r.map(function(e){return{id:t.getGroupId(e.object),label:e.title,type:c.HomepageGroup,isContainer:true}});e(o)}).fail(r)})}.bind(this))};this._changeUrlStatesToPersistent=async function(e){const r=await sap.ushell.Container.getServiceAsync("AppState");var t=r.getPersistentWhenShared();if(r.getSupportedPersistencyMethods().length===0&&t!==true){return e}if(e&&e.length>0){return o.promisify(r.setAppStateToPublic(e))}return e}}l.hasNoAdapter=true;return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/BookmarkV2", ["sap/ui/core/EventBus","sap/ushell/Config","sap/ushell/library","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log","sap/ushell/utils","sap/ushell/Container"],(e,t,o,a,r,s,i,n)=>{"use strict";const c="sap.ushell.services.BookmarkV2";const u=o.ContentNodeType;function d(){this._getLaunchPageService=function(){if(!this._oLaunchPageServicePromise){this._oLaunchPageServicePromise=n.getServiceAsync("LaunchPage")}return this._oLaunchPageServicePromise};this._getPagesService=function(){if(!this._oPagesServicePromise){this._oPagesServicePromise=n.getServiceAsync("Pages")}return this._oPagesServicePromise};this._addBookmarkToContentNodes=async function(e,t,o,a){const r=t.map(async t=>{if(t&&t.hasOwnProperty("type")&&t.isContainer){if(t.type===u.Page){return this.addBookmarkToPage(e,t.id,a)}if(t.type===u.HomepageGroup){const r=await this._getLaunchPageService();const s=await i.promisify(r.getGroupById(t.id));return this.addBookmarkToHomepageGroup(e,s,o,a)}throw new Error(`Bookmark Service: The API needs to be called with a valid content node type. '${t.type}' is not supported.`)}throw new Error("Bookmark Service: Not a valid content node.")});return Promise.all(r)};this.addBookmark=async function(e,o,r){const i=t.last("/core/shell/enablePersonalization");const u=t.last("/core/spaces/enabled");const d=t.last("/core/spaces/myHome/enabled");if(!i&&(!u||!d)){return}try{await this._checkBookmarkParameters(e);const t=a(e,20);t.url=await this._changeUrlStatesToPersistent(t.url);if(typeof o==="undefined"&&u){const e=await n.getServiceAsync("Menu");const o=await e.getDefaultSpace();const a=o&&o.children&&o.children[0];return this._addBookmarkToContentNodes(t,[a],false,r)}if((typeof o==="undefined"||!o.hasOwnProperty("type"))&&!Array.isArray(o)){return this.addBookmarkToHomepageGroup(t,o,false,r)}const s=[].concat(o);return this._addBookmarkToContentNodes(t,s,false,r)}catch(e){s.error("Error during Bookmark creation: ",e,c);throw e}};this.addCustomBookmark=async function(e,t,o,s){const i=a(t);const n=r(i,{vizType:e,vizConfig:{"sap.flp":{chipConfig:i.chipConfig},"sap.platform.runtime":{includeManifest:!i.loadManifest}}});delete n.chipConfig;delete n.loadManifest;n.url=await this._changeUrlStatesToPersistent(n.url);const c=[].concat(o);return this._addBookmarkToContentNodes(n,c,true,s)};this.addBookmarkToHomepageGroup=async function(o,a,r,s){if(t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API is not available in spaces mode.")}const n=await this._getLaunchPageService();let c;if(r){c=await i.promisify(n.addCustomBookmark(o,a,s))}else{c=await i.promisify(n.addBookmark(o,a,s))}const u={tile:c,group:a};e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",u)};this.addBookmarkToPage=async function(e,o,a){if(!t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad home page mode, use 'addBookmark' instead.")}const r=t.last("/core/shell/enablePersonalization");const s=t.last("/core/spaces/myHome/enabled");const i=t.last("/core/spaces/myHome/myHomePageId");if(!r&&(!s||s&&o!==i)){throw new Error("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.")}if(e&&(typeof e.title!=="string"||typeof e.url!=="string")){throw new Error("Bookmark Service - Invalid bookmark data.")}const n=await this._getPagesService();return n.addBookmarkToPage(o,e,undefined,a)};this.addBookmarkByGroupId=async function(e,o,a){if(t.last("/core/spaces/enabled")){const e="Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.";throw new Error(e)}const r=await this._getLaunchPageService();const s=await i.promisify(r.getGroups());const n=s.find(e=>e.id===o)||null;return this.addBookmark(e,n,a)};this.getShellGroupIDs=async function(e){if(t.last("/core/spaces/enabled")){const e="Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.";throw new Error(e)}const o=await this._getLaunchPageService();let a=await i.promisify(o.getGroupsForBookmarks(e));a=a.map(e=>({id:o.getGroupId(e.object),title:e.title}));return a};this._checkBookmarkParameters=async function(e){if(!e){throw new Error("Invalid Bookmark Data: No bookmark parameters passed.")}const t=e.dataSource;let o;if(t){if(t.type!=="OData"){throw new Error(`Invalid Bookmark Data: Unknown data source type: ${t.type}`)}o=t.settings&&t.settings.odataVersion;const e=["2.0","4.0"];if(!e.includes(o)){throw new Error(`Invalid Bookmark Data: Unknown OData version in the data source: ${o}`)}}if(e.serviceUrl){const o=await n.getServiceAsync("ReferenceResolver");if(o.hasSemanticDateRanges(e.serviceUrl)&&!t){throw new Error("Invalid Bookmark Data: Provide a data source to use semantic date ranges.")}}};this.countBookmarks=async function(e,o){if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return i.promisify(t.countBookmarks(e,o))}const a=await this._getPagesService();return a.countBookmarks({url:e,contentProviderId:o})};this.countCustomBookmarks=async function(e){if(!e||!e.url||!e.vizType){throw new Error("countCustomBookmarks: required parameters are missing.")}if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return t.countCustomBookmarks(e)}const o=await this._getPagesService();return o.countBookmarks(e)};this.deleteBookmarks=async function(o,a){if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();const r=await i.promisify(t.deleteBookmarks(o,a));e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",o);return r}const r=await this._getPagesService();return r.deleteBookmarks({url:o,contentProviderId:a})};this.deleteCustomBookmarks=async function(o){if(!o||!o.url||!o.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();await t.deleteCustomBookmarks(o);e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",o.url);return}const a=await this._getPagesService();return a.deleteBookmarks(o)};this.updateBookmarks=async function(e,o,r){const s=a(o,20);s.url=await this._changeUrlStatesToPersistent(s.url);if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return i.promisify(t.updateBookmarks(e,s,r))}const n=await this._getPagesService();return n.updateBookmarks({url:e,contentProviderId:r},s)};this.updateCustomBookmarks=async function(e,o){if(!e||!e.url||!e.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}const a=r({},o,{vizConfig:{"sap.flp":{chipConfig:o.chipConfig},"sap.platform.runtime":{includeManifest:!o.loadManifest}}});delete a.chipConfig;delete a.loadManifest;a.url=await this._changeUrlStatesToPersistent(a.url);if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return t.updateCustomBookmarks(e,a)}const s=await this._getPagesService();return s.updateBookmarks(e,a)};this.getContentNodes=async function(){if(!t.last("/core/spaces/enabled")){const e=await this._getLaunchPageService();const t=await i.promisify(e.getGroupsForBookmarks());const o=t.map(t=>({id:e.getGroupId(t.object),label:t.title,type:u.HomepageGroup,isContainer:true}));return o}const e=await n.getServiceAsync("Menu");return e.getContentNodes()};this._changeUrlStatesToPersistent=async function(e){const t=await n.getServiceAsync("AppState");const o=t.getPersistentWhenShared();if(t.getSupportedPersistencyMethods().length===0&&o!==true){return e}if(!e||typeof e!=="string"){return e}return i.promisify(t.setAppStateToPublic(e))}}d.hasNoAdapter=true;return d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel", ["sap/ushell/services/CommonDataModel/PersonalizationProcessor","sap/ushell/services/CommonDataModel/vizTypeDefaults/VizTypeDefaults","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/ushell/services/CommonDataModel/SiteConverter","sap/base/util/isEmptyObject","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/Version","sap/ushell/Config","sap/base/util/values","sap/ushell/library","sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/base/Log","sap/ushell/Container"],function(e,t,i,jQuery,r,n,o,s,a,l,p,u,h,c,f,d,g,P){"use strict";var v=c.DisplayFormat;var y=c.ContentNodeType;var _="sap.ushell.services.CommonDataModel";function m(t,i,r,o){this._oAdapter=t;this._oPersonalizationProcessor=new e;this._oSiteConverter=new n;this._oSiteDeferred=new jQuery.Deferred;this._oOriginalSite={};this._bPersonalizationLoadingFailed=false;this._oPersonalizedSiteForCDMVersion30={};this._bLoadPersonalizationForCDMVersion30Late=false;this._oPersonalizedPages={};this._oPersonalizationDeltasForCDMVersion31={};this._mGetPagesPromises={};this._pGetSiteFromAdapter=t.getSite().then(e=>{this._oOriginalSite=a({},e);const t=new p(e._version);if(t.compareTo("3.1.0")<0){const t=f.isFlpHomeIntent();if(t){this._loadAndApplyPersonalizationForCDMVersion30(e)}else{this._bLoadPersonalizationForCDMVersion30Late=true}}else{this._prepareSiteForCDMVersion31()}return e}).fail(e=>{this._oSiteDeferred.reject(e);this._bLoadPersonalizationForCDMVersion30Late=false})}m.prototype._loadAndApplyPersonalizationForCDMVersion30=async function(e){try{const t=await this._getPersonalization(e._version);this._oPersonalizedSiteForCDMVersion30=await this._triggerMixinPersonalizationInSite(e,t);this._oSiteDeferred.resolve(this._oPersonalizedSiteForCDMVersion30)}catch(e){this._oSiteDeferred.reject(e)}};m.prototype._prepareSiteForCDMVersion31=function(){this._ensureStandardVizTypesPresent(this._oOriginalSite).then(()=>{this._ensureProperDisplayFormats(this._oOriginalSite);this._oSiteDeferred.resolve(this._oOriginalSite)})};m.prototype._applyPagePersonalization=function(e,t){var i=e.identification.id;if(Object.keys(t).length){var r=t.classicHomePage;if(r&&r.version==="3.1.0"){Object.keys(r).forEach(function(e){if(!t[e]){t[e]=r[e]}});delete t.classicHomePage;t._version=t.version}var n=new p(t._version||t.version);if(n.compareTo("3.1.0")<0){t={classicHomePage:t,_version:"3.1.0",version:"3.1.0"}}}this._oPersonalizationDeltasForCDMVersion31=t;var o=s(t[i],20)||{};var a=this._oSiteConverter.convertTo("3.0.0",s(e,20));return this._triggerMixinPersonalizationInSite(a,o).then(function(e){this._oPersonalizedPages[i]=this._oSiteConverter.convertTo("3.1.0",s(e,20));return this._oPersonalizedPages[i]}.bind(this))};m.prototype._migratePersonalizedPages=function(e){if(typeof this._oAdapter.migratePersonalizedPages!=="function"){return Promise.resolve(e)}return this._oAdapter.migratePersonalizedPages(e).then(function(e){if(e.length===0){return null}return this.save(e)}.bind(this)).then(function(){return e})};m.prototype._triggerMixinPersonalizationInSite=async function(e,t){const i=await f.promisify(this._oPersonalizationProcessor.mixinPersonalization(e,t));this._ensureCompleteSite(i);this._ensureGroupsOrder(i);await this._ensureStandardVizTypesPresent(i);this._ensureProperDisplayFormats(i);return i};m.prototype.getHomepageGroups=function(){var e=new jQuery.Deferred;this.getSite().then(function(t){var i=t&&t.site&&t.site.payload&&t.site.payload.groupsOrder?t.site.payload.groupsOrder:[];e.resolve(i)});return e.promise()};m.prototype.getGroups=function(){var e=new jQuery.Deferred;this.getSite().then(function(t){var i=[];Object.keys(t.groups).forEach(function(e){i.push(t.groups[e])});e.resolve(i)});return e.promise()};m.prototype.getGroup=function(e){var t=new jQuery.Deferred;this.getSite().then(function(i){var r=i.groups[e];if(r){t.resolve(r)}else{t.reject("Group "+e+" not found")}});return t.promise()};m.prototype.getSite=function(){if(this._bLoadPersonalizationForCDMVersion30Late){this.getSiteWithoutPersonalization().then(e=>this._loadAndApplyPersonalizationForCDMVersion30(e));this._bLoadPersonalizationForCDMVersion30Late=false}return this._oSiteDeferred.promise()};m.prototype.getSiteWithoutPersonalization=function(){return this._pGetSiteFromAdapter};m.prototype.getPage=function(e){var t=u.last("/core/shell/enablePersonalization");var i=u.last("/core/spaces/myHome/enabled");var r=u.last("/core/spaces/myHome/myHomePageId");return Promise.resolve(this._pGetSiteFromAdapter).then(function(){if(this._oPersonalizedPages[e]){return this._oPersonalizedPages[e]}if(t||i&&e===r){return Promise.all([this._getPageFromAdapter(e),this._getPersonalization(this._oOriginalSite._version)]).catch(function(){return Promise.reject("CommonDataModel Service: Cannot get page "+e)}).then(function(e){return this._applyPagePersonalization(e[0],e[1]).catch(function(){return Promise.reject("Personalization Processor: Cannot mixin the personalization.")})}.bind(this)).then(function(e){return this._migratePersonalizedPages([e]).then(function(e){return e[0]})}.bind(this))}return this._getPageFromAdapter(e)}.bind(this))};m.prototype._getPageFromAdapter=function(e){if(!this._oAdapter.getPage){return Promise.resolve(s(this._oOriginalSite.pages[e],20))}return this._oAdapter.getPage(e).then(function(t){return Promise.all([this.getCachedVisualizations(),this.getCachedVizTypes()]).then(function(i){var r=i[0];var n=i[1];this._oOriginalSite.pages[e]=t;this._oOriginalSite.visualizations=r;this._oOriginalSite.vizTypes=n;return s(t,20)}.bind(this))}.bind(this))};m.prototype._filterForProperPages=function(e){return e.filter(function(e){return!!e})};m.prototype.getPages=function(e){var t=u.last("/core/shell/enablePersonalization");var i=u.last("/core/spaces/myHome/enabled");var r=u.last("/core/spaces/myHome/myHomePageId");var n;if(this._mGetPagesPromises[e.toString()]){n=this._mGetPagesPromises[e.toString()]}else{n=Promise.resolve(this._pGetSiteFromAdapter).then(function(){if(t||i){return Promise.all([this._getPagesFromAdapter(e),this._getPersonalization(this._oOriginalSite._version)]).catch(function(){return Promise.reject("CommonDataModel Service: Cannot get pages")}).then(function(e){var i=e[0];var n=e[1];return Promise.all(Object.keys(i).map(function(e){if(this._oPersonalizedPages[e]){return Promise.resolve(this._oPersonalizedPages[e])}if(!t&&e!==r){return Promise.resolve(i[e])}return this._applyPagePersonalization(i[e],n).catch(function(){return Promise.reject("Personalization Processor: Cannot mixin the personalization.")})}.bind(this))).then(function(e){return this._migratePersonalizedPages(e)}.bind(this)).then(function(e){return this._filterForProperPages(e)}.bind(this))}.bind(this))}return this._getPagesFromAdapter(e).then(function(e){return this._filterForProperPages(h(e))}.bind(this))}.bind(this));this._mGetPagesPromises[e.toString()]=n}return n};m.prototype._getPagesFromAdapter=function(e){if(!this._oAdapter.getPages){var t={};for(var i in this._oOriginalSite.pages){if(e.includes(this._oOriginalSite.pages[i].identification.id)){t[i]=this._oOriginalSite.pages[i]}}return Promise.resolve(s(t,20))}return this._oAdapter.getPages(e).then(function(e){return Promise.all([this.getCachedVisualizations(),this.getCachedVizTypes()]).then(function(t){var i=t[0];var r=t[1];this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=r;Object.keys(e).forEach(function(t){this._oOriginalSite.pages[t]=e[t]}.bind(this));return s(e,20)}.bind(this))}.bind(this))};m.prototype.getAllPages=function(e){if(e&&e.personalizedPages){return this._getAllPersonalizedPages()}return this._getAssignedPageIds().then(function(e){return this.getPages(e)}.bind(this))};m.prototype._getAssignedPageIds=function(){return P.getServiceAsync("Menu").then(function(e){return e.getContentNodes()}).then(function(e){var t=[];e.forEach(function(e){this._collectPageIds(e,t)}.bind(this));return t}.bind(this))};m.prototype._collectPageIds=function(e,t){if(e.type===y.Page){if(t.indexOf(e.id)===-1){t.push(e.id)}}if(e.children!==undefined){e.children.forEach(function(e){this._collectPageIds(e,t)}.bind(this))}};m.prototype._getAllPersonalizedPages=function(){return Promise.resolve(this._pGetSiteFromAdapter).then(function(){return Promise.all([this._getAssignedPageIds(),this._getPersonalization(this._oOriginalSite._version)])}.bind(this)).then(function(e){var t=e[0];var i=e[1];var r=[];Object.keys(i).forEach(function(e){if(e==="version"||e==="_version"){return}if(!t.includes(e)){return}var n=i[e];if(Object.keys(n).length>1){r.push(e)}});if(r.length>0){return this.getPages(r)}return[]}.bind(this))};m.prototype.getApplications=function(){return new Promise(function(e,t){this.getSite().then(function(i){var r=i.applications;if(r){e(r)}else{t("CDM applications not found.")}}).fail(t)}.bind(this))};m.prototype.getVizTypes=function(){if(typeof this._oAdapter.getVizTypes==="function"){return Promise.all([this._getSiteProperty("vizTypes"),this._oAdapter.getVizTypes()]).then(function(e){var t=e[0];var i=e[1];return l(t,i)})}return this.getCachedVizTypes()};m.prototype.getCachedVizTypes=function(){var e=Promise.resolve();if(typeof this._oAdapter.getCachedVizTypes==="function"){e=this._oAdapter.getCachedVizTypes()}return Promise.all([this._getSiteProperty("vizTypes"),e]).then(function(e){var t=e[0];var i=e[1];return l(t,i)})};m.prototype.getVizType=function(e){var t=Promise.resolve();if(typeof this._oAdapter.getVizType==="function"){t=this._oAdapter.getVizType(e)}return Promise.all([this._getSiteProperty("vizTypes"),t]).then(function(t){var i=t[0];var r=t[1];if(r){i[e]=r}return i[e]})};m.prototype.getVisualizations=function(){if(typeof this._oAdapter.getVisualizations==="function"){return Promise.all([this._getSiteProperty("visualizations"),this._oAdapter.getVisualizations()]).then(function(e){var t=e[0];var i=e[1];return l(t,i)})}return this.getCachedVisualizations()};m.prototype.getCachedVisualizations=function(){var e=Promise.resolve();if(typeof this._oAdapter.getCachedVisualizations==="function"){e=this._oAdapter.getCachedVisualizations()}return Promise.all([this._getSiteProperty("visualizations"),e]).then(function(e){var t=e[0];var i=e[1];return l(t,i)})};m.prototype._getSiteProperty=function(e){return new Promise(function(t,r){this.getSite().then(function(n){var o=i.get(e,n);if(o){t(o)}else{var s=e.toString();r("CDM "+s+" not found.")}}).fail(r)}.bind(this))};m.prototype.getGroupFromOriginalSite=function(e){var t=new jQuery.Deferred;if(typeof e==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[e]){t.resolve(a({},this._oOriginalSite.groups[e]))}else{t.reject("Group does not exist in original site.")}return t.promise()};m.prototype.getOriginalPage=function(e){return s(this._oOriginalSite.pages[e],20)};m.prototype.save=function(e){var t=new jQuery.Deferred;if(this._bPersonalizationLoadingFailed){var i="Prior personalization loading failed, cancelling save to prevent data loss. Saving this personalization will only be possible after reloading the FLP again.";g.error(i,null,_);t.reject(i);return t.promise()}if(this._oOriginalSite._version==="3.1.0"){if(!e){return t.reject("No page id was provided").promise()}if(typeof e==="string"){e=[e]}this._saveCdmVersion31(e).then(t.resolve).catch(t.reject)}else{this._saveCdmVersion30().then(t.resolve).catch(t.reject)}return t.promise()};m.prototype._saveCdmVersion30=function(){var e=this._oOriginalSite;var t=this._oPersonalizedSiteForCDMVersion30;return new Promise(function(i,r){this._oPersonalizationProcessor.extractPersonalization(s(t,20),s(e,20)).done(i).fail(r)}.bind(this)).catch(function(){return Promise.reject("Personalization Processor: Cannot extract personalization.")}).then(function(e){if(o(e)){return Promise.resolve()}return this._setPersonalization(e)}.bind(this))};m.prototype._saveCdmVersion31=function(e){var t=e.map(function(e){var t=this._oSiteConverter.convertTo("3.0.0",this._oOriginalSite.pages[e]);var i=this._oSiteConverter.convertTo("3.0.0",this._oPersonalizedPages[e]);return new Promise(function(r,n){this._oPersonalizationProcessor.extractPersonalization(s(i,20),s(t,20)).done(function(t){r({pageId:e,personalization:t})}).fail(function(t){g.error("Cannot extract personalization of page "+e+": "+t,null,_);r()})}.bind(this))}.bind(this));return Promise.all(t).then(function(e){var t=false;e.forEach(function(e){if(!e){return}if(!o(e.personalization)){t=true;if(this._oPersonalizationDeltasForCDMVersion31.version===undefined||this._oPersonalizationDeltasForCDMVersion31._version===undefined){this._oPersonalizationDeltasForCDMVersion31.version=this._oOriginalSite._version;this._oPersonalizationDeltasForCDMVersion31._version=this._oOriginalSite._version}this._oPersonalizationDeltasForCDMVersion31[e.pageId]=e.personalization}}.bind(this));if(t){return this._setPersonalization(this._oPersonalizationDeltasForCDMVersion31)}return Promise.resolve()}.bind(this))};m.prototype._getPersonalization=function(e){return f.promisify(this._oAdapter.getPersonalization(e)).catch(function(e){g.error("Could not get page personalization",e,_);this._bPersonalizationLoadingFailed=true;return{}}.bind(this))};m.prototype._setPersonalization=function(e,t){if(this._oPendingPersonalizationDeferred){if(!this._oNextPersonalizationQuery){this._oNextPersonalizationQuery={fnNextCall:null,aPromiseResolvers:[]}}return new Promise(function(i,r){this._oNextPersonalizationQuery.fnNextCall=this._setPersonalization.bind(this,e,t);this._oNextPersonalizationQuery.aPromiseResolvers.push({resolve:i,reject:r})}.bind(this))}this._oPendingPersonalizationDeferred=this._oAdapter.setPersonalization(e,t);return new Promise(function(e,t){this._oPendingPersonalizationDeferred.then(e).fail(t).always(function(){delete this._oPendingPersonalizationDeferred;if(this._oNextPersonalizationQuery){var e=this._oNextPersonalizationQuery.fnNextCall();this._cleanupPersonalizationQueuePromises(e,this._oNextPersonalizationQuery.aPromiseResolvers);delete this._oNextPersonalizationQuery}}.bind(this))}.bind(this))};m.prototype._cleanupPersonalizationQueuePromises=function(e,t){t.forEach(function(t){e.then(t.resolve).catch(t.reject)})};m.prototype.registerContentProvider=function(){g.error("CommonDataModel.registerContentProvider is obsolete and should not be used.")};m.prototype._ensureCompleteSite=function(e){if(!e.groups){return}const t=e.groups;Object.keys(t).forEach(function(e){if(!t[e]){delete t[e]}else{if(!t[e].payload){t[e].payload={}}if(!t[e].payload.links){t[e].payload.links=[]}if(!t[e].payload.tiles){t[e].payload.tiles=[]}if(!t[e].payload.groups){t[e].payload.groups=[]}}})};m.prototype._ensureGroupsOrder=function(e){const t=i.get("site.payload.groupsOrder",e);const r=e.groups;let n=0;if(!t){return}while(n<t.length){var o=t[n];if(!r[o]){t.splice(n,1)}else{n++}}};m.prototype.getPlugins=function(){var e=function(e,t){var r=Object.keys(t).length;if(r===0){return{}}if(r>1){g.warning("Multiple inbounds are defined for plugin '"+e+"'","Plugin startup configuration will be determined using "+"the first signature inbound with semanticObject:Shell and action:plugin for plugin.",_)}var n=Object.values(t).find(function(e){return e&&e.semanticObject==="Shell"&&e.action==="plugin"});if(n===undefined){g.error("Cannot find inbound with semanticObject:Shell and action:plugin for plugin '"+e+"'","plugin startup configuration cannot be determined correctly",_);return{}}var o=i.get("signature.parameters",n)||{};return Object.keys(o).reduce(function(e,t){var r=i.get(t+".defaultValue.value",o);if(typeof r==="string"){e[t]=r}return e},{})};var t;return function(n){if(n!==undefined){t=n}if(t){return jQuery.when(t)}t={};return this.getSiteWithoutPersonalization().then(function(n){var o=n.applications||{};Object.keys(o).filter(function(e){return i.get("type",this[e]["sap.flp"])==="plugin"},o).forEach(function(n){var o;var s=this[n];var a={};if(!r(s["sap.platform.runtime"])){g.error("Cannot find 'sap.platform.runtime' section for plugin '"+n+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else if(!r(s["sap.platform.runtime"].componentProperties)){g.error("Cannot find 'sap.platform.runtime/componentProperties' "+"section for plugin '"+n+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else{a=s["sap.platform.runtime"].componentProperties}t[n]={url:a.url,component:s["sap.ui5"].componentName};var p=i.get("crossNavigation.inbounds",s["sap.app"])||{};o=e(n,p);var u=l(a.config||{},o);if(u){t[n].config=u}if(a.asyncHints){t[n].asyncHints=a.asyncHints}var h=i.get("deviceTypes",s["sap.ui"]);if(h){t[n].deviceTypes=h}},o);return f.deepFreeze(t)},function(e){return e})}}();m.prototype._mapDisplayFormats=function(e){var t={tile:v.Standard,standard:v.Standard,link:v.Compact,compact:v.Compact,flat:v.Flat,flatWide:v.FlatWide,tileWide:v.StandardWide,standardWide:v.StandardWide};var i=Object.keys(t).filter(function(t){return e.indexOf(t)>-1});return i.map(function(e){return t[e]})};m.prototype._ensureProperDisplayFormats=function(e){if(e.vizTypes){Object.keys(e.vizTypes).forEach(function(t){if(e.vizTypes[t]["sap.flp"]&&e.vizTypes[t]["sap.flp"].vizOptions){var r=e.vizTypes[t];var n=i.get("vizOptions.displayFormats.supported",r["sap.flp"]);var o=i.get("vizOptions.displayFormats.default",r["sap.flp"]);if(n){e.vizTypes[t]["sap.flp"].vizOptions.displayFormats.supported=this._mapDisplayFormats(n)}if(o){e.vizTypes[t]["sap.flp"].vizOptions.displayFormats.default=this._mapDisplayFormats([o])[0]}}}.bind(this))}if(e.hasOwnProperty("pages")){Object.keys(e.pages).forEach(function(t){var i=e.pages[t];if(i.payload&&i.payload.sections){var r=i.payload.sections;Object.keys(r).forEach(function(e){var t=r[e];Object.keys(t.viz).forEach(function(e){var i=t.viz[e];if(i.displayFormatHint){var r=this._mapDisplayFormats([i.displayFormatHint])[0];i.displayFormatHint=r||i.displayFormatHint}}.bind(this))}.bind(this))}}.bind(this))}else if(e.hasOwnProperty("groups")){Object.keys(e.groups).forEach(function(t){var i=e.groups[t];i.payload.tiles.forEach(function(e){if(e.displayFormatHint){var t=this._mapDisplayFormats([e.displayFormatHint])[0];e.displayFormatHint=t||e.displayFormatHint}}.bind(this))}.bind(this))}};m.prototype._ensureStandardVizTypesPresent=async function(e){if(!(e._version&&e._version.startsWith("3."))){return}if(!e.vizTypes){e.vizTypes={}}const i=await t.getAll();Object.keys(i).map(t=>{e.vizTypes[t]=e.vizTypes[t]||i[t]})};m.prototype.getMenuEntries=function(e){return new Promise(function(t,r){this.getSite().then(function(r){var n=i.get("menus."+e+".payload.menuEntries",r);t(s(n)||[])})}.bind(this))};m.prototype.getContentProviderIds=function(){return new Promise(function(e,t){this.getSite().then(function(t){var i=Object.keys(t.systemAliases);var r={};h(t.applications).forEach(function(e){var t=d.getContentProviderId(e);if(i.includes(t)){r[t]=true}});e(Object.keys(r))})}.bind(this))};m.hasNoAdapter=false;return m},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/PersonalizationProcessor", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],function(e,r,i,o,t,jQuery){"use strict";function a(){}a.prototype._getItemIndex=function(e,r){var i;for(i=0;i<e.length;i++){if(e[i].id===r){break}}i=i>=e.length?-1:i;return i};a.prototype._applyRenameGroup=function(e,r,i){var o,t=false;if(!r){return false}if(e&&i&&i.groups&&i.groups[e]){o=i.groups[e];if(o.identification&&o.identification.title){i.groups[e].identification.title=r;t=true}}return t};a.prototype._applyGroupVisibility=function(e,r,i){var o=false;if(r===undefined){return false}if(e&&i&&i.groups&&i.groups[e]){i.groups[e].identification.isVisible=r;o=true}return o};a.prototype.mixinPersonalization=function(e,r){var i=new jQuery.Deferred,t=this;if(!r||o(r)){return i.resolve(e).promise()}if(r.groups){Object.keys(r.groups).forEach(function(i){var o=r.groups[i];if(e.groups[i]){if(o.identification){if(o.identification.title){t._applyRenameGroup(i,o.identification.title,e)}if(o.identification.hasOwnProperty("isVisible")&&o.identification.isVisible===false){t._applyGroupVisibility(i,false,e)}}}})}this._applyAddGroups(e,r);if(r.removedGroups&&Array.isArray(r.removedGroups)){r.removedGroups.forEach(function(r){t._applyRemoveGroup(e,r)})}this._applyMoveGroup(e,r);this._applyItemChanges(e,r);this._applyTileSettings(e,r);return i.resolve(e).promise()};a.prototype._applyAddGroups=function(e,i){var o=[];e.site=e.site||{};e.site.payload=e.site.payload||{};e.site.payload.groupsOrder=e.site.payload.groupsOrder||[];e.groups=e.groups||{};if(Array.isArray(i.groupOrder)){e.site.payload.groupsOrder.forEach(function(e){if(i.groupOrder.indexOf(e)===-1){if(i.removedGroups&&i.removedGroups.indexOf(e)===-1||!i.removedGroups){o.push(e)}}})}if(Array.isArray(i.groupOrder)&&i.addedGroups&&Object.keys(i.addedGroups).length>0){Object.keys(i.addedGroups).forEach(function(o){e.groups[o]=r(i.addedGroups[o],20);e.groups[o].payload.isPreset=false});e.site.payload.groupsOrder=i.groupOrder}o.forEach(function(r){e.site.payload.groupsOrder.push(r)})};a.prototype._checkRenameGroup=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.title!==i[e].identification.title){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.title=r[e].identification.title}}}return o};a.prototype._applyTileSettings=function(e,r){var i,o;if(!r.modifiedTiles){return}i=Object.keys(e.groups).map(function(e){return this[e]},e.groups);o=Object.keys(r.modifiedTiles).map(function(e){return this[e]},r.modifiedTiles);i.some(function(e){["tiles","links"].forEach(function(r){if(e.payload[r]){e.payload[r].some(function(e){var r;o.some(function(i,o){if(i.id===e.id){if(i.title!==undefined){e.title=i.title}if(i.subTitle!==undefined){e.subTitle=i.subTitle}if(i.info!==undefined){e.info=i.info}if(i.displayFormatHint!==undefined){e.displayFormatHint=i.displayFormatHint}r=o;return true}return false});if(r!==undefined){o.splice(r,1)}return o.length===0})}});return o.length===0})};a.prototype._checkGroupVisibility=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.isVisible!==i[e].identification.isVisible&&typeof r[e].identification.isVisible==="boolean"){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.isVisible=r[e].identification.isVisible}}}return o};a.prototype._addGroupToPersonalizationDelta=function(e,r,o){var t=false,a,s;if(e&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&e.groups&&o&&e.groups[o]&&r){a=e.site.payload.groupsOrder;s=e.groups[o];r.addedGroups=r.addedGroups||{};r.addedGroups[o]={};r.addedGroups[o].identification=i({},s.identification);r.addedGroups[o].payload=i({},s.payload);r.addedGroups[o].payload.tiles=[];r.addedGroups[o].payload.links=[];r.groupOrder=a;t=true}return t};a.prototype.extractPersonalization=function(e,r){var i=new jQuery.Deferred,t,a={},s,p,n=this;if(e&&e.groups&&r&&r.groups){t=e.groups;s=r.groups;p=this._getExtractHelperObject(r,e,a);Object.keys(s).forEach(function(i){n._checkRemoveGroup(e,a,i);n._extractFromOriginalSiteOneGroup(r,p,i,"tiles");n._extractFromOriginalSiteOneGroup(r,p,i,"links")});Object.keys(t).forEach(function(r){if(s[r]){n._checkRenameGroup(r,t,s,a);n._checkGroupVisibility(r,t,s,a)}else{n._addGroupToPersonalizationDelta(e,a,r)}n._extractFromPersonalizedSiteOneGroup(e,p,r,"tiles");n._extractFromPersonalizedSiteOneGroup(e,p,r,"links")});this._checkMoveGroup(e,r,a);this._cleanupRemovedGroups(r,a);if(p.oPersonalizationDelta.movedTiles&&o(p.oPersonalizationDelta.movedTiles)){delete p.oPersonalizationDelta.movedTiles}if(p.oPersonalizationDelta.movedLinks&&o(p.oPersonalizationDelta.movedLinks)){delete p.oPersonalizationDelta.movedLinks}}if(r._version){a._version=r._version}return i.resolve(a).promise()};a.prototype._checkRemoveGroup=function(e,r,i){var o=false;if(e&&e.groups&&r&&i){if(!e.groups[i]){r.removedGroups=r.removedGroups||[];r.groupOrder=r.groupOrder||[];if(r.removedGroups.indexOf(i)===-1){r.removedGroups.push(i)}if(e.site&&e.site.payload&&e.site.payload.groupsOrder&&Array.isArray(e.site.payload.groupsOrder)){r.groupOrder=e.site.payload.groupsOrder.slice(0)}}o=true}return o};a.prototype._applyRemoveGroup=function(e,r){var i,o,t;if(e&&e.groups&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&r){i=e.groups;o=e.site.payload.groupsOrder;t=o.indexOf(r);if(!(t===-1)){o.splice(t,1);delete i[r];return true}}return false};a.prototype._checkMoveGroup=function(e,r,i){var o,t,a=false,s=false;if(e.site&&e.site.payload&&Array.isArray(e.site.payload.groupsOrder)&&r.site&&r.site.payload&&Array.isArray(r.site.payload.groupsOrder)){o=e.site.payload.groupsOrder;t=r.site.payload.groupsOrder;if(o.length===t.length){a=function(){var e=false,r;for(r=0;r<t.length;r++){if(t[r]!==o[r]){e=true;break}}return e}();if(a){i.groupOrder=o;s=true}}}return s};a.prototype._applyMoveGroup=function(e,r){var i=false;if(Array.isArray(r.groupOrder)){e.site=e.site||{};e.site.payload=e.site.payload||{};if(!Array.isArray(e.site.payload.groupsOrder)){e.site.payload.groupsOrder=[]}if(e.site.payload.groupsOrder.length===r.groupOrder.length){e.site.payload.groupsOrder=r.groupOrder;i=true}}return i};a.prototype._getHashedItemsFromSite=function(e){var r=null;if(e&&e.groups){if(Object.keys(e.groups).length>0){r={};Object.keys(e.groups).forEach(function(i){var o=e.groups[i],t;r[i]={};if(o.payload){["tiles","links"].forEach(function(e){r[i][e]={};if(Array.isArray(o.payload[e])){t=o.payload[e];t.forEach(function(o,t){var a;if(o&&o.id){a=o.id;r[i][e][a]={iIndex:t,sItemId:o}}})}})}})}}return r};a.prototype._getExtractHelperObject=function(e,r,i){var o=null;o={};o.oHashedItemsOriginal=this._getHashedItemsFromSite(e)||{};o.oHashedItemsPersonalized=this._getHashedItemsFromSite(r);o.oPersonalizationDelta=i;return o};a.prototype._extractFromOriginalSiteOneGroup=function(e,r,i,o){var t=false,a,s,p,n="movedTiles";o=o||"tiles";if(o!=="tiles"){n="movedLinks"}p=function(e,r){s[e]=s[e]?s[e]:{};s[e].fromGroup=r;s[e].toGroup=null};if(r&&r.oHashedItemsPersonalized&&r.oPersonalizationDelta&&e&&e.groups&&e.groups[i]&&e.groups[i].payload&&Array.isArray(e.groups[i].payload[o])){a=e.groups[i].payload[o];r.oPersonalizationDelta[n]=r.oPersonalizationDelta[n]?r.oPersonalizationDelta[n]:{};s=r.oPersonalizationDelta[n];if(r.oHashedItemsPersonalized[i]){a.forEach(function(e){if(!r.oHashedItemsPersonalized[i][o][e.id]){p(e.id,i)}});t=true}else{a.forEach(function(e){p(e.id,i)});t=true}}return t};a.prototype._extractPersonalizationDeltaForTile=function(e,r,i,a){var s=t.get(["oHashedItemsOriginal",i,a,e.id,"sItemId"],r);if(!s){return false}var p={};if(e.title!==s.title){p.title=e.title}if(e.subTitle!==s.subTitle){p.subTitle=e.subTitle}if(e.info!==s.info){p.info=e.info}if(e.displayFormatHint!==s.displayFormatHint&&!(e.displayFormatHint==="default"&&!s.displayFormatHint)){p.displayFormatHint=e.displayFormatHint}if(o(p)){return false}if(!r.oPersonalizationDelta.modifiedTiles){r.oPersonalizationDelta.modifiedTiles={}}var n=r.oPersonalizationDelta.modifiedTiles;p.id=e.id;n[e.id]=p;return true};a.prototype._extractFromPersonalizedSiteOneGroup=function(r,i,o,t){var a=false,s,p,n=false,l,u=this,d="movedTiles";t=t||"tiles";if(t!=="tiles"&&t!=="links"){return a}if(t!=="tiles"){d="movedLinks"}if(i&&i.oPersonalizationDelta&&r&&r.groups&&r.groups[o]&&r.groups[o].payload&&Array.isArray(r.groups[o].payload[t])){l=r.groups[o].payload[t];i.oPersonalizationDelta[d]=i.oPersonalizationDelta[d]?i.oPersonalizationDelta[d]:{};s=i.oPersonalizationDelta[d];p=[];l.forEach(function(r,a){if(!r){return}p.push(r.id);if(i.oHashedItemsOriginal[o]&&i.oHashedItemsOriginal[o][t][r.id]){if(s[r.id]){e.error("Extract personalization failed","The Tile ID "+r.id+" is not unique in the site","PersonalizationProcessor");delete s[r.id]}if(i.oHashedItemsOriginal[o][t][r.id].iIndex!==a){n=true}u._extractPersonalizationDeltaForTile(r,i,o,t)}else{n=true;if(s[r.id]){if(s[r.id].fromGroup&&s[r.id].fromGroup!==o){if(!s[r.id].toGroup){s[r.id].toGroup=o;u._extractPersonalizationDeltaForTile(r,i,s[r.id].fromGroup,t)}}}else{s[r.id]={};s[r.id].fromGroup=null;s[r.id].toGroup=o;s[r.id].item=r}}});if(n){i.oPersonalizationDelta.groups=i.oPersonalizationDelta.groups||{};i.oPersonalizationDelta.groups[o]=i.oPersonalizationDelta.groups[o]||{};i.oPersonalizationDelta.groups[o].payload=i.oPersonalizationDelta.groups[o].payload||{};if(t==="tiles"){i.oPersonalizationDelta.groups[o].payload.tileOrder=p}else{i.oPersonalizationDelta.groups[o].payload.linkOrder=p}}a=true}return a};a.prototype._cleanupRemovedGroups=function(e,r){var i,o;if(r.removedGroups&&r&&Array.isArray(r.removedGroups)&&r.removedGroups.length>0){r.removedGroups.forEach(function(t){if(e&&e.groups&&e.groups[t]&&e.groups[t].payload){[{sType:"tiles",sPersonalizationDeltaType:"movedTiles"},{sType:"links",sPersonalizationDeltaType:"movedLinks"}].forEach(function(a){if(Array.isArray(e.groups[t].payload[a.sType])){i=e.groups[t].payload[a.sType];i.forEach(function(e){if(r[a.sPersonalizationDeltaType]){o=r[a.sPersonalizationDeltaType][e.id];if(o&&o.fromGroup&&o.fromGroup===t&&!o.toGroup){delete r[a.sPersonalizationDeltaType][e.id]}}})}})}})}};a.prototype._setItemOrderOnSiteCollection=function(e,r){var i=true,o=e.length,t,a={},s,p,n,l;if(!Array.isArray(e)||!Array.isArray(e)||e.length!==r.length){return false}t=e.splice(0,e.length);for(s=0;s<r.length;s++){n=r[s];p=t.shift();if(p&&n===p.id){e.push(p)}else if(a[n]){e.push(a[n]);delete a[n];if(p){a[p.id]=p}}else if(p){a[p.id]=p;l=false;while(t.length>0){p=t.shift();if(n===p.id){e.push(p);l=true;break}else{a[p.id]=p}}if(!l){i=false}}}if(e.length!==o){i=false}return i};a.prototype._setItemOrderOnSiteGroupForItemType=function(e,r,i){var o=true,t,a;if(i==="tiles"||i==="links"){a=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(r.payload&&Array.isArray(r.payload[a])&&r.payload[a].length>0){if(e.payload&&Array.isArray(e.payload[i])&&e.payload[i].length>0){t=this._setItemOrderOnSiteCollection(e.payload[i],r.payload[a]);if(!t){o=false}}else{o=false}}return o};a.prototype._setItemOrderOnSite=function(e,r){var i=true,o,t=this;if(e.groups&&r.groups){Object.keys(r.groups).forEach(function(a){if(r.groups[a]&&e.groups[a]){o=t._setItemOrderOnSiteGroupForItemType(e.groups[a],r.groups[a],"tiles");if(!o){i=false}o=t._setItemOrderOnSiteGroupForItemType(e.groups[a],r.groups[a],"links");if(!o){i=false}}})}return i};a.prototype._applyMoveItemsWithoutOrder=function(e,r,i){var t=true,a,s,p="tileOrder",n,l,u,d=[],f=this;function y(o,t){var a=true;if(e.groups[t]&&e.groups[t].payload&&r.groups&&r.groups[t]&&r.groups[t].payload&&Array.isArray(r.groups[t].payload[p])&&r.groups[t].payload[p].length>0){if(!Array.isArray(e.groups[t].payload[i])){e.groups[t].payload[i]=[]}e.groups[t].payload[i].push(o)}else{a=false}return a}if(i==="tiles"||i==="links"){s=i==="tiles"?"movedTiles":"movedLinks";p=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(!e||!e.groups||!e.site||!e.site.payload||!Array.isArray(e.site.payload.groupsOrder)||!r){return false}if(r[s]){Object.keys(r[s]).forEach(function(p){n=r[s][p];if(n.fromGroup){if(n.toGroup){if(n.fromGroup!==n.toGroup){if(e.groups[n.fromGroup]&&e.groups[n.fromGroup].payload&&Array.isArray(e.groups[n.fromGroup].payload[i])){d=e.groups[n.fromGroup].payload[i];l=f._getItemIndex(d,p);if(l>=0){u=d.splice(l,1);a=y(u[0],n.toGroup);if(!a){t=false}}else{t=false}}else{t=false}}else{t=false}}else if(e.groups[n.fromGroup]&&e.groups[n.fromGroup].payload&&Array.isArray(e.groups[n.fromGroup].payload[i])){d=e.groups[n.fromGroup].payload[i];l=f._getItemIndex(d,p);if(l>=0){d.splice(l,1)}else{t=false}}else{t=false}}else if(n.toGroup){if(n.item&&!o(n.item)){a=y(n.item,n.toGroup);if(!a){t=false}}else{t=false}}else{t=false}})}return t};a.prototype._applyItemChanges=function(e,r){var i=true,o;o=this._applyMoveItemsWithoutOrder(e,r,"tiles");if(!o){i=false}o=this._applyMoveItemsWithoutOrder(e,r,"links");if(!o){i=false}if(r.groups){o=this._setItemOrderOnSite(e,r);if(!o){i=false}}return i};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/SiteConverter", ["sap/base/Log"],function(e){"use strict";var i=function(){};i.prototype.convertTo=function(i,t){if(t._version==="3.0.0"||t.identification&&t.payload){switch(i){case"3.0.0":return this._convertPageToSite(t);case"3.1.0":return this._convertSiteToPage(t);default:e.error("The received version for the site/page conversion is not supported");return{}}}else{e.error("The site converter did not receive a correct page/site object.");return{}}};i.prototype._convertPageToSite=function(e){var i={groups:{},_version:"3.0.0",site:{identification:e.identification,payload:{groupsOrder:e.payload.layout.sectionOrder}}};var t=e.payload.sections;for(var o=0;o<Object.keys(t).length;o++){var r=Object.keys(t)[o];var a=e.payload.sections[r];i.groups[r]={identification:{id:a.id,title:a.title},payload:{tiles:this._convertVizPayloadObjectToArray(a)}};if("visible"in a){i.groups[r].identification.isVisible=a.visible}if("preset"in a){i.groups[r].payload.isPreset=a.preset}if("locked"in a){i.groups[r].payload.locked=a.locked}if("default"in a){i.groups[r].payload.isDefaultGroup=a.default}}return i};i.prototype._convertSiteToPage=function(e){var i={identification:e.site.identification,payload:{layout:{sectionOrder:e.site.payload.groupsOrder},sections:{}}};var t=e.groups;var o;var r;var a;for(var n=0;n<Object.keys(t).length;n++){o=Object.keys(t)[n];r=e.groups[o];a=this._createVizPayloadObject(r.payload.tiles);i.payload.sections[o]={id:r.identification.id,title:r.identification.title,layout:a.layout,viz:a.viz};var s=i.payload.sections[o];if("isVisible"in r.identification){s.visible=r.identification.isVisible}if("isPreset"in r.payload){s.preset=r.payload.isPreset}if("locked"in r.payload){s.locked=r.payload.locked}if("isDefaultGroup"in r.payload){s.default=r.payload.isDefaultGroup}}return i};i.prototype._createVizPayloadObject=function(e){var i=[];var t={};var o=e.reduce(function(e,t){i.push(t.id);e[t.id]=t;return e},{});t.layout={vizOrder:i};t.viz=o;return t};i.prototype._convertVizPayloadObjectToArray=function(e){return e.layout.vizOrder.reduce(function(i,t){i.push(e.viz[t]);return i},[])};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel/vizTypeDefaults/VizTypeDefaults", ["sap/base/Log","sap/ui/core/Manifest","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath"],function(s,e,a,t,n,i){"use strict";const l={STATIC_LAUNCHER:"sap.ushell.StaticAppLauncher",DYNAMIC_LAUNCHER:"sap.ushell.DynamicAppLauncher",CARD:"sap.ushell.Card"};class c{static#s=null;#e=null;static async getAll(){if(!c.#s){c.#s=new c}return c.#s._getAll()}async _getAll(){if(!this.#e){this.#e={};const s={};s[l.STATIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncher/manifest.json";s[l.DYNAMIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json";s[l.CARD]="sap/ushell/services/CommonDataModel/vizTypeDefaults/cardManifest.json";await Promise.all(Object.keys(s).map(async e=>{const a=s[e];const t=await this._loadManifest(a);this.#e[e]=t}))}return this.#e}async _loadManifest(s){const t=sap.ui.require.toUrl(s);const n=await e.load({manifestUrl:t,async:true});return a(n.getRawJson())}}return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CrossApplicationNavigation", ["sap/ushell/services/AppConfiguration","sap/ushell/services/_CrossApplicationNavigation/utils","sap/ushell/utils/type","sap/ushell/TechnicalParameters","sap/ushell/appIntegration/AppLifeCycle","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/merge","sap/ushell/utils","sap/ushell/ApplicationType","sap/ushell/UI5ComponentType","sap/base/Log","sap/ushell/utils/UrlParsing","sap/base/util/deepClone","sap/ui/base/Object","sap/ushell/api/common/ComponentInstantiation"],function(e,t,n,a,r,i,s,jQuery,o,p,c,l,u,h,f,g,v,m){"use strict";function d(l,u,d){var A;if(d&&d.config){A=d.config}function y(a,r){var i;var o;var p;if(typeof a!=="string"&&!s(a)&&a!==undefined){h.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(a===undefined){return undefined}var c=e.getCurrentApplication();if(r){if(typeof r.getComponentData!=="function"||!s(r.getComponentData())||!r.getComponentData().startupParameters||!s(r.getComponentData().startupParameters)){h.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation")}else{var l=r.getComponentData().startupParameters;if(l.hasOwnProperty("sap-system")){i=l["sap-system"][0]}if(l.hasOwnProperty("sap-ushell-next-navmode")){o=l["sap-ushell-next-navmode"][0]}}}else{if(c&&c["sap-system"]){i=c["sap-system"]}else if(c&&c.url){i=new URL(c.url,window.location.href).searchParams.get("sap-system")}if(c&&c["sap-ushell-next-navmode"]){o=c["sap-ushell-next-navmode"]}else if(c&&c.url){o=new URL(c.url,window.location.href).searchParams.get("sap-ushell-next-navmode")}}if(c){p=c.contentProviderId}var u=t._injectParameters({type:n,inject:{"sap-system":i,"sap-ushell-navmode":o,"sap-app-origin-hint":p},injectEmptyString:{"sap-app-origin-hint":true},args:a});return u}function S(e){if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return e}if(!A||!A["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return e}}if(typeof e!=="string"&&!s(e)&&e!==undefined){h.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(e===undefined){return undefined}if(s(e)){var t=i({},e);if(t.target&&t.target.shellHash){if(typeof t.target.shellHash==="string"){if(t.target.shellHash!=="#"&&t.target.shellHash!==""){t.target.shellHash=S(t.target.shellHash)}}return t}t.params=t.params||{};t.params["sap-ushell-enc-test"]=["A B%20C"];return t}var n=e;if(!/[?&]sap-system=/.test(n)){var a=n.indexOf("?")>-1?"&":"?";n+=a+"sap-ushell-enc-test="+encodeURIComponent("A B%20C")}return n}this._extractInnerAppRoute=function(e){var t=this;if(typeof e==="string"){var n=e.split("&/");var a=n.shift();return{intent:a,innerAppRoute:n.length>0?"&/"+n.join("&/"):""}}if(Object.prototype.toString.apply(e)==="[object Object]"){var r=o.get("target.shellHash",e);if(typeof r==="string"){var i=t._extractInnerAppRoute(r);e.target.shellHash=i.intent;return{intent:e,innerAppRoute:i.innerAppRoute}}if(e.hasOwnProperty("appSpecificRoute")){var s=e.appSpecificRoute;delete e.appSpecificRoute;var p=typeof s==="string"&&s.indexOf("&/")!==0&&s.length>0;return{innerAppRoute:p?"&/"+s:s,intent:e}}return{intent:e,innerAppRoute:""}}h.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:e}};this._injectInnerAppRoute=function(e,t){var n=this;if(!t){return e}if(typeof e==="string"){return e+t}if(Object.prototype.toString.apply(e)==="[object Object]"){var a=o.get("target.shellHash",e);if(typeof a==="string"){e.target.shellHash=n._injectInnerAppRoute(a,t);return e}e.appSpecificRoute=t}return e};this.hrefForExternal=function(e,i,s){if(typeof i!=="object"&&i!==undefined&&i!==null){s=i;i=undefined}if(s){var o=new jQuery.Deferred;this.hrefForExternalAsync(e,i).then(o.resolve).catch(o.reject);return o.promise()}h.error("Deprecated option 'bAsync=false'. Please use 'bAsync=true' instead",null,"sap.ushell.services.CrossApplicationNavigation");var c=p({},e);var l=this._extractInnerAppRoute(c);var u=l.intent;t.addXAppStateFromParameter(u,"sap-xapp-state-data");c=y(u,i);c=t.injectStickyParameters({args:c,appLifeCycle:r,technicalParameters:a,type:n});c=S(c);c=this._injectInnerAppRoute(c,l.innerAppRoute);var f=sap.ushell.Container.getService("ShellNavigationInternal");if(!f){h.debug("Shell not available, no Cross App Navigation");return""}return f.hrefForExternalSync(c,undefined,i)};this.hrefForExternalAsync=function(e,i){var s=p({},e);var o=this._extractInnerAppRoute(s);var c=o.intent;return Promise.resolve().then(function(){return t.addXAppStateFromParameterAsync(c,"sap-xapp-state-data")}).then(function(){s=y(c,i);return t.injectStickyParametersAsync({args:s,appLifeCycle:r,technicalParameters:a,type:n})}).then(function(e){s=e;s=S(s);s=this._injectInnerAppRoute(s,o.innerAppRoute);return sap.ushell.Container.getServiceAsync("ShellNavigationInternal")}.bind(this)).then(function(e){return new Promise(function(t,n){e.hrefForExternal(s,undefined,i).then(t).catch(n)})}).catch(function(){h.debug("Shell not available, no Cross App Navigation");return""})};this.expandCompactHash=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolutionInternal").then(function(n){n.expandCompactHash(e).done(t.resolve).fail(t.reject)});return t.promise()};this.backToPreviousApp=function(){return this.isInitialNavigationAsync().then(function(e){if(e){return this.toExternal({target:{shellHash:"#"},writeHistory:false})}this.historyBack();return undefined}.bind(this))};this.historyBack=function(e){var t=-1;if(e&&typeof e==="number"){if(e<=0){h.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.CrossApplicationNavigation#historyBack")}t=e*-1}window.history.go(t)};this.isInitialNavigation=function(){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var e=o.get("sap.ushell.Container");var t=e&&typeof e.getService==="function"&&e.getService("ShellNavigationInternal");if(!t){h.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true}var n=t.isInitialNavigation();if(typeof n==="undefined"){return true}return n};this.isInitialNavigationAsync=function(){return sap.ushell.Container.getServiceAsync("ShellNavigationInternal").then(function(e){var t=e.isInitialNavigation();if(typeof t==="undefined"){return true}return t}).catch(function(){h.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true})};this.toExternal=function(e,i){var s=e.writeHistory;var o=p({},e);var c=p({},o);this._processShellHashWithParams(o);var l=this._extractInnerAppRoute(o);var u=l.intent;var f;var g;return Promise.all([sap.ushell.Container.getServiceAsync("AppLifeCycle"),sap.ushell.Container.getServiceAsync("ShellNavigationInternal")]).then(function(e){var t=e[0];f=e[1];g=t.getCurrentApplication();return g&&g.getIntent()}).then(function(e){this._checkIfAppNeedsToBeReloaded(c,g,e,f.hashChanger);return t.addXAppStateFromParameterAsync(u,"sap-xapp-state-data")}.bind(this)).then(function(){o=y(u,i);return t.injectStickyParametersAsync({args:o,appLifeCycle:r,technicalParameters:a,type:n})}).then(function(e){o=e;o=S(o);delete o.writeHistory;o=this._injectInnerAppRoute(o,l.innerAppRoute);return f.toExternal(o,i,s)}.bind(this)).catch(function(e){h.error("CrossAppNavigation.toExternal failed",e,"sap.ushell.services.CrossApplicationNavigation")})};this._checkIfAppNeedsToBeReloaded=function(e,t,n,a){if(!t||!n||!e||!e.target){return}if(e.target.shellHash){var r=f.parseShellHash(e.target.shellHash)||{};e.target={semanticObject:r.semanticObject,action:r.action,contextRaw:r.contextRaw};e.appSpecificRoute=r.appSpecificRoute;e.params=Object.assign({},e.params,r.params)}if(e.appSpecificRoute){return}if(t.applicationType!=="UI5"){return}if(e.target.semanticObject!==n.semanticObject){return}if(e.target.action!==n.action){return}var i={params:{}};if(e.params){Object.keys(e.params).forEach(function(t){var n=e.params[t];var a=Array.isArray(n)?n:[n];i.params[t]=a.map(function(e){return e.toString()})})}if(!f.haveSameIntentParameters(i,n)){return}a.setReloadApplication(true)};this.hrefForAppSpecificHash=function(e){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.hrefForAppSpecificHash'. Please use 'hrefForAppSpecificHashAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var t=o.get("sap.ushell.Container");if(t&&typeof t.getService==="function"){var n=t.getService("ShellNavigationInternal");if(n){return n.hrefForAppSpecificHash(e)}}h.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(e)};this.hrefForAppSpecificHashAsync=function(e){return sap.ushell.Container.getServiceAsync("ShellNavigationInternal").then(function(t){return t.hrefForAppSpecificHash(e)}).catch(function(){h.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(e)})};this.getPrimaryIntent=function(e,t){var n={};var a;var r=/^#\w+-displayFactSheet(?:$|\?.)/;n.tags=["primaryAction"];n.semanticObject=e;if(t){n.params=t}return this.getLinks(n).then(function(e){if(e.length===0){delete n.tags;n.action="displayFactSheet";a=function(e,t){var n;if(e.intent===t.intent){return 0}n=r.test(e.intent)^r.test(t.intent);if(n){return r.test(e.intent)?-1:1}return e.intent<t.intent?-1:1};return this.getLinks(n)}a=function(e,t){if(e.intent===t.intent){return 0}return e.intent<t.intent?-1:1};return e}.bind(this)).then(function(e){return e.length===0?null:e.sort(a)[0]})};this.getSemanticObjectLinks=function(e,i,s,o,p,l){var u=new jQuery.Deferred;Promise.resolve().then(function(){return t.injectStickyParametersAsync({args:{params:i},appLifeCycle:r,technicalParameters:a,type:n})}).then(function(t){t=y(t,o).params;t=S({params:t}).params;var n;if(Array.isArray(e)){n=[];e.forEach(function(e){n.push([{semanticObject:e[0],params:e[1],ignoreFormFactor:!!e[2],ui5Component:e[3],appStateKey:e[4],compactIntents:!!e[5]}])})}else{n={semanticObject:e,params:t,ignoreFormFactor:s,ui5Component:o,appStateKey:p,compactIntents:!!l}}return Promise.all([sap.ushell.Container.getServiceAsync("NavTargetResolutionInternal"),n])}).then(function(e){var t=e[0];var n=e[1];c.invokeUnfoldingArrayArguments(t.getLinks.bind(t),[n]).done(u.resolve).fail(u.reject)});return u.promise()};this.getLinks=function(e){var t;t=c.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[e]);return t};this._getLinks=function(e){var s=new jQuery.Deferred;if(typeof e==="undefined"){e={}}var o=i({},e);o.compactIntents=!!o.compactIntents;o.action=o.action||undefined;o.paramsOptions=t.extractGetLinksParameterOptions(o.params);Promise.resolve().then(function(){return t.injectStickyParametersAsync({args:o,appLifeCycle:r,technicalParameters:a,type:n})}).then(function(e){o=e;var n;if(o.params){n=t.extractGetLinksParameterDefinition(o.params)}else{n=o.params}var a=y({params:n},o.ui5Component).params;a=S({params:a}).params;if(o.appStateKey){a["sap-xapp-state"]=[o.appStateKey];delete o.appStateKey}o.params=a;return sap.ushell.Container.getServiceAsync("NavTargetResolutionInternal")}).then(function(e){e.getLinks(o).done(s.resolve).fail(s.reject)});return s.promise()};this.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolutionInternal").then(function(t){t.getDistinctSemanticObjects().done(e.resolve).fail(e.reject)});return e.promise()};this.isIntentSupported=function(e,t){var n=new jQuery.Deferred;var a={};var r=e.map(function(e){var n=y(e,t);a[n]=e;return n});sap.ushell.Container.getServiceAsync("NavTargetResolutionInternal").then(function(e){e.isIntentSupported(r).done(function(e){var t={};Object.keys(e).forEach(function(n){t[a[n]]=e[n]});n.resolve(t)}).fail(n.reject.bind(n))});return n.promise()};this.isNavigationSupported=function(e,t){var n=new jQuery.Deferred;var a=g(e).map(function(e){var n=this._extractInnerAppRoute(e);return y(n.intent,t)}.bind(this));sap.ushell.Container.getServiceAsync("NavTargetResolutionInternal").then(function(e){e.isNavigationSupported(a).done(n.resolve).fail(n.reject)});return n.promise()};this.isUrlSupported=function(e){return new Promise((t,n)=>{if(typeof e!=="string"){n()}if(f.isIntentUrl(e)){const a=f.getHash(e);const r={target:{shellHash:a}};this.isNavigationSupported([r]).done(e=>{if(e[0].supported){t()}else{n()}}).fail(()=>{n()})}else{t()}})};this.createComponentInstance=function(e,t,n){const a=new jQuery.Deferred;const r=this._checkComponentConfig(t);if(r){a.reject(r);return a.promise()}const i=t?.componentData;m.createComponentInstance(e,i,n).then(a.resolve).catch(a.reject);return a.promise()};this.createComponentData=function(e,t){const n=this._checkComponentConfig(t);if(n){return Promise.reject(n)}const a=t?.componentData;return m.createComponentInstantiationData(e,a)};this._checkComponentConfig=function(e){if(e){var t=Object.keys(e).length;if(t>1||t===1&&!e.componentData){return"`oConfig` argument should either be an empty object or contain only the `componentData` property."}}return null};this.createEmptyAppState=function(e,t,n,a){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.createEmptyAppState'. Please use 'createEmptyAppStateAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var r=sap.ushell.Container.getService("AppState");if(!v.isA(e,"sap.ui.core.UIComponent")){throw new Error("The passed oAppComponent must be a UI5 Component.")}return r.createEmptyAppState(e,t,n,a)};this.createEmptyAppStateAsync=function(e,t,n,a){if(!v.isA(e,"sap.ui.core.UIComponent")){return Promise.reject("The passed oAppComponent must be a UI5 Component.")}return sap.ushell.Container.getServiceAsync("AppState").then(function(r){return r.createEmptyAppState(e,t,n,a)})};this.getStartupAppState=function(e){this._checkComponent(e);var t=e.getComponentData()&&e.getComponentData()["sap-xapp-state"]&&e.getComponentData()["sap-xapp-state"][0];return this.getAppState(e,t)};this._checkComponent=function(e){if(!v.isA(e,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}};this.getAppState=function(e,t){var n;var a=new jQuery.Deferred;this._checkComponent(e);sap.ushell.Container.getServiceAsync("AppState").then(function(r){if(typeof t!=="string"){if(t!==undefined){h.error("Illegal Argument sAppStateKey ")}setTimeout(function(){n=r.createEmptyUnmodifiableAppState(e);a.resolve(n)},0);return}r.getAppState(t).done(a.resolve).fail(a.reject)});return a.promise()};this.getAppStateData=function(e){return c.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[e])};this._getAppStateData=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(n){if(typeof e!=="string"){if(e!==undefined){h.error("Illegal Argument sAppStateKey ")}setTimeout(function(){t.resolve(undefined)},0)}else{n.getAppState(e).done(function(e){t.resolve(e.getData())}).fail(t.resolve.bind(t,undefined))}});return t.promise()};this.saveMultipleAppStates=function(e){var t=[];var n=new jQuery.Deferred;e.forEach(function(e){t.push(e.save())});jQuery.when.apply(this,t).done(function(){n.resolve(t)}).fail(function(){n.reject("save failed")});return n.promise()};this._processShellHashWithParams=function(e){if(e&&e.processParams===true&&e.target&&e.target.shellHash&&e.params){var t=f.parseShellHash(e.target.shellHash);e.target={semanticObject:t.semanticObject,action:t.action,contextRaw:t.contextRaw};e.appSpecificRoute=t.appSpecificRoute;e.params=Object.assign({},e.params,t.params)}};this.getSupportedAppStatePersistencyMethods=function(){h.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.getSupportedAppStatePersistencyMethods'. Please use 'getSupportedAppStatePersistencyMethodsAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var e=sap.ushell.Container.getService("AppState");return e.getSupportedPersistencyMethods()};this.getSupportedAppStatePersistencyMethodsAsync=function(){return sap.ushell.Container.getServiceAsync("AppState").then(function(e){return e.getSupportedPersistencyMethods()})};this.makeStatePersistent=function(e,t,n){var a=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r.makeStatePersistent(e,t,n).done(a.resolve).fail(a.reject)});return a.promise()};this.resolveIntent=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolutionInternal").then(function(n){n.resolveHashFragment(e).then(function(e){t.resolve({url:e.url})}).fail(function(e){t.reject(e)})});return t.promise()}}d.hasNoAdapter=true;return d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/LaunchPage", ["sap/ushell/Container"],e=>{"use strict";const t=["getGroups","getGroupsForBookmarks","getGroupTilesForSearch","getDefaultGroup","getGroupTitle","getGroupId","getGroupById","getGroupTiles","getTilesByGroupId","getLinkTiles","addGroupAt","addGroup","removeGroup","resetGroup","isGroupRemovable","isGroupLocked","isGroupFeatured","moveGroup","setGroupTitle","hideGroups","isGroupVisible","addTile","removeTile","moveTile","isLinkPersonalizationSupported","getTileId","getTileTitle","getTileType","getTileView","getCardManifest","getAppBoxPressHandler","getTileSize","getTileTarget","getTileDebugInfo","isTileIntentSupported","refreshTile","setTileVisible","registerTileActionsProvider","getTileActions","getCatalogs","isCatalogsValid","getCatalogData","getCatalogError","getCatalogId","getCatalogTitle","getCatalogTiles","getCatalogTileId","getCatalogTileContentProviderId","getStableCatalogTileId","getCatalogTileTitle","getCatalogTileSize","getCatalogTileViewControl","getCatalogTileView","getCatalogTileTargetURL","getCatalogTileTags","getCatalogTileKeywords","getCatalogTileTechnicalAttributes","getCatalogTilePreviewTitle","getCatalogTilePreviewInfo","getCatalogTilePreviewSubtitle","getCatalogTilePreviewIcon","addBookmark","addCustomBookmark","countBookmarks","countCustomBookmarks","deleteBookmarks","deleteCustomBookmarks","updateBookmarks","updateCustomBookmarks","onCatalogTileAdded","deleteURLStatesPersistentData"];function o(){this._oFlpLaunchPage=e.getService("FlpLaunchPage")}t.forEach(e=>{o.prototype[e]=function(...t){return this._oFlpLaunchPage[e](...t)}});o.hasNoAdapter=true;return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/MessageBroker/MessageBrokerEngine", ["sap/base/Log","sap/base/util/deepExtend"],(e,s)=>{"use strict";let n=true;const t={};const i={};const r={};const c={};t[window.location.origin]=true;function a(){this.setEnabled=function(e){n=e};this.processPostMessage=function(s){if(!n){return Promise.reject()}const t=s.oMessageData;const i=t.body;const r=s.oMessage;const c=r.origin;const a=r.source;i.requestId=t.request_id;if(!a){const s="Missing iframe object in PostMessage request";e.error(s,null,"sap.ushell.services.MessageBroker");return Promise.reject(s)}return this._handlePostMessageRequest(i,a,c)};this.connect=function(s){let t;if(!n){return Promise.reject()}if(typeof s!=="string"||!s.length){t="Missing required parameter client id"}else if(r[s]){t="Client is already connected"}else{r[s]=true;return Promise.resolve()}e.error(t,null,"sap.ushell.services.MessageBroker");return Promise.reject(t)};this.disconnect=function(s){let t;if(!n){return Promise.reject()}if(typeof s!=="string"||!s.length){t="Missing required parameter client id"}else if(!r[s]){t="Client is already disconnected"}else{for(const e in i){const n=i[e];for(const e in n){const t=n[e];if(t.clientId===s){n.splice(e,1);break}}}if(c[s]&&c[s].channels.length){this._emitEvent("clientUnsubscribed",s,c[s].channels);delete c[s]}delete r[s];return Promise.resolve()}e.error(t,null,"sap.ushell.services.MessageBroker");return Promise.reject(t)};this.subscribe=function(s,t,a,o,l,u){let d;const h="clientSubscribed";let g=[];let f=false;if(!n){return Promise.reject()}if(typeof s!=="string"||!s.length||!t.length||typeof l!=="object"&&(typeof a!=="function"||typeof o!=="function")){d="Missing required parameter(s)"}else if(!r[s]){d="Client is not connected"}else{for(const e in t){const n=t[e];const r={clientId:s,subscribedChannels:t,messageCallback:a,clientConnectionCallback:o,iframe:l||{},origin:u||"",isUI5:!l};if(!i[n.channelId]){i[n.channelId]=[]}const d=i[n.channelId].find(e=>e.clientId===s);if(!d){i[n.channelId].push(r)}if(c[s]){const e=c[s].channels.find(e=>e.channelId===n.channelId);if(!e){c[s].channels.push(n)}}}if(!c[s]){f=true;const e={clientId:s,channels:t};c[s]=e;g=Object.values(c).filter(e=>e.clientId!==s)}if(Object.keys(c).length>1){this._emitEvent(h,s,t)}if(f){setTimeout(()=>{if(g.length){g.forEach(e=>{if(!l){o(h,e.clientId,e.channels)}else{const s={clientId:e.clientId,channels:e.channels,channelId:"sap.ushell.MessageBroker",messageName:h};sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],e=>{const n=this._buildPostMessageObject("event",s);this._sendPostMessage(e,n,l,u)})}})}},1e3)}return Promise.resolve()}e.error(d,null,"sap.ushell.services.MessageBroker");return Promise.reject(d)};this.unsubscribe=function(s,t){let a;if(!n){return Promise.reject()}if(typeof s!=="string"||!s.length||!Array.isArray(t)||!t.length){a="Missing required parameter(s)";e.error(a,null,"sap.ushell.services.MessageBroker");return Promise.reject(a)}if(!r[s]){a="Client is not connected";e.error(a,null,"sap.ushell.services.MessageBroker");return Promise.reject(a)}for(const n in t){const r=t[n];if(i[r.channelId]){const e=i[r.channelId];for(const n in e){const t=e[n];if(t.clientId===s){const t=c[s].channels;c[s].channels=t.filter(e=>e.channelId!==r.channelId);e.splice(n,1);break}}}else{const s=`Unknown channel Id: ${r.channelId}`;e.warning(s,null,"sap.ushell.services.MessageBroker")}}this._emitEvent("clientUnsubscribed",s,t);return Promise.resolve()};this.publish=function(s,t,c,a,o,l){let u;let d=[];if(!n){return Promise.reject()}if(!r[t]){u="Client is not connected";e.error(u,null,"sap.ushell.services.MessageBroker");return Promise.reject(u)}if(!i[s]){u=`Unknown channel Id: ${s}`;e.error(u,null,"sap.ushell.services.MessageBroker");return Promise.reject(u)}const h=i[s].find(e=>e.clientId===t);if(!h){u="Client is not subscribed to the provided channel";e.error(u,null,"sap.ushell.services.MessageBroker");return Promise.reject(u)}for(const e in o){const n=o[e];if(n==="*"){d=i[s].concat();break}else{const e=i[s].find(e=>e.clientId===n);if(e){d.push(this._deepCopy(e))}}}if(d.length){this._sendMessage(d,s,c,a,t,l);return Promise.resolve()}u="Target client(s) not found in the provided channel";e.error(u,null,"sap.ushell.services.MessageBroker");return Promise.reject(u)};this.addAcceptedOrigin=function(s){if(!n){return}if(typeof s==="string"&&s.length>0){t[s]=true;if(s.startsWith("https:")&&s.endsWith(":443")){t[s.substring(0,s.length-4)]=true}}else{e.warning("Missing required parameter sOrigin",null,"sap.ushell.services.MessageBroker")}};this.removeAcceptedOrigin=function(e){if(!n){return}delete t[e]};this.getAcceptedOrigins=function(){if(!n){return}return Object.keys(t)};this.getSubscribedClients=function(){if(!n){return}return this._deepCopy(i)};this._emitEvent=function(e,s,n){const t={};for(const r in i){const c=i[r];for(const i in c){const r=c[i];if(r.clientId!==s&&!t[r.clientId]){const i={clientId:s,channels:n};if(r.isUI5!==false){r.clientConnectionCallback(e,s,n)}else{i.channelId="sap.ushell.MessageBroker";i.messageName=e;sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],e=>{const s=this._buildPostMessageObject("event",i);this._sendPostMessage(e,s,r.iframe,r.origin)})}t[r.clientId]=true}}}};this._sendMessage=function(e,s,n,t,i,r){for(const n in e){const c=e[n];if(c.clientId!==i){if(c.isUI5!==false){c.messageCallback(i,s,t,r)}else{const e={clientId:i,channelId:s,messageName:t,data:r};sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],s=>{const n=this._buildPostMessageObject("request",e);this._sendPostMessage(s,n,c.iframe,c.origin)})}}}};this._callApi=function(e,s){return this[e].apply(this,s)};this._handlePostMessageRequest=function(e,s,n){return new Promise((t,i)=>{const r=e.clientId;const c=e.channelId;const a=e.requestId;let o=e.messageName;const l=e.subscribedChannels;const u=e.targetClientIds;const d=e.data;const h={connect:[r],disconnect:[r],subscribe:[r,l,null,null,s,n],unsubscribe:[r,l],publish:[c,r,a,o,u,d]};const g={channelId:c,clientId:r,messageName:o,requestId:a};o=h[o]?o:"publish";this._callApi(o,h[o]).then(()=>{if(o!=="publish"){sap.ui.require(["sap/ushell/appIntegration/PostMessageManager"],e=>{const t=this._buildPostMessageObject("response",g);t.messageBody.status="accepted";this._sendPostMessage(e,t,s,n)})}t({_noresponse_:true})}).catch(e=>{i(e)})})};this._buildPostMessageObjectFallback=function(e,s,n){const t="sap.ushell.services.MessageBroker";if(s==="response"){const s={channelId:n.channelId,clientId:n.clientId,correlationMessageId:n.requestId,messageName:n.messageName};const i=e.createPostMessageResponse(t,n.requestId,s,true);return i}if(s==="event"){const s={channelId:n.channelId,clientId:n.clientId,messageName:n.messageName,channels:n.channels};const i=e.createPostMessageRequest(t,s);return i}if(s==="request"){const s={channelId:n.channelId,clientId:n.clientId,messageName:n.messageName,data:n.data};const i=e.createPostMessageRequest(t,s);return i}return e.createPostMessageRequest(t)};this._buildPostMessageObject=function(e,s){const n="sap.ushell.services.MessageBroker";if(e==="response"){const e={channelId:s.channelId,clientId:s.clientId,correlationMessageId:s.requestId,messageName:s.messageName};const t={isRequest:false,requestId:s.requestId,isSuccess:true,serviceRequest:n,messageBody:e};return t}if(e==="event"){const e={channelId:s.channelId,clientId:s.clientId,messageName:s.messageName,channels:s.channels};const t={isRequest:true,serviceRequest:n,messageBody:e};return t}if(e==="request"){const e={channelId:s.channelId,clientId:s.clientId,messageName:s.messageName,data:s.data};const t={isRequest:true,serviceRequest:n,messageBody:e};return t}const t={isRequest:true,serviceRequest:n};return t};this._sendPostMessage=function(e,s,n,t){if(s.isRequest){e.sendRequest(s.serviceRequest,s.messageBody,n,t,false)}else{e.sendResponse(s.requestId,s.serviceRequest,s.messageBody,s.isSuccess,n,t)}};this._buildFunctionName=function(e,s){s=s.charAt(0).toUpperCase()+s.substring(1);return e+s};this._deepCopy=function(e){return s(e)}}return new a},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolution", ["sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/Container","sap/ushell/services/NavTargetResolutionInternal"],function(jQuery,e,t){"use strict";function n(n,r,s,a){e.error("NavTargetResolution service has been called, which is deprecated. Remove all dependencies!",null,"sap.ushell.services.NavTargetResolution");this._oNavTargetResolutionInternal=t.getService("NavTargetResolutionInternal");this.expandCompactHash=function(e){return this._oNavTargetResolutionInternal.expandCompactHash(e)};this.resolveTarget=function(e){return this._oNavTargetResolutionInternal.resolveTarget(e)};this.resolveHashFragment=function(e){return this._oNavTargetResolutionInternal.resolveHashFragment(e)};this.isIntentSupported=function(e){return this._oNavTargetResolutionInternal.isIntentSupported(e)};this.registerCustomResolver=function(e){return this._oNavTargetResolutionInternal.registerCustomResolver(e)};this.isNavigationSupported=function(e){return this._oNavTargetResolutionInternal.isNavigationSupported(e)}}n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolutionInternal", ["sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/utils/UrlShortening","sap/ushell/utils/HttpClient","sap/ushell/navigationMode","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/Log","sap/ushell/Container"],function(e,t,n,r,i,a,jQuery,s,o,l,u,c){"use strict";function p(e,p,f,h){var d=h&&h.config;var v=function(t){var n=this._isClientSideTargetResolutionEnabled()?this._resolveHashFragmentClientSide(t):e.resolveHashFragment(t);return n}.bind(this);var g;var m=[{name:"DefaultAdapter",isApplicable:function(){return true},resolveHashFragment:v.bind(this)}];var S;var b=new i;this._isClientSideTargetResolutionEnabled=function(){return!!(d&&d.enableClientSideTargetResolution)};this._nextResolveHashFragment=function(e,t){var n=e.pop();if(n.isApplicable(t)){u.info("NavTargetResolutionInternal: custom resolver "+n.name+" resolves "+t);var r=this._nextResolveHashFragment.bind(this,e);return n.resolveHashFragment(t,r)}return this._nextResolveHashFragment(e,t)};this._resolveHashFragmentClientSide=function(e){var t=this._validateHashFragment(e);if(!t.success){return(new jQuery.Deferred).reject(e+" is not a valid hash fragment").promise()}var n=t.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(n)};this._resolveHashFragmentClientSideAndFixApplicationType=function(e){var t=new jQuery.Deferred;c.getServiceAsync("ClientSideTargetResolution").then(function(t){return t.resolveHashFragment(e)}).then(function(e){if(e&&e.applicationType==="SAPUI5"){e.applicationType="URL"}t.resolve(e)}).catch(t.reject);return t.promise()};this._validateHashFragment=function(e){var n="";var r={success:false};if(e&&e.charAt(0)!=="#"){throw new t.Error("Hash fragment expected in _validateHashFragment","sap.ushell.services.NavTargetResolutionInternal")}n=e.substring(1);if(n){r.success=true}r.hashFragmentWithoutHash=n;return r};this.expandCompactHash=function(e){var t=new jQuery.Deferred;var i=n.parseShellHash(e);if(i&&i.params&&i.params["sap-intent-param"]){c.getServiceAsync("AppState").then(function(n){n.getAppState(i.params["sap-intent-param"][0]).done(function(n){var i=n.getData("sap-intent-param");var a=e;if(i){a=r.expandParamGivenRetrievalFunction(e,"sap-intent-param",function(){return i})}t.resolve(a)}).fail(function(){t.resolve(e)})}).catch(t.reject)}else{t.resolve(e)}return t.promise()};var R=["NWBC","WDA","TR"];this._adjustResolutionResultForUi5Components=function(e){if(typeof e!=="object"){return}delete e["sap.platform.runtime"];if(e&&e.applicationType&&e.applicationType==="SAPUI5"){e.applicationType="URL"}if(e.applicationType==="URL"){var t=/^SAPUI5\.Component=(.*)/.exec(e.additionalInformation);var n=t&&t[1];if(n){e.ui5ComponentName=n}}};this._getSapSystem=function(e,t){var n;if(t&&t["sap-system"]){return t["sap-system"]}if(t&&t.url){n=new URL(t.url,window.location.href).searchParams.get("sap-system");if(n){return n}}if(R.indexOf(t.applicationType)>=0&&e&&e.substring(1)){n=new URL(e.substring(1),window.location.href).searchParams.get("sap-system");if(n){return n}}return undefined};this.resolveTarget=function(e){var r;var i=o({},e);var a=new jQuery.Deferred;s.average("sap.ushell.navigation.resolveTarget");t.storeSapSystemToLocalStorage(i);r=n.constructShellHash(i);c.getServiceAsync("NavTargetResolutionInternal").then(function(e){e.resolveHashFragment("#"+r).done(function(e){s.end("sap.ushell.navigation.resolveTarget");a.resolve({url:e.url,text:e.text,externalNavigationMode:e.targetNavigationMode==="explace"})}).fail(a.reject)}).catch(a.reject);return a.promise()};this.resolveHashFragment=function(t){var n=new jQuery.Deferred;s.average("sap.ushell.navigation.resolveHashFragment");this.expandCompactHash(t).done(function(r){var i=jQuery.when();if(r.indexOf("sap-ushell-enc-test")>=0){var o=/sap-ushell-enc-test=([^&]*)(&.*)?$/.exec(r);if(o){var p=o[1];if(p!=="A%20B%2520C"){i=new jQuery.Deferred;c.getServiceAsync("MessageInternal").then(function(e){e.error("This navigation is flagged as erroneous because"+" (likely the calling procedure) generated a wrong encoded hash."+" Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.","Navigation encoding wrong");i.resolve()}).catch(i.reject)}r=r.replace(/sap-ushell-enc-test=([^&]*)&/,"");r=r.replace(/[&?]sap-ushell-enc-test=([^&]*)$/,"")}}var f=this._invokeResolveHashChain(r);if(typeof e.processPostResolution==="function"){f=e.processPostResolution(r,f)}jQuery.when(f,i).done(function(e){this._adjustResolutionResultForUi5Components(e);if(e&&e.navigationMode!==undefined){e.targetNavigationMode=a.getExternalNavigationMode(e.navigationMode)}else{u.error("Resolution Result doesn't contain mandatory navigationMode!","sap.ushell.services.NavTargetResolutionInternal")}if(l(e)&&!e.hasOwnProperty("sap-system")){var r=this._getSapSystem(t,e);if(r){e["sap-system"]=r}}s.end("sap.ushell.navigation.resolveHashFragment");n.resolve(e)}.bind(this)).fail(n.reject)}.bind(this)).fail(n.reject);return n.promise().done(function(e){return this._recordNavigation("resolveHashFragment",{sHashFragment:t},e)}.bind(this))};this._invokeResolveHashChain=function(e){var t=m.map(function(e){return e});return this._nextResolveHashFragment(t,e).done(function(e){S=e})};this.baseResolveHashFragment=v.bind(this);this._getGetLinksResolver=function(t){var n;if(this._isClientSideTargetResolutionEnabled()){n=this._getLinksClientSide.bind(this);return{resolver:n,warning:undefined,isGetSemanticObjectLinksCall:false}}if(Object.prototype.toString.apply(t.paramsOptions)==="[object Array]"&&t.paramsOptions.length>0){u.warning("Parameter options supplied to #getLinks will be ignored because FLP is not configured to use sap.ushell.services.ClientSideTargetResolution for target resolution","provided parameters options: "+JSON.stringify(t.paramsOptions,null,4),"sap.ushell.services.NavTargetResolutionInternal")}n=e&&e.getLinks&&e.getLinks.bind(e);if(n){return{resolver:n,warning:undefined,isGetSemanticObjectLinksCall:false}}n=e&&e.getSemanticObjectLinks&&e.getSemanticObjectLinks.bind(e);if(n){return{resolver:n,warning:t.hasOwnProperty("action")?"the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.":undefined,isGetSemanticObjectLinksCall:true}}return{resolver:undefined,warning:"Cannot determine resolver for getLinks method",isGetSemanticObjectLinksCall:undefined}};this.getLinks=function(e){var t=e.semanticObject;var n=e.params;var r=e.ignoreFormFactor;var i=e.ui5Component;var a=e.appStateKey;var s=e.compactIntents;var o=new jQuery.Deferred;if(/\?/.test(t)){throw new Error("Parameter must not be part of semantic object")}var l=n===undefined?undefined:JSON.parse(JSON.stringify(n));if(a){l=l||{};l["sap-xapp-state"]=encodeURIComponent(a)}var p=this._getGetLinksResolver(e);if(p.warning){u.warning("A problem occurred while determining the resolver for getLinks",p.warning,"sap.ushell.services.NavTargetResolutionInternal")}var f=p.resolver;if(f){var h=function(e){if(s){this._shortenGetSemanticObjectLinksResults(e,i).done(o.resolve)}else{o.resolve(e)}}.bind(this);if(p.isGetSemanticObjectLinksCall){var d={target:{semanticObject:t,action:"dummyAction"},params:l};c.getServiceAsync("ShellNavigationInternal").then(function(e){e.hrefForExternal(d,true,i).then(function(e){var n=e.params||l;f(t,n,r).then(h).catch(o.reject)}).catch(o.reject)})}else{f(e).done(h).fail(o.reject)}}else{o.resolve([])}return o.promise().done(function(t){return this._recordNavigation("getLinks",{oArgs:e},t)}.bind(this))};this.getDistinctSemanticObjects=function(){var t=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getDistinctSemanticObjects()}).then(t.resolve).catch(t.reject);return t.promise().done(function(e){return this._recordNavigation("getDistinctSemanticObjects",{},e)}.bind(this))}if(e&&e.getDistinctSemanticObjects){return e.getDistinctSemanticObjects()}u.error("Cannot execute getDistinctSemanticObjects method","ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method","sap.ushell.services.NavTargetResolutionInternal");return t.reject("Cannot execute getDistinctSemanticObjects").promise()};this._getLinksClientSide=function(e){var t=new jQuery.Deferred;var r=new jQuery.Deferred;if((e.params||{}).hasOwnProperty("sap-intent-param")){var i="#"+e.semanticObject+"-dummyAction?"+n.paramsToString(e.params);this.expandCompactHash(i).done(function(e){var t=n.parseShellHash(e);r.resolve(t.params)}).fail(t.reject)}else{r.resolve(e.params)}r.done(function(){c.getServiceAsync("ClientSideTargetResolution").then(function(t){return t.getLinks(e)}).then(t.resolve).catch(t.reject)});return t.promise()};this._shortenGetSemanticObjectLinksResults=function(e,t){var r=[];var i=0;var a=e.length;var s=new jQuery.Deferred;c.getServiceAsync("ShellNavigationInternal").then(function(o){e.forEach(function(e){var l=n.parseShellHash(e.intent);var c=o.compactParams(l.params,undefined,t);r.push(c);r[i].done(function(t,i){r[t]={text:e.text,intent:"#"+l.semanticObject+"-"+l.action+"?"+n.paramsToString(i)}}.bind(null,i)).fail(function(t,n){u.warning("Cannot shorten GetSemanticObjectLinks result, using expanded form","Failure message: "+n+"; intent had title ''"+e.title+"'' and link ''"+e.intent+"'","sap.ushell.services.NavTargetResolutionInternal");r[t]={text:e.text,intent:e.intent}}.bind(null,i)).always(function(){a--;if(a===0){s.resolve(r)}});i++})}).catch(s.reject);return s.promise()};this.isIntentSupported=function(t){var n={};var r=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.isIntentSupported(t)}).then(r.resolve).catch(r.reject);return r.promise()}if(e.isIntentSupported){return e.isIntentSupported(t)}t.forEach(function(e){n[e]={supported:undefined}});return r.resolve(n).promise()};this._isIntentSupported=function(t){var n={};var r=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){c.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.isIntentSupported(t)}).then(r.resolve).catch(r.reject);return r.promise()}if(e.isIntentSupported){return e.isIntentSupported(t)}t.forEach(function(e){n[e]={supported:undefined}});return r.resolve(n).promise()};this.isNavigationSupported=function(e){var t=new jQuery.Deferred;var r=[];r=e.map(function(e){if(typeof e==="string"){return e}return"#"+n.constructShellHash(e)});this._isIntentSupported(r).done(function(e){var n=r.map(function(t){return e[t]||{supported:false}});t.resolve(n)}).fail(t.reject.bind(t));return t.promise().done(function(t){return this._recordNavigation("isNavigationSupported",{aIntents:e},t)}.bind(this))};this._recordNavigation=function(e,t,n){var r=d&&d.usageRecorder||{};if(r.enabled){var i=r.serviceUrl||"/navigation/api/v2/record";b.post(i,{headers:{"content-type":"application/json; charset=utf-8"},data:{function:e,parameters:JSON.stringify(t),result:JSON.stringify(n)}})}return n};this.registerCustomResolver=function(e){if(typeof e.name!=="string"){u.error("NavTargetResolutionInternal: Custom Resolver must have name {string} member");return false}if(typeof e.isApplicable!=="function"){u.error("NavTargetResolutionInternal: Custom Resolver must have isApplicable member");return false}if(typeof e.resolveHashFragment!=="function"){u.error('NavTargetResolutionInternal: Custom Resolver must have "resolveHashFragment" member');return false}m.push(e);return true};if(d&&Array.isArray(d.resolveLocal)){g=d.resolveLocal.map(function(e){return e.linkId});this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(e){if(e===""){return"#"}var t=n.parseShellHash(e.substring(1));if(!t){return"#"}e="#"+t.semanticObject+"-"+t.action;return e},_getIndex:function(e){var t=this.cleanHash(e);return g.indexOf(t.substring(1))},isApplicable:function(e){return this._getIndex(e)>=0},resolveHashFragment:function(e){var t=this._getIndex(e);var r=new jQuery.Deferred;var i=JSON.parse(JSON.stringify(d.resolveLocal[t].resolveTo));var a=n.parseShellHash(e);if(a&&a.params){var s=n.paramsToString(a.params);if(s){var o=i.url.indexOf("?")>=0;i.url=i.url+(o?"&":"?")+s}}r.resolve(i);return r.promise()}})}this.registerCustomResolver({name:"LocalResolver",aElement:undefined,cleanHash:function(e){if(e===""){return undefined}var t=n.parseShellHash(e.substring(1));if(!t){return undefined}e="#"+t.semanticObject+"-"+t.action;return e},isApplicable:function(e){e=this.cleanHash(e);if(!e){return false}return e==="#Test-url"||e==="#Test-local1"||e==="#Test-local2"||e==="#Test-config"||e==="#Test-clear"},parseUrl:function(e){if(!this.aElement){this.aElement=window.document.createElement("a")}this.aElement.href=e;return this.aElement},resolveHashFragment:function(e){var n=new jQuery.Deferred;var r;var i;var a=this;e=this.cleanHash(e);if(!e){return false}var s={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp",navigationMode:"embedded"},none:{applicationType:"URL",url:"",additionalInformation:""}};function o(e){if(localStorage){return localStorage[e]}return undefined}function l(e){if(t.calculateOrigin(a.parseUrl(e))!==t.calculateOrigin(window.location)){return undefined}return e}function c(e){return new URLSearchParams(window.location.search).get(e)}function p(e,t){if(localStorage){localStorage[e]=t}}if(s[e]){r=s[e]}else if(e==="#Test-clear"){p("sap.ushell.#Test-local1",undefined);p("sap.ushell.#Test-local2",undefined);u.info("NavTargetResolutionInternal: Local storage keys for #Test have been cleared");r=s["#Test-config"]}else if(e==="#Test-local1"||e==="#Test-local2"||e==="#Test-url"){r=o("sap.ushell."+e);if(!r||r==="undefined"){i={applicationType:"URL",navigationMode:"embedded"}}else{i=JSON.parse(r)}if(window.location.hostname==="localhost"||d&&d.allowTestUrlComponentConfig){var f="sap-ushell-test-"+e.substring(6);var h=c(f+"-additionalInformation");if(h){i.additionalInformation=h}var v=c(f+"-url");if(v){i.url=l(v)}}if(!i.url){u.info("NavTargetResolutionInternal: No configured app for "+e+" found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? ");u.info("NavTargetResolutionInternal: Defaulting to config app ...\n");n.reject("URL is not resolvable");return n.promise()}i.url=l(i.url);r=i}if(r.url===undefined){n.reject("URL is not resolvable");return n.promise()}u.info("NavTargetResolutionInternal: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url="+encodeURIComponent(r&&r.url||"")+"&sap-ushell-test-local1-additionalInformation="+encodeURIComponent(r&&r.additionalInfo||"")+"#Test-local1");u.info("NavTargetResolutionInternal: Resolving "+e+" to "+JSON.stringify(r));n.resolve(r);return n.promise()}});this.getCurrentResolution=function(){return S}}p.hasNoAdapter=false;return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/ui/base/Object","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/AppLifeCycle","sap/ushell/ApplicationType","sap/ushell/Container","sap/ushell/services/Navigation/utils","sap/ushell/services/AppConfiguration","sap/ushell/TechnicalParameters","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/utils/type","sap/ushell/utils/UrlParsing"],function(t,e,a,n,i,s,r,p,o,c,l,u,h,f,g,m,y){"use strict";function d(o,f,d){let S;if(d&&d.config){S=d.config}this.getTargetWithCurrentSystem=function(e,a){if(typeof e!=="string"&&!n(e)&&e!==undefined){t.error("Unexpected input type",null,"sap.ushell.services.Navigation");return undefined}if(e===undefined){return undefined}let i;let s;const r=u.getCurrentApplication();if(a){let e;try{e=a.getComponentData().startupParameters}catch(t){}if(!n(e)){t.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.Navigation")}else{if(e.hasOwnProperty("sap-system")){i=e["sap-system"][0]}if(e.hasOwnProperty("sap-ushell-next-navmode")){s=e["sap-ushell-next-navmode"][0]}}}else{if(r&&r["sap-system"]){i=r["sap-system"]}else if(r&&r.url){i=new URL(r.url,window.location.href).searchParams.get("sap-system")}if(r&&r["sap-ushell-next-navmode"]){s=r["sap-ushell-next-navmode"]}else if(r&&r.url){s=new URL(r.url,window.location.href).searchParams.get("sap-ushell-next-navmode")}}let p;if(r){p=r.contentProviderId}const o=l.injectParameters({type:m,inject:{"sap-system":i,"sap-ushell-navmode":s,"sap-app-origin-hint":p},injectEmptyString:{"sap-app-origin-hint":true},args:e});return o};this.amendTargetWithSapUshellEncTestParameter=function(e){if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return e}if(!S||!S["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return e}}if(typeof e!=="string"&&!n(e)&&e!==undefined){t.error("Unexpected input type",null,"sap.ushell.services.Navigation");return undefined}if(e===undefined){return undefined}if(n(e)){const t=a({},e);if(t.target&&t.target.shellHash){if(typeof t.target.shellHash==="string"){if(t.target.shellHash!=="#"&&t.target.shellHash!==""){t.target.shellHash=this.amendTargetWithSapUshellEncTestParameter(t.target.shellHash)}}return t}t.params=t.params||{};t.params["sap-ushell-enc-test"]=["A B%20C"];return t}let i=e;if(!/[?&]sap-system=/.test(i)){const t=i.indexOf("?")>-1?"&":"?";i+=t+"sap-ushell-enc-test="+encodeURIComponent("A B%20C")}return i};this._extractInnerAppRoute=function(e){if(typeof e==="string"){const t=e.split("&/");const a=t.shift();return{intent:a,innerAppRoute:t.length>0?"&/"+t.join("&/"):""}}if(n(e)){const t=i.get("target.shellHash",e);if(typeof t==="string"){const{intent:a,innerAppRoute:n}=this._extractInnerAppRoute(t);e.target.shellHash=a;return{intent:e,innerAppRoute:n}}if(e.hasOwnProperty("appSpecificRoute")){const t=e.appSpecificRoute;delete e.appSpecificRoute;const a=typeof t==="string"&&t.indexOf("&/")!==0&&t.length>0;return{innerAppRoute:a?"&/"+t:t,intent:e}}return{intent:e,innerAppRoute:""}}t.error("Invalid input parameter","expected string or object","sap.ushell.services.Navigation");return{intent:e}};this._injectInnerAppRoute=function(t,e){if(!e){return t}if(typeof t==="string"){return t+e}if(n(t)){const a=i.get("target.shellHash",t);if(typeof a==="string"){t.target.shellHash=this._injectInnerAppRoute(a,e);return t}t.appSpecificRoute=e}return t};this.getHref=async function(a={},n){try{let i=e(a);if(!i.target){t.debug("Navigation.getHref: No target provided using current hash as fallback","sap.ushell.services.Navigation");const e=y.parseShellHash(r.getHash());i.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};i.params=e.params;if(e.appSpecificRoute&&!i.appSpecificRoute){i.appSpecificRoute=e.appSpecificRoute}}const{intent:s,innerAppRoute:o}=this._extractInnerAppRoute(i);await l.addXAppStateFromParameter(s,"sap-xapp-state-data");i=this.getTargetWithCurrentSystem(s,n);i=await l.injectStickyParameters({args:i,appLifeCycle:p,technicalParameters:h,type:m});i=this.amendTargetWithSapUshellEncTestParameter(i);i=this._injectInnerAppRoute(i,o);const u=await c.getServiceAsync("ShellNavigationInternal");return u.hrefForExternal(i,undefined,n)}catch(e){t.error("href could not be calculated",e,"sap.ushell.services.Navigation")}};this.backToPreviousApp=async function(){const t=await this.isInitialNavigation();if(t){return this.navigate({target:{shellHash:"#"},writeHistory:false})}this.historyBack();return undefined};this.historyBack=function(e){let a=-1;if(e&&typeof e==="number"){if(e<=0){t.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.Navigation#historyBack")}a=e*-1}window.history.go(a)};this.isInitialNavigation=async function(){try{const t=await c.getServiceAsync("ShellNavigationInternal");const e=t.isInitialNavigation();if(typeof e==="undefined"){return true}return e}catch(e){t.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.Navigation");return true}};this.navigate=async function(a,n){try{let t=e(a);const i=a.writeHistory;this._processShellHashWithParams(t);const{intent:s,innerAppRoute:r}=this._extractInnerAppRoute(t);const o=await c.getServiceAsync("AppLifeCycle");const u=await c.getServiceAsync("ShellNavigationInternal");const f=o.getCurrentApplication();const g=await(f&&f.getIntent());const y=e(a);this._checkIfAppNeedsToBeReloaded(y,f,g,u.hashChanger);await l.addXAppStateFromParameter(s,"sap-xapp-state-data");t=this.getTargetWithCurrentSystem(s,n);t=await l.injectStickyParameters({args:t,appLifeCycle:p,technicalParameters:h,type:m});t=this.amendTargetWithSapUshellEncTestParameter(t);delete t.writeHistory;t=this._injectInnerAppRoute(t,r);await u.toExternal(t,n,i)}catch(e){t.error("Navigation.navigate failed",e,"sap.ushell.services.Navigation")}};this._checkIfAppNeedsToBeReloaded=function(t,e,a,n){if(!e||!a||!t||!t.target){return}if(t.target.shellHash){const e=y.parseShellHash(t.target.shellHash)||{};t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},t.params,e.params)}if(t.appSpecificRoute){return}if(e.applicationType!=="UI5"){return}if(t.target.semanticObject!==a.semanticObject){return}if(t.target.action!==a.action){return}const i={params:{}};if(t.params){Object.keys(t.params).forEach(e=>{const a=t.params[e];const n=Array.isArray(a)?a:[a];i.params[e]=n.map(t=>t.toString())})}if(!y.haveSameIntentParameters(i,a)){return}n.setReloadApplication(true)};this.getPrimaryIntent=async function(t,e){const a={};a.tags=["primaryAction"];a.semanticObject=t;if(e?.params){a.params=e.params}const[n]=await this.getLinks([a]);if(n.length===0){delete a.tags;a.action="displayFactSheet";const[t]=await this.getLinks([a]);return t.length===0?null:t.sort((t,e)=>{const a=/^#\w+-displayFactSheet(?:$|\?.)/;if(t.intent===e.intent){return 0}const n=a.test(t.intent)^a.test(e.intent);if(n){return a.test(t.intent)?-1:1}return t.intent<e.intent?-1:1})[0]}return n.length===0?null:n.sort((t,e)=>{if(t.intent===e.intent){return 0}return t.intent<e.intent?-1:1})[0]};this.getLinks=async function(t=[]){if(!Array.isArray(t)){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}const e=t.every(t=>{if(Array.isArray(t)){return false}if(n(t)){return true}return false});if(!e){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}if(t.length===0){t.push({})}return Promise.all(t.map(async t=>{let e=a({},t);e.compactIntents=!!e.compactIntents;e.action=e.action||undefined;e.paramsOptions=l.extractGetLinksParameterOptions(e.params);e=await l.injectStickyParameters({args:e,appLifeCycle:p,technicalParameters:h,type:m});let n;if(e.params){n=l.extractGetLinksParameterDefinition(e.params)}else{n=e.params}let i=this.getTargetWithCurrentSystem({params:n},e.ui5Component).params;i=this.amendTargetWithSapUshellEncTestParameter({params:i}).params;if(e.appStateKey){i["sap-xapp-state"]=[e.appStateKey];delete e.appStateKey}e.params=i;const s=await c.getServiceAsync("NavTargetResolutionInternal");return g.promisify(s.getLinks(e))}))};this.getSemanticObjects=async function(){const t=await c.getServiceAsync("NavTargetResolutionInternal");return g.promisify(t.getDistinctSemanticObjects())};this.isNavigationSupported=async function(t,a){const n=e(t).map(t=>{const{intent:e}=this._extractInnerAppRoute(t);return this.getTargetWithCurrentSystem(e,a)});const i=await c.getServiceAsync("NavTargetResolutionInternal");return g.promisify(i.isNavigationSupported(n))};this.isUrlSupported=async function(t){if(typeof t!=="string"){return Promise.reject()}if(y.isIntentUrl(t)){const e=y.getHash(t);const a={target:{shellHash:e}};const n=await this.isNavigationSupported([a]);if(!n[0].supported){return Promise.reject()}}};this.createEmptyAppState=async function(t,e,a,n){if(!s.isObjectA(t,"sap.ui.core.UIComponent")){return Promise.reject("The passed oAppComponent must be a UI5 Component.")}const i=await c.getServiceAsync("AppState");return i.createEmptyAppState(t,e,a,n)};this.getStartupAppState=function(t){this._checkComponent(t);const e=t.getComponentData()&&t.getComponentData()["sap-xapp-state"]&&t.getComponentData()["sap-xapp-state"][0];return this.getAppState(t,e)};this._checkComponent=function(t){if(!s.isObjectA(t,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}};this.getAppState=async function(e,a){this._checkComponent(e);const n=await c.getServiceAsync("AppState");if(typeof a!=="string"){if(a!==undefined){t.error("Illegal Argument sAppStateKey ")}return n.createEmptyUnmodifiableAppState(e)}return g.promisify(n.getAppState(a))};this.getAppStateData=async function(e){if(!Array.isArray(e)){throw new Error("Unexpected Input: aAppStateKeys has to be an array with app state keys!")}const a=await c.getServiceAsync("AppState");return Promise.all(e.map(e=>{if(typeof e!=="string"){if(e!==undefined){t.error("Illegal Argument sAppStateKey ")}return Promise.resolve({})}return g.promisify(a.getAppState(e)).then(t=>t.getData()).catch(()=>({}))}))};this.saveAppStates=function(t){const e=t.map(t=>g.promisify(t.save()));return Promise.all(e)};this._processShellHashWithParams=function(t){if(n(t)){const e=!!t.processParams;const a=i.get("target.shellHash",t);const s=t.params;if(e&&a&&n(s)){const e=y.parseShellHash(a);t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},s,e.params)}}};this.getSupportedAppStatePersistencyMethods=async function(){const t=await c.getServiceAsync("AppState");return t.getSupportedPersistencyMethods()};this.updateAppStatePersistencyMethodAndSave=async function(t,e,a){const n=await c.getServiceAsync("AppState");return g.promisify(n.makeStatePersistent(t,e,a))};this.resolveIntent=async function(t){const e=await c.getServiceAsync("NavTargetResolutionInternal");return g.promisify(e.resolveHashFragment(t)).then(t=>({url:t.url}))}}d.hasNoAdapter=true;return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation/compatibility", ["sap/base/util/isPlainObject","sap/ushell/Container","sap/ushell/services/Navigation/utils","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/type"],function(t,e,a,n,s,r){"use strict";const i={};i.getLinks=async function(a={}){const n=await e.getServiceAsync("Navigation");if(t(a)){const[t]=await n.getLinks([a]);return t}const s=a.reduce((t,[e])=>{t.push(e);return t},[]);const r=await n.getLinks(s);const i=r.reduce((t,e)=>{t.push([e]);return t},[]);return i};i.getAppStateData=async function(t){const a=await e.getServiceAsync("Navigation");if(typeof t==="string"){const[e]=await a.getAppStateData([t]);return e}const n=t.reduce((t,[e])=>{t.push(e);return t},[]);const s=await a.getAppStateData(n);const r=s.reduce((t,e)=>{t.push([e]);return t},[]);return r};i.getSemanticObjectLinks=async function(t,i,c,o,p,u){const g=await e.getServiceAsync("Navigation");const[l]=await s.requireAsync(["sap/ushell/appIntegration/AppLifeCycle"]);let m=await a.injectStickyParameters({args:{params:i},appLifeCycle:l,technicalParameters:n,type:r});m=g.getTargetWithCurrentSystem(m,o).params;m=g.amendTargetWithSapUshellEncTestParameter({params:m}).params;const y=await e.getServiceAsync("NavTargetResolutionInternal");if(!Array.isArray(t)){const e=y.getLinks({semanticObject:t,params:m,ignoreFormFactor:c,ui5Component:o,appStateKey:p,compactIntents:!!u});return s.promisify(e)}return Promise.all(t.map(async t=>{const[e,a,n,r,i,c]=t;const o=y.getLinks({ignoreFormFactor:!!n,compactIntents:!!c,semanticObject:e,params:a,ui5Component:r,appStateKey:i});const p=await s.promisify(o);return[p]}))};i.isIntentSupported=async function(t,a){const n=await e.getServiceAsync("Navigation");const r={};const i=t.map(t=>{const e=n.getTargetWithCurrentSystem(t,a);r[e]=t;return e});const c=await e.getServiceAsync("NavTargetResolutionInternal");const o=c.isNavigationSupported(i);const p=await s.promisify(o);return p.reduce((t,e,a)=>{const n=i[a];const s=r[n];t[s]=e;return t},{})};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation/utils", ["sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/Container","sap/ushell/utils/UrlParsing"],function(e,t,r,a,n){"use strict";var i={};i.extractGetLinksParameterOptions=function(e){return i._parseGetLinksParameters(e).filter(function(e){return Object.keys(e.options).length>0}).map(function(e){return{name:e.name,options:e.options}})};i.extractGetLinksParameterDefinition=function(e){return i._parseGetLinksParameters(e).reduce(function(e,t){e[t.name]=t.value;return e},{})};i._parseGetLinksParameters=function(e){if(Object.prototype.toString.apply(e)!=="[object Object]"){return[]}var t=JSON.parse(JSON.stringify(e));return Object.keys(t).map(function(e){var r=t[e];var a={};if(Object.prototype.toString.apply(r)==="[object Object]"){r=r.value;delete t[e].value;a=t[e]}return{name:e,value:r,options:a}})};i._safeParseToObject=function(e){try{return JSON.parse(e)}catch(t){r.error("Cannot parse the given string to object",e)}return null};i._createAppStateFromData=function(e){return a.getServiceAsync("AppState").then(function(t){var r=t.createEmptyAppState(null);r.setData(e);r.save();return r.getKey()})};i._extractParameter=function(a,s){var c;var p=null;if(typeof a==="string"){if(a.indexOf(s+"=")===-1){return{intent:a,data:null}}var u=n.parseShellHash(a);if(!u){return{intent:a,data:null}}p=u.params[s];delete u.params[s];c=n.constructShellHash(u);return{intent:c,data:p}}if(e(a)){var o=t.get("target.shellHash",a);if(typeof o==="string"){var l=i._extractParameter(o,s);a.target.shellHash=l.intent;return{intent:a,data:l.data}}var f=a.params;if(f&&f[s]){const e=f[s];p=typeof e==="string"?[e]:e;delete f[s]}return{intent:a,data:p}}r.error("Invalid input parameter","expected string or object");return{intent:a}};i.addXAppStateFromParameter=function(e,t){var r=i._extractParameter(e,t);var a=r.intent;var n=r.data&&r.data[0];if(!n){return Promise.resolve()}var s=i._safeParseToObject(n);if(!s){return Promise.resolve()}return i._createAppStateFromData(s).then(function(e){i._injectParameter(a,"sap-xapp-state",e)})};i._injectParameter=function(e,r,a){if(typeof e==="string"){var s=n.parseShellHash(e);s.params[r]=a;return n.constructShellHash(s)}if(Object.prototype.toString.apply(e)==="[object Object]"){var c=t.get("target.shellHash",e);if(typeof c==="string"){e.target.shellHash=i._injectParameter(c,r,a);return e}if(!e.params){e.params={}}e.params[r]=a}return e};i.injectParameters=function(e){var t=e.inject;var r=e.injectEmptyString||{};var a=e.type;var n=e.args;function s(e,t){return e||e===""&&t}if(a.isPlainObject(n)){if(n.target&&n.target.shellHash){if(typeof n.target.shellHash==="string"){n.target.shellHash=i.injectParameters({inject:t,injectEmptyString:r,type:e.type,args:n.target.shellHash})}return n}var c=Object.keys(t).reduce(function(e,a){var n=t[a];var i=r[a]===true;if(s(n,i)&&typeof e==="string"){var c=new RegExp("[&]"+a);var p=!c.test(e);if(p){var u=e?"&":"";e+=u+a+"="+n}}else if(s(n,i)&&!e.hasOwnProperty(a)){e[a]=n}return e},n.params||{});if(c&&Object.keys(c).length>0){n.params=c}return n}var p=n;if(p){Object.keys(t).forEach(function(e){var a=t[e];var n=r[e]===true;var i=new RegExp("[?&]"+e);var c=!i.test(p);if(s(a,n)&&c){var u=p.indexOf("?")>-1?"&":"?";p+=u+e+"="+a}})}return p};i.injectStickyParameters=function(e){return a.getServiceAsync("AppLifeCycle").then(function(t){return i._injectStickyParameters(e,t)})};i._injectStickyParameters=function(e,t){if(!t||Object.keys(t).length<=0){return e.args}var r=t.getCurrentApplication();if(!r||Object.keys(r).length<=0){return e.args}var a=e.appLifeCycle;var n=e.technicalParameters;var s=n.getParameters({sticky:true}).reduce(function(e,t){var i=t.name;var s=r.componentInstance;var c=r.applicationType;var p;if(c==="UI5"){p={}}else{p=a.getCurrentApplication().container}var u=n.getParameterValueSync(i,s,p,c);var o=t.stickyName||i;e[o]=u;return e},{});var c={type:e.type,inject:s,args:e.args};return i.injectParameters(c)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager", ["sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appIntegration/PostMessagePluginInterface","sap/ushell/services/PluginManager/Extensions","sap/ushell/UI5ComponentType","sap/ushell/utils","sap/ushell/Container","sap/ushell/services/PluginManager/SimpleExpression"],(e,jQuery,n,i,t,o,s,r)=>{"use strict";const a="sap.ushell.services.PluginManager";const l="sap-ushell-plugin-type";const u="RendererExtensions";const c="sap.ushell.components.shell.defaults";const g=[u,"UserDefaults","UserImage","AppWarmup"];function p(p,d,f){const h=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};this._sPluginAgentsNames="";this._oConfig=f&&f.config||{};if(this._oConfig.isBlueBox===undefined){this._oConfig.isBlueBox=false}g.forEach(e=>{h._oPluginCollection[e]={};h._oCategoryLoadingProgress[e]=new jQuery.Deferred});this._handlePluginCreation=async function(n,i,t,s){const r=h._oPluginCollection[n][i];o.setPerformanceMark(`FLP -- PluginManager.loadPlugin[${n}][${i}]`);try{if(r.hasOwnProperty("component")){if(h._mInitializedComponentPromise.hasOwnProperty(r.component)){h._mInitializedComponentPromise[r.component].then(()=>{h._instantiateComponent(r,t,s)},()=>{h._instantiateComponent(r,t,s)})}else{h._mInitializedComponentPromise[r.component]=h._instantiateComponent(r,t,s)}}else{e.error(`Invalid plugin configuration. The plugin ${i} must contain a <component> key`,a)}}catch(n){e.error(`Error while loading bootstrap plugin: ${r.component}`||"",a);if(t){t.reject(n)}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js"};this._handleXhrAuthentication=function(n,i){let t;if(n&&["true",true,"X"].indexOf(n["sap-ushell-xhr-authentication"])>-1){if(!i){e.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,a);return jQuery.when()}if(n.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){t=parseInt(n["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(t)){e.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",i,"': '",n["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,a)}else{s.setXhrLogonTimeout(i,t)}}return jQuery.ajax(`${i}/${this._getFileNameForXhrAuth()}`,{dataType:"text"})}return jQuery.when()};this._instantiateComponent=function(n,o,r){const l=new jQuery.Deferred;const u=JSON.parse(JSON.stringify(n));const c={ui5ComponentName:u.component,url:u.url,getExtensions:i.bind(null,n.component)};function g(n){return function(i){n=n||`Cannot create UI5 plugin component: (componentId/appdescrId :${c.ui5ComponentName})\n${i} properties ${JSON.stringify(c)}\n This indicates a plugin misconfiguration, see e.g. Note 2316443.`;i=i||"";e.error(n,i.stack,a);if(o){o.reject.apply(this,arguments)}l.reject.apply(this,arguments)}}u.name=u.component;delete u.component;c.applicationDependencies=u;if(u.config){c.applicationConfiguration=u.config;delete u.config}c.loadDefaultDependencies=false;if(r!==undefined){c.oPostMessageInterface=r}s.getServiceAsync("Ui5ComponentLoader").then(e=>{this._handleXhrAuthentication(c.applicationConfiguration,u.url).done(()=>{e.createComponent(c,{},[],t.Plugin).then(function(e){if(o){o.resolve(e)}l.resolve.apply(this,arguments)}).catch(g())}).fail(g("XHR logon for FLP plugin failed"))}).catch(g());return l.promise()};this.getSupportedPluginCategories=function(){return JSON.parse(JSON.stringify(g))};this.getRegisteredPlugins=function(){return JSON.parse(JSON.stringify(this._oPluginCollection))};this.isPluginConfigured=function(e,n=u){if(!this._oPluginCollection[n]){return false}const i=new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")||"";const t=this.filterPluginIds(Object.keys(this._oPluginCollection[n]),i,n);return t.includes(e)};this.registerPlugins=async function(n){let i;if(!n){return}if(this._oConfig.isBlueBox===true){i=new URLSearchParams(window.location.search).get("sap-plugins");if(i&&i.length>0){i=`,${i},`}else{i=undefined}}const t=await this._addPluginsIntoCollection(n,i);try{if(this._oConfig.isBlueBox!==true){this._buildNamesOfPluginsWithAgents()}}catch(n){e.error("failed to build plugin agents names list",n.message||n.toString(),"sap.ushell.services.PluginManager")}t.forEach(e=>{if(Object.hasOwn(this._oCategoryLoadingProgress,e)&&this._oCategoryLoadingProgress[e].state()==="resolved"){this.loadPlugins(e)}})};this._addPluginsIntoCollection=async function(n,i=""){const t=[];for(const s of Object.keys(n).sort()){const r=n[s]||{};const c=r.config||{};const p=c[l]||"";r.enabled??=true;if(r.enabled===false){continue}if(!this._isFormFactorSupported(r)){e.info(`Plugin '${s}' filtered from result: form factor not supported`);continue}if(this._oConfig.isBlueBox===true&&c["sap-plugin-agent"]===true){const e=c["sap-plugin-agent-id"]||s;if(!i.includes(`,${e},`)){continue}}if(Object.hasOwn(r,"module")){const n=(r.module||"").replace(/\./g,"/");e.error(`Plugin ${s} cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.`,a);try{await o.requireAsync([n])}catch(i){e.error(`Plugin module ${n} is not found.`)}continue}if(Object.hasOwn(c,l)){if(g.includes(p)){if(!t.includes(p)){t.push(p)}this._oPluginCollection[p][s]=JSON.parse(JSON.stringify(r))}else{e.warning(`Plugin ${s} will not be inserted into the plugin collection of the PluginManager, because of unsupported category ${p}`,a)}}else{this._oPluginCollection[u][s]=JSON.parse(JSON.stringify(r));if(!t.includes(u)){t.push(u)}}}return t};this._isFormFactorSupported=function(e){const n=e.deviceTypes;const i=o.getFormFactor();if(n&&n[i]===false){return false}return true};this.getPluginLoadingPromise=function(e){if(this._oCategoryLoadingProgress.hasOwnProperty(e)){return this._oCategoryLoadingProgress[e].promise()}};this.filterPluginIds=function(e,n,i){let t;if(n.startsWith("discard-filter-")){t="discardFilterPluginsAccordingToSimpleExpression"}else if(n.startsWith("discard")){t="discardAlmostAllPlugins"}else{t="noDiscard"}switch(t){case"discardFilterPluginsAccordingToSimpleExpression":var o=n.replace("discard-filter-","");return r.filterByExpression(e,o);case"discardAlmostAllPlugins":return e.filter(e=>h._oPluginCollection[i][e].component===c);case"noDiscard":default:return e}};this.loadPlugins=function(i){let t;o.setPerformanceMark(`FLP -- PluginManager.startLoadPlugins[${i}]`);if(i===u){t=n.getInterface()}if(g&&Array.prototype.indexOf.call(g,i)!==-1){if(h._oCategoryLoadingProgress[i].pluginLoadingTriggered===undefined){h._oCategoryLoadingProgress[i].pluginLoadingTriggered=true}if(Object.keys(h._oPluginCollection[i]).length>0){const e=[];let n=Object.keys(h._oPluginCollection[i]);const s=new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")||"";n=this.filterPluginIds(n,s,i,h);n.forEach(n=>{const o=h._oPluginCollection[i][n];if(!o.loaded){o.loaded=true;const s=new jQuery.Deferred;e.push(s.promise());h._handlePluginCreation(i,n,s,t)}});if(e.length>0){Promise.allSettled(e.map((e,i)=>new Promise(t=>{const o={pluginName:n[i],success:true};e.done(()=>{t(o)}).fail(e=>{o.success=false;o.error=e;t(o)})}))).then(e=>{o.setPerformanceMark(`FLP -- PluginManager.endLoadPlugins[${i}]`);h._oCategoryLoadingProgress[i].resolve(e.map(e=>e.value))})}}else{h._oCategoryLoadingProgress[i].resolve()}}else{e.error(`Plugins with category ${i} cannot be loaded by the PluginManager`,a);h._oCategoryLoadingProgress[i].reject(`Plugins with category ${i} cannot be loaded by the PluginManager`)}return h._oCategoryLoadingProgress[i].promise()};this._buildNamesOfPluginsWithAgents=function(){let e="";Object.keys(h._oPluginCollection).forEach(n=>{Object.keys(h._oPluginCollection[n]).forEach(i=>{const t=h._oPluginCollection[n][i];if(t&&t.enabled&&t.enabled===true){if(t.config&&t.config["sap-plugin-agent"]===true){e+=`${t.config["sap-plugin-agent-id"]||i},`}}})});if(e.endsWith(",")){e=e.slice(0,-1)}this._sPluginAgentsNames=e};this._getNamesOfPluginsWithAgents=function(){return this._sPluginAgentsNames}}p.hasNoAdapter=true;return p},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/Extensions", ["sap/ushell/services/PluginManager/HeaderExtensions","sap/ushell/services/PluginManager/MenuExtensions"],function(e,n){"use strict";var r={Header:i,Menu:s};function s(e){return Promise.resolve(n(e))}function i(){return Promise.resolve(e)}function u(e,n){var s=r[n];if(!s){return Promise.reject("Unsupported extension: '"+n+"'")}return s(e)}return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/HeaderExtensions", ["sap/ushell/EventHub"],function(e){"use strict";function t(t,n,r){e.emit("setHeaderCentralAreaElement",{id:t,currentState:n,states:r})}return{setHeaderCentralAreaElement:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/MenuExtensions", ["sap/ushell/Container"],function(n){"use strict";function e(e){return function r(t){return n.getServiceAsync("Menu").then(function(n){return n.getEntryProvider(e,t)})}}return function(n){return{getMenuEntryProvider:e(n)}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager/SimpleExpression", [],function(){"use strict";var e={};e.parseAndEvaluate=function(a,p){const t=p.split(" ");return e.evaluate(a,t)};e.evaluate=function(e,a){var p=[];var t;while(a.length){switch(t=a.shift()){case"includes":p.push(e.includes(p.pop()));break;case"not":p.push(!p.pop());break;case"and":p.push(p.pop()&&p.pop());break;case"or":p.push(p.pop()||p.pop());break;default:p.push(t)}}return p.pop()};e.filterByExpression=function(a,p){return a.filter(a=>e.parseAndEvaluate(a,p))};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigation", ["sap/base/Log","sap/ushell/Container"],function(t,e){"use strict";function i(i,a,n){t.error("Deprecated service call. Please migrate any dependencies to this service.",null,"sap.ushell.services.ShellNavigation");this._oShellNavigationInternal=e.getService("ShellNavigationInternal");this.NavigationFilterStatus=this._oShellNavigationInternal.NavigationFilterStatus;this.hashChanger=this._oShellNavigationInternal.hashChanger}i.prototype.getNavigationContext=function(){return this._oShellNavigationInternal.getNavigationContext()};i.prototype.compactParams=function(t,e,i,a){return this._oShellNavigationInternal.compactParams(t,e,i,a)};i.prototype.init=function(t){return this._oShellNavigationInternal.init(t)};i.prototype.wasHistoryEntryReplaced=function(){return this._oShellNavigationInternal.wasHistoryEntryReplaced()};i.prototype.resetHistoryEntryReplaced=function(){this._oShellNavigationInternal.resetHistoryEntryReplaced()};i.prototype.replaceHashWithoutNavigation=function(t){this._oShellNavigationInternal.replaceHashWithoutNavigation(t)};i.prototype.registerNavigationFilter=function(t){this._oShellNavigationInternal.registerNavigationFilter(t)};i.prototype.unregisterNavigationFilter=function(t){this._oShellNavigationInternal.unregisterNavigationFilter(t)};i.hasNoAdapter=true;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigationHashChanger", ["sap/ui/core/EventBus","sap/ushell/library","sap/ushell/utils/UrlShortening","sap/ushell/utils/UrlParsing","sap/ui/core/routing/HashChanger","sap/ui/performance/trace/Interaction","sap/ui/thirdparty/hasher","sap/base/util/isEmptyObject","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/Container"],function(e,t,a,i,r,n,s,o,jQuery,h,p){"use strict";var l=t.NavigationState;var u={HASH_SET:{name:"hashSet",historyEntry:true},HASH_REPLACED:{name:"hashReplaced",historyEntry:false},SHELL_HASH_CHANGED:{name:"shellHashChanged",historyEntry:true,usedByUi5HistoryDetection:true,ui5EventParameterNames:{oldHash:"oldAppSpecificRouteNoSeparator",newHash:"newAppSpecificRouteNoSeparator"},updateHashOnly:true},SHELL_HASH_PARAMETER_CHANGED:{name:"shellHashParameterChanged",historyEntry:null},HASH_CHANGED:{name:"hashChanged",historyEntry:false,usedByUi5HistoryDetection:true,ui5EventParameterNames:{newHash:"newHash",fullHash:"fullHash"}}};const c="ShellNavigationHashChanger";const f="[FesrFlp]";var v=r.extend("sap.ushell.services.ShellNavigationHashChanger",{constructor:function(e){this.oServiceConfig=e;this._oNavigationState={};r.apply(this);this._initializedByShellNav=false;this._bReloadApplication=false;this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:"Continue",Custom:"Custom",Abandon:"Abandon",Keep:"Keep"};this.getRelevantEventsInfo=function(){return this._getAllEvents().filter(function(e){return e.usedByUi5HistoryDetection}).map(function(e){var t={name:e.name,paramMapping:e.ui5EventParameterNames};if(e.updateHashOnly!==undefined){t.updateHashOnly=e.updateHashOnly}return t})}}});v.prototype.privgetCurrentShellHash=function(){var e=this.privsplitHash(s.getHash());return{hash:"#"+(e&&e.shellPart?e.shellPart:"")}};v.prototype.privconstructHash=function(e){var t=this.privgetCurrentShellHash();t.hash+=e;return t};v.prototype.privconstructShellHash=function(e){return i.constructShellHash(e)};v.prototype.privsplitHash=function(e){if(e===undefined||e===null||e===""){return{shellPart:null,appSpecificRoute:null,intent:null,params:null}}var t=i.parseShellHash(e);if(t===undefined||t===null){return null}var a=t.params&&!o(t.params)?t.params:null;var r=t.appSpecificRoute;t.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(t))||null,appSpecificRoute:r||null,intent:t.semanticObject&&t.action&&t.semanticObject+"-"+t.action+(t.contextRaw||"")||null,params:a}};v.prototype.privsetHash=function(e,t,a){s.prependHash="";e=this.privstripLeadingHash(e);t=t||"";if(a===undefined){a=true}if(a){this.fireEvent(u.HASH_SET.name,{sHash:t});s.setHash(e)}else{this.fireEvent(u.HASH_REPLACED.name,{sHash:t});s.replaceHash(e)}};v.prototype.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};v.prototype.registerNavigationFilter=function(e){if(typeof e!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters.push(e)};v.prototype.unregisterNavigationFilter=function(e){if(typeof e!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters=this.aNavigationFilters.filter(function(t){return t!==e})};function H(e,t,a){this.oAppState=undefined;this.oPromise=(new jQuery.Deferred).resolve();this.getNextKey=function(){this.oAppState=e.createEmptyAppState(t,a);return this.oAppState.getKey()};this.store=function(e){var t;this.oAppState.setData(e);t=this.oAppState.save();this.oPromise=jQuery.when(this.oPromise,t)};this.getPromise=function(){return this.oPromise}}v.prototype.compactParams=function(e,t,r,n){var s=new jQuery.Deferred;var o=i.constructShellHash({target:{semanticObject:"SO",action:"action"},params:e});if(e===undefined||Object.keys(e).length===0){return s.resolve(e).promise()}p.getServiceAsync("AppState").then(function(e){var h=new H(e,r,n);var p=a.compactHash(o,t,h);var l=i.parseParameters(p.hash.match(/\?.*/)[0]);var u=h.getPromise();u.done(function(){s.resolve(l)}).fail(function(e){s.reject(e)})});return s.promise()};v.prototype.hrefForExternal=function(e,t){function a(e,t){if(t===true){e.hash=encodeURI(e.hash)}else{e=encodeURI(e)}return e}return this.hrefForExternalNoEncAsync(e,t).then(function(e){return a(e,t)})};v.prototype.hrefForExternalSync=function(e,t,a){function i(e,t){if(t===true){e.hash=encodeURI(e.hash)}else{e=encodeURI(e)}return e}var r=this.hrefForExternalNoEnc(e,t,a);return i(r,t)};v.prototype.hrefForExternalNoEnc=function(e,t,a,i){h.error("Deprecated API call of 'sap.ushell.services.ShellNavigationHashChanger.hrefForExternalNoEnc'. Please use 'hrefForExternalNoEncAsync' instead",null,"sap.ushell.services.ShellNavigationHashChanger");if(i){var r=new jQuery.Deferred;this.hrefForExternalNoEncAsync(e,t).then(r.resolve).catch(r.reject);return r.promise()}var n=this.privhrefForExternalNoEnc(e);if(t===true){return{hash:n.hash,params:n.params,skippedParams:n.skippedParams}}return n.hash};v.prototype.hrefForExternalNoEncAsync=function(e,t){var a;var i=this.privhrefForExternalNoEnc(e);if(t===true){a={hash:i.hash,params:i.params,skippedParams:i.skippedParams}}else{a=i.hash}return new Promise(function(e){e(a)})};v.prototype.privhrefForExternalNoEnc=function(e){if(e===undefined){return this.privgetCurrentShellHash()}if(e&&e.target&&(typeof e.target.semanticObject==="string"||typeof e.target.shellHash==="string")){return{hash:"#"+this.privconstructShellHash(e)}}return this.privgetCurrentShellHash()};v.prototype.privgetAppHash=function(e){var t;if(e&&e.target&&typeof e.target.shellHash==="string"){var a=i.parseShellHash(e.target.shellHash);t=a&&a.appSpecificRoute;t=t&&t.substring(2)}return t};v.prototype.hrefForAppSpecificHash=function(e){return encodeURI(this.privconstructHash(this.privappHashPrefix+e).hash)};v.prototype.toExternal=function(e,t,a){var i=this.privhrefForExternalNoEnc(e).hash;var r=this.privgetAppHash(e);this.privsetHash(i,r,a);return Promise.resolve()};v.prototype.toAppHash=function(e,t){var a=this.privconstructHash(this.privappHashPrefix+e).hash;this.privsetHash(a,e,t)};v.prototype.initShellNavigation=function(e){if(this._initializedByShellNav){h.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false}this.privfnShellCallback=e;s.changed.add(this.treatHashChanged,this);if(!s.isActive()){s.initialized.addOnce(this.treatHashChanged,this);s.init()}else{this.treatHashChanged(s.getHash())}this._initializedByShellNav=true;return true};v.prototype.init=function(){if(this._initialized){h.info("init already called on this ShellNavigationHashChanger instance.");return false}var e=this.privsplitHash(s.getHash());var t=(e&&e.appSpecificRoute||"  ").substring(2);var a=t?"&/":"";var i=e&&e.shellPart||"";this.fireEvent(u.HASH_CHANGED.name,{newHash:t,fullHash:i+a+t});this._initialized=true;return true};v.prototype._removeInnerAppSeparator=function(e){return(e||"").replace("&/","")};v.prototype._setNavigationStatus=function(e){if(e===l.InProgress&&!this._fnResolveInteraction){h.debug(`${f} Interaction Start`,null,c);this._fnResolveInteraction=n.notifyAsyncStep()}else if(e===l.Finished&&this._fnResolveInteraction){h.debug(`${f} Interaction End`,null,c);this._fnResolveInteraction();this._fnResolveInteraction=null}this._oNavigationState.status=e};v.prototype._trackNavigation=function(e,t){this._oNavigationState.newHash=e;this._oNavigationState.oldHash=t};v.prototype.getCurrentNavigationState=function(){return this._oNavigationState};v.prototype.treatHashChanged=function(e,t){this._trackNavigation(e,t);this._setNavigationStatus(l.InProgress);if(this.inAbandonFlow){this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}var r;e=a.expandHash(e);t=a.expandHash(t);var n=this.privsplitHash(e);var o=this.privsplitHash(t);if(!n){var p=new Error("Illegal new hash - cannot be parsed: '"+e+"'");this.fireEvent(u.SHELL_HASH_CHANGED.name,{newShellHash:e,newAppSpecificRoute:null,fullHash:e,oldShellHash:o?o.shellPart:t,error:p});this.privfnShellCallback(e,null,o?o.shellPart:t,o?o.appSpecificRoute:null,p);this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(!o){o={shellPart:t,appSpecificRoute:null}}for(var c=0;c<this.aNavigationFilters.length;c++){try{var f;var v=this.aNavigationFilters[c].call(undefined,e,t);var H=v;if(typeof v!=="string"){H=v.status;f=v.hash}if(H===this.NavigationFilterStatus.Custom){if(f&&f.length>0){this.inAbandonFlow=true;s.replaceHash(f);this.inAbandonFlow=false}this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(H===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;s.replaceHash(t);this.inAbandonFlow=false;this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(H===this.NavigationFilterStatus.Keep){r=true}}catch(e){h.error("Error while calling Navigation filter! ignoring filter...",e.message,"sap.ushell.services.ShellNavigationHashChanger")}}if(r){this.fireEvent(u.HASH_CHANGED.name,{newHash:e,oldHash:t,fullHash:e});this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}var S=t===undefined;var g=i.compareHashes(e,t);g.sameIntent=g.sameIntent&&!S;var d=g.sameIntent&&g.sameParameters&&g.sameAppSpecificRoute;if(d){h.info("Navigation happened but hash stayed the same",null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(u.HASH_CHANGED.name,{newHash:this._removeInnerAppSeparator(n.appSpecificRoute),oldHash:this._removeInnerAppSeparator(o.appSpecificRoute),fullHash:e});this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}var m=g.sameIntent&&g.sameParameters;if(m){if(this.getReloadApplication()){this.setReloadApplication(false)}else{var A=this._removeInnerAppSeparator(n.appSpecificRoute);var y=this._removeInnerAppSeparator(o.appSpecificRoute);h.info("Inner App Hash changed from '"+y+"' to '"+A+"'",null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(u.HASH_CHANGED.name,{newHash:A,oldHash:y,fullHash:e});this._setNavigationStatus(l.Finished);return}}if(g.sameIntent&&this.hasListeners(u.SHELL_HASH_PARAMETER_CHANGED.name)){var E=i.paramsToString(n.params);var N=i.paramsToString(o.params);h.info("Shell hash parameters changed from '"+N+"' to '"+E+"'",null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(u.SHELL_HASH_PARAMETER_CHANGED.name,{oNewParameters:n.params,oOldParameters:o.params});this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}h.info("Outer shell hash changed from '"+t+"' to '"+e+"'",null,"sap.ushell.services.ShellNavigationHashChanger");this.fireEvent(u.SHELL_HASH_CHANGED.name,{newShellHash:n.shellPart,newAppSpecificRoute:n.appSpecificRoute,fullHash:e,oldShellHash:o.shellPart,oldAppSpecificRoute:o.appSpecificRoute,error:"",oldAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(o.appSpecificRoute),newAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(n.appSpecificRoute)});this.privfnShellCallback(n.shellPart,n.appSpecificRoute,o.shellPart,o.appSpecificRoute);this._setNavigationStatus(l.Finished);this.setReloadApplication(false)};v.prototype.setHash=function(e){this.toAppHash(e,true)};v.prototype.replaceHash=function(e){this.toAppHash(e,false)};v.prototype.getHash=function(){return this.getAppHash()};v.prototype.getAppHash=function(){var e=this.privsplitHash(s.getHash());var t=(e&&e.appSpecificRoute||"  ").substring(2);return t};v.prototype.destroy=function(){s.changed.remove(this.treatHashChanged,this);r.prototype.destroy.apply(this,arguments)};v.prototype._getAllEvents=function(){return Object.keys(u).map(function(e){return u[e]})};v.prototype.getReplaceHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===false}).map(function(e){return e.name})};v.prototype.getSetHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===true}).map(function(e){return e.name})};v.prototype.isInnerAppNavigation=function(e,t){var a=i.parseShellHash(e);var r=i.parseShellHash(t);var n=t===undefined;var s=i.haveSameIntent(a,r)&&!n;var o=i.haveSameIntentParameters(a,r);return s&&o};v.prototype.getReloadApplication=function(){return this._bReloadApplication};v.prototype.setReloadApplication=function(e){this._bReloadApplication=e};return v});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigationInternal", ["sap/ui/core/EventBus","sap/ushell/services/ShellNavigationHashChanger","sap/ui/core/routing/HashChanger"],function(t,i,e){"use strict";function a(a,n,s){function h(){sap.ui.require(["sap/m/MessageBox"],function(t){t.show("Due to a configuration change on the server,\nclient and server are out of sync.\n We strongly recommend to reload the page soon.\nReload page now?",{icon:t.Icon.ERROR,title:"Client out of sync with server.",actions:[t.Action.YES,t.Action.NO],onClose:function(i){if(i===t.Action.YES){window.setTimeout(function(){window.location.reload()},0)}}})})}var r=s&&s.config;this.hashChanger=new i(r);this._navigationFilterForForwardingToRegisteredRouters=function(t,i){var e=this._aRouters.some(function(t){return t.match(i)});if(e){var a=t.getCurrentApplication();var n=a&&a.componentInstance&&!a.homePage;if(n){var s=a.componentInstance.getRouter();if(s){s.stop()}}return this.NavigationFilterStatus.Keep}return this.NavigationFilterStatus.Continue};this.getNavigationContext=function(){var t=this.hashChanger.getCurrentNavigationState();var i=!this.hashChanger.isInnerAppNavigation(t.oldHash,t.newHash);return{status:t.status,isCrossAppNavigation:i,innerAppRoute:this.hashChanger.getHash()}};this.isInitialNavigation=function(){return this._bIsInitialNavigation};this.setIsInitialNavigation=function(t){this._bIsInitialNavigation=t};this.hrefForExternal=function(t,i,e){return this.hashChanger.hrefForExternal(t,i,e)};this.hrefForExternalSync=function(t,i,e){return this.hashChanger.hrefForExternalSync(t,i,e)};this.hrefForAppSpecificHash=function(t){return this.hashChanger.hrefForAppSpecificHash(t)};this.compactParams=function(t,i,e,a){return this.hashChanger.compactParams(t,i,e,a)};this.toExternal=function(t,i,e){return this.hashChanger.toExternal(t,i,e)};this.toAppHash=function(t,i){this.hashChanger.toAppHash(t,i)};this.init=function(i){this._bIsInitialNavigation=true;hasher.prependHash="";e.replaceHashChanger(this.hashChanger);var a=t.getInstance();a.subscribe("sap.ui.core.UnrecoverableClientStateCorruption","RequestReload",h);this.hashChanger.initShellNavigation(i);this._enableHistoryEntryReplacedDetection();return this};this._enableHistoryEntryReplacedDetection=function(){this._lastHashChangeMode=null;this._fnOriginalSetHash=hasher.setHash;this._fnOriginalReplaceHash=hasher.replaceHash;hasher.setHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="setHash";return this._fnOriginalSetHash.apply(hasher,arguments)}.bind(this);hasher.replaceHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="replaceHash";return this._fnOriginalReplaceHash.apply(hasher,arguments)}.bind(this)};this.wasHistoryEntryReplaced=function(){return this._lastHashChangeMode==="replaceHash"};this.resetHistoryEntryReplaced=function(){this._lastHashChangeMode=null};this.replaceHashWithoutNavigation=function(t){hasher.changed.active=false;this._fnOriginalSetHash(t);hasher.changed.active=true};this.NavigationFilterStatus=this.hashChanger.NavigationFilterStatus;this.registerNavigationFilter=function(t){this.hashChanger.registerNavigationFilter(t)};this._aRouters=[];this.registerExtraRouter=function(t){this._aRouters.push(t)};this.unregisterNavigationFilter=function(t){this.hashChanger.unregisterNavigationFilter(t)};this.registerNavigationFilter(function(){if(!this._hashChangedByApp){this.resetHistoryEntryReplaced()}this._hashChangedByApp=undefined;return this.NavigationFilterStatus.Continue}.bind(this));this.registerPrivateFilters=function(t){this.registerNavigationFilter(this._navigationFilterForForwardingToRegisteredRouters.bind(this,t))}}a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLParsing", ["sap/base/Log","sap/ui/base/Object","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container"],function(e,t,s,r,n){"use strict";function a(){this.getShellHash=function(e){return r.getShellHash(e)};this.getHash=function(e){return r.getHash(e)};this.isIntentUrl=function(t){e.error("Deprecated API call of 'sap.ushell.URLParsing.isIntentUrl'. Please use 'isIntentUrlAsync' instead",null,"sap.ushell.services.URLParsing");return r.isIntentUrl(t)};this.isIntentUrlAsync=function(e){return r.isIntentUrlAsync(e)};this.parseParameters=function(e){return r.parseParameters(e)};this.paramsToString=function(e){return r.paramsToString(e)};this.removeParametersWithEmptyValue=function(e,t){r.removeParametersWithEmptyValue(e,t)};this.privparamsToString=function(e,t,s){return r.privparamsToString(e,t,s)};this.parseShellHash=function(e){return r.parseShellHash(e)};this.privstripLeadingHash=function(e){return r.privstripLeadingHash(e)};this.splitHash=function(e){return r.splitHash(e)};this.constructShellHash=function(e){return r.constructShellHash(e)};this.addSystemToServiceUrl=function(e,r){var a=r;if(!e||e.indexOf("/")!==0||e.indexOf("//")===0){throw new s.Error("Invalid URL: "+e,"sap.ushell.services.URLParsing")}if(t.isA(r,"sap.ui.core.Component")){var i=typeof r.getComponentData==="function"&&r.getComponentData();a=i&&i.startupParameters&&i.startupParameters["sap-system"]&&i.startupParameters["sap-system"][0]}var u=n.getService("NavTargetResolutionInternal").getCurrentResolution();if(!a&&!r&&u&&u.url){a=new URL(u.url,window.location.href).searchParams.get("sap-system")}if(/^[^?]*(;mo([/;?]|$))/.test(e)){}else if(/^[^?]*(;o=([/;?]|$))/.test(e)){e=e.replace(/;o=([/;?]|$)/,(a?";o="+a:"")+"$1")}else if(!/^[^?]*;o=/.test(e)&&a){e=e.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+a+"$2")}n.addRemoteSystemForServiceUrl(e);return e}}a.hasNoAdapter=true;return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLShortening", ["sap/ushell/utils/UrlShortening"],function(n){"use strict";function e(){this.compactHash=n.compactHash.bind(n);this.checkHashLength=n.checkHashLength.bind(n);this.expandHash=n.expandHash.bind(n);this.expandParamGivenRetrievalFunction=n.expandParamGivenRetrievalFunction.bind(n)}e.hasNoAdapter=true;return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentHandle", function(){"use strict";var t=function(t){this._oComponent=t};t.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],function(){})};t.prototype.getInstance=function(){return this._oComponent};t.prototype.getMetadata=function(){return this._oComponent.getMetadata()};t.prototype.getComponentName=function(){return this._oComponent.getMetadata().getComponentName()};t.prototype.destroy=function(){if(this._oComponent&&!this._oComponent.isDestroyed()){return this._oComponent.destroy()}};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentLoader", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/core/Component","sap/ui/core/Lib","sap/ui/core/util/AsyncHintsHelper","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/services/Ui5ComponentHandle","sap/ushell/utils","sap/ushell/utils/UriParameters"],(e,t,o,n,r,jQuery,s,a,i,p,c,l)=>{"use strict";let u=["sap.ui.unified"];u=["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"];function m(e,t,o,n){this._oServiceConfig=n&&n.config||{};this._oAdapter=e;i.once("loadCoreResourcesComplement").do(()=>{this.loadCoreResourcesComplement()})}m.prototype.modifyComponentProperties=async function(e,t){if(this._oAdapter.modifyComponentProperties){const o=await this._oAdapter.modifyComponentProperties(e.componentProperties,t);e.componentProperties=o}return e};m.prototype.createComponent=async function(t,o={},n,r){let s;try{s=await this.createComponentData(t,o,n);s=await this.modifyComponentProperties(s,r)}catch(o){e.error("Ui5ComponentLoader: Error while creating component data",o,"sap.ushell.services.Ui5ComponentLoader");return t}const a=await this.instantiateComponent(s);return a};m.prototype.createComponentData=async function(e={},t={},o){const n={};const r=e.applicationDependencies||{};this._logAnyApplicationDependenciesMessages(r.name,r.messages);if(!e.ui5ComponentName){throw new Error("Ui5ComponentLoader: ui5ComponentName is mandatory")}n.appPropertiesSafe=e;n.loadCoreExt=this._shouldLoadCoreExt(e);n.componentData=this._createComponentData(e);const s=a.last("/core/customPreload/enabled");const i=n.loadCoreExt&&s;const p=this._shouldLoadDefaultDependencies(e);const c=e.ui5ComponentId||this._constructAppComponentId(t);n.componentProperties=await this._createComponentProperties(c,e,o,i,p);delete n.appPropertiesSafe.loadCoreExt;delete n.appPropertiesSafe.loadDefaultDependencies;return n};m.prototype.instantiateComponent=async function(t){const o=t.componentProperties;o.componentData=t.componentData;p.onBeforeApplicationInstanceCreated.call(null,o);try{const e=await this._createUi5Component(o);const n=t.appPropertiesSafe;n.componentHandle=new p(e);const r=t.loadCoreExt;if(r){n.coreResourcesFullyLoaded=r;i.emit("CoreResourcesComplementLoaded",{status:"success"})}return n}catch(t){const n=o.name;const r=JSON.stringify(o,null,4);let s=`The issue is most likely caused by application ${n}`;let a=`Failed to load UI5 component with properties: '${r}'.`;if(t.stack){a+=` Error likely caused by:\n${t.stack}`}else{a+=` Error: '${t}'`}if(t.status==="parsererror"){s+=", as one or more of its resources could not be parsed"}s+=". Please create a support incident and assign it to the support component of the respective application.";e.error(s,a,n);throw t}};m.prototype.getCoreResourcesComplementBundle=function(){if(a.last("/core/customPreload/enabled")){return a.last("/core/customPreload/coreResourcesComplement")}return[]};m.prototype.loadCoreResourcesComplement=function(){if(!this.loadCoreResourcesComplementPromise){this.loadCoreResourcesComplementPromise=new Promise(async(e,t)=>{try{await this._loadBundle(this.getCoreResourcesComplementBundle());i.emit("CoreResourcesComplementLoaded",{status:"success"});e()}catch(e){i.emit("CoreResourcesComplementLoaded",{status:"failed"});t(e)}});this.loadCoreResourcesComplementPromise.finally(()=>{this.loadCoreResourcesComplementPromise=undefined})}return this.loadCoreResourcesComplementPromise};m.prototype._createUi5Component=function(e){if(e.manifest===undefined){e.manifest=false}return o.create(e)};m.prototype._shouldLoadCoreExt=function(e){let t=true;if(e.hasOwnProperty("loadCoreExt")){t=e.loadCoreExt}return t};m.prototype._shouldLoadDefaultDependencies=function(e){let t=true;if(e.hasOwnProperty("loadDefaultDependencies")){t=e.loadDefaultDependencies}if(this._oServiceConfig&&this._oServiceConfig.hasOwnProperty("loadDefaultDependencies")){t=t&&this._oServiceConfig.loadDefaultDependencies}return t};m.prototype._constructAppComponentId=function(e={}){const t=e.semanticObject||null;const o=e.action||null;if(!t||!o){return null}return`application-${t}-${o}-component`};m.prototype._removeCacheBusterTokenFromUrl=function(e){const t=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return e.replace(t,"")};m.prototype._removeParametersFromUrl=function(e){if(!e){return e}const t=e.indexOf("?");if(t>=0){return e.slice(0,t)}return e};m.prototype._getParameterMap=function(e){const t=l.fromURL(e||window.location.href).mParams;const o=t["sap-xapp-state"];const n=t["sap-xapp-state-data"];delete t["sap-xapp-state"];delete t["sap-xapp-state-data"];const r={startupParameters:t};if(n){r["sap-xapp-state"]=n}if(o){r["sap-xapp-state"]=o}return r};m.prototype._loadBundle=function(t){if(!Array.isArray(t)){e.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null}return Promise.all(t.map(e=>sap.ui.loader._.loadJSResourceAsync(e))).catch(o=>{e.error(`Ui5ComponentLoader: failed to load bundle resources: [${t.join(", ")}]`);return Promise.reject(o)})};m.prototype._createComponentProperties=async function(o,i,p,l,m){const d=i.ui5ComponentName;const f=i.url;const C=i.applicationDependencies||{};const y=c.getParameterValueBoolean("sap-ushell-nocb");const h=t({},C);if(!h.asyncHints){h.asyncHints=m?{libs:u}:{}}if(l){const e=a.last("/core/customPreload/coreResourcesComplement");h.asyncHints.preloadBundles=[...h.asyncHints.preloadBundles||[],...e]}if(p){h.asyncHints.waitFor=p}if(!h.name){h.name=d}if(f){h.url=this._removeParametersFromUrl(f)}if(o){h.id=o}if(y&&h.asyncHints){r.modifyUrls(h.asyncHints,this._removeCacheBusterTokenFromUrl)}const P=h.manifest;if(typeof P==="string"&&P.length>0&&"sap.ui.fl"in n.all()){try{const[t]=await c.requireAsync(["sap/ui/fl/apply/api/FlexRuntimeInfoAPI"]);try{const e=t.getFlexVersion({reference:d});if(typeof e==="string"&&e.length>0){const t=new s(P);t.addQuery("version",e);h.manifest=t.toString()}return h}catch(t){e.error("Error when trying to get manifest version from 'sap.ui.fl.apply.api.FlexRuntimeInfoAPI'",t,"sap.ushell.services.Ui5ComponentLoader");return h}}catch(t){e.error("Error when trying to load 'sap/ui/fl/apply/api/FlexRuntimeInfoAPI'",t,"sap.ushell.services.Ui5ComponentLoader");return h}}return h};m.prototype._createComponentData=function(e){const o=e.componentData||{};const n=e.url;const r=e.applicationConfiguration;const s=e.reservedParameters;const a=t({startupParameters:{}},o);if(r){a.config=r}if(s){a.technicalParameters=s}const i=n&&n.indexOf("?")>=0;if(i){const e=this._getParameterMap(n);a.startupParameters=e.startupParameters;if(e["sap-xapp-state-data"]){a["sap-xapp-state"]=e["sap-xapp-state-data"]}if(e["sap-xapp-state"]){a["sap-xapp-state"]=e["sap-xapp-state"]}}if(e.getExtensions){a.getExtensions=e.getExtensions;delete e.getExtensions}if(e.oPostMessageInterface){a.oPostMessageInterface=e.oPostMessageInterface;delete e.oPostMessageInterface}return a};m.prototype._logAnyApplicationDependenciesMessages=function(t,o){if(!Array.isArray(o)){return}o.forEach(o=>{let n=String.prototype.toLowerCase.call(o.severity||"");n=["trace","debug","info","warning","error","fatal"].indexOf(n)!==-1?n:"error";e[n](o.text,o.details,t)})};m.prototype._setDefaultDependencies=function(e){u=e};m.hasNoAdapter=false;return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserDefaultParameters", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/ui/base/EventProvider","sap/ushell/utils","sap/ushell/Container"],function(e,t,a,r,s,n,i,o){"use strict";const u="valueStored";const l=["value","noEdit","noStore","extendedValue","alwaysAskPlugin"];function c(c,d,f,m){this._aPlugins=[];this._oUserDefaultParametersNames={};this._oWasParameterPersisted={};const h=new n;function g(e){const t=typeof e.getComponentData==="function"&&e.getComponentData()&&e.getComponentData().config&&e.getComponentData().config["sap-priority"]||0;if(typeof t!=="number"||isNaN(t)){return 0}return t}this._insertPluginOrdered=function(e,t){const a=g(t);for(let r=0;r<e.length&&t;++r){const s=g(e[r]);if(t&&a>s){e.splice(r,0,t);t=undefined}}if(t){e.push(t)}return e};this.registerPlugin=function(e){this._aPlugins=this._insertPluginOrdered(this._aPlugins,e)};this._getUserDefaultValueFromPlugin=async function(t,a,r,s){if(typeof t.getUserDefault==="function"){try{const n=await i.promisify(t.getUserDefault(a,s,r));const o=n||s;const u=this._getComponentNameOfPlugin(t);e.debug(`[UserDefaults] Fetched "${a}" for SystemContext="${r.id}" from Plugin="${u}"`,JSON.stringify(o,null,2));return o}catch{e.error(`invocation of getUserDefault("${a}") for plugin ${this._getComponentNameOfPlugin(t)} rejected.`,null,"sap.ushell.services.UserDefaultParameters")}}return s};this._iterateOverPluginsToGetDefaultValue=async function(e,t,a){await this._loadPlugins();return this._aPlugins.reduce(async(t,r)=>{const s=await t;return this._getUserDefaultValueFromPlugin(r,e,a,s)},Promise.resolve(t))};this._getStoreDate=function(){return(new Date).toString()};this._storeValue=async function(t,a,r,s){if(r&&a.extendedValue){try{const e=await o.getServiceAsync("ClientSideTargetResolution");const n=await e.getUserDefaultParameterNames(s);const i=this._extractKeyArrays(n);const u=i.extended.indexOf(t)<0;return this._saveParameterValue(t,a,r,u,s)}catch{e.error(`Cannot save value for ${t}. One or more plugins could not be loaded.`)}}return this._saveParameterValue(t,a,r,false,s)};this._saveParameterValue=async function(e,a,s,n,i){if(n){a.extendedValue=undefined}if(s&&this._valueIsEmpty(a)){a=undefined;this._oWasParameterPersisted[e]=false}else{a._shellData=r({storeDate:this._getStoreDate()},a._shellData)}try{const t=await o.getServiceAsync("UserDefaultParameterPersistence");await t.saveParameterValue(e,a,i)}catch{}const l={parameterName:e,parameterValue:t(a||{}),systemContext:i};h.fireEvent(u,l);return e};this._getPersistedValue=async function(e,t){const a=await o.getServiceAsync("UserDefaultParameterPersistence");return a.loadParameterValue(e,t)};this._valueIsEmpty=function(e){return!e||!e.value&&!e.extendedValue};this._haveSameMembersValue=function(e,t,r){return r.every(r=>e[r]===t[r]||a(e[r],t[r]))};this._getUserDefaultParameterNames=function(e){if(!this._oUserDefaultParametersNames[e.id]){this._oUserDefaultParametersNames[e.id]=new Promise(async t=>{const a=await o.getServiceAsync("ClientSideTargetResolution");const r=await a.getUserDefaultParameterNames(e);const s=this._extractKeyArrays(r);const n=s.extended;const i=s.allParameters;const u=this._arrayToObject(i);t({aAllParameterNames:i,aExtendedParameterNames:n,oMetadataObject:u})})}return this._oUserDefaultParametersNames[e.id]};this._isSupportedParameterName=async function(t,a){const r=await this._getUserDefaultParameterNames(a);if(!r.aAllParameterNames||r.aAllParameterNames.indexOf(t)===-1){e.error(`The given parameter "${t}" is not part of the list of parameters for the given system context.`);return false}return true};this.hasRelevantMaintainableParameters=async function(e){try{const t=await this._getUserDefaultParameterNames(e);if(!s(t)&&t.aAllParameterNames){const a=await Promise.all(t.aAllParameterNames.map(async t=>{try{const a=await this.getValue(t,e);if(a&&!a.hasOwnProperty("noEdit")){return true}}catch{}return false}));return a.some(e=>e)}}catch{}return false};this.getValue=async function(a,r){const s=await this._isSupportedParameterName(a,r);if(!s){return{value:undefined}}const n=await this._getPersistedValue(a,r).then(e=>{this._oWasParameterPersisted[a]=true;return e||{}}).catch(()=>({value:undefined}));const i=t(n);const o=!i._shellData&&this._valueIsEmpty(i)||i.noStore||i.alwaysAskPlugin;if(!o){return i}const u=await this._iterateOverPluginsToGetDefaultValue(a,n,r);if(!this._oWasParameterPersisted[a]||!this._haveSameMembersValue(i,u,l)){this._oWasParameterPersisted[a]=true;await this._storeValue(a,u,false,r).catch(t=>{e.error(t.message)})}return u};this._addParameterValuesToParameters=async function(e,t,a){await Promise.all(t.map(async t=>{const r=await this.getValue(t,a);e[t].valueObject=r}));return e};this._arrayToObject=function(e){const t={};e.forEach(e=>{t[e]={}});return t};this._getComponentNameOfPlugin=function(e){try{return e.getMetadata().getComponentName()||""}catch(e){return"'name of plugin could not be determined'"}};this._getEditorDataAndValue=async function(t,a,s,n){const o=await Promise.all(this._aPlugins.map(async t=>{if(typeof t.getEditorMetadata==="function"){try{const e=t.getEditorMetadata(s,n);const a=await i.promisify(e);return a}catch(t){e.error(`Error invoking getEditorMetaData on plugin: ${t}${t.stack}`,null,"sap.ushell.services.UserDefaultParameters");return}}}));const u=[];const l=o.reverse().reduce((e,a)=>{t.forEach(t=>{if(a?.[t]?.editorMetadata){e[t].editorMetadata=a[t].editorMetadata}});return e},s);t.forEach(e=>{if(!(l[e]&&l[e].editorMetadata)){u.push(e)}});const c=await this._addParameterValuesToParameters(l,t,n);const d=r({},c);a.forEach(e=>{if(d[e]){d[e].editorMetadata=d[e].editorMetadata||{};d[e].editorMetadata.extendedUsage=true}});const f=Object.keys(d).splice(0);f.forEach(e=>{let t;if(d[e].valueObject&&d[e].valueObject.noEdit===true){delete d[e];t=u.indexOf(e);if(t>=0){u.splice(t,1)}}});if(u.length>0){e.error(`The following parameter names have no editor metadata and thus likely no configured plugin:\n"${u.join('",\n"')}".`)}return d};this.editorGetParameters=async function(e){const t=await this._getUserDefaultParameterNames(e);const{aAllParameterNames:a,aExtendedParameterNames:r,oMetadataObject:s}=t;if(s.length===0){return{}}await this._loadPlugins();return this._getEditorDataAndValue(a,r,s,e)};this._extractKeyArrays=function(e){const t={simple:e&&e.simple&&Object.keys(e.simple).sort()||[],extended:e&&e.extended&&Object.keys(e.extended).sort()||[]};const a=t.extended.filter(e=>t.simple.indexOf(e)<0);t.allParameters=t.simple.concat(a).sort();return t};this.editorSetValue=async function(e,t,a){await this._storeValue(e,t,true,a)};this.attachValueStored=function(e){h.attachEvent(u,e)};this.detachValueStored=function(e){h.detachEvent(u,e)};this._loadPlugins=async function(){const t=await o.getServiceAsync("PluginManager");try{await i.promisify(t.loadPlugins("UserDefaults"))}catch{e.error("One or more plugins could not be loaded");throw new Error("Initialization of plugins failed")}}}c.hasNoAdapter=true;return c},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserInfo", ["sap/base/Log","sap/ushell/Config","sap/ushell/User","sap/ushell/Container"],function(e,t,r,i){"use strict";var s={themeList:null,languageList:null,userSettingList:null};function n(t,r){this.getId=function(){return i.getUser().getId()};this.getFirstName=function(){return i.getUser().getFirstName()};this.getLastName=function(){return i.getUser().getLastName()};this.getFullName=function(){return i.getUser().getFullName()};this.getEmail=function(){return i.getUser().getEmail()};this.getUser=function(){return i.getUser()};this.getShellUserInfo=function(){return Promise.resolve({id:this.getId(),email:this.getEmail(),firstName:this.getFirstName(),lastName:this.getLastName(),fullName:this.getFullName()})};this.getCalendarWeekNumberingList=function(){return t.getCalendarWeekNumberingList?.()};this.getThemeList=function(){if(s.themeList){return s.themeList}var r=t.getThemeList();s.themeList=r;r.fail(function(){e.error("getThemeList failed")});return r};this.updateUserPreferences=function(){var r=t.updateUserPreferences(i.getUser());r.fail(function(){e.error("updateAttributes: ")});return r};this.getLanguageList=function(){if(s.languageList){return s.languageList}var r=t.getLanguageList();s.languageList=r;r.fail(function(){e.error("getLanguageList failed")});return r};this.getUserSettingList=function(){if(s.userSettingList){return s.userSettingList}var r=t.getUserProfilePropertyValueLists();s.userSettingList=r;r.fail(function(){e.error("getUserProfilePropertyValueLists failed")});return r};this.getUserSettingListEditSupported=function(){if(typeof t.getUserProfilePropertyValueLists!=="undefined"){return true}return false}}n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CrossApplicationNavigation/utils", ["sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ushell/utils/UrlParsing"],function(e,t,r,a){"use strict";var n={};n.extractGetLinksParameterOptions=function(e){return n.parseGetLinksParameters(e).filter(function(e){return Object.keys(e.options).length>0}).map(function(e){return{name:e.name,options:e.options}})};n.extractGetLinksParameterDefinition=function(e){return n.parseGetLinksParameters(e).reduce(function(e,t){e[t.name]=t.value;return e},{})};n.parseGetLinksParameters=function(e){if(Object.prototype.toString.apply(e)!=="[object Object]"){return[]}var t=JSON.parse(JSON.stringify(e));return Object.keys(t).map(function(e){var r=t[e];var a={};if(Object.prototype.toString.apply(r)==="[object Object]"){r=r.value;delete t[e].value;a=t[e]}return{name:e,value:r,options:a}})};n.safeParseToObject=function(e){try{return JSON.parse(e)}catch(t){r.error("Cannot parse the given string to object",e)}return null};n.createAppStateFromData=function(e){r.error("Deprecated API call of '_CrossApplicationNavigation.utils.createAppStateFromData'. Please use 'createAppStateFromDataAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");var t=sap.ushell.Container.getService("AppState");var a=t.createEmptyAppState(null);a.setData(e);a.save();return a.getKey()};n.createAppStateFromDataAsync=function(e){return sap.ushell.Container.getServiceAsync("AppState").then(function(t){var r=t.createEmptyAppState(null);r.setData(e);r.save();return r.getKey()})};n.extractParameter=function(i,s){var c;var p=null;if(typeof i==="string"){if(i.indexOf(s+"=")===-1){return{intent:i,data:null}}var o=a.parseShellHash(i);if(!o){return{intent:i,data:null}}p=o.params[s];delete o.params[s];c=a.constructShellHash(o);return{intent:c,data:p}}if(e(i)){var u=t.get("target.shellHash",i);if(typeof u==="string"){var l=n.extractParameter(u,s);i.target.shellHash=l.intent;return{intent:i,data:l.data}}var f=i.params;if(f&&f[s]){const e=f[s];p=typeof e==="string"?[e]:e;delete f[s]}return{intent:i,data:p}}r.error("Invalid input parameter","expected string or object");return{intent:i}};n.addXAppStateFromParameter=function(e,t){var r=n.extractParameter(e,t);var a=r.intent;var i=r.data&&r.data[0];if(!i){return}var s=n.safeParseToObject(i);if(!s){return}var c=n.createAppStateFromData(s);n.injectParameter(a,"sap-xapp-state",c)};n.addXAppStateFromParameterAsync=function(e,t){var r=n.extractParameter(e,t);var a=r.intent;var i=r.data&&r.data[0];if(!i){return Promise.resolve()}var s=n.safeParseToObject(i);if(!s){return Promise.resolve()}return n.createAppStateFromDataAsync(s).then(function(e){n.injectParameter(a,"sap-xapp-state",e)})};n.injectParameter=function(e,r,i){if(typeof e==="string"){var s=a.parseShellHash(e);s.params[r]=i;return a.constructShellHash(s)}if(Object.prototype.toString.apply(e)==="[object Object]"){var c=t.get("target.shellHash",e);if(typeof c==="string"){e.target.shellHash=n.injectParameter(c,r,i);return e}if(!e.params){e.params={}}e.params[r]=i}return e};n._injectParameters=function(e){var t=e.inject;var r=e.injectEmptyString||{};var a=e.type;var i=e.args;function s(e,t){return e||e===""&&t}if(a.isPlainObject(i)){if(i.target&&i.target.shellHash){if(typeof i.target.shellHash==="string"){i.target.shellHash=n._injectParameters({inject:t,injectEmptyString:r,type:e.type,args:i.target.shellHash})}return i}var c=Object.keys(t).reduce(function(e,a){var n=t[a];var i=r[a]===true;if(s(n,i)&&typeof e==="string"){var c=new RegExp("[&]"+a);var p=!c.test(e);if(p){var o=e?"&":"";e+=o+a+"="+n}}else if(s(n,i)&&!e.hasOwnProperty(a)){e[a]=n}return e},i.params||{});if(c&&Object.keys(c).length>0){i.params=c}return i}var p=i;if(p){Object.keys(t).forEach(function(e){var a=t[e];var n=r[e]===true;var i=new RegExp("[?&]"+e);var c=!i.test(p);if(s(a,n)&&c){var o=p.indexOf("?")>-1?"&":"?";p+=o+e+"="+a}})}return p};n.injectStickyParameters=function(e){r.error("Deprecated API call of '_CrossApplicationNavigation.utils.injectStickyParameters'. Please use 'injectStickyParametersAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");var t=sap.ushell.Container.getService("AppLifeCycle");return n._injectStickyParameters(e,t)};n.injectStickyParametersAsync=function(e){return sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(t){return n._injectStickyParameters(e,t)})};n._injectStickyParameters=function(e,t){if(!t||Object.keys(t).length<=0){return e.args}var r=t.getCurrentApplication();if(!r||Object.keys(r).length<=0){return e.args}var a=e.appLifeCycle;var i=e.technicalParameters;var s=i.getParameters({sticky:true}).reduce(function(e,t){var n=t.name;var s=r.componentInstance;var c=r.applicationType;var p;if(c==="UI5"){p={}}else{p=a.getCurrentApplication().container}var o=i.getParameterValueSync(n,s,p,c);var u=t.stickyName||n;e[u]=o;return e},{});var c={type:e.type,inject:s,args:e.args};return n._injectParameters(c)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/AppState", ["sap/base/Log","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";function e(e,n,r,a,o,h,c,p,_){this._oServiceInstance=e;this._sKey=n;this._sData=a;this._sAppName=o;this._sACHComponent=h;this._bTransient=c;this._bModifiable=r;this._sPersistencyMethod=p;this._oPersistencySettings=_;if(this._bModifiable){this.setData=function(e){try{this._sData=JSON.stringify(e)}catch(e){t.error("Data can not be serialized","sap.ushell.services.AppState.AppState");this._sData=undefined}};this.save=s.bind(this);this.delete=i.bind(this)}}function s(){var t=new jQuery.Deferred;this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient,this._sPersistencyMethod,this._oPersistencySettings).done(function(){t.resolve()}).fail(function(e){t.reject(e)});return t.promise()}function i(){var t=new jQuery.Deferred;this._oServiceInstance._deleteAppState(this._sKey).done(function(){t.resolve()}).fail(function(e){t.reject(e)});return t.promise()}e.prototype.getData=function(){var e;if(this._sData===undefined||this._sData===""){return undefined}try{e=JSON.parse(this._sData)}catch(e){t.error("Could not parse ["+this._sData+"]"+e)}return e};e.prototype.getPersistencyMethod=function(){return this._sPersistencyMethod};e.prototype.getPersistencySettings=function(){return this._oPersistencySettings};e.prototype.getKey=function(){return this._sKey};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/AppStatePersistencyMethod", [],function(){"use strict";function t(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState"}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/LimitedBuffer", [],function(){"use strict";function t(t){this.index=-1;this.capacity=t;this.array=[]}t.prototype._clear=function(){this.array=[];this.index=-1};t.prototype.addAsHead=function(t,i,e,a){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:t,value:i,persistencyMethod:e,persistencySettings:a}};t.prototype.getByKey=function(t){var i,e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){return this.array[e]}}return undefined};t.prototype.deleteByKey=function(t){var i,e,a=false;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){delete this.array[e];a=true}}return a};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/Sequentializer", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function e(){this.oLastPromise=new jQuery.Deferred;this.oLastPromise.resolve()}e.prototype.addToQueue=function(e){var r=new jQuery.Deferred;this.oLastPromise.always(function(){var t=e();t.done(function(){r.resolve.apply(r,arguments)}).fail(function(){r.reject.apply(r,arguments)})});this.oLastPromise=r;return r.promise()};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/SequentializingAdapter", ["sap/ushell/services/appstate/Sequentializer"],function(e){"use strict";function t(t){this._oSequentializer=new e;this._oUnderlyingAdapter=t}t.prototype.saveAppState=function(e,t,r,n,i,p,d){var o;o=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,e,t,r,n,i,p,d);return this._oSequentializer.addToQueue(o)};t.prototype.loadAppState=function(e){return this._oUnderlyingAdapter.loadAppState(e)};t.prototype.deleteAppState=function(e){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.deleteAppState){return this._oUnderlyingAdapter.deleteAppState(e)}};t.prototype.getSupportedPersistencyMethods=function(){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.getSupportedPersistencyMethods){return this._oUnderlyingAdapter.getSupportedPersistencyMethods()}return[]};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/WindowAdapter", ["sap/ushell/services/appstate/LimitedBuffer","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var r=500;var a=18;function o(){this._init.apply(this,arguments)}o.prototype._init=function(t,a,p){var n=p&&p.config&&p.config.initialAppStates||{};var i=p&&p.config&&p.config.initialAppStatesPromise;this._oServiceInstance=t;this._oBackendAdapter=a;if(!o.prototype.data){o.prototype.data=new e(r)}if(i){i.then(function(e){if(typeof e==="object"){Object.keys(e).forEach(function(t){o.prototype.data.addAsHead(t,e[t])})}})}Object.keys(n).forEach(function(e){o.prototype.data.addAsHead(e,n[e])})};o.prototype.saveAppState=function(e,t,r,a,p,n,i,s){this.sComponent=p;var d=new jQuery.Deferred;o.prototype.data.addAsHead(e,r,i,s);if(this._oBackendAdapter&&!n){return this._oBackendAdapter.saveAppState(e,t,r,a,p,i,s)}d.resolve();return d.promise()};o.prototype._checkIfTransient=function(e){return e.startsWith("TAS")};o.prototype.loadAppState=function(e){var r=new jQuery.Deferred,p=o.prototype.data.getByKey(e);if(p){setTimeout(function(){r.resolve(e,p.value,p.persistencyMethod,p.persistencySettings)},0);return r.promise()}try{if(window.opener&&window.opener.sap&&window.opener.sap.ushell){var n=window.opener.sap.ui.require("sap/ushell/services/AppState").WindowAdapter.prototype.data.getByKey(e);if(n){r.resolve(e,n.value);return r.promise()}}}catch(e){if(e.code===a){t.warning("AppState.js - loadAppState: Opener is not of the same origin and cannot be used for AppState resolving.")}else{t.warning("AppState.js - loadAppState: Opener is a FLP but AppState could not get resolved from there.")}}if(this._oBackendAdapter&&!this._checkIfTransient(e)){this._oBackendAdapter.loadAppState(e).done(function(e,t,a,p){o.prototype.data.addAsHead(e,t);r.resolve(e,t,a,p)}).fail(r.reject.bind(r));return r.promise()}r.reject("AppState.js - loadAppState: Application State could not be loaded");return r.promise()};o.prototype.deleteAppState=function(e){var t=new jQuery.Deferred;o.prototype.data.deleteByKey(e);if(this._oBackendAdapter&&this._oBackendAdapter.deleteAppState&&!this._checkIfTransient(e)){return this._oBackendAdapter.deleteAppState(e)}t.resolve();return t.promise()};o.prototype.getSupportedPersistencyMethods=function(){if(this._oBackendAdapter&&this._oBackendAdapter.getSupportedPersistencyMethods){return this._oBackendAdapter.getSupportedPersistencyMethods()}return[]};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/BackNavigation", ["sap/ui/core/library","sap/ui/core/routing/History","sap/ushell/Container"],(t,i,e)=>{"use strict";const a=t.routing.HistoryDirection;function n(){let t=false;let n;this.isBackNavigation=function(){return i.getInstance().getDirection()===a.Backwards};this.navigateBack=async function(){if(t===true){window.history.back()}else if(n){n()}else{const t=await e.getServiceAsync("Navigation");const i=await t.isInitialNavigation();if(i){return t.navigate({target:{shellHash:"#"},writeHistory:false})}window.history.back()}};this.setNavigateBack=function(i){t=false;n=i};this.resetNavigateBack=function(){t=true;n=undefined};this.restore=function(i){t=i.bDefaultBrowserBack;n=i.fnCustomBackNavigation};this.store=function(i){i.bDefaultBrowserBack=t;i.fnCustomBackNavigation=n};this.reset=function(){t=false;n=undefined}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/BaseState", ["sap/base/util/deepClone","sap/ushell/state/StrategyFactory","sap/ushell/state/StateManager/LaunchpadState"],function(t,a,e){"use strict";class s{#t={};constructor(a){Object.values(e).forEach(e=>{this.#t[e]=t(a)})}updateState(t,e,s,r){if(!t){Object.keys(this.#t).forEach(t=>{a.perform(this.#t[t],e,s,r)});return}a.perform(this.#t[t],e,s,r)}getStateData(a,e){const s=t(this.#t[e]);return s}}return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/ContentDensity", ["sap/ui/Device","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/services/AppConfiguration","sap/ushell/state/StateManager"],function(t,e,n,i,s){"use strict";const a=s.Operation;class o{#t=()=>{throw new Error("ContentDensity is not initialized")};#e=false;#n=[];constructor(){this.#i()}async init(){if(this.#e){return}this.#e=true;this.#t=this.#s.bind(this);this.#n.push(n.on("toggleContentDensity").do(this.#t));const t=await e.getServiceAsync("AppLifeCycle");t?.attachAppLoaded(this.#t)}#i(){const t=this.#a();const e=this.#o();if(t.length===1){s.updateAllBaseStates("application.contentDensity",a.Set,t[0]);s.updateCurrentState("application.contentDensity",a.Set,t[0]);return}s.updateAllBaseStates("application.contentDensity",a.Set,e);s.updateCurrentState("application.contentDensity",a.Set,e)}async resetContentDensity(){await this.#s()}async#s(){const t=await this.#c();const e=this.#p();const n=this.#a();const i=this.#o();if(n.length===1){s.updateAllBaseStates("application.contentDensity",a.Set,n[0]);s.updateCurrentState("application.contentDensity",a.Set,n[0]);return}const o=t||i;let c;if(e.length===1){c=e[0]}else{c=o}s.updateAllBaseStates("application.contentDensity",a.Set,o);s.updateCurrentState("application.contentDensity",a.Set,c)}#o(){if(t.support.touch){return"cozy"}return"compact"}#a(){if(!t.system.desktop&&!t.system.combi){return["cozy"]}return["cozy","compact"]}#p(){const t=i.getMetadata();const e=[];if(t.cozyContentDensity){e.push("cozy")}if(t.compactContentDensity){e.push("compact")}return e}async#c(){const t=await e.getServiceAsync("UserInfo");const n=t.getUser();return n?.getContentDensity()}async reset(){const t=await e.getServiceAsync("AppLifeCycle");t?.detachAppLoaded(this.#t);this.#n.forEach(t=>t.off());this.#t=()=>{throw new Error("Favicon is not initialized")};this.#e=false;this.#n=[]}}return new o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/ControlManager", ["sap/base/util/deepClone","sap/ui/core/Element"],function(t,o){"use strict";class r{#t=[];#o=[];#r=[];addManagedControl(t,o,r){if(!this.#t.includes(t)){this.#t.push(t)}if(r==="home"){o=false}const s=this.#r.includes(t);const e=this.#o.includes(t);if(o&&!e){this.#o.push(t)}else if(!o&&!s){this.#r.push(t)}}updateManagedControl(t,o){if(!this.#t.includes(t)){return}this.addManagedControl(t,o)}removeManagedControl(t){this.#t=this.#t.filter(o=>o!==t);this.#o=this.#o.filter(o=>o!==t);this.#r=this.#r.filter(o=>o!==t)}destroyManagedControls(){this.#o.forEach(t=>{if(this.#r.includes(t)){return}this.destroyManagedControl(t)});this.#o=[]}#s(){this.#t.forEach(t=>{this.destroyManagedControl(t)});this.#t=[]}destroyManagedControl(t){const r=o.getElementById(t);if(r){r.destroy()}}storeList(o={}){o.controlManager={currentControls:t(this.#o)}}restoreList(o={}){const{currentControls:r}=o.controlManager||{};if(r){this.#o=t(r)}else{this.#o=[]}}flushList(){this.#o=[]}destroyFromStorage(t={}){const{currentControls:o}=t.controlManager||{};if(Array.isArray(o)){o.forEach(t=>{this.destroyManagedControl(t)})}}reset(){this.destroy();this.#o=[];this.#r=[]}destroy(){this.#s()}}return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/CurrentState", ["sap/base/util/deepClone","sap/ui/base/EventProvider","sap/ushell/state/StrategyFactory"],function(t,e,a){"use strict";class s{#t=[];#e=new e;attachStateChange(...t){this.#e.attachEvent("stateChange",...t)}detachStateChange(...t){this.#e.detachEvent("stateChange",...t)}updateState(t,e,a){this.#t.push({path:t,value:a,operation:e})}flushState(){this.#t=[];this.#e.fireEvent("stateChange")}storeState(e){e.currentState={commandList:t(this.#t)}}restoreState(e){const{commandList:a}=e.currentState||{};if(a){this.#t=t(a)}else{this.#t=[]}this.#e.fireEvent("stateChange")}applyState(t){this.#t.forEach(({path:e,value:s,operation:i})=>{a.perform(t,e,i,s)})}reset(){this.destroy();this.#t=[];this.#e=new e}destroy(){this.#e.destroy()}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/Favicon", ["sap/ui/core/Theming","sap/ui/util/Mobile","sap/ushell/Config","sap/ushell/utils"],function(e,i,t,n){"use strict";class s{#e=()=>{throw new Error("Favicon is not initialized")};#i=false;#t=[];init(){if(this.#i){return}this.#i=true;this.#e=this.#n.bind(this);e.attachApplied(this.#e);this.#t.push(t.on("/core/shell/favIcon").do(this.#e))}async#s(){let e;let i=false;const[s]=await n.getThemingParameters(["sapUiShellFavicon"]);if(s){const t=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(s);if(t){e=t[1];i=true}else if(s!=="''"&&s!=="none"){e=s}}const a=t.last("/core/shell/favIcon");if(!e&&a){e=a;i=true}if(!e){const i=sap.ui.require.toUrl("sap/ushell");e=`${i}/themes/base/img/launchpad_favicon.ico`}return{favicon:e,isCustomFavicon:i}}async#n(){const{favicon:e,isCustomFavicon:t}=await this.#s();let n;if(t){n={phone:e,"phone@2":e,tablet:e,"tablet@2":e,favicon:e,precomposed:false}}else{const i=sap.ui.require.toUrl("sap/ushell");n={phone:`${i}/themes/base/img/launchicons/phone-icon_120x120.png`,"phone@2":`${i}/themes/base/img/launchicons/phone-retina_180x180.png`,tablet:`${i}/themes/base/img/launchicons/tablet-icon_152x152.png`,"tablet@2":`${i}/themes/base/img/launchicons/tablet-retina_167x167.png`,favicon:e,precomposed:false}}i.setIcons(n)}reset(){e.detachApplied(this.#e);this.#t.forEach(e=>e.off());this.#e=()=>{throw new Error("Favicon is not initialized")};this.#i=false;this.#t=[]}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/KeepAlive", ["sap/ushell/state/ControlManager","sap/ushell/state/CurrentState"],function(t,e){"use strict";class s{store(s){e.storeState(s);t.storeList(s)}restore(s){e.restoreState(s);t.restoreList(s)}flush(){e.flushState();t.flushList()}destroy(e){t.destroyFromStorage(e)}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/ShellModel", ["sap/base/util/deepClone","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/utils/RestrictedJSONModel"],function(e,o,s,t){"use strict";class l{#e=new t;#o=s.createModel("/core/shell/model",o);constructor(){this.#s(this.#e)}#s(e){const o=e.refresh.bind(e);e.refresh=function e(s){if(s){throw new Error("The shell model does not support force update.")}o()}}updateModel(o){const s=e(o);this.#e._setData(s)}getModel(){return this.#e}getConfigModel(){return this.#o}reset(){this.destroy();this.#e=new t;this.#o=s.createModel("/core/shell/model",o);this.#s(this.#e)}destroy(){this.#e.destroy();this.#o.destroy()}}return new l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager", ["sap/base/Log","sap/ushell/Config","sap/ushell/state/BaseState","sap/ushell/state/ControlManager","sap/ushell/state/CurrentState","sap/ushell/state/ShellModel","sap/ushell/state/StateRules","sap/ushell/state/StateManager/LaunchpadState","sap/ushell/state/StateManager/Operation","sap/ushell/state/StateManager/ShellMode","sap/ushell/utils"],function(e,t,a,s,l,i,n,r,h,d,o){"use strict";const{Default:u,Standalone:p,Lean:g,Minimal:c}=d;class S{#e=o.deepFreeze({sideNavigation:{visible:true},sidePane:{visible:false,items:[]},toolArea:{visible:false,items:[]},rightFloatingContainer:{visible:false,items:[]},floatingContainer:{visible:false,state:"floating",dragSelector:"",items:[]},userActions:{items:[]},floatingActions:{items:[]},header:{visible:true,home:{showLogo:false},secondTitle:"",headItems:[],centralAreaElement:null,headEndItems:[]},subHeader:{items:[]},footer:{content:""},application:{title:"",titleAdditionalInformation:{headerText:"",additionalContext:"",searchTerm:"",searchScope:""},icon:"",contentDensity:"",subTitle:"",relatedApps:[],hierarchy:[]}});#t=false;#a=r.Home;#s=d.Default;#l=d.Default;#i=null;#n=l;#r=false;#h=false;#d=[];LaunchpadState=r;ShellMode=d;Operation=h;constructor(){this.#o()}#o(){const e=this.#u();this.#l=e;this.#s=e;this.#a=o.isFlpHomeIntent()?r.Home:r.App;this.#i=new a(this.#e);this.#n.attachStateChange(this.#p,this);this.#p()}init(e){if(this.#t){throw new Error("State Manager is already initialized!")}this.#t=true;n.setShellConfig(e);this.#p()}getShellMode(){return this.#l}getLaunchpadState(){return this.#a}switchState(e,t){this.#g(e);const a=t??this.#s;this.#c(a);this.#l=a;this.#a=e;this.#p()}updateBaseStates(e,t,a,s){this.#S(a);this.#f(e);if(this.#h){this.#d.push({handler:this.updateBaseStates.bind(this),args:arguments});return}e.forEach(e=>{this.#i.updateState(e,t,a,s)});this.#p()}updateAllBaseStates(e,t,a){this.updateBaseStates(Object.values(r),e,t,a)}updateCurrentState(e,t,a){this.#S(t);if(this.#h){this.#d.push({handler:this.updateCurrentState.bind(this),args:arguments});return}this.#n.updateState(e,t,a);this.#p()}refreshState(e){const t=i.getModel();const a=t.getBindings();const s=`/${e.replace(/\./g,"/")}`;const l=a.filter(e=>{const t=e.getResolvedPath();if(!t){return false}return t.startsWith(s)});l.forEach(function(e){e.refresh(true)})}addManagedControl(e,t){if(this.#h){this.#d.push({handler:this.addManagedControl.bind(this),flushHandler:(e,t)=>{s.destroyManagedControl(e)},args:arguments});return}s.addManagedControl(e,!t,this.#a)}updateManagedControl(e,t){if(this.#h){this.#d.push({handler:this.updateManagedControl.bind(this),args:arguments});return}s.updateManagedControl(e,!t)}removeManagedControl(e){if(this.#h){this.#d.push({handler:this.removeManagedControl.bind(this),args:arguments});return}s.removeManagedControl(e)}destroyManagedControls(){s.destroyManagedControls()}#p(){if(this.#h||this.#r){return}const e=this.#i.getStateData(this.#l,this.#a);this.#n.applyState(e);n.applyRules(e,this.#l,this.#a);i.updateModel(e)}#u(){let a;const s=new URLSearchParams(window.location.search);if(s.has("sap-ushell-config")){a=s.get("sap-ushell-config")}else{a=t.last("/core/state/shellMode");(()=>{if(s.has("appState")){a=s.get("appState");if(a){e.error("URL parameter 'appState' is given, but deprecated. Please use 'sap-ushell-config' instead!","sap.ushell.renderer.Renderer")}}else{a=t.last("/core/state/shellMode")}})()}a=a?.toLowerCase()??d.Default;try{this.#c(a)}catch(t){e.error(`Error occurred during validation: "${t.message}", Defaulting to default ShellMode`);a=d.Default}return a}stallChanges(){this.#h=true}applyStalledChanges(){this.#h=false;this.#r=true;this.#d.forEach(({handler:e,args:t})=>{e(...t)});this.#d=[];this.#r=false;this.#p()}discardStalledChanges(){this.#h=false;this.#d.forEach(({flushHandler:e,args:t})=>{if(e){e(...t)}});this.#d=[]}reset(){this.#n.detachStateChange(this.#p,this);this.#o();this.#t=false;this.#r=false;this.#h=false;this.#d=[]}resetAll(){n.reset();s.reset();i.reset();this.#n.reset();this.reset()}destroy(){this.#n.detachStateChange(this.#p,this);this.#n.destroy();i.destroy();s.destroy()}#c(e){if(!Object.values(d).includes(e)){throw new Error(`Invalid shell mode: ${e}`)}}#S(e){if(!Object.values(h).includes(e)){throw new Error(`Invalid operation: ${e}`)}}#g(e){if(!Object.values(r).includes(e)){throw new Error(`Invalid launchpad state: ${e}`)}}#f(e){if(!Array.isArray(e)){throw new Error("Launchpad states must be provided as an array!")}if(e.length===0){throw new Error("No launchpad states provided!")}e.forEach(e=>{this.#g(e)})}isLegacyHome(){if(this.getLaunchpadState()!==r.Home){return false}const e=[u,p,g,c];return e.includes(this.getShellMode())}}return new S});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/LaunchpadState", [],function(){"use strict";const e={Home:"home",App:"app"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/Operation", [],function(){"use strict";const e={Add:"add",Remove:"remove",Set:"set"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateManager/ShellMode", [],function(){"use strict";const e={Default:"",Standalone:"standalone",Embedded:"embedded",Merged:"merged",Headerless:"headerless",Lean:"lean",Blank:"blank",Minimal:"minimal"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StateRules", ["sap/base/Log","sap/ushell/state/StateManager/LaunchpadState","sap/ushell/state/StateManager/Operation","sap/ushell/state/StateManager/ShellMode","sap/ushell/state/StrategyFactory"],function(e,t,s,n,o){"use strict";const{Default:i,Standalone:r,Embedded:l,Merged:a,Headerless:d,Lean:m,Blank:h,Minimal:u}=n;class f{#e=null;setShellConfig(e){this.#e=e}applyRules(e,t,s){this.#t(e,t,s);this.#s(e);this.#n(e);this.#o(e);this.#i(e)}#t(e,n,f){if(n===d){o.perform(e,"header.visible",s.Set,false)}if(n===d){o.perform(e,"sideNavigation.visible",s.Set,false)}let c;if(f===t.Home){c=![d,l,a].includes(n)}else{c=![d,r,l,a].includes(n)}o.perform(e,"header.home.showLogo",s.Set,c);if(f===t.Home){o.perform(e,"header.headItems",s.Remove,"backBtn")}else{const t=[i,r,l,a,m,u].includes(n);if(!t){o.perform(e,"header.headItems",s.Remove,"backBtn")}}const p=[i,r,u,l,m,h,a].includes(n);if(!p){o.perform(e,"header.headEndItems",s.Remove,"userActionsMenuHeaderButton")}let S;if(f===t.Home){S=[i,r,u,m].includes(n)}else{S=[i,u].includes(n)}if(!S){o.perform(e,"userActions.items",s.Remove,"openCatalogBtn")}let g;if(f===t.Home){g=[i,r,u,m].includes(n)}else{g=[i,u].includes(n)}if(!g){o.perform(e,"userActions.items",s.Remove,"userSettingsBtn")}let v;if(f===t.Home){v=[i,r,u,m].includes(n)}else{v=[i,u].includes(n)}if(!v){o.perform(e,"header.headEndItems",s.Remove,"NotificationsCountButton")}}#s(t){if(!this.#e){e.warning("StateRules not initialized: Cannot move UserAction ShellHeader");return}if(this.#e.moveEditHomePageActionToShellHeader){}if(this.#e.moveAppFinderActionToShellHeader){if(t.userActions.items.includes("openCatalogBtn")){o.perform(t,"userActions.items",s.Remove,"openCatalogBtn");o.perform(t,"header.headEndItems",s.Add,"openCatalogBtn")}}if(this.#e.moveUserSettingsActionToShellHeader){if(t.userActions.items.includes("userSettingsBtn")){o.perform(t,"userActions.items",s.Remove,"userSettingsBtn");o.perform(t,"header.headEndItems",s.Add,"userSettingsBtn")}}if(this.#e.moveContactSupportActionToShellHeader){if(t.userActions.items.includes("ContactSupportBtn")){o.perform(t,"userActions.items",s.Remove,"ContactSupportBtn");o.perform(t,"header.headEndItems",s.Add,"ContactSupportBtn")}}}#n(e){if(e.subHeader.items.length>1){const t=[...e.subHeader.items];for(let n=0;n<t.length-1;n++){const i=t[n];o.perform(e,"subHeader.items",s.Remove,i)}}}#o(e){if(e.sidePane.items.length>1){const t=[...e.sidePane.items];for(let n=0;n<t.length-1;n++){const i=t[n];o.perform(e,"sidePane.items",s.Remove,i)}}}#i(e){const t=3;const n=[...e.header.headItems];if(n.length>t){for(let i=t;i<n.length;i++){const t=n[i];o.perform(e,"header.headItems",s.Remove,t)}}}reset(){this.#e=null}}return new f});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory", ["sap/base/util/ObjectPath","sap/ushell/state/StateManager/Operation","sap/ushell/state/StrategyFactory/DefaultStrategy","sap/ushell/state/StrategyFactory/FloatingActionsStrategy","sap/ushell/state/StrategyFactory/FloatingContainerStrategy","sap/ushell/state/StrategyFactory/HeadItemsStrategy","sap/ushell/state/StrategyFactory/HeadEndItemsStrategy","sap/ushell/state/StrategyFactory/SidePaneStrategy","sap/ushell/state/StrategyFactory/SubHeaderStrategy","sap/ushell/state/StrategyFactory/UserActionsStrategy"],function(t,e,a,r,s,n,i,o,l,y){"use strict";class d{perform(t,a,r,s){const n=this.#t(a,r);if(r===e.Add||r===e.Remove){this.#e(t,a,s,n);return}this.#a(t,a,s,n)}#e(e,a,r,s){const n=t.get(a,e);if(!n){throw new Error(`Invalid path: ${a}`)}if(!Array.isArray(n)){throw new Error(`The path ${a} does not point to an array.`)}s(n,r)}#a(e,a,r,s){let n;let i;if(a.lastIndexOf(".")<0){n=a;i=e}else{n=a.substring(a.lastIndexOf(".")+1);const r=a.substring(0,a.lastIndexOf("."));i=t.get(r,e)}if(!i||!Object.hasOwn(i,n)){throw new Error(`Invalid path: ${a}`)}s(i,n,r)}#t(t,e){let d;switch(t){case"header.headItems":d=n[e]?.bind(n);break;case"header.headEndItems":d=i[e]?.bind(i);break;case"userActions.items":d=y[e]?.bind(y);break;case"floatingActions.items":d=r[e]?.bind(r);break;case"floatingContainer.items":d=s[e]?.bind(s);break;case"sidePane.items":d=o[e]?.bind(o);break;case"subHeader.items":d=l[e]?.bind(l);break;default:}if(!d){d=a[e]?.bind(a)}return d}}return new d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/DefaultStrategy", [],function(){"use strict";class e{add(e,n){if(n===undefined||n===null){return}if(e.includes(n)){return}e.push(n)}remove(e,n){const i=e.indexOf(n);if(i===-1){return}e.splice(i,1)}set(e,n,i){e[n]=i}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/FloatingActionsStrategy", ["sap/base/Log","sap/ui/core/Element"],function(i,n){"use strict";class t{add(t,e){if(!n.getElementById(e)){i.warning(`Failed to find control with id '${e}'`);return}if(t.includes(e)){this.#i(t,e)}this.#n(t,e)}#i(i,n){const t=i.indexOf(n);if(t===-1){return}i.splice(t,1)}#n(i,n){i.push(n)}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/FloatingContainerStrategy", [],function(){"use strict";class e{add(e,s){e.splice(0,e.length);e.push(s)}}return new e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/HeadEndItemsStrategy", ["sap/base/Log","sap/ui/core/Element","sap/ushell/api/NewExperience"],function(e,t,n){"use strict";const s=10;class r{add(n,s){if(n.includes(s)){return}if(!t.getElementById(s)){e.warning(`Failed to find control with id '${s}'`);return}if(this.#e([...n,s])){e.error("The maximum number of head end items has been reached. The item could not be added.")}else{this.#t(n,s)}}#e(e){const t=[...new Set(e)];const n=["endItemsOverflowBtn"];const r=t.filter(e=>!n.includes(e)).length;return r>s}#t(e,t){e.push(t);const s={shellAppTitle:-7,shellBarSpacer:-4,sf:-3,"sap.das.webclientplugin.s4.shellitem":-2,"sap.das.webclientplugin.workzone.shellitem":-2,copilotBtn:-1,NotificationsCountButton:1,endItemsOverflowBtn:2,userActionsMenuHeaderButton:3,productSwitchBtn:4};s[n.getShellHeaderControl()?.getId()]=-5;s[n.getOverflowItemId()]=-6;e.sort((e,t)=>{const n=s[e]||0;const r=s[t]||0;if(n===r){return e.localeCompare(t)}return n-r})}}return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/HeadItemsStrategy", ["sap/base/Log","sap/ui/core/Element"],function(e,n){"use strict";const t=3;class s{add(t,s){if(t.includes(s)){return}if(!n.getElementById(s)){e.warning(`Failed to find control with id '${s}'`);return}if(this.#e([...t,s])){e.error("The maximum number of head items has been reached. The item could not be added.")}else{this.#n(t,s)}}#e(e){const n=[...new Set(e)];const s=["backBtn","sideMenuExpandCollapseBtn"];const d=n.filter(e=>!s.includes(e)).length;return d>t}#n(e,n){e.push(n);const t={sideMenuExpandCollapseBtn:-2,backBtn:-1};e.sort((e,n)=>{const s=t[e]||0;const d=t[n]||0;return s-d})}}return new s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/SidePaneStrategy", ["sap/base/Log","sap/ui/core/Element"],function(e,i){"use strict";class n{add(n,t){if(!i.getElementById(t)){e.warning(`Failed to find control with id '${t}'`);return}if(n.includes(t)){this.#e(n,t)}this.#i(n,t)}#e(e,i){const n=e.indexOf(i);if(n===-1){return}e.splice(n,1)}#i(e,i){e.push(i)}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/SubHeaderStrategy", ["sap/base/Log","sap/ui/core/Element"],function(e,i){"use strict";class d{add(d,n){if(!i.getElementById(n)){e.warning(`Failed to find control with id '${n}'`);return}if(d.includes(n)){this.#e(d,n)}this.#i(d,n)}#e(e,i){const d=e.indexOf(i);if(d===-1){return}e.splice(d,1)}#i(e,i){e.push(i)}}return new d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/state/StrategyFactory/UserActionsStrategy", [],function(){"use strict";class t{add(t,n){if(t.includes(n)){return}t.push(n);const e={userSettingsBtn:-7,recentActivitiesBtn:-6,frequentActivitiesBtn:-5,openCatalogBtn:-4,ActionModeBtn:-3,EditModeBtn:-2,ContactSupportBtn:-1,dataPrivacyBtn:1,aboutBtn:2,logoutBtn:3};t.sort((t,n)=>{const i=e[t]||0;const o=e[n]||0;return i-o})}}return new t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/ShellUIService", ["sap/base/Log","sap/base/util/extend","sap/base/util/isPlainObject","sap/ui/base/EventProvider","sap/ui/core/service/Service","sap/ui/thirdparty/hasher","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/services/AppConfiguration","sap/ushell/state/ShellModel","sap/ushell/state/StateManager","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,i,a,n,s,r,l,o,c,h,u,f,d)=>{"use strict";const p=u.LaunchpadState;const g=u.Operation;const _=u.ShellMode;const{Default:v,Embedded:y}=_;const A="backNavigationChanged";const b="serviceDestroyed";const S=n.extend("sap.ushell.ui5service.ShellUIService",{constructor:function(){n.apply(this,arguments);this._oEventProvider=new a;this._bIsActive=true;this._bDestroyed=false;this._bInitialized=false;this._sLastTitle=null;this._aLastHierarchy=null;this._aLastRelatedApps=null;this._fnLastBackNavigation=null;this._bEnableAutoTitle=false;this._bEnableAutoHierarchy=false},initService:function(e){if(!e){if(!this._sLastTitle){this._initTitle()}if(!this._aLastHierarchy){this.setHierarchy()}if(!this._aLastRelatedApps){this.setRelatedApps()}if(!this._fnLastBackNavigation){this.setBackNavigation()}}const t=this.getContext().scopeObject;if(this._shouldEnableAutoHierarchy(t)){this._enableAutoHierarchy(t)}if(this._shouldEnableAutoTitle(t)){this._enableAutoTitle(t)}this._bInitialized=true},resetService:function(){this._sLastTitle=null;this._aLastHierarchy=null;this._aLastRelatedApps=null;this._fnLastBackNavigation=null;this._bInitialized=false},_isCallAllowed:function(){if(this._bDestroyed){e.error("The ShellUIService has been destroyed and cannot be used anymore.",null,"sap.ushell.ui5service.ShellUIService");return false}if(!this._bIsActive){e.warning("The ShellUIService is currently inactive and calls will be ignored.",null,"sap.ushell.ui5service.ShellUIService");return false}return true},setHierarchy:function(e){this._preventOverrideOfAutoHierarchy();if(!this._isCallAllowed()){return}if(typeof e!=="undefined"){this._ensureArrayOfObjectOfStrings(e,"setHierarchy")}this._changeHierarchy(e)},_initTitle:function(){if(!this._isCallAllowed()){return}const e=s.getHash()||"";const t=e.startsWith("Shell-startIntent");this._changeTitleAdditionalInformation();this._changeTitle("",t)},setTitle:function(e,t){this._preventOverrideOfAutoTitle();if(!this._isCallAllowed()){return}if(typeof e!=="undefined"&&typeof e!=="string"){throw new Error("'setTitle' was called with invalid arguments. The parameter should be a string")}this._changeTitleAdditionalInformation(t);this._changeTitle(e)},setBackNavigation:function(e){if(!this._isCallAllowed()){return}if(typeof e!=="undefined"&&typeof e!=="function"){throw new Error("'setBackNavigation' was called with invalid arguments. The parameter should be a function")}const t=this.getContext().scopeObject;this._oEventProvider.fireEvent(A,{data:e,component:t});this._fnLastBackNavigation=e},getTitle:function(){if(!this._isCallAllowed()){return}return h.getModel().getProperty("/application/title")},setRelatedApps:function(e){if(!this._isCallAllowed()){return}if(typeof e!=="undefined"){this._ensureArrayOfObjectOfStrings(e,"setRelatedApps")}this._changeRelatedApps(e)},attachBackNavigationChanged:function(...e){this._oEventProvider.attachEvent(A,...e)},detachBackNavigationChanged:function(...e){this._oEventProvider.detachEvent(A,...e)},attachServiceDestroyed:function(...e){this._oEventProvider.attachEvent(b,...e)},detachServiceDestroyed:function(...e){this._oEventProvider.detachEvent(b,...e)},_changeHierarchy:function(e){let i=[];if(!e){e=[]}const a=this._getHierarchyDefaultValue();e.forEach((e,a)=>{i[a]=t({},e)});i=i.concat(a);if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.hierarchy",g.Set,i)}u.updateCurrentState("application.hierarchy",g.Set,i);this._aLastHierarchy=i},_changeRelatedApps:function(e){if(!e){e=[]}if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.relatedApps",g.Set,e)}u.updateCurrentState("application.relatedApps",g.Set,e);this._aLastRelatedApps=e},_changeTitle:function(e,t){if(!e&&!t){e=this._getTitleDefaultValue()}if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.title",g.Set,e)}u.updateCurrentState("application.title",g.Set,e);f.setPerformanceMark("FLP -- title change");l.emit("TitleChanged",e);this._sLastTitle=e},_changeTitleAdditionalInformation:function(e){const t={headerText:e?.headerText||"",additionalContext:e?.additionalContext||"",searchTerm:e?.searchTerm||"",searchScope:e?.searchScope||""};if(u.isLegacyHome()){u.updateBaseStates([p.Home],"application.titleAdditionalInformation",g.Set,t)}u.updateCurrentState("application.titleAdditionalInformation",g.Set,t);f.setPerformanceMark("FLP -- titleAdditionalInformation change");l.emit("TitleAdditionalInformationChanged",t)},_getTitleDefaultValue:function(){let e="";const t=c.getMetadata();if(t&&t.title){e=t.title}return e},_getHierarchyDefaultValue:function(){const e=[];const t=r.last("/core/shellHeader/rootIntent");const i=u.getLaunchpadState();const a=u.getShellMode();if(i===p.App&&[v,y].includes(a)){e.push({icon:"sap-icon://home",title:o.i18n.getText("actionHomePage"),intent:t?`#${t}`:"#"});const i=r.last("/core/spaces/currentSpaceAndPage");if(i!==undefined){e.splice(0,0,{icon:"sap-icon://space-navigation",title:i.pageTitle,subtitle:i.pageTitle!==i.spaceTitle?i.spaceTitle:undefined,intent:`#${i.hash}`})}}return e},_shouldEnableAutoHierarchy:function(e){if(typeof e.getManifestEntry!=="function"){return false}const t=e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy");return t==="auto"},_enableAutoHierarchy:function(t){const i=t.getRouter&&t.getRouter();if(!i){e.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}this._bEnableAutoHierarchy=true;i.attachTitleChanged(function(e){const t=e.getParameter("history");const i=this._getCurrentShellHashWithoutAppRoute();const a=t.reverse().map(e=>({title:e.title,intent:`${i}&/${e.hash}`}));this._bSkipAutoHierarchyCheck=true;this.setHierarchy(a)},this)},_preventOverrideOfAutoHierarchy:function(){if(!this._bInitialized){return}if(this._bSkipAutoHierarchyCheck){this._bSkipAutoHierarchyCheck=false;return}const e=this._shouldEnableAutoHierarchy(this.getContext().scopeObject);if(e){throw new Error("Cannot set hierarchy manually - Auto hierarchy is enabled")}},_shouldEnableAutoTitle:function(e){if(typeof e.getManifestEntry!=="function"){return false}const t=e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle");return t==="auto"},_enableAutoTitle:function(t){const i=t.getRouter&&t.getRouter();if(!i){e.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}this._bEnableAutoTitle=true;const a=i.getTitleHistory()[0];if(a&&a.title){setTimeout(()=>{this._bSkipAutoTitleCheck=true;this.setTitle(a.title)},0)}i.attachTitleChanged(function(e){const t=e.getParameter("title");this._bSkipAutoTitleCheck=true;this.setTitle(t)},this)},_preventOverrideOfAutoTitle:function(){if(!this._bInitialized){return}if(this._bSkipAutoTitleCheck){this._bSkipAutoTitleCheck=false;return}const e=this._shouldEnableAutoTitle(this.getContext().scopeObject);if(e){throw new Error("Cannot set title manually - Auto title is enabled")}},_getCurrentShellHashWithoutAppRoute:function(){const t=`#${s.getHash()}`;const i=d.getShellHash(t);if(!i){e.error("Cannot get the current shell hash",`UrlParsing service returned a falsy value for ${t}`,"sap.ushell.ui5service.ShellUIService");return""}return`#${i}`},_ensureArrayOfObjectOfStrings:function(e,t){const a=Array.isArray(e)&&e.every(e=>i(e)&&Object.keys(e).length>0&&Object.keys(e).every(t=>typeof e[t]==="string"));if(!a){throw new Error(`'${t}' was called with invalid parameters. An array of non-empty objects with string values is expected`)}},setApplicationFullWidth:function(e){if(!this._isCallAllowed()){return}c.setApplicationFullWidthInternal(e)},setActive:function(e){this._bIsActive=e},getActive:function(){return this._bIsActive},exit:function(){this._oEventProvider.fireEvent(b);this._oEventProvider.destroy();this._bDestroyed=true}});return S});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/ShellUIServiceFactory", ["sap/base/util/Deferred","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/service/ServiceFactory","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/ui5service/ShellUIService","sap/ushell/utils"],(e,t,n,s,i,o,c,r)=>{"use strict";const a="backNavigationChanged";const l=s.extend("sap.ushell.ui5service.ShellUIServiceFactory",{constructor:function(){s.apply(this,arguments);this._mServiceInstances=new Map;this._oGlobalServiceInstance=null;this._oCurrentApplication=null;this._oEventProvider=new t;this._aDoables=[]},init:async function(){this._AppLifeCycle=await i.getServiceAsync("AppLifeCycle");this._AppLifeCycle.attachAppLoaded(this._handleAppOpened,this);const e=o.on("reloadCurrentApp").do(this._handleReloadCurrentApp.bind(this));this._aDoables.push(e);await this.createInstanceInternal()},_setInitialAppValues:function(){if(this._oCurrentApplication?.componentInstance){const e=this._mServiceInstances.get(this._oCurrentApplication.componentInstance.getId());if(e?.instance){return}}if(r.isFlpHomeIntent()){return}this._oGlobalServiceInstance.getContext().scopeObject=this._oCurrentApplication.componentInstance||{};this._oGlobalServiceInstance.initService()},_handleAppOpened:function(e){this._oCurrentApplication=e.getParameters();this._setServiceActive(null);if(this._oCurrentApplication?.componentInstance){const e=this._oCurrentApplication.componentInstance;this._setServiceActive(e);this._resolveServiceInstance(e)}this._setInitialAppValues()},restore:function(e){const t=e.app;if(!t){this._setServiceActive(null);return}this._oCurrentApplication={componentInstance:t};this._setServiceActive(this._oCurrentApplication.componentInstance)},_handleReloadCurrentApp:function(){this._oCurrentApplication=null},_handleServiceDestroyed:function(e,t){this._mServiceInstances.delete(t.id)},attachBackNavigationChanged:function(...e){this._oEventProvider.attachEvent(a,...e)},detachBackNavigationChanged:function(...e){this._oEventProvider.detachEvent(a,...e)},_handleBackNavigationChanged:function(e){const t=e.getParameters();this._oEventProvider.fireEvent(a,t)},createInstance:async function(t){if(!t||!t.scopeObject){throw new Error("No service context provided")}const n=t.scopeObject.getId();const s=this._mServiceInstances.get(n);if(s){return s.deferred.promise}t.settings=t.settings||{};t.settings.isGlobal=false;t.settings.id=n;const i=new c(t);i.attachBackNavigationChanged(this._handleBackNavigationChanged,this);i.attachServiceDestroyed({id:n},this._handleServiceDestroyed,this);const o={instance:i,scopeObject:t.scopeObject||{},deferred:new e,resolved:false};this._mServiceInstances.set(n,o);const r=this._getRootComponent(t.scopeObject);if(this._isComponentActive(r)){this._resolveServiceInstance(r)}return o.deferred.promise},_getRootComponent:function(e){if(!e){return null}const t=n.getOwnerComponentFor(e);if(!t){return e}if(t.isA("sap.ushell.renderer.Renderer")){return e}return this._getRootComponent(t)},_isComponentActive:function(e){const t=this._oCurrentApplication?.componentInstance;if(!t||!e){return false}return e===t},createInstanceInternal:async function(){if(this._oGlobalServiceInstance){return this._oGlobalServiceInstance}const e={scopeObject:{getId:function(){return""}},scopeType:"component",settings:{isGlobal:true}};this._oGlobalServiceInstance=new c(e);this._oGlobalServiceInstance.attachBackNavigationChanged(this._handleBackNavigationChanged,this);return this._oGlobalServiceInstance},_setServiceActive(e){this._mServiceInstances.forEach(t=>{const n=this._getRootComponent(t.scopeObject);if(!e){t.instance.setActive(false)}else if(n===e){t.instance.setActive(true)}else{t.instance.setActive(false)}})},_resolveServiceInstance(e){if(!e){return}this._mServiceInstances.forEach(t=>{const n=this._getRootComponent(t.scopeObject);const s=n===e;if(s&&!t.resolved){const n=this._hasResolvedInstances(e);t.instance.initService(n);t.resolved=true;t.deferred.resolve(t.instance)}})},_hasResolvedInstances(e){if(!e){return false}return Array.from(this._mServiceInstances.values()).some(t=>{const n=this._getRootComponent(t.scopeObject);const s=n===e;return s&&t.resolved})},destroy(){s.prototype.destroy.apply(this,arguments);this._aDoables.forEach(e=>{e.off()});this._AppLifeCycle?.detachAppLoaded?.(this._handleAppOpened,this);this._mServiceInstances.forEach(e=>{e.instance.destroy()});this._oGlobalServiceInstance?.destroy?.();this._oEventProvider.destroy();this._oGlobalServiceInstance=null;this._mServiceInstances=null;this._oCurrentApplication=null;this._AppLifeCycle=null;this._aDoables=null},reset(){this.destroy();this._mServiceInstances=new Map;this._oEventProvider=new t;this._aDoables=[]}});return new l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/UserStatus", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/ui/base/EventProvider"],function(e,t,a,r){"use strict";var s={statusChanged:"statusChanged",serviceStateChanged:"serviceStateChanged"};var i=a.extend("sap.ushell.ui5service.UserStatus",{init:function(){i.prototype.isEnabled=false;e.register("sap.ushell.ui5service.UserStatus",new t(i));this.oEventProvider=new r;i.prototype.AvailableStatus={AVAILABLE:"AVAILABLE",AWAY:"AWAY",BUSY:"BUSY",APPEAR_OFFLINE:"APPEAR_OFFLINE"}},exit:function(){this.oEventProvider.destroy()}});i.prototype.setEnabled=function(e){this.oEventProvider.fireEvent(s.serviceStateChanged,{data:e});i.prototype.isEnabled=e;return};i.prototype.setStatus=function(e){if(!i.prototype.isEnabled){throw new Error("Unable to change status because the UserStatus service is disabled.")}if(!i.prototype.AvailableStatus[e]&&e!==null){throw new Error("Enter a valid status.")}this.oEventProvider.fireEvent(s.statusChanged,{data:e})};i.prototype.attachStatusChanged=function(e){this.oEventProvider.attachEvent(s.statusChanged,e)};i.prototype.detachStatusChanged=function(e){this.oEventProvider.detachEvent(s.statusChanged,e)};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils", ["sap/base/Log","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/base/util/deepClone","sap/ushell/utils/UrlParsing","sap/ushell/utils/objectOperations","sap/ushell/utils/type","sap/ushell/renderer/History","sap/ushell/renderers/fiori2/History"],function(e,t,r,n,i,a,o,jQuery,s,u,l,c,p,f,d){"use strict";var g={};g.isArray=p.isArray;g.isPlainObject=p.isPlainObject;g.isDefined=p.isDefined;g.clone=u;g.getMember=c.getMember;g.updateProperties=c.updateProperties;g.getNestedObjectProperty=c.getNestedObjectProperty;g.deepFreeze=function(e){Object.keys(e).filter(r=>{const n=e[r];return t(n)||Array.isArray(n)}).forEach(t=>{e[t]=this.deepFreeze(e[t])});return Object.freeze(e)};g.removeDuplicatedActions=function(e){if(Array.isArray(e)){var t=e.reduce(function(e,t){if(e.indexOf(t)<0){e.push(t)}return e},[]);return t}return e};g.storeSapSystemData=function(t,r){var n,i,a,o=[t.id];if(arguments.length>1){o.unshift(r)}try{a=JSON.stringify(t)}catch(t){e.error("Cannot stringify and store expanded system data: "+t)}if(a){i=g.getLocalStorage();n=g.generateLocalStorageKey("sap-system-data",o);i.setItem(n,a)}};g.getLocalSystemInSidFormat=function(){const e=sap.ui.require("sap/ushell/Container");var t=e.getLogonSystem();var r=t.getSystemName();var n=t.getClient();return"sid("+r+"."+n+")"};g.matchesLocalSid=function(e){return g.getLocalSystemInSidFormat().toLowerCase()===e.toLowerCase()};g.storeSapSystemToLocalStorage=function(e){var t=(e||{}).params;if(!t||!t.hasOwnProperty("sap-system")){return}if(g.isPlainObject(t["sap-system"])){var r=t["sap-system"],n=t["sap-system-src"];if(typeof n==="string"){g.storeSapSystemData(r,n);t["sap-system-src"]=n}else{g.storeSapSystemData(r)}t["sap-system"]=r.id}else if(g.matchesLocalSid(t["sap-system"])){delete t["sap-system"]}};g.setPerformanceMark=function(e,t){if(performance&&performance.mark){if(!t){t={}}if(t.bUseUniqueMark){if(t.bUseLastMark){performance.clearMarks(e)}else if(performance.getEntriesByName(e,"mark").length>0){return}}performance.mark(e)}};g.setPerformanceMeasure=function(e,t,r){if(performance&&performance.measure&&t&&r){performance.measure(e,t,r)}};g.Error=function(t,r){this.name="sap.ushell.utils.Error";this.message=t;e.error(t,null,r)};g.Error.prototype=new Error;g.localStorageSetItem=function(t,r,n){var i;try{localStorage.setItem(t,r);if(n){i=document.createEvent("StorageEvent");i.initStorageEvent("storage",false,false,t,"",r,"",localStorage);dispatchEvent(i)}}catch(t){e.warning("Error calling localStorage.setItem(): "+t,null,"sap.ushell.utils")}};g.getLocalStorage=function(){return window.localStorage};g.getLocalStorageItem=function(e){return window.localStorage.getItem(e)};g.generateUniqueId=function(e){var t,r,n;if(Array.isArray(e)){r=e;n=function(e){return r.indexOf(e)===-1}}else{n=e}do{t=g._getUid()}while(!n(t));return t};g._getUid=function(){return n()};g.reload=function(){location.reload()};g.calculateOrigin=function(e){var t;if(e.origin){return e.origin}if(e.protocol&&e.hostname){return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")}if(e.href){t=new s(e.href);return t.protocol()+"://"+t.hostname()+(t.port()?":"+t.port():"")}return undefined};g.getPrivateEpcm=function(){if(window.external&&window.external&&typeof window.external.getPrivateEpcm!=="undefined"){return window.external.getPrivateEpcm()}return undefined};g.hasNativeNavigationCapability=function(){return g.isFeatureBitEnabled(1)};g.getShellType=function(){return g.isFeatureBitEnabled(1)?"NWBC":"FLP"};g.hasNativeLogoutCapability=function(){return g.isFeatureBitEnabled(2)};g.hasNavigationModeCapability=function(){return g.isFeatureBitEnabled(4)};g.hasFLPReadyNotificationCapability=function(){return g.isFeatureBitEnabled(8)};g.hasFLPReady2NotificationCapability=function(){return g.isFeatureBitEnabled(16)};g.isFeatureBitEnabled=function(t){var r="0",n;n=g.getPrivateEpcm();if(n){try{r=n.getNwbcFeatureBits();e.debug("Detected epcm getNwbcFeatureBits returned feature bits: "+r)}catch(t){e.error("failed to get feature bit vector via call getNwbcFeatureBits on private epcm object",t.stack,"sap.ushell.utils")}}return(parseInt(r,16)&t)>0};g.isApplicationTypeEmbeddedInIframe=function(e,t){return e==="NWBC"||e==="TR"||e==="WCF"||t===true&&e==="WDA"};g.isSAPLegacyApplicationType=function(e,t,r){var n=r===true?["TR","GUI","NWBC"]:["TR","GUI","NWBC","WDA","WCF"];return n.includes(e)||n.includes(t)};g.isTRApplicationType=function(e,t){return e==="TR"||t==="TR"};g.getParamKeys=function(t){var r=[],n=[],i;if(t.indexOf("sap-intent-param=")>0){i=/(?:sap-intent-param=)([^&/]+)/.exec(t);if(i&&i.length===2){n.push("sap-intent-param-data");r.push(i[1])}}if(t.indexOf("sap-xapp-state=")>0){i=/(?:sap-xapp-state=)([^&/]+)/.exec(t);if(i&&i.length===2){n.push("sap-xapp-state-data");r.push(i[1])}}else if(t.indexOf("sap-xapp-state-data=")>0){i=/(?:sap-xapp-state-data=)([^&/]+)/.exec(t);if(i&&i.length===2){try{var a=decodeURIComponent(i[1]);n.push("sap-xapp-state-data");r.push(a)}catch(t){e.error("Invalid encoding of the sap-xapp-state-data parameter in the url: ",i[1])}}}if(t.indexOf("sap-iapp-state=")>0){i=/(?:sap-iapp-state=)([^&/]+)/.exec(t);if(i&&i.length===2){n.push("sap-iapp-state-data");r.push(i[1])}}return{aAppStateNamesArray:n,aAppStateKeysArray:r}};g.appendSapShellParamSync=function(e,t,r){var n=t==="TR"?"":"-NWBC";if(r){e+=e.indexOf("?")>=0?"&":"?";e+="sap-shell="+encodeURIComponent("FLP"+r+n)}return e};g.appendSapShellParam=async function(e,t){const r=t==="TR"?"":"-NWBC";const n=await g.getUi5Version();if(n){e+=e.indexOf("?")>=0?"&":"?";e+="sap-shell="+encodeURIComponent("FLP"+n+r)}return e};g.filterOutParamsFromLegacyAppURL=function(e){var t=["sap-ach","sap-fiori-id","sap-hide-intent-link","sap-priority","sap-tag","sap-ui-app-id-hint","sap-ui-debug","sap-ui-fl-control-variant-id","sap-ui-fl-max-layer","sap-ui-tech-hint","sap-ui2-tcode","sap-ui2-wd-app-id","sap-ui2-wd-conf-id","sap-ushell-cdm-site-url","sap-ushell-navmode","sap-ushell-next-navmode","sap-ushell-url","sap-app-origin-hint"];var r=new s(e);r=r.removeSearch(t);return r.toString()};g.getIframeFeaturePolicies=function(){return"autoplay;battery;camera;display-capture;geolocation;gyroscope;magnetometer;microphone;midi;clipboard-write;clipboard-read;fullscreen;serial;"};function h(e){var t=/\d+(\.\d+){0,2}/.exec(e);if(t&&t[0]){return t[0]}return undefined}g.getUi5Version=function(){return new Promise(function(t,r){sap.ui.require(["sap/ui/VersionInfo"],function(r){r.load().then(function(e){t(h(e.version))}).catch(function(){e.error("UI5 version could not be determined.");t("")})})})};g.isNativeWebGuiNavigation=function(e){var t=r.get("applicationType",e);var n=r.get("appCapabilities.nativeNWBCNavigation",e);if(this.hasNativeNavigationCapability()&&(t==="TR"||n)){return true}return false};g.Map=function(){this.entries={}};g.Map.prototype.put=function(e,t){var r=this.get(e);this.entries[e]=t;return r};g.Map.prototype.containsKey=function(e){if(typeof e!=="string"){throw new g.Error("Not a string key: "+e,"sap.ushell.utils.Map")}return Object.prototype.hasOwnProperty.call(this.entries,e)};g.Map.prototype.get=function(e){if(this.containsKey(e)){return this.entries[e]}};g.Map.prototype.keys=function(){return Object.keys(this.entries)};g.Map.prototype.remove=function(e){delete this.entries[e]};g.Map.prototype.toString=function(){var e=["sap.ushell.utils.Map("];e.push(JSON.stringify(this.entries));e.push(")");return e.join("")};g.getParameterValueBoolean=function(e,t){var r=new URLSearchParams(t||window.location.search),n=r.getAll(e),i=["true","x"],a=["false",""],o;if(!n||n.length===0){return undefined}o=n[0].toLowerCase();if(i.indexOf(o)>=0){return true}if(a.indexOf(o)>=0){return false}return undefined};g.call=function(t,r,n){var i;if(n){setTimeout(function(){g.call(t,r,false)},0);return}try{t()}catch(t){i=t.message||t.toString();e.error("Call to success handler failed: "+i,t.stack,"sap.ushell.utils");if(r){r(i)}}};g.handleTilesVisibility=function(){g.getVisibleTiles()};g.refreshTiles=function(){o.getInstance().publish("launchpad","refreshTiles")};g.setTilesNoVisibility=function(){o.getInstance().publish("launchpad","setTilesNoVisibility")};g.validHash=function(e){return e&&e.constructor===String&&e.trim()!==""};g.getFormFactor=function(){var e=i.system;if(e.desktop){return e.SYSTEMTYPE.DESKTOP}if(e.tablet){return e.SYSTEMTYPE.TABLET}if(e.phone){return e.SYSTEMTYPE.PHONE}return undefined};g.getVisibleTiles=function(){var e=document.body.clientHeight;var t=a.getElementById("dashboardGroups");var r=a.getElementById("viewPortContainer");var n=0;var i=[];var s=[];var u=o.getInstance();var l,c,p,f,d,h,m,y,v,b,w,S,T,E,C,P,x;if(window.document.hidden){u.publish("launchpad","onHiddenTab")}if(t&&t.getGroups()&&r){S=jQuery(t.getDomRef());T=S?S.is(":visible"):false;E=t.getGroups();for(l=0;l<E.length;l=l+1){f=E[l];d=f.getTiles();h=f.getLinks();C=[d,h];for(p=0;p<C.length;p++){P=C[p];if(P){for(c=0;c<P.length;c++){m=P[c];if(!T||window.document.hidden){i.push(m)}else{y=jQuery(m.getDomRef());v=y.offset();if(v){b=y.offset().top;w=b+y.height();x=f.getVisible()&&w>n-300&&b<e+300;if(x){s.push({oTile:g.getTileModel(m),iGroup:l,bIsExtanded:!(w>n)||!(b<e)})}else if(s.length>0){u.publish("launchpad","visibleTilesChanged",s);return i}i.push(m)}}}}}}}if(s.length>0){u.publish("launchpad","visibleTilesChanged",s)}return i};g.getTileModel=function(e){var t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject():null};g.getTileObject=function(e){var t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject().object:null};g.recalculateBottomSpace=function(){var e=jQuery("#dashboardGroups").find(".sapUshellTileContainer:visible"),t=e.last(),r=jQuery(".sapUshellShellHead > header").height(),n=t.parent().height(),i=parseInt(t.find(".sapUshellContainerTitle").css("margin-top"),10),a=parseInt(jQuery(".sapUshellDashboardGroupsContainer").css("padding-bottom"),10),o;if(e.length===1){o=0}else{o=jQuery(window).height()-r-n-i-a;o=o<0?0:o}jQuery(".sapUshellDashboardGroupsContainer").css("margin-bottom",o+"px")};g.calcVisibilityModes=function(e,t){var r=true,n=true,a=e.pendingLinks&&e.pendingLinks.length?e.pendingLinks:e.links,o=g.groupHasVisibleTiles(e.tiles,a);if(!o&&(!t||e.isGroupLocked||e.isDefaultGroup||i.system.phone||i.system.tablet&&!i.system.desktop)){r=false}if(!o&&!t){n=false}return[r,n]};g.groupHasVisibleTiles=function(e,t){var r=false,n,i,a=!e?[]:e,o=!t?[]:t;a=a.concat(o);if(!a.length){return false}for(n=0;n<a.length;n=n+1){i=a[n];if(i.isTileIntentSupported){r=true;break}}return r};g.invokeUnfoldingArrayArguments=function(t,r){var n=this,i,a,o,s,u;if(!Array.isArray(r[0])){return t.apply(this,r)}i=r[0];if(i.length===0){return(new jQuery.Deferred).resolve([]).promise()}a=new jQuery.Deferred;o=[];s=[];u=(new jQuery.Deferred).resolve();i.forEach(function(r,i){if(!Array.isArray(r)){var a="Expected Array as nTh Argument of multivalue invocation: "+"first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : "+"multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]";e.error(a);throw new Error(a)}var l=t.apply(n,r),c=new jQuery.Deferred;l.done(function(){var e=Array.prototype.slice.call(arguments);s[i]=e;c.resolve()}).fail(c.reject.bind(c));o.push(c.promise());u=jQuery.when(u,c)});jQuery.when.apply(jQuery,o).done(function(){a.resolve(s)}).fail(function(){a.reject("failure")});return a.promise()};g._getCurrentDate=function(){return new Date};g._convertToUTC=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};g.formatDate=function(e){var t,r,n,i,a,o;var s=sap.ui.require("sap/ushell/resources");if(!s){throw new Error("sap/ushell/resources was not required before utils.formatDate usage!")}t=g._convertToUTC(new Date(e));r=g._convertToUTC(g._getCurrentDate());n=r-t;i=parseInt(n/(1e3*60*60*24),10);if(i>0){if(i===1){return s.i18n.getText("time_day",[i])}return s.i18n.getText("time_days",[i])}a=parseInt(n/(1e3*60*60),10);if(a>0){if(a===1){return s.i18n.getText("time_hour",[a])}return s.i18n.getText("time_hours",[a])}o=parseInt(n/(1e3*60),10);if(o>0){if(o===1){return s.i18n.getText("time_minute",[o])}return s.i18n.getText("time_minutes",[o])}return s.i18n.getText("just_now")};g.toExternalWithParameters=function(e,t,r){return new Promise(function(n){sap.ui.require(["sap/ushell/Container"],function(i){return Promise.all([i.getServiceAsync("URLParsing"),i.getServiceAsync("Navigation")]).then(function(i){var a=i[0];var o=i[1];var s={};var u=t.split("&/");if(u.length>1){s.appSpecificRoute="&/"+u[1]}s.target={semanticObject:e,action:u[0]};if(r&&r.length>0){s.params={};r.forEach(function(e){s.params[e.Key]=e.Value})}n(o.navigate({target:{shellHash:a.constructShellHash(s)}}))})})})};g.moveElementInsideOfArray=function(e,t,r){if(!g.isArray(e)||t===undefined||r===undefined){throw new Error("Incorrect input parameters passed")}if(t>=e.length||r>=e.length||r<0||t<0){throw new Error("Index out of bounds")}var n=e.splice(t,1)[0];e.splice(r,0,n);return e};g.shallowMergeObject=function(e){return Array.prototype.slice.call(arguments,1,arguments.length).map(function(e){return{sourceObject:e,properties:Object.keys(e)}}).reduce(function(e,t){t.properties.forEach(function(r){e[r]=t.sourceObject[r]});return e},e)};g.getLocationHref=function(){return window.location.href};g.getLocationSearch=function(){return window.location.search};g.windowLocationReload=function(){window.location.reload()};g.windowLocationAssign=function(e){window.location.assign(e)};g.generateLocalStorageKey=function(e,t){var r=t.length;if(r===0){throw new Error("At least one id should be provided when generating the local storage key")}var n="$";if(r===2){n="#"}else if(r>2){n="@"+r+"@"}return e+n+t.join(":")};g.urlParametersToString=function(e,t,r){return l.privparamsToString(e,t,r)};g.isRootIntent=function(e){if(typeof e!=="string"){throw new Error("The given intent must be a string")}var t="renderers.fiori2.componentData.config.rootIntent";var n=r.get(t,window["sap-ushell-config"])||"#Shell-home";var i=n.replace("#","");var a=e.replace("#","");return a===""||a===i};g.isFlpHomeIntent=function(e){if(!e){e=window.location.hash;if(!e){e=r.get("renderers.fiori2.componentData.config.rootIntent",window["sap-ushell-config"])||"Shell-home"}}else if(typeof e!=="string"){throw new Error("The given intent must be a string")}var t=e.replace("#","");return t.indexOf("Shell-home")===0||t.indexOf("Launchpad-openFLPPage")===0||t.indexOf("Launchpad-openWorkPage")===0};g.generateRandomKey=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var t="";var r=new window.Uint32Array(40);window.crypto.getRandomValues(r);var n=function(t){var n=r[t]%e.length;return e[n]};while(t.length<40){t+=n(t.length)}return t};g.copyToClipboard=function(e){var t;var r=document.createElement("textarea");try{r.contentEditable=true;r.readonly=false;r.textContent=e;document.documentElement.appendChild(r);r.select();document.execCommand("copy");t=true}catch(e){t=false}finally{r.parentNode.removeChild(r)}return t};g._getUserSettingPersContainer=function(){return new Promise(function(e){sap.ui.require(["sap/ushell/Container"],function(t){return t.getServiceAsync("PersonalizationV2").then(function(t){var r={container:"sap.ushell.usersettings.personalization",item:"data"};var n={validity:"Infinity",keyCategory:t.KeyCategory.GENERATED_KEY,writeFrequency:t.WriteFrequency.HIGH,clientStorageAllowed:false};e(t.getPersonalizer(r,n))})})})};g.getHideEmptySpacesEnabled=function(){return new Promise(function(e){sap.ui.require(["sap/ushell/Config"],function(t){e(t)})}).then(function(e){var t=e.last("/core/spaces/hideEmptySpaces/enabled");if(!t){return Promise.resolve(false)}return g._getUserSettingPersContainer().then(function(e){return e.getPersData()}).then(function(t){var r=(t||{}).hideEmptySpaces!==false;if(e.last("/core/spaces/hideEmptySpaces/userEnabled")!==r){e.emit("/core/spaces/hideEmptySpaces/userEnabled",r)}return r})})};g.setHideEmptySpacesEnabled=function(e){return new Promise(function(e){sap.ui.require(["sap/ushell/Config"],function(t){e(t)})}).then(function(t){var r=t.last("/core/spaces/hideEmptySpaces/enabled");if(!r){return Promise.resolve()}return g._getUserSettingPersContainer().then(function(r){return r.getPersData().then(function(n){n=n||{};var i=n.hideEmptySpaces!==false;if(i===!!e){return Promise.resolve()}n.hideEmptySpaces=e;return r.setPersData(n).then(function(){t.emit("/core/spaces/hideEmptySpaces/userEnabled",e)})})})})};g.sanitizeTimeoutDelay=function(e){if(typeof e!=="number"){throw new Error("Invalid type! Expected type 'number'.")}var t=2147483647;return e>t?t:e};g.promisify=function(t){if(typeof t==="object"){if(t.done){return new Promise((r,n)=>{t.done((...t)=>{if(t.length>1){e.warning("jQuery.Deferred provided multiple return values, but only single return values are supported!")}r(t[0])}).fail(n)})}if(t.then){return t}}return Promise.resolve(t)};g.requireAsync=function(e){return new Promise(function(t,r){sap.ui.require(e,(...e)=>{t(e)},r)})};g.awaitTimeout=function(e=0){return new Promise(function(t){setTimeout(t,e)})};g.getThemingParameters=async function(e){const t=await new Promise((t,r)=>{sap.ui.require(["sap/ui/core/theming/Parameters"],r=>{const n=r.get({name:e,callback:t});if(n){t(n)}})});return e.map(e=>{if(typeof t!=="object"){return t}return t[e]})};g.isColdStart=function(){var e=sap.ui.require("sap/ushell/Container");var t=e.getRendererInternal("fiori2");var r=!t||!t.getCurrentCoreView();if(f.getHistoryLength()<=1&&r){return true}return false};g.getDocumentUrl=function(){return document.URL};return g});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/HttpClient", ["sap/ui/core/Supportability","sap/ui/thirdparty/URI","sap/ushell/utils"],function(e,t,s){"use strict";var r=function(e,s){this._oOngoingRequests={};this._oCSRFTokens={};this._oDefaultOptions={headers:s&&s.headers||{}};if(typeof e==="string"){this._oBasePath=new t(e)}else{this._oDefaultOptions={headers:e&&e.headers||{}}}};r.prototype.get=function(e,t){return this._executeRequest("GET",e,t)};r.prototype.put=function(e,t){return this._executeRequest("PUT",e,t)};r.prototype.post=function(e,t){return this._executeRequest("POST",e,t)};r.prototype.patch=function(e,t){return this._executeRequest("PATCH",e,t)};r.prototype.delete=function(e,t){return this._executeRequest("DELETE",e,t)};r.prototype.options=function(e,t){return this._executeRequest("OPTIONS",e,t)};r.prototype.abortAll=function(){Object.keys(this._oOngoingRequests).forEach(function(e){this._oOngoingRequests[e].abort()}.bind(this))};r.prototype._executeRequest=function(r,o,n){var i=new Error("The provided resource path is not a valid URL.");var a={};var u=e.isStatisticsEnabled();if(u){a["sap-statistics"]=u}try{var h;var c=new t(o);if(!c.is("url")){return Promise.reject(i)}if(this._oBasePath){h=c.absoluteTo(this._oBasePath)}else{h=c}var d=new XMLHttpRequest;d._sapUshellHttpClientId=s.generateUniqueId(Object.keys(this._oOngoingRequests));this._oOngoingRequests[d._sapUshellHttpClientId]=d;var f=Object.assign({},a,this._oDefaultOptions.headers,n&&n.headers);return this._getCSRFTokenHeader(r,h).then(function(e){Object.assign(f,e);return new Promise(function(e,t){var s=h.href();d.onload=this._onLoad.bind(this,e,t,{xhr:d,method:r,url:s,data:n});d.onerror=function(){t.call(this,this._getFormattedResponse(d))}.bind(this);d.onabort=function(){d.bAborted=true;t.call(this,this._getFormattedResponse(d))}.bind(this);d.onloadend=function(){delete this._oOngoingRequests[d._sapUshellHttpClientId]}.bind(this);d.open(r,s);Object.keys(f).forEach(function(e){d.setRequestHeader(e,f[e])});var o=n&&n.data||"";if(typeof o!=="string"){o=JSON.stringify(o)}d.send(o)}.bind(this))}.bind(this))}catch(e){return Promise.reject(i)}};r.prototype._getCSRFTokenHeader=function(e,t){var s="",r="";switch(e){case"HEAD":case"GET":case"OPTIONS":return Promise.resolve({"x-csrf-token":"fetch"});case"POST":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}r=t.href();if(this._oBasePath){r=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("HEAD",r).then(function(e){var t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}}.bind(this));case"PATCH":case"PUT":case"DELETE":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}r=t.href();if(this._oBasePath){r=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("OPTIONS",r).then(function(e){var t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}}.bind(this));default:return Promise.resolve({})}};r.prototype._onLoad=function(e,s,r){var o=this._getFormattedResponse(r.xhr);var n=this._getCSRFTokenFromHeader(o.responseHeaders);if(n){var i=this._getCSRFTokenKey(new t(r.url));if(n.toLowerCase()==="required"&&o.status===403){delete this._oCSRFTokens[i];return this._executeRequest(r.method,r.url,r.data).then(e).catch(s)}this._oCSRFTokens[i]=n}if(o.status>=200&&o.status<300){return e(o)}return s(o)};r.prototype._getCSRFTokenKey=function(e){if(this._oBasePath){return this._oBasePath.origin()+this._oBasePath.directory()}return e.origin()+e.directory()};r.prototype._getCSRFTokenFromHeader=function(e){var t=e.filter(function(e){return e.name==="x-csrf-token"})[0];return t&&t.value};r.prototype._getFormattedResponse=function(e){return{aborted:e.bAborted||false,status:e.status,statusText:e.statusText,responseText:e.responseText,responseHeaders:e.getAllResponseHeaders().split(/\r\n/g).filter(function(e){return e.length>0}).map(function(e){var t=e.split(":");return{name:t[0].trim(),value:t[1].trim()}})}};return r},true);
//Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/RestrictedJSONModel", ["sap/ui/model/json/JSONModel"],function(t){"use strict";function e(){throw new Error("sap.ushell.utils.RestrictedJSONModel : Function not supported")}return t.extend("sap.ushell.utils.RestrictedJSONModel",{metadata:{events:{dataChange:{parameters:{}}}},constructor:function(){t.prototype.constructor.apply(this,arguments);this.setDefaultBindingMode("OneWay");this.setDefaultBindingMode=e;this.setSizeLimit(1e3);this.setData=e;this.setJSON=e;this.setProperty=e;this.loadData=e},_setData:function(){t.prototype.setData.apply(this,arguments);this.fireEvent("dataChange")},_setJSON:function(){this.setData=t.prototype.setData;t.prototype.setJSON.apply(this,arguments);this.setData=e;this.fireEvent("dataChange")},_setProperty:function(){this.setData=t.prototype.setData;t.prototype.setProperty.apply(this,arguments);this.setData=e;this.fireEvent("dataChange")},refresh:function(){t.prototype.refresh.apply(this,arguments);this.fireEvent("dataChange")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UriParameters", function(){"use strict";function r(r){const e=r.indexOf("#");if(e>=0){r=r.slice(0,e)}const s=r.indexOf("?");if(s>=0){return r.slice(s+1)}return""}class e extends URLSearchParams{#r;constructor(e){super(r(e))}get mParams(){if(this.#r===null||this.#r===undefined){this.#r=Array.from(this.keys()).reduce((r,e)=>{r[e]=this.getAll(e);return r},Object.create(null))}return this.#r}static fromURL(r){return new e(r)}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlParsing", ["sap/ui/thirdparty/URI","sap/base/Log","sap/base/util/deepEqual","sap/base/util/merge","sap/ushell/TechnicalParameters"],function(e,t,n,r,a){"use strict";const s={};const o=/^(([A-Za-z0-9_/]+)-([A-Za-z0-9_/-]+)(~([A-Z0-9a-z=+/]+))?)?([?]([^&]|(&[^/]))*&?)?$/;s.getShellHash=function(e){const t=/[^#]*#(([^&]|&[^/])*)(&\/.*)?/;const n=t.exec(e);if(n){return n[1]}return undefined};s.getHash=function(e){const t=/#(.*)/;const n=t.exec(e);if(n){return n[1]}return undefined};s.isIntentUrl=function(e){return this._isIntentUrl(e,window.location.href)};s.isIntentUrlAsync=function(e){return new Promise(function(e,t){sap.ui.require("sap/ushell/Container").getFLPUrlAsync(true).done(e).fail(t)}).then(function(t){return this._isIntentUrl(e,t)}.bind(this))};s._isIntentUrl=function(t,n){const r=/^#/;if(typeof t!=="string"){return false}if(!r.test(t)){const r=new e(t).normalize();const a=`${r.protocol()}://${r.host()}${r.pathname()}`;const s=new e(n).normalize();const o=`${s.protocol()}://${s.host()}${s.pathname()}`;if(a!==o){return false}}const a=s.getHash(t);if(!a){return false}const o=s.parseShellHash(a);if(o&&o.semanticObject&&o.action){return true}return false};s.parseParameters=function(e){try{const t=new URLSearchParams(e);const n=t.keys();let r=n.next();const a={};while(r.done===false){a[decodeURIComponent(r.value)]=t.getAll(r.value);r=n.next()}return a}catch(n){t.error("URL parsing - malformed URL parameters string:",e);return{}}};function c(e,t,n){let r="";t=t||"&";n=n||"=";let a="";const s=[];for(const t in e){if(e.hasOwnProperty(t)){s.push(t)}}s.sort();for(let o=0;o<s.length;o=o+1){const c=s[o];if(Array.isArray(e[c])){for(let s=0;s<e[c].length;s=s+1){r+=a+encodeURIComponent(c)+n+encodeURIComponent(e[c][s]);a=t}}else{r+=a+encodeURIComponent(c)+n+encodeURIComponent(e[c]);a=t}}return r}s.paramsToString=function(e){return c(e)};s.removeParametersWithEmptyValue=function(e,t){if(!e){return}Object.keys(e).forEach(n=>{if(t.includes(n)&&e[n].length===1&&e[n][0]===""){delete e[n]}})};s.privparamsToString=function(e,t,n){return c(e,t,n)};s.addParamsToUrl=function(t,n){const r=new e(t);Object.keys(n).forEach(e=>{r.addSearch(e,n[e])});return r.toString()};s.addShellParamsToURL=function(t,n){const r=new e(t);const a=r.hash();const o=r.toString().replace(a,"");const c=s.parseShellHash(a)||{};Object.assign(c.params,n.params);const i=`#${s.constructShellHash(c)}`;return o+i};s.parseShellHash=function(e){const t=o;if(!e){return undefined}const n=s.splitHash(e);const r=t.exec(n.shellPart);if(r){const e=r[2];const t=r[3];const a=r[5];const o=r[6];const c=s.parseParameters(o);return{semanticObject:e,action:t,contextRaw:a,params:c,appSpecificRoute:n.appSpecificRoute}}if(n.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:n.appSpecificRoute}}return undefined};s.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};s.ensureLeadingHash=function(e){if(!e){e="#"}else if(e.charAt(0)!=="#"){e=`#${e}`}return e};s.getBasicHash=function(e){const t=this.parseShellHash(e);if(!t){return""}return`${t.semanticObject}-${t.action}`};s.splitHash=function(e){const t=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/;if(e===undefined||e===null||e===""){return{}}const n=t.exec(e);const r=n[1];if(r!==""&&!o.test(r)){return{}}const a=n[2];if(r||a){return{shellPart:r,appSpecificRoute:a}}return{}};function i(e,t){if(t){return e+t}return e}s.constructShellHash=function(e){let n;if(!e){return""}if(!e.target){e.target={};e.target.semanticObject=e.semanticObject;e.target.action=e.action;e.target.contextRaw=e.contextRaw}if(e.target.shellHash||e.target.shellHash===""){const t=s.privstripLeadingHash(e.target.shellHash);return i(t,e.appSpecificRoute)}if(e.target.semanticObject&&e.target.action){n=`${e.target.semanticObject}-${e.target.action.replace(/[?].*/,"")}`}else{return i("",e.appSpecificRoute)}if(e.target.contextRaw){n+=`~${e.target.contextRaw}`}let r="?";const a=[];for(const t in e.params){if(e.params.hasOwnProperty(t)){a.push(t)}}const o=e.params&&JSON.parse(JSON.stringify(e.params))||{};if(e.appStateKey){a.push("sap-xapp-state");o["sap-xapp-state"]=e.appStateKey}a.sort();for(let e=0;e<a.length;e=e+1){const s=a[e];if(Array.isArray(o[s])){if(o[s].length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(let e=0;e<o[s].length;e=e+1){n+=`${r+encodeURIComponent(s)}=${encodeURIComponent(o[s][e])}`;r="&"}}else{n+=`${r+encodeURIComponent(s)}=${encodeURIComponent(o[s])}`;r="&"}}return i(n,e.appSpecificRoute)};s.compareHashes=function(e,t){const n=this.parseShellHash(e)||{};const r=this.parseShellHash(t)||{};return{sameIntent:this.haveSameIntent(n,r),sameParameters:this.haveSameIntentParameters(n,r),sameAppSpecificRoute:n.appSpecificRoute===r.appSpecificRoute}};s.haveSameIntent=function(e,t){e=e||{};t=t||{};return e.semanticObject===t.semanticObject&&e.action===t.action&&e.contextRaw===t.contextRaw};s.haveSameIntentParameters=function(e,t){e=e||{};t=t||{};const n=r({},e.params);const a=r({},t.params);return!this._parametersChanged(this._removeNonIntentParameters(n),this._removeNonIntentParameters(a))};s.getStableIntent=function(e){const t=this.parseShellHash(e)||{};const n=this._removeNonIntentParameters(t.params);const r=Object.keys(n).sort().reduce((e,t)=>{const r=n[t];r.sort();e[t]=r;return e},{});return this.constructShellHash({target:{semanticObject:t.semanticObject,action:t.action,contextRaw:t.contextRaw},params:r})};s._removeNonIntentParameters=function(e){const t=a.getParameters({isIntentParameter:false});let n;if(e){for(let r=0;r<t.length;r++){n=t[r];if(e[n.name]){delete e[n.name]}}}return e||{}};s._parametersChanged=function(e,t){return!n(e,t)};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlShortening", ["sap/base/Log","sap/ushell/utils/UrlParsing"],function(t,e){"use strict";function a(){var a=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(e,a){var r,s;if(typeof e!=="string"||/^[A-Z0-9]{40,41}$/.test(e)){return e}try{r=JSON.parse(e)}catch(a){t.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return e}s=a&&a.getNextKey();this._storeValue(s,r,a);return s};this.compactHash=function(r,s,i){var n,p,h,c,o,u=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(s){s.forEach(function(t){u.push(t)})}n=e.parseShellHash(r);if(!n){t.error("the URL "+r+" is not compliant. It may break the product and cause unwanted navigation behavior.");return{hash:r}}c="";if(r.charAt(0)==="#"){c="#"}var f=n&&n.params&&n.params["sap-xapp-state"]&&n.params["sap-xapp-state"][0];if(f){n.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(f,i)];r=c+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:n.params,appSpecificRoute:n.appSpecificRoute})}if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}if(n&&(n.params&&n.params[a.ABBREV_PARAM_NAME])){return{hash:r}}p=i&&i.getNextKey();h=this._splitParameters(n.params,u,p);if(!h.key){return{hash:r}}o=e.paramsToString(h.tailParams);this._storeValue(h.key,o,i);return{hash:c+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:h.headParams,appSpecificRoute:n.appSpecificRoute}),params:h.headParams,skippedParams:h.tailParams}};this.checkHashLength=function(r){var s,i,n;if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}s=e.parseShellHash(r);n="";if(r.charAt(0)==="#"){n="#"}i=this._splitParameters(s.params,[],"DummyKey");if(i.key){t.error("Application startup parameter length exceeds "+a.URL_PARAMS_LENGTH_LIMIT+" characters, truncation occured!");delete i.headParams[this.ABBREV_PARAM_NAME];return{hash:n+e.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:i.headParams,appSpecificRoute:s.appSpecificRoute}),params:i.headParams,skippedParams:i.tailParams}}t.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:r}};this._findIndex=function(t,e){var a=t.indexOf(e);if(a>=0){return a}a=-1;t.every(function(t,r){if(t.length>0&&t[t.length-1]==="*"&&t.substring(0,t.length-1)===e.substring(0,t.length-1)){a=r;return false}return true});return a};this._cmpByList=function(t,e,a){var r,s;t=t||[];if(e===a){return 0}r=this._findIndex(t,e);s=this._findIndex(t,a);if(r>=0&&s>=0){if(r-s!==0){return r-s}if(e<a){return-1}if(e>a){return+1}return 0}if(r>=0){return-1}if(s>=0){return+1}if(e<a){return-1}return+1};this._sortByPriority=function(t,e){return t.sort(this._cmpByList.bind(this,e))};this._splitParameters=function(e,a,r){var s,i,n,p={},h={},c=false,o,u,f=0,l,m=[];if(!r||typeof r!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!")}for(s in e){if(Object.prototype.hasOwnProperty.call(e,s)){m.push(s)}}m.sort();m=this._sortByPriority(m,a);for(n=0;n<m.length;n=n+1){s=m[n];o=e[s];if(o.length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(i=0;i<o.length;i=i+1){u=e[s][i];l=s.length+u.length;if(l+f>this.URL_PARAMS_LENGTH_LIMIT){if(h[s]){h[s].push(u)}else{h[s]=[u]}c=true}else if(p[s]){p[s].push(u)}else{p[s]=[u]}f=f+l+1}}if(c){p[this.ABBREV_PARAM_NAME]=[r]}return{key:r,tailParams:h,headParams:p}};this.expandHash=function(t){var e=function(t){return a._retrieveValue(t)};return this.expandParamGivenRetrievalFunction(t,this.ABBREV_PARAM_NAME,e)};this.expandParamGivenRetrievalFunction=function(t,a,r){var s,i,n,p,h;if(typeof t!=="string"){return t}s=e.parseShellHash(t);n=s&&s.params&&s.params[a]&&s.params[a][0];if(!n){return t}p="";if(t.charAt(0)==="#"){p="#"}i=r(n);if(!i){return t}h=this._blendParameters(s.params,a,i);return p+e.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:h,appSpecificRoute:s.appSpecificRoute})};this._retrieveValue=function(){return undefined};this._storeValue=function(t,e,a){if(a&&typeof a.store==="function"){a.store(e)}};this._blendParameters=function(t,a,r){var s=e.parseParameters("?"+r),i;delete t[a];for(i in s){if(Object.prototype.hasOwnProperty.call(s,i)){if(t[i]){t[i]=t[i].concat(s[i])}else{t[i]=s[i]}}}return t}}var r=new a;return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/WindowUtils", ["sap/base/Log","sap/ui/util/isCrossOriginURL","sap/ushell/utils"],function(n,e,r){"use strict";var o={};o.hasInvalidProtocol=function(n){var e=document.createElement("a");e.setAttribute("href",n);if(e.protocol==="javascript:"){return true}return false};o.isCrossOriginUrl=function(n){return e(n)};o.openURL=function(e,r,o,i){var t=i===undefined?true:i;var a=this.isCrossOriginUrl(e);o=o||"";if(t&&this.hasInvalidProtocol(e)){n.fatal("Tried to open a URL with an invalid protocol",null,"sap/ushell/utils/WindowUtils");throw new Error("Tried to open a URL with an invalid protocol")}if(a){if(o.toLowerCase().indexOf("noopener")===-1){if(o!==""){o+=","}o+="noopener"}if(o.toLowerCase().indexOf("noreferrer")===-1){o+=",noreferrer"}window.open(e,r,o);return true}return window.open(e,r,o)};o.getLeanURL=function(e,r){var o=e||r;if(this.hasInvalidProtocol(o)){n.fatal("Tried to construct a lean URL for input containing an invalid protocol",null,"sap/ushell/utils/WindowUtils");return""}if((o||"").charAt(0)!=="#"){return o}var i=window.location.search;if(!i){i="?sap-ushell-config=lean"}else if(i.indexOf("sap-ushell-config=")>=-1){i+="&sap-ushell-config=lean"}return window.location.origin+window.location.pathname+i+o};o._adjustQueryString=function(n,e,o){if((!e||e.length===0)&&(!o||o.length===0)){return n}var i=new URLSearchParams(n);var t=Array.from(i.keys()).reduce(function(n,e){n[e]=i.getAll(e);return n},{});if(e&&e.length>0){e.forEach(function(n){var e=Object.keys(n)[0];if(e){t[e]=n[e]}})}if(o&&o.length>0){o.forEach(function(n){delete t[n]})}const a=r.urlParametersToString(t);return a!==""?"?"+a:""};o.refreshBrowser=function(n,e){var i=r.getLocationHref();var t=r.getLocationSearch();var a=o._adjustQueryString(t,n,e);if(t===a){r.windowLocationReload()}else{const n=i.replace(t,a);r.windowLocationAssign(n)}};o.clearSapUserContextCookie=function(){window.document.cookie="sap-usercontext=;Path=/;Max-Age=-1"};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/objectOperations", [],function(){"use strict";var r={};r.getMember=function(r,e){var n=e.split("."),t=r;if(!r){return undefined}n.forEach(function(r){if(typeof t!=="object"){return undefined}t=t[r.replace(/[|]/g,".")]});return t};r.updateProperties=function(r,e){Object.keys(r).forEach(function(n){if(e.hasOwnProperty(n)){r[n]=e[n]}})};r.getNestedObjectProperty=function(r,e,n){var t="Missing or invalid parameter";if(!r||!Array.isArray(r)||r.length==0||!e){throw new Error(t)}if(Array.isArray(e)&&e.length!=r.length){throw new Error(t)}var i=e;if(!Array.isArray(e)){i=Array.apply(null,Array(r.length)).map(function(){return e})}var u=r.reduce(function(r,e,n){if(r!==undefined){return r}return this.getMember(e,i[n])}.bind(this),undefined);return u!=undefined?u:n};return r},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/type", [],function(){"use strict";function t(t){return Object.prototype.toString.apply(t)==="[object Array]"}function e(t){return Object.prototype.toString.apply(t)==="[object Object]"}function n(t){return typeof t!=="undefined"}return{isArray:t,isPlainObject:e,isDefined:n}},false);
sap.ui.require.preload({
	"sap/ui/export/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.export","type":"library","embeds":[],"applicationVersion":{"version":"1.136.0"},"title":"UI5 library: sap.ui.export","description":"UI5 library: sap.ui.export","ach":"CA-UI5-TBL","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"JSZip3","packagedWithMySelf":true,"version":"3.10.1"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_bluecrystal_base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.ui.core":{"minVersion":"1.136.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":[],"elements":[],"types":["sap.ui.export.Destination","sap.ui.export.EdmType","sap.ui.export.FileType","sap.ui.export.Status"],"interfaces":[]}}}}',
	"sap/ui/fl/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.fl","type":"library","embeds":["support/apps/contentbrowser","variants/context"],"applicationVersion":{"version":"1.136.0"},"title":"SAPUI5 library with sap.ui.fl controls.","description":"SAPUI5 library with sap.ui.fl controls.","ach":"CA-UI5-FL","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.ui.core":{"minVersion":"1.136.0"},"sap.m":{"minVersion":"1.136.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.fl.variants.VariantManagement","sap.ui.fl.util.IFrame"],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/ui/layout/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.layout","type":"library","embeds":[],"applicationVersion":{"version":"1.136.0"},"title":"SAPUI5 library with layout controls.","description":"SAPUI5 library with layout controls.","ach":"CA-UI5-CTR","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.ui.core":{"minVersion":"1.136.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.layout.AlignedFlowLayout","sap.ui.layout.DynamicSideContent","sap.ui.layout.FixFlex","sap.ui.layout.Grid","sap.ui.layout.HorizontalLayout","sap.ui.layout.ResponsiveFlowLayout","sap.ui.layout.ResponsiveSplitter","sap.ui.layout.ResponsiveSplitterPage","sap.ui.layout.Splitter","sap.ui.layout.VerticalLayout","sap.ui.layout.BlockLayoutCell","sap.ui.layout.BlockLayoutRow","sap.ui.layout.BlockLayout","sap.ui.layout.form.Form","sap.ui.layout.form.FormLayout","sap.ui.layout.form.GridLayout","sap.ui.layout.form.ColumnLayout","sap.ui.layout.form.ResponsiveGridLayout","sap.ui.layout.form.ResponsiveLayout","sap.ui.layout.form.SimpleForm","sap.ui.layout.cssgrid.CSSGrid"],"elements":["sap.ui.layout.BlockLayoutCellData","sap.ui.layout.GridData","sap.ui.layout.ResponsiveFlowLayoutData","sap.ui.layout.SplitterLayoutData","sap.ui.layout.form.FormContainer","sap.ui.layout.form.FormElement","sap.ui.layout.form.GridContainerData","sap.ui.layout.PaneContainer","sap.ui.layout.SplitPane","sap.ui.layout.form.GridElementData","sap.ui.layout.form.ColumnElementData","sap.ui.layout.form.ColumnContainerData","sap.ui.layout.cssgrid.GridItemLayoutData"],"types":["sap.ui.layout.BackgroundDesign","sap.ui.layout.BlockBackgroundType","sap.ui.layout.BlockLayoutCellColorSet","sap.ui.layout.BlockLayoutCellColorShade","sap.ui.layout.BlockRowColorSets","sap.ui.layout.BoxesPerRowConfig","sap.ui.layout.GridIndent","sap.ui.layout.GridPosition","sap.ui.layout.GridSpan","sap.ui.layout.SideContentFallDown","sap.ui.layout.SideContentPosition","sap.ui.layout.SideContentVisibility","sap.ui.layout.form.ColumnsXL","sap.ui.layout.form.ColumnsL","sap.ui.layout.form.ColumnsM","sap.ui.layout.form.ColumnCells","sap.ui.layout.form.EmptyCells","sap.ui.layout.form.GridElementCells","sap.ui.layout.form.SimpleFormLayout","sap.ui.layout.cssgrid.CSSGridAutoFlow","sap.ui.layout.cssgrid.CSSGridTrack","sap.ui.layout.cssgrid.CSSGridLine","sap.ui.layout.cssgrid.CSSGridGapShortHand"],"interfaces":["sap.ui.layout.cssgrid.IGridConfigurable","sap.ui.layout.cssgrid.IGridItemLayoutData"]}}}}',
	"sap/ui/thirdparty/caja-html-sanitizer.js":function(){
(function(){
/* Copyright Google Inc.
 * Licensed under the Apache Licence Version 2.0
 * Autogenerated at Tue May 22 10:18:21 PDT 2012
 * \@overrides window
 * \@provides cssSchema, CSS_PROP_BIT_QUANTITY, CSS_PROP_BIT_HASH_VALUE, CSS_PROP_BIT_NEGATIVE_QUANTITY, CSS_PROP_BIT_QSTRING_CONTENT, CSS_PROP_BIT_QSTRING_URL, CSS_PROP_BIT_HISTORY_INSENSITIVE, CSS_PROP_BIT_Z_INDEX, CSS_PROP_BIT_ALLOWED_IN_LINK */
var e=1;var r=2;var t=4;var s=8;var o=16;var i=32;var a=64;var n=128;var c=function(){var e=["rgb(?:\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)|a\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0(?:\\.\\d+)?|\\.\\d+|1(?:\\.0+)?|0|\\d+(?:\\.\\d+)?%)) *\\)"],r=[/^ *$/i,RegExp("^ *(?:\\s*"+e[0]+"|(?:\\s*"+e[0]+")?)+ *$","i"),RegExp("^ *\\s*"+e[0]+" *$","i"),RegExp("^ *\\s*"+e[0]+"\\s*"+e[0]+" *$","i")],t=[["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],["all-scroll","col-resize","crosshair","default","e-resize","hand","help","move","n-resize","ne-resize","no-drop","not-allowed","nw-resize","pointer","progress","row-resize","s-resize","se-resize","sw-resize","text","vertical-text","w-resize","wait"],["-moz-inline-box","-moz-inline-stack","block","inline","inline-block","inline-table","list-item","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],["armenian","circle","decimal","decimal-leading-zero","disc","georgian","lower-alpha","lower-greek","lower-latin","lower-roman","square","upper-alpha","upper-latin","upper-roman"],["100","200","300","400","500","600","700","800","900","bold","bolder","lighter"],["condensed","expanded","extra-condensed","extra-expanded","narrower","semi-condensed","semi-expanded","ultra-condensed","ultra-expanded","wider"],["behind","center-left","center-right","far-left","far-right","left-side","leftwards","right-side","rightwards"],["large","larger","small","smaller","x-large","x-small","xx-large","xx-small"],["-moz-pre-wrap","-o-pre-wrap","-pre-wrap","nowrap","pre","pre-line","pre-wrap"],["dashed","dotted","double","groove","outset","ridge","solid"],["baseline","middle","sub","super","text-bottom","text-top"],["caption","icon","menu","message-box","small-caption","status-bar"],["fast","faster","slow","slower","x-fast","x-slow"],["above","below","higher","level","lower"],["border-box","contain","content-box","cover","padding-box"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["high","low","x-high","x-low"],["absolute","relative","static"],["capitalize","lowercase","uppercase"],["child","female","male"],["bidi-override","embed"],["bottom","top"],["clip","ellipsis"],["continuous","digits"],["hide","show"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["code"],["collapse"],["fixed"],["hidden"],["inherit"],["inset"],["invert"],["justify"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["transparent"],["visible"]];return{"-moz-border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"-moz-border-radius-bottomleft":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-bottomright":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-topleft":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-topright":{cssExtra:r[0],cssPropBits:5},"-moz-box-shadow":{cssExtra:r[1],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"-moz-opacity":{cssPropBits:1,cssLitGroup:[t[47]]},"-moz-outline":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[49],t[52],t[54]]},"-moz-outline-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[49]]},"-moz-outline-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"-moz-outline-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"-o-text-overflow":{cssPropBits:0,cssLitGroup:[t[25]]},"-webkit-border-bottom-left-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-bottom-right-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"-webkit-border-radius-bottom-left":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-bottom-right":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-top-left":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-top-right":{cssExtra:r[0],cssPropBits:5},"-webkit-border-top-left-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-top-right-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-box-shadow":{cssExtra:r[1],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},azimuth:{cssPropBits:5,cssLitGroup:[t[6],t[30],t[42],t[47]]},background:{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){0,2} *$","i"),cssPropBits:23,cssLitGroup:[t[0],t[14],t[17],t[24],t[30],t[35],t[36],t[38],t[42],t[45],t[47],t[51],t[54],t[57],t[58],t[62]]},"background-attachment":{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[35],t[45],t[51],t[58]]},"background-color":{cssExtra:r[2],cssPropBits:130,cssLitGroup:[t[0],t[47],t[62]]},"background-image":{cssExtra:r[0],cssPropBits:16,cssLitGroup:[t[35],t[54]]},"background-position":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[24],t[30],t[35],t[42]]},"background-repeat":{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[17],t[35],t[57]]},border:{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-bottom":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-bottom-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-bottom-left-radius":{cssExtra:r[0],cssPropBits:5},"border-bottom-right-radius":{cssExtra:r[0],cssPropBits:5},"border-bottom-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-collapse":{cssPropBits:0,cssLitGroup:[t[44],t[47],t[59]]},"border-color":{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){1,4} *$","i"),cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-left":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-left-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-left-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-left-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"border-right":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-right-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-right-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-right-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-spacing":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47]]},"border-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-top":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-top-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-top-left-radius":{cssExtra:r[0],cssPropBits:5},"border-top-right-radius":{cssExtra:r[0],cssPropBits:5},"border-top-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-top-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},bottom:{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"box-shadow":{cssExtra:r[1],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"caption-side":{cssPropBits:0,cssLitGroup:[t[24],t[47]]},clear:{cssPropBits:0,cssLitGroup:[t[30],t[40],t[47],t[54]]},clip:{cssExtra:/^ *\s*rect\(\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto) *\) *$/i,cssPropBits:0,cssLitGroup:[t[38],t[47]]},color:{cssExtra:r[2],cssPropBits:130,cssLitGroup:[t[0],t[47]]},content:{cssPropBits:0},"counter-increment":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47],t[54]]},"counter-reset":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47],t[54]]},cue:{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"cue-after":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"cue-before":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},cursor:{cssExtra:r[0],cssPropBits:144,cssLitGroup:[t[1],t[35],t[38],t[47]]},direction:{cssPropBits:0,cssLitGroup:[t[31],t[47]]},display:{cssPropBits:32,cssLitGroup:[t[2],t[47],t[54]]},elevation:{cssPropBits:5,cssLitGroup:[t[13],t[47]]},"empty-cells":{cssPropBits:0,cssLitGroup:[t[27],t[47]]},filter:{cssExtra:/^ *(?:\s*alpha\(\s*opacity\s*=\s*(?:0|\d+(?:\.\d+)?%|[+\-]?\d+(?:\.\d+)?) *\))+ *$/i,cssPropBits:32},float:{cssAlternates:["cssFloat","styleFloat"],cssPropBits:32,cssLitGroup:[t[30],t[47],t[54]]},font:{cssExtra:r[0],cssPropBits:9,cssLitGroup:[t[4],t[7],t[11],t[15],t[29],t[35],t[36],t[47],t[52],t[55],t[60]]},"font-family":{cssExtra:r[0],cssPropBits:8,cssLitGroup:[t[15],t[35],t[47]]},"font-size":{cssPropBits:1,cssLitGroup:[t[7],t[47],t[52]]},"font-stretch":{cssPropBits:0,cssLitGroup:[t[5],t[55]]},"font-style":{cssPropBits:0,cssLitGroup:[t[29],t[47],t[55]]},"font-variant":{cssPropBits:0,cssLitGroup:[t[47],t[55],t[60]]},"font-weight":{cssPropBits:0,cssLitGroup:[t[4],t[47],t[55]],cssLitNumeric:true},height:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},left:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},"letter-spacing":{cssPropBits:5,cssLitGroup:[t[47],t[55]]},"line-height":{cssPropBits:1,cssLitGroup:[t[47],t[55]]},"list-style":{cssPropBits:16,cssLitGroup:[t[3],t[28],t[47],t[54]]},"list-style-image":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"list-style-position":{cssPropBits:0,cssLitGroup:[t[28],t[47]]},"list-style-type":{cssPropBits:0,cssLitGroup:[t[3],t[47],t[54]]},margin:{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-bottom":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-left":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-right":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-top":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"max-height":{cssPropBits:1,cssLitGroup:[t[38],t[47],t[54]]},"max-width":{cssPropBits:1,cssLitGroup:[t[38],t[47],t[54]]},"min-height":{cssPropBits:1,cssLitGroup:[t[38],t[47]]},"min-width":{cssPropBits:1,cssLitGroup:[t[38],t[47]]},opacity:{cssPropBits:33,cssLitGroup:[t[47]]},outline:{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[49],t[52],t[54]]},"outline-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[49]]},"outline-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"outline-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},overflow:{cssPropBits:32,cssLitGroup:[t[38],t[46],t[47],t[58],t[63]]},"overflow-x":{cssPropBits:0,cssLitGroup:[t[32],t[38],t[46],t[58],t[63]]},"overflow-y":{cssPropBits:0,cssLitGroup:[t[32],t[38],t[46],t[58],t[63]]},padding:{cssPropBits:1,cssLitGroup:[t[47]]},"padding-bottom":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-left":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-right":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-top":{cssPropBits:33,cssLitGroup:[t[47]]},"page-break-after":{cssPropBits:0,cssLitGroup:[t[30],t[37],t[38],t[39],t[47]]},"page-break-before":{cssPropBits:0,cssLitGroup:[t[30],t[37],t[38],t[39],t[47]]},"page-break-inside":{cssPropBits:0,cssLitGroup:[t[38],t[39],t[47]]},pause:{cssPropBits:5,cssLitGroup:[t[47]]},"pause-after":{cssPropBits:5,cssLitGroup:[t[47]]},"pause-before":{cssPropBits:5,cssLitGroup:[t[47]]},pitch:{cssPropBits:5,cssLitGroup:[t[19],t[47],t[52]]},"pitch-range":{cssPropBits:5,cssLitGroup:[t[47]]},"play-during":{cssExtra:r[0],cssPropBits:16,cssLitGroup:[t[38],t[47],t[53],t[54],t[57]]},position:{cssPropBits:32,cssLitGroup:[t[20],t[47]]},quotes:{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[47],t[54]]},richness:{cssPropBits:5,cssLitGroup:[t[47]]},right:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},speak:{cssPropBits:0,cssLitGroup:[t[47],t[54],t[55],t[61]]},"speak-header":{cssPropBits:0,cssLitGroup:[t[37],t[47],t[56]]},"speak-numeral":{cssPropBits:0,cssLitGroup:[t[26],t[47]]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[t[43],t[47],t[54]]},"speech-rate":{cssPropBits:5,cssLitGroup:[t[12],t[47],t[52]]},stress:{cssPropBits:5,cssLitGroup:[t[47]]},"table-layout":{cssPropBits:0,cssLitGroup:[t[38],t[45],t[47]]},"text-align":{cssPropBits:0,cssLitGroup:[t[30],t[42],t[47],t[50]]},"text-decoration":{cssPropBits:0,cssLitGroup:[t[18],t[47],t[54]]},"text-indent":{cssPropBits:5,cssLitGroup:[t[47]]},"text-overflow":{cssPropBits:0,cssLitGroup:[t[25]]},"text-shadow":{cssExtra:r[1],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"text-transform":{cssPropBits:0,cssLitGroup:[t[21],t[47],t[54]]},"text-wrap":{cssPropBits:0,cssLitGroup:[t[33],t[54],t[55]]},top:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},"unicode-bidi":{cssPropBits:0,cssLitGroup:[t[23],t[47],t[55]]},"vertical-align":{cssPropBits:5,cssLitGroup:[t[10],t[24],t[47]]},visibility:{cssPropBits:32,cssLitGroup:[t[44],t[46],t[47],t[63]]},"voice-family":{cssExtra:r[0],cssPropBits:8,cssLitGroup:[t[22],t[35],t[47]]},volume:{cssPropBits:1,cssLitGroup:[t[16],t[47],t[52]]},"white-space":{cssPropBits:0,cssLitGroup:[t[8],t[47],t[55]]},width:{cssPropBits:33,cssLitGroup:[t[38],t[47]]},"word-spacing":{cssPropBits:5,cssLitGroup:[t[47],t[55]]},"word-wrap":{cssPropBits:0,cssLitGroup:[t[41],t[55]]},"z-index":{cssPropBits:69,cssLitGroup:[t[38],t[47]]},zoom:{cssPropBits:1,cssLitGroup:[t[55]]}}}();if(typeof window!=="undefined"){window["cssSchema"]=c}
// Copyright (C) 2011 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var l;var u;(function(){function e(e){var r=parseInt(e.substring(1),16);if(r>65535){return r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))}else if(r==r){return String.fromCharCode(r)}else if(e[1]<" "){return""}else{return e[1]}}function r(e,r){return'"'+e.replace(/[\u0000-\u001f\\\"<>]/g,r)+'"'}function t(e){return o[e]||(o[e]="\\"+e.charCodeAt(0).toString(16)+" ")}function s(e){return i[e]||(i[e]=(e<""?"%0":"%")+e.charCodeAt(0).toString(16))}var o={"\\":"\\\\"};var i={"\\":"%5c"};var a="[\\t\\n\\f ]";var n=a+"*";var c="[\\n\\f]";var p="[\\ud800-\\udbff][\\udc00-\\udfff]";var d="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+p;var f="[0-9a-fA-F]{1,6}"+a+"?";var h="\\\\"+f;var m="(?:"+f+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+p+")";var g="\\\\"+m;var b="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+d+"|"+g+")";var v="[^'\"\\n\\f\\\\]|\\\\[\\s\\S]";var w="\"(?:'|"+v+')*"'+"|'(?:\"|"+v+")*'";var L="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)";var P="(?:[a-zA-Z_]|"+d+"|"+g+")";var x="(?:[a-zA-Z0-9_-]|"+d+"|"+g+")";var y=x+"+";var B="-?"+P+x+"*";var E="@"+B;var G="#"+y;var k=L;var A="(?:@?-?"+P+"|#)"+x+"*";var T=L+"%";var S=L+B;var C=L+"(?:%|"+B+")?";var z="url[(]"+n+"(?:"+w+"|"+b+"*)"+n+"[)]";var N="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?";var R="\x3c!--";var M="--\x3e";var D=a+"+";var O="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)";var $="(?!url[(])(?=("+B+"))\\1[(]";var j="~=";var I="[|]=";var _="[^]=";var q="[$]=";var F="[*]=";var U="[~|^$*]=";var Y="[^\"'\\\\/]|/(?![/*])";var Z="\\uFEFF";var H=new RegExp([Z,N,z,$,A,w,C,R,M,D,O,U,Y].join("|"),"gi");u=function(r){return r.replace(new RegExp("\\\\(?:"+m+"|"+c+")","g"),e)};l=function(e){e=""+e;var o=e.replace(/\r\n?/g,"\n").match(H)||[];var i=0;var a=" ";for(var c=0,l=o.length;c<l;++c){var p=u(o[c]);var d=p.length;var f=p.charCodeAt(0);p=f=='"'.charCodeAt(0)||f=="'".charCodeAt(0)?r(p.substring(1,d-1),t):f=="/".charCodeAt(0)&&d>1||p=="\\"||p==M||p==R||p=="\ufeff"||f<=" ".charCodeAt(0)?" ":/url\(/i.test(p)?"url("+r(p.replace(new RegExp("^url\\("+n+"[\"']?|[\"']?"+n+"\\)$","gi"),""),s)+")":p;if(a!=p||p!=" "){o[i++]=a=p}}o.length=i;return o}})();if(typeof window!=="undefined"){window["lexCss"]=l;window["decodeCss"]=u}
// Copyright (C) 2011 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var p=function(){var i='url("about:blank")';var n=/[\n\f\r\"\'()*<>]/g;var c={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"};function l(e){if("string"===typeof e){return'url("'+e.replace(n,p)+'")'}else{return i}}function p(e){return c[e]}var d=new RegExp("^"+"(?:"+"([^:/?# ]+)"+":)?");var f=/^(?:https?|mailto)$/i;function h(e,r,t){if(!t){return null}var s=(""+e).match(d);if(s&&(!s[1]||f.test(s[1]))){return t(e,r)}else{return null}}function m(e){var r={};for(var t=e.length;--t>=0;){var s=e[t];for(var o=s.length;--o>=0;){r[s[o]]=b}}return r}function g(e,r){var t=1,s=r+1,o=e.length;while(s<o&&t){var i=e[s++];t+=i==="("?1:i===")"?-1:0}return s}var b={};return function(n,c,p,d){var f=c.cssPropBits;var v=f&(s|o);var w=NaN;var L=0,P=0;for(;L<p.length;++L){var x=p[L].toLowerCase();var y=x.charCodeAt(0),B,E,G,k,A;var T,S;x=y===" ".charCodeAt(0)?"":y==='"'.charCodeAt(0)?v===o&&d?l(h(u(p[L].substring(1,x.length-1)),n,d)):v===s?x:"":y==="#".charCodeAt(0)&&/^#(?:[0-9a-f]{3}){1,2}$/.test(x)?f&r?x:"":"0".charCodeAt(0)<=y&&y<="9".charCodeAt(0)&&!c.cssLitNumeric?f&e?f&a?x.match(/^\d{1,7}$/)?x:"":x:"":(B=x.charCodeAt(1),E=x.charCodeAt(2),G="0".charCodeAt(0)<=B&&B<="9".charCodeAt(0),k="0".charCodeAt(0)<=E&&E<="9".charCodeAt(0),y==="+".charCodeAt(0)&&(G||B===".".charCodeAt(0)&&k))?f&e?f&a?x.match(/^\+\d{1,7}$/)?x:"":(G?"":"0")+x.substring(1):"":y==="-".charCodeAt(0)&&(G||B===".".charCodeAt(0)&&k)?f&t?f&a?x.match(/^\-\d{1,7}$/)?x:"":(G?"-":"-0")+x.substring(1):f&e?"0":"":y===".".charCodeAt(0)&&G?f&e?"0"+x:"":"url("===x.substring(0,4)?d&&v&o?l(h(p[L].substring(5,x.length-2),n,d)):"":(x.charAt(x.length-1)==="("&&(A=g(p,L),p.splice(L,A-L,x=p.slice(L,A).join(" "))),T=c.cssLitGroup,S=T?c.cssLitMap||(c.cssLitMap=m(T)):b,S[x]===b||c.cssExtra&&c.cssExtra.test(x))?x:/^\w+$/.test(x)&&v===s?w+1===P?(p[w]=p[w].substring(0,p[w].length-1)+" "+x+'"',x=""):(w=P,'"'+x+'"'):"";if(x){p[P++]=x}}if(P===1&&p[0]===i){P=0}p.length=P}}();function d(e,r){var t=[];var s=[];var o=0,i;for(i=0;i<e.length;++i){if(!(e[i]==" "&&(e[i-1]==">"||e[i+1]==">"))){e[o++]=e[i]}}e.length=o;var a=e.length,n=0;for(i=0;i<a;++i){if(e[i]==","){c(n,i);n=i+1}}c(n,a);function c(o,i){var a=false;if(e[o]===" "){++o}if(i-1!==o&&e[i]===" "){--i}var n=[];var c=o;var l="";for(var u=o;u<i;++u){var p=e[u];var d=p===">";if(d||p===" "){l=f(c,u,false);if(!l||d&&/^html/i.test(l)){return}c=u+1;n.push(l,d?" > ":" ")}}l=f(c,i,true);if(!l){return}n.push(l);function f(t,s,o){var i=t,n=s;var c,l,u,p,d;c="";if(t<s){p=e[t].toLowerCase();if(p==="*"||p==="body"&&t+1!==s&&!o||"number"===typeof(d=g.ELEMENTS[p])&&!(d&g.eflags.UNSAFE)){++t;c=p}}l="";while(t<s){p=e[t];if(p.charAt(0)==="#"){if(/^#_|__$|[^#0-9A-Za-z:_\-]/.test(p)){return null}l+=p+"-"+r}else if(p==="."){if(++t<s&&/^[0-9A-Za-z:_\-]+$/.test(p=e[t])&&!/^_|__$/.test(p)){l+="."+p}else{return null}}else{break}++t}u="";if(t<s&&e[t]===":"){p=e[++t];if(p==="visited"||p==="link"){if(!/^[a*]?$/.test(c)){return null}a=true;u=":"+p;c="a";++t}}if(t===s){return c+l+u}return null}var h=n.join("");if(/^body\b/.test(h)){h=".vdoc-body___."+r+h.substring(4)}else{h="."+r+" "+h}(a?t:s).push(h)}return[s,t]}var f=function(){var e={};var r={braille:e,embossed:e,handheld:e,print:e,projection:e,screen:e,speech:e,tty:e,tv:e};function t(e){var r=false;for(var t=0,s=e.length;t<s-1;++t){var o=e[t];if(":"===e[t+1]){r=!(c[o].cssPropBits&n)}if(r){e[t]=""}if(";"===o){r=false}}return e.join("")}return function(s,o,i){var a=void 0;var n=[];var l=false;h(s,{startStylesheet:function(){a=[]},endStylesheet:function(){},startAtrule:function(t,s){if(l){t=null}else if(t==="@media"){s=s.filter(function(t){return r[t]==e});if(s.length){a.push(t,s.join(","),"{")}else{t=null}}else{if(t==="@import"){if(window.console){window.console.log("@import "+s.join(" ")+" elided")}}t=null}l=!t;n.push(t)},endAtrule:function(){var e=n.pop();if(!l){a.push(";")}u()},startBlock:function(){if(!l){a.push("{")}},endBlock:function(){if(!l){a.push("}");l=true}},startRuleset:function(e){var r=void 0;var t=false;if(!l){var s=d(e,o);var i=s[0];r=s[1];if(!i.length&&!r.length){l=true}else{var c=i.join(", ");if(!c){c="head > html";t=true}a.push(c,"{")}}n.push(l?null:{historySensitiveSelectors:r,endOfSelectors:a.length-1,removeHistoryInsensitiveSelectors:t})},endRuleset:function(){var e=n.pop();var r=a.length;if(!l){a.push("}");if(e){var s=e.historySensitiveSelectors;if(s.length){var o=a.slice(e.endOfSelectors);a.push(s.join(", "),t(o))}}}if(e&&e.removeHistoryInsensitiveSelectors){a.splice(e.endOfSelectors-1,r+1)}u()},declaration:function(e,r){if(!l){var t=c[e];if(t){p(e,t,r,i);if(r.length){a.push(e,":",r.join(" "),";")}}}}});function u(){l=n.length!==0&&n[n.length-1]!==null}return a.join("")}}();if(typeof window!=="undefined"){window["sanitizeCssProperty"]=p;window["sanitizeCssSelectors"]=d;window["sanitizeStylesheet"]=f}
// Copyright (C) 2010 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var h;var m;(function(){h=function(r,t){var s=l(r);if(t.startStylesheet){t.startStylesheet()}for(var o=0,i=s.length;o<i;){o=s[o]===" "?o+1:e(s,o,i,t)}if(t.endStylesheet){t.endStylesheet()}};function e(e,t,o,i){if(t<o){var a=e[t];if(a.charAt(0)==="@"){return r(e,t,o,i,true)}else{return s(e,t,o,i)}}else{return t}}function r(e,r,s,o,i){var a=r++;while(r<s&&e[r]!=="{"&&e[r]!==";"){++r}if(r<s&&(i||e[r]===";")){var n=a+1,c=r;if(n<s&&e[n]===" "){++n}if(c>n&&e[c-1]===" "){--c}if(o.startAtrule){o.startAtrule(e[a].toLowerCase(),e.slice(n,c))}r=e[r]==="{"?t(e,r,s,o):r+1;if(o.endAtrule){o.endAtrule()}}return r}function t(e,o,i,a){++o;if(a.startBlock){a.startBlock()}while(o<i){var n=e[o].charAt(0);if(n=="}"){++o;break}if(n===" "||n===";"){o=o+1}else if(n==="@"){o=r(e,o,i,a,false)}else if(n==="{"){o=t(e,o,i,a)}else{o=s(e,o,i,a)}}if(a.endBlock){a.endBlock()}return o}function s(e,r,t,s){var i=r,n=o(e,r,t,true);if(n<0){n=~n;return r===n?n+1:n}r=n;if(n>i&&e[n-1]===" "){--n}var c=e[r];++r;if(c!=="{"){return r}if(s.startRuleset){s.startRuleset(e.slice(i,n))}while(r<t){c=e[r];if(c==="}"){++r;break}if(c===" "){r=r+1}else{r=a(e,r,t,s)}}if(s.endRuleset){s.endRuleset()}return r<t?r+1:r}function o(e,r,t,s){var o=r;var i;var a=[],n=-1;for(;r<t;++r){i=e[r].charAt(0);if(i==="["||i==="("){a[++n]=i}else if(i==="]"&&a[n]==="["||i===")"&&a[n]==="("){--n}else if(i==="{"||i==="}"||i===";"||i==="@"||i===":"&&!s){break}}if(n>=0){r=~(r+1)}return r}var i=/^-?[a-z]/i;function a(e,r,t,s){var a=e[r++];if(!i.test(a)){return r+1}var n;if(r<t&&e[r]===" "){++r}if(r==t||e[r]!==":"){while(r<t&&(n=e[r])!==";"&&n!=="}"){++r}return r}++r;if(r<t&&e[r]===" "){++r}var c=r,l=o(e,r,t,false);if(l<0){l=~l}else{var u=[],p=0;for(var d=c;d<l;++d){n=e[d];if(n!==" "){u[p++]=n}}if(l<t){do{n=e[l];if(n===";"||n==="}"){break}p=0}while(++l<t);if(n===";"){++l}}if(p&&s.declaration){s.declaration(a.toLowerCase(),u)}}return l}m=function(e,r){var t=l(e);for(var s=0,o=t.length;s<o;){s=t[s]!==" "?a(t,s,o,r):s+1}}})();if(typeof window!=="undefined"){window["parseCssStylesheet"]=h;window["parseCssDeclarations"]=m}
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */var g={};g.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10};g.ATTRIBS={"*::accesskey":0,"*::class":9,"*::contenteditable":0,"*::contextmenu":0,"*::dir":0,"*::draggable":0,"*::dropzone":0,"*::hidden":0,"*::id":4,"*::lang":0,"*::onabort":2,"*::onblur":2,"*::oncanplay":2,"*::oncanplaythrough":2,"*::onchange":2,"*::onclick":2,"*::oncontextmenu":2,"*::oncuechange":2,"*::ondblclick":2,"*::ondrag":2,"*::ondragend":2,"*::ondragenter":2,"*::ondragleave":2,"*::ondragover":2,"*::ondragstart":2,"*::ondrop":2,"*::ondurationchange":2,"*::onemptied":2,"*::onended":2,"*::onerror":2,"*::onfocus":2,"*::oninput":2,"*::oninvalid":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onloadeddata":2,"*::onloadedmetadata":2,"*::onloadstart":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onmousewheel":2,"*::onpause":2,"*::onplay":2,"*::onplaying":2,"*::onprogress":2,"*::onratechange":2,"*::onreadystatechange":2,"*::onreset":2,"*::onscroll":2,"*::onseeked":2,"*::onseeking":2,"*::onselect":2,"*::onshow":2,"*::onstalled":2,"*::onsubmit":2,"*::onsuspend":2,"*::ontimeupdate":2,"*::onvolumechange":2,"*::onwaiting":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"a::href":1,"a::hreflang":0,"a::media":0,"a::rel":0,"a::target":0,"a::type":0,"area::alt":0,"area::coords":0,"area::href":1,"area::hreflang":0,"area::media":0,"area::rel":0,"area::shape":0,"area::target":10,"area::type":0,"audio::autoplay":0,"audio::controls":0,"audio::loop":0,"audio::mediagroup":0,"audio::preload":0,"audio::src":1,"base::href":1,"base::target":10,"blockquote::cite":1,"body::onafterprint":2,"body::onbeforeprint":2,"body::onbeforeunload":2,"body::onblur":2,"body::onerror":2,"body::onfocus":2,"body::onhashchange":2,"body::onload":2,"body::onmessage":2,"body::onoffline":2,"body::ononline":2,"body::onpagehide":2,"body::onpageshow":2,"body::onpopstate":2,"body::onredo":2,"body::onresize":2,"body::onscroll":2,"body::onstorage":2,"body::onundo":2,"body::onunload":2,"button::autofocus":0,"button::disabled":0,"button::form":0,"button::formaction":1,"button::formenctype":0,"button::formmethod":0,"button::formnovalidate":0,"button::formtarget":10,"button::name":8,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"col::span":0,"colgroup::span":0,"command::checked":0,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"del::cite":1,"del::datetime":0,"details::open":0,"embed::height":0,"embed::src":1,"embed::type":0,"embed::width":0,"fieldset::disabled":0,"fieldset::form":0,"fieldset::name":8,"form::accept-charset":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::target":10,"html:: manifest":1,"iframe::height":0,"iframe::name":7,"iframe::sandbox":0,"iframe::seamless":0,"iframe::src":1,"iframe::srcdoc":10,"iframe::width":0,"img::alt":0,"img::height":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::width":0,"input::accept":0,"input::alt":0,"input::autocomplete":0,"input::autofocus":0,"input::checked":0,"input::dirname":0,"input::disabled":0,"input::form":0,"input::formaction":1,"input::formenctype":0,"input::formmethod":0,"input::formnovalidate":0,"input::formtarget":10,"input::height":0,"input::list":0,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::step":0,"input::size":0,"input::src":1,"input::type":0,"input::value":0,"input::width":0,"ins::cite":1,"ins::datetime":0,"keygen::autofocus":0,"keygen::challenge":0,"keygen::disabled":0,"keygen::form":0,"keygen::keytype":0,"keygen::name":8,"label::for":5,"label::form":0,"link::href":1,"link::hreflang":0,"link::media":0,"link::rel":0,"link::sizes":0,"link::type":0,"li::value":0,"map::name":7,"menu::label":0,"menu::type":0,"meta::charset":0,"meta::content":0,"meta::http-equiv":0,"meta::name":7,"meter::form":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::optimum":0,"meter::value":0,"object::data":1,"object::form":0,"object::height":0,"object::name":8,"object::type":0,"object::usemap":11,"object::width":0,"ol::reversed":0,"ol::start":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":5,"output::form":0,"output::name":8,"param::name":8,"param::value":0,"progress::form":0,"progress::max":0,"progress::value":0,"q::cite":1,"script::async":0,"script::charset":0,"script::defer":0,"script::src":1,"script::type":0,"select::autofocus":0,"select::disabled":0,"select::form":0,"select::multiple":0,"select::name":8,"select::required":0,"select::size":0,"source::media":0,"source::src":1,"source::type":0,"style::media":0,"style::scoped":0,"style::type":0,"table::border":0,"td::colspan":0,"td::headers":6,"td::rowspan":0,"textarea::autofocus":0,"textarea::cols":0,"textarea::disabled":0,"textarea::form":0,"textarea::maxlength":0,"textarea::name":8,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"th::colspan":0,"th::headers":6,"th::rowspan":0,"th::scope":0,"time::datetime":0,"time::pubdate":0,"track::default":0,"track::kind":0,"track::label":0,"track::src":1,"track::srclang":0,"video::autoplay":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0};g.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128};g.ELEMENTS={a:0,abbr:0,address:0,area:2,article:0,aside:0,audio:0,b:0,base:18,bdi:0,bdo:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,cite:0,code:0,col:2,colgroup:1,command:2,datalist:0,dd:1,del:0,details:0,dfn:0,div:0,dl:0,dt:1,em:0,embed:18,fieldset:0,figcaption:0,figure:0,footer:0,form:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,header:0,hgroup:0,hr:2,html:49,i:0,iframe:0,img:2,input:2,ins:0,kbd:0,keygen:2,label:0,legend:0,li:1,link:18,map:0,mark:0,menu:0,meta:18,meter:0,nav:0,noscript:20,object:16,ol:0,optgroup:1,option:1,output:0,p:1,param:18,pre:0,progress:0,q:0,rp:1,rt:1,ruby:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:24,tr:1,track:2,u:0,ul:0,var:0,video:0,wbr:2};g.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};g.URIEFFECTS={"a::href":2,"area::href":2,"audio::src":1,"base::href":2,"blockquote::cite":0,"button::formaction":2,"command::icon":1,"del::cite":0,"embed::src":1,"form::action":2,"html:: manifest":1,"iframe::src":1,"img::src":1,"input::formaction":2,"input::src":1,"ins::cite":0,"link::href":2,"object::data":1,"q::cite":0,"script::src":1,"source::src":1,"track::src":1,"video::poster":1,"video::src":1};g.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0};g.LOADERTYPES={"a::href":2,"area::href":2,"audio::src":1,"base::href":2,"blockquote::cite":2,"button::formaction":2,"command::icon":1,"del::cite":2,"embed::src":1,"form::action":2,"html:: manifest":1,"iframe::src":1,"img::src":1,"input::formaction":2,"input::src":1,"ins::cite":2,"link::href":2,"object::data":0,"q::cite":2,"script::src":1,"source::src":1,"track::src":1,"video::poster":1,"video::src":1};if(typeof window!=="undefined"){window["html4"]=g}// Copyright (C) 2006 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var b=function(e){var r,t,s;if("undefined"!==typeof window){r=window["parseCssDeclarations"];t=window["sanitizeCssProperty"];s=window["cssSchema"]}var o;if("script"==="SCRIPT".toLowerCase()){o=function(e){return e.toLowerCase()}}else{o=function(e){return e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)})}}var i={lt:"<",gt:">",amp:"&",nbsp:" ",quot:'"',apos:"'"};var a=/^#(\d+)$/;var n=/^#x([0-9A-Fa-f]+)$/;function c(e){e=o(e);if(i.hasOwnProperty(e)){return i[e]}var r=e.match(a);if(r){return String.fromCharCode(parseInt(r[1],10))}else if(!!(r=e.match(n))){return String.fromCharCode(parseInt(r[1],16))}return""}function l(e,r){return c(r)}var u=/\0/g;function p(e){return e.replace(u,"")}var d=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function f(e){return e.replace(d,l)}var h=/&/g;var m=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;var g=/[<]/g;var b=/>/g;var v=/\"/g;function w(e){return(""+e).replace(h,"&amp;").replace(g,"&lt;").replace(b,"&gt;").replace(v,"&#34;")}function L(e){return e.replace(m,"&amp;$1").replace(g,"&lt;").replace(b,"&gt;")}var P=new RegExp("^\\s*"+"([a-z][a-z-]*)"+"(?:"+("\\s*(=)\\s*"+"("+('(")[^"]*("|$)'+"|"+"(')[^']*('|$)"+"|"+"(?=[a-z][a-z-]*\\s*=)"+"|"+"[^\"'\\s]*")+")")+")?","i");var x=/^(#[0-9]+|#x[0-9a-f]+|\w+);/i;var y="a,b".split(/(,)/).length===3;var B=e.eflags.CDATA|e.eflags.RCDATA;function E(e){return function(r,t){return k(r,e,t)}}var G={};function k(e,r,t){var s=r;var o,i,a;var n=S(e);var c={noMoreGT:false,noMoreEndComments:false};T(r,n,0,c,t)}function A(e,r,t,s,o){return function(){T(e,r,t,s,o)}}function T(r,t,s,i,a){try{if(r.startDoc&&s==0){r.startDoc(a)}var n,c,l;for(var u=s,p=t.length;u<p;){var d=t[u++];var f=t[u];switch(d){case"&":if(x.test(f)){if(r.pcdata){r.pcdata("&"+f,a,G,A(r,t,u,i,a))}u++}else{if(r.pcdata){r.pcdata("&amp;",a,G,A(r,t,u,i,a))}}break;case"</":if(n=/^(\w+)[^\'\"]*/.exec(f)){if(n[0].length===f.length&&t[u+1]===">"){u+=2;l=o(n[1]);if(e.ELEMENTS.hasOwnProperty(l)){if(r.endTag){r.endTag(l,a,G,A(r,t,u,i,a))}}}else{u=C(t,u,r,a,G,i)}}else{if(r.pcdata){r.pcdata("&lt;/",a,G,A(r,t,u,i,a))}}break;case"<":if(n=/^(\w+)\s*\/?/.exec(f)){if(n[0].length===f.length&&t[u+1]===">"){u+=2;l=o(n[1]);if(e.ELEMENTS.hasOwnProperty(l)){if(r.startTag){r.startTag(l,[],a,G,A(r,t,u,i,a))}var h=e.ELEMENTS[l];if(h&B){var m={name:l,next:u,eflags:h};u=R(t,m,r,a,G,i)}}}else{u=z(t,u,r,a,G,i)}}else{if(r.pcdata){r.pcdata("&lt;",a,G,A(r,t,u,i,a))}}break;case"\x3c!--":if(!i.noMoreEndComments){for(c=u+1;c<p;c++){if(t[c]===">"&&/--$/.test(t[c-1])){break}}if(c<p){u=c+1}else{i.noMoreEndComments=true}}if(i.noMoreEndComments){if(r.pcdata){r.pcdata("&lt;!--",a,G,A(r,t,u,i,a))}}break;case"<!":if(!/^\w/.test(f)){if(r.pcdata){r.pcdata("&lt;!",a,G,A(r,t,u,i,a))}}else{if(!i.noMoreGT){for(c=u+1;c<p;c++){if(t[c]===">"){break}}if(c<p){u=c+1}else{i.noMoreGT=true}}if(i.noMoreGT){if(r.pcdata){r.pcdata("&lt;!",a,G,A(r,t,u,i,a))}}}break;case"<?":if(!i.noMoreGT){for(c=u+1;c<p;c++){if(t[c]===">"){break}}if(c<p){u=c+1}else{i.noMoreGT=true}}if(i.noMoreGT){if(r.pcdata){r.pcdata("&lt;?",a,G,A(r,t,u,i,a))}}break;case">":if(r.pcdata){r.pcdata("&gt;",a,G,A(r,t,u,i,a))}break;case"":break;default:if(r.pcdata){r.pcdata(d,a,G,A(r,t,u,i,a))}break}}if(r.endDoc){r.endDoc(a)}}catch(e){if(e!==G){throw e}}}function S(e){var r=/(<\/|<\!--|<[!?]|[&<>])/g;e+="";if(y){return e.split(r)}else{var t=[];var s=0;var o;while((o=r.exec(e))!==null){t.push(e.substring(s,o.index));t.push(o[0]);s=o.index+o[0].length}t.push(e.substring(s));return t}}function C(e,r,t,s,o,i){var a=M(e,r);if(!a){return e.length}if(a.eflags!==void 0){if(t.endTag){t.endTag(a.name,s,o,A(t,e,r,i,s))}}return a.next}function z(e,r,t,s,o,i){var a=M(e,r);if(!a){return e.length}if(a.eflags!==void 0){if(t.startTag){t.startTag(a.name,a.attrs,s,o,A(t,e,a.next,i,s))}if(a.eflags&B){return R(e,a,t,s,o,i)}}return a.next}var N={};function R(r,t,s,o,i,a){var n=r.length;if(!N.hasOwnProperty(t.name)){N[t.name]=new RegExp("^"+t.name+"(?:[\\s\\/]|$)","i")}var c=N[t.name];var l=t.next;var u=t.next+1;for(;u<n;u++){if(r[u-1]==="</"&&c.test(r[u])){break}}if(u<n){u-=1}var p=r.slice(l,u).join("");if(t.eflags&e.eflags.CDATA){if(s.cdata){s.cdata(p,o,i,A(s,r,u,a,o))}}else if(t.eflags&e.eflags.RCDATA){if(s.rcdata){s.rcdata(L(p),o,i,A(s,r,u,a,o))}}else{throw new Error("bug")}return u}function M(r,t){var s=/^(\w+)/.exec(r[t]);var i={name:o(s[1])};if(e.ELEMENTS.hasOwnProperty(i.name)){i.eflags=e.ELEMENTS[i.name]}else{i.eflags=void 0}var a=r[t].substr(s[0].length);var n=t+1;var c=r.length;for(;n<c;n++){if(r[n]===">"){break}a+=r[n]}if(c<=n){return void 0}var l=[];while(a!==""){s=P.exec(a);if(!s){a=a.replace(/^[\s\S][^a-z\s]*/,"")}else if(s[4]&&!s[5]||s[6]&&!s[7]){var u=s[4]||s[6];var p=false;var d=[a,r[n++]];for(;n<c;n++){if(p){if(r[n]===">"){break}}else if(0<=r[n].indexOf(u)){p=true}d.push(r[n])}if(c<=n){break}a=d.join("");continue}else{var f=o(s[1]);var h=s[2]?D(s[3]):f;l.push(f,h);a=a.substr(s[0].length)}}i.attrs=l;i.next=n+1;return i}function D(e){var r=e.charCodeAt(0);if(r===34||r===39){e=e.substr(1,e.length-2)}return f(p(e))}function O(r){var t;var s;var o=function(e,r){if(!s){r.push(e)}};return E({startDoc:function(e){t=[];s=false},startTag:function(o,i,a){if(s){return}if(!e.ELEMENTS.hasOwnProperty(o)){return}var n=e.ELEMENTS[o];if(n&e.eflags.FOLDABLE){return}i=r(o,i);if(!i){s=!(n&e.eflags.EMPTY);return}if(!(n&e.eflags.EMPTY)){t.push(o)}a.push("<",o);for(var c=0,l=i.length;c<l;c+=2){var u=i[c],p=i[c+1];if(p!==null&&p!==void 0){a.push(" ",u,'="',w(p),'"')}}a.push(">")},endTag:function(r,o){if(s){s=false;return}if(!e.ELEMENTS.hasOwnProperty(r)){return}var i=e.ELEMENTS[r];if(!(i&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var a;if(i&e.eflags.OPTIONAL_ENDTAG){for(a=t.length;--a>=0;){var n=t[a];if(n===r){break}if(!(e.ELEMENTS[n]&e.eflags.OPTIONAL_ENDTAG)){return}}}else{for(a=t.length;--a>=0;){if(t[a]===r){break}}}if(a<0){return}for(var c=t.length;--c>a;){var n=t[c];if(!(e.ELEMENTS[n]&e.eflags.OPTIONAL_ENDTAG)){o.push("</",n,">")}}t.length=a;o.push("</",r,">")}},pcdata:o,rcdata:o,cdata:o,endDoc:function(e){for(;t.length;t.length--){e.push("</",t[t.length-1],">")}}})}var $=new RegExp("^"+"(?:"+"([^:/?# ]+)"+":)?");var j=/^(?:https?|mailto)$/i;function I(e,r){if(!r){return null}var t=(""+e).match($);if(t&&(!t[1]||j.test(t[1]))){return r(e)}else{return null}}function _(o,i,a,n){for(var c=0;c<i.length;c+=2){var l=i[c];var u=i[c+1];var p=null,d;if((d=o+"::"+l,e.ATTRIBS.hasOwnProperty(d))||(d="*::"+l,e.ATTRIBS.hasOwnProperty(d))){p=e.ATTRIBS[d]}if(p!==null){switch(p){case e.atype.NONE:break;case e.atype.SCRIPT:u=null;break;case e.atype.STYLE:if("undefined"===typeof r){u=null;break}var f=[];r(u,{declaration:function(e,r){var o=e.toLowerCase();var i=s[o];if(!i){return}t(o,i,r,a);f.push(e+": "+r.join(" "))}});u=f.length>0?f.join(" ; "):null;break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:u=n?n(u):u;break;case e.atype.URI:u=I(u,a);break;case e.atype.URI_FRAGMENT:if(u&&"#"===u.charAt(0)){u=u.substring(1);u=n?n(u):u;if(u!==null&&u!==void 0){u="#"+u}}else{u=null}break;default:u=null;break}}else{u=null}i[c+1]=u}return i}function q(r,t){return function(s,o){if(!(e.ELEMENTS[s]&e.eflags.UNSAFE)){return _(s,o,r,t)}}}function F(e,r){var t=[];O(r)(e,t);return t.join("")}function U(e,r,t){var s=q(r,t);return F(e,s)}return{escapeAttrib:w,makeHtmlSanitizer:O,makeSaxParser:E,makeTagPolicy:q,normalizeRCData:L,sanitize:U,sanitizeAttribs:_,sanitizeWithPolicy:F,unescapeEntities:f}}(g);var v=b.sanitize;if(typeof window!=="undefined"){window["html"]=b;window["html_sanitize"]=v}})();
},
	"sap/ui/thirdparty/crossroads.js":function(){
/** @license
 * crossroads <http://millermedeiros.github.com/crossroads.js/>
 * Author: Miller Medeiros | MIT License
 * v0.12.0 (2013/01/21 13:47)
 */
(function(){var e=function(e){var t,r,i;r=/t(.+)?/.exec("t")[1]==="";function s(e,t){if(e.indexOf){return e.indexOf(t)}else{var r=e.length;while(r--){if(e[r]===t){return r}}return-1}}function n(e,t){var r=s(e,t);if(r!==-1){e.splice(r,1)}}function a(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function o(e){return a(e,"RegExp")}function u(e){return a(e,"Array")}function h(e){return typeof e==="function"}function l(e){var t;if(e===null||e==="null"){t=null}else if(e==="true"){t=true}else if(e==="false"){t=false}else if(e===i||e==="undefined"){t=i}else if(e===""||isNaN(e)){t=e}else{t=parseFloat(e)}return t}function f(e){var t=e.length,r=[];while(t--){r[t]=l(e[t])}return r}function c(e,t){var r=(e||"").replace("?","").split("&"),i=r.length,s={},n,a;while(i--){n=r[i].split("=");a=t?l(n[1]):n[1];s[n[0]]=typeof a==="string"?decodeURIComponent(a):a}return s}function p(){this.bypassed=new e.Signal;this.routed=new e.Signal;this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState()}p.prototype={greedy:false,greedyEnabled:true,ignoreCase:true,ignoreState:false,shouldTypecast:false,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null},create:function(){return new p},addRoute:function(e,t,r){var i=new d(e,t,r,this);this._sortedInsert(i);return i},removeRoute:function(e){n(this._routes,e);e._destroy()},removeAllRoutes:function(){var e=this.getNumRoutes();while(e--){this._routes[e]._destroy()}this._routes.length=0},parse:function(e,t){e=e||"";t=t||[];if(!this.ignoreState&&(e===this._prevMatchedRequest||e===this._prevBypassedRequest)){return}var r=this._getMatchedRoutes(e),i=0,s=r.length,n;if(s){this._prevMatchedRequest=e;this._notifyPrevRoutes(r,e);this._prevRoutes=r;while(i<s){n=r[i];n.route.matched.dispatch.apply(n.route.matched,t.concat(n.params));n.isFirst=!i;this.routed.dispatch.apply(this.routed,t.concat([e,n]));i+=1}}else{this._prevBypassedRequest=e;this.bypassed.dispatch.apply(this.bypassed,t.concat([e]))}this._pipeParse(e,t)},_notifyPrevRoutes:function(e,t){var r=0,i;while(i=this._prevRoutes[r++]){if(i.route.switched&&this._didSwitch(i.route,e)){i.route.switched.dispatch(t)}}},_didSwitch:function(e,t){var r,i=0;while(r=t[i++]){if(r.route===e){return false}}return true},_pipeParse:function(e,t){var r=0,i;while(i=this._piped[r++]){i.parse(e,t)}},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,r=t.length;do{--r}while(t[r]&&e._priority<=t[r]._priority);t.splice(r+1,0,e)},_getMatchedRoutes:function(e){var t=[],r=this._routes,i=r.length,s;while(s=r[--i]){if((!t.length||this.greedy||s.greedy)&&s.match(e)){t.push({route:s,params:s._getParamsArray(e)})}if(!this.greedyEnabled&&t.length){break}}return t},pipe:function(e){this._piped.push(e)},unpipe:function(e){n(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}};t=new p;t.VERSION="0.12.0";t.NORM_AS_ARRAY=function(e,t){return[t.vals_]};t.NORM_AS_OBJECT=function(e,t){return[t]};function d(t,r,i,s){var n=o(t),a=s.patternLexer;this._router=s;this._pattern=t;this._paramsIds=n?null:a.getParamIds(t);this._optionalParamsIds=n?null:a.getOptionalParamsIds(t);this._matchRegexp=n?t:a.compilePattern(t,s.ignoreCase);this.matched=new e.Signal;this.switched=new e.Signal;if(r){this.matched.add(r)}this._priority=i||0}d.prototype={greedy:false,rules:void 0,match:function(e){e=e||"";return this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t=this.rules,r=this._getParamsObject(e),i;for(i in t){if(i!=="normalize_"&&t.hasOwnProperty(i)&&!this._isValidParam(e,i,r)){return false}}return true},_isValidParam:function(e,t,r){var i=this.rules[t],n=r[t],a=false,l=t.indexOf("?")===0;if(n==null&&this._optionalParamsIds&&s(this._optionalParamsIds,t)!==-1){a=true}else if(o(i)){if(l){n=r[t+"_"]}a=i.test(n)}else if(u(i)){if(l){n=r[t+"_"]}a=this._isValidArrayRule(i,n)}else if(h(i)){a=i(n,e,r)}return a},_isValidArrayRule:function(e,t){if(!this._router.ignoreCase){return s(e,t)!==-1}if(typeof t==="string"){t=t.toLowerCase()}var r=e.length,i,n;while(r--){i=e[r];n=typeof i==="string"?i.toLowerCase():i;if(n===t){return true}}return false},_getParamsObject:function(e){var t=this._router.shouldTypecast,i=this._router.patternLexer.getParamValues(e,this._matchRegexp,t),n={},a=i.length,o,u;while(a--){u=i[a];if(this._paramsIds){o=this._paramsIds[a];if(o.indexOf("?")===0&&u){n[o+"_"]=u;u=c(u,t);i[a]=u}if(r&&u===""&&s(this._optionalParamsIds,o)!==-1){u=void 0;i[a]=u}n[o]=u}n[a]=u}n.request_=t?l(e):e;n.vals_=i;return n},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null,r;t=t||this._router.normalizeFn;if(t&&h(t)){r=t(e,this._getParamsObject(e))}else{r=this._getParamsObject(e).vals_}return r},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t)){throw new Error("Generated string doesn't validate against `Route.rules`.")}return t},extrapolate:function(e){var t={};if(!e){return t}var r=this._getParamsObject(e);this._paramsIds.forEach(function(e){if(r.hasOwnProperty(e)){t[e]=r[e]}});return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose();this.switched.dispose();this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}};p.prototype.patternLexer=function(){var e=/[\\.+*?\^$\[\](){}\/'#]/g,t=/^\/|\/$/g,r=/\/$/g,i=/(?:\{|:)([^}:]+)(?:\}|:)/g,s=function(e,t,r){var i=r.lastIndexOf("__CR_RS__"),s=r.indexOf("__CR_RQ__"),a=r.indexOf("__CR_OQ__"),o=r.indexOf("\\/",t),u=Math.min(a===-1?r.length:a,s===-1?r.length:s),h=t+e.length;if(h>=u||h<i||h<o){return n.OS.res_normal}else{return n.OS.res_arsbq}},n={OS:{rgx:/([:})]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:s,res_normal:"\\/?",res_arsbq:"(?:(?:\\/(?=(?:[^\\/?]+)?))|(?:\\/?(?=\\?))|^\\/?|\\/?$)"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?(.+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?(.*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?(?:\\/(?!\\/))?"}},a=1,o=2,u=3,h=a;function l(){var e,t;for(e in n){if(n.hasOwnProperty(e)){t=n[e];t.id="__CR_"+e+"__";t.save="save"in t?t.save.replace("{{id}}",t.id):t.id;t.rRestore=new RegExp(t.id,"g")}}}l();function c(e,t){var r=[],i;e.lastIndex=0;while(i=e.exec(t)){r.push(i[1])}return r}function p(e){return c(i,e)}function d(e){return c(n.OP.rgx,e)}function _(i,s){i=i||"";if(i){if(h===a){i=i.replace(t,"")}else if(h===u){i=i.replace(r,"")}i=g(i,"rgx","save");i=i.replace(e,"\\$&");i=g(i,"rRestore","res");if(h===a){i="\\/?"+i}}if(h!==o){i+="\\/?"}return new RegExp("^"+i+"$",s?"i":"")}function g(e,t,r){var i,s;for(s in n){if(n.hasOwnProperty(s)){i=n[s];e=e.replace(i[t],i[r])}}return e}function v(e,t,r){var i=t.exec(e);if(i){i.shift();if(r){i=f(i)}}return i}function m(e,t){if(typeof e!=="string"){throw new Error("Route pattern should be a string.")}var r=function(e,r){var i,s;if(r.charAt(0)==="?"){s=t[r]||t[r.substring(1)]}else{s=t[r]}if(s!=null){if(e.indexOf("{")!==-1&&s===""){throw new Error('The required segment "'+e+'" cannot accept empty string as value.')}if(typeof s==="object"){var n=[];for(var a in s){n.push(encodeURI(a+"="+s[a]))}i="?"+n.join("&")}else{i=String(s)}if(e.indexOf("*")===-1&&i.indexOf("/")!==-1){throw new Error('Invalid value "'+i+'" for segment "'+e+'".')}}else if(e.indexOf("{")!==-1){throw new Error("The segment "+e+" is required.")}else{i=""}return i};if(!n.OS.trail){n.OS.trail=new RegExp("(?:"+n.OS.id+")+$")}return e.replace(n.OS.rgx,n.OS.save).replace(i,r).replace(n.OS.trail,"").replace(n.OS.rRestore,"/")}return{strict:function(){h=o},loose:function(){h=a},legacy:function(){h=u},getParamIds:p,getOptionalParamsIds:d,getParamValues:v,compilePattern:_,interpolate:m}}();return t};if(typeof define==="function"&&define.amd){define(["signals"],e)}else{window["crossroads"]=e(window["signals"])}})();
},
	"sap/ui/thirdparty/hasher.js":function(){
/*!!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
(function(){var e=function(e){var n=function(n){var t=25,i=n.document,a=n.history,r=e.Signal,o,s,c,f,l,u,p=/#(.*)$/,d=/(\?.*)|(\#.*)/,h=/^\#/,v=!+"\v1",g="onhashchange"in n&&i.documentMode!==7,w=v&&!g,m=location.protocol==="file:";function H(e){return String(e||"").replace(/\W/g,"\\$&")}function y(e){if(!e)return"";var n=new RegExp("^"+H(o.prependHash)+"|"+H(o.appendHash)+"$","g");return e.replace(n,"")}function E(){var e=p.exec(o.getURL());var n=e&&e[1]||"";try{return o.raw?n:decodeURIComponent(n)}catch(e){return n}}function R(){return l?l.contentWindow.frameHash:null}function L(){l=i.createElement("iframe");l.src="about:blank";l.style.display="none";i.body.appendChild(l)}function b(){if(l&&s!==R()){var e=l.contentWindow.document;e.open();e.write("<html><head><title>"+i.title+'</title><script type="text/javascript">var frameHash="'+s+'";<\/script></head><body>&nbsp;</body></html>');e.close()}}function x(e,n){if(s!==e){var t=s;s=e;if(w){if(!n){b()}else{l.contentWindow.frameHash=e}}return function(){o.changed.dispatch(y(e),y(t))}}}if(w){u=function(){var e=E(),n=R(),t;if(n!==s&&n!==e){o.setHash(y(n))}else if(e!==s){t=x(e);t&&t()}}}else{u=function(){var e=E(),n;if(e!==s){n=x(e);n&&n()}}}function I(e,n,t){if(e.addEventListener){e.addEventListener(n,t,false)}else if(e.attachEvent){e.attachEvent("on"+n,t)}}function U(e,n,t){if(e.removeEventListener){e.removeEventListener(n,t,false)}else if(e.detachEvent){e.detachEvent("on"+n,t)}}function z(e){e=Array.prototype.slice.call(arguments);var n=e.join(o.separator);n=n?o.prependHash+n.replace(h,"")+o.appendHash:n;return n}function S(e){e=encodeURI(e);if(v&&m){e=e.replace(/\?/,"%3F")}return e}o={VERSION:"1.2.0",raw:false,appendHash:"",prependHash:"/",separator:"/",changed:new r,stopped:new r,initialized:new r,init:function(){if(f)return;s=E();if(g){I(n,"hashchange",u)}else{if(w){if(!l){L()}b()}c=setInterval(u,t)}f=true;o.initialized.dispatch(y(s))},stop:function(){if(!f)return;if(g){U(n,"hashchange",u)}else{clearInterval(c);c=null}f=false;o.stopped.dispatch(y(s))},isActive:function(){return f},getURL:function(){return n.location.href},getBaseURL:function(){return o.getURL().replace(d,"")},setHash:function(e){var t;e=z.apply(null,arguments);if(e!==s){t=x(e);if(!o.raw){e=S(e)}n.location.hash="#"+e;t&&t()}},replaceHash:function(e){var t,i=n.location.href,a=i.indexOf("#");e=z.apply(null,arguments);if(e!==s){t=x(e);if(!o.raw){e=S(e)}if(a!==-1){i=i.slice(0,a)}n.location.replace(i+"#"+e);t&&t()}},getHash:function(){return y(s)},getHashAsArray:function(){return o.getHash().split(o.separator)},dispose:function(){o.stop();o.initialized.dispose();o.stopped.dispose();o.changed.dispose();l=o=n.hasher=null},toString:function(){return'[hasher version="'+o.VERSION+'" hash="'+o.getHash()+'"]'}};o.initialized.memorize=true;return o}(window);return n};if(typeof define==="function"&&define.amd){define(["signals"],e)}else if(typeof exports==="object"){module.exports=e(require("signals"))}else{window["hasher"]=e(window["signals"])}})();
},
	"sap/ui/thirdparty/signals.js":function(){
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
(function(i){function t(i,t,e,n,s){this._listener=t;this._isOnce=e;this.context=n;this._signal=i;this._priority=s||0}t.prototype={active:true,params:null,execute:function(i){var t,e;if(this.active&&!!this._listener){e=this.params?this.params.concat(i):i;t=this._listener.apply(this.context,e);if(this._isOnce){this.detach()}}return t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function e(i,t){if(typeof i!=="function"){throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}}function n(){this._bindings=[];this._prevParams=null;var i=this;this.dispatch=function(){n.prototype.dispatch.apply(i,arguments)}}n.prototype={VERSION:"1.0.0",memorize:false,_shouldPropagate:true,active:true,_registerListener:function(i,e,n,s){var r=this._indexOfListener(i,n),h;if(r!==-1){h=this._bindings[r];if(h.isOnce()!==e){throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(!e?"":"Once")+"() the same listener without removing the relationship first.")}}else{h=new t(this,i,e,n,s);this._addBinding(h)}if(this.memorize&&this._prevParams){h.execute(this._prevParams)}return h},_addBinding:function(i){var t=this._bindings.length;do{--t}while(this._bindings[t]&&i._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,i)},_indexOfListener:function(i,t){var e=this._bindings.length,n;while(e--){n=this._bindings[e];if(n._listener===i&&n.context===t){return e}}return-1},has:function(i,t){return this._indexOfListener(i,t)!==-1},add:function(i,t,n){e(i,"add");return this._registerListener(i,false,t,n)},addOnce:function(i,t,n){e(i,"addOnce");return this._registerListener(i,true,t,n)},remove:function(i,t){e(i,"remove");var n=this._indexOfListener(i,t);if(n!==-1){this._bindings[n]._destroy();this._bindings.splice(n,1)}return i},removeAll:function(){var i=this._bindings.length;while(i--){this._bindings[i]._destroy()}this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=false},dispatch:function(i){if(!this.active){return}var t=Array.prototype.slice.call(arguments),e=this._bindings.length,n;if(this.memorize){this._prevParams=t}if(!e){return}n=this._bindings.slice();this._shouldPropagate=true;do{e--}while(n[e]&&this._shouldPropagate&&n[e].execute(t)!==false)},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=n;s.Signal=n;if(typeof define==="function"&&define.amd){define(function(){return s})}else{i["signals"]=s}})(this);
},
	"sap/ui/unified/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.unified","type":"library","embeds":[],"applicationVersion":{"version":"1.136.0"},"title":"Unified controls intended for both, mobile and desktop scenarios","description":"Unified controls intended for both, mobile and desktop scenarios","ach":"CA-UI5-CTR","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.ui.core":{"minVersion":"1.136.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],"elements":["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuItemGroup","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.NonWorkingPeriod","sap.ui.unified.RecurringNonWorkingPeriod","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem","sap.ui.unified.TimeRange"],"types":["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],"interfaces":["sap.ui.unified.IMenuItem","sap.ui.unified.IProcessableBlobs"]}}}}',
	"sap/ushell/appRuntime/ui5/AppRuntime.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
prepareUshellConfig();prepareModules();sap.ui.define(["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/m/library","sap/ui/core/BusyIndicator","sap/ui/core/ComponentContainer","sap/ui/core/Lib","sap/ui/core/routing/History","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/performance/FesrEnhancer","sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent","sap/ushell/appRuntime/ui5/services/AppConfiguration","sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent","sap/ushell/appRuntime/ui5/services/ShellUIService","sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/EventHub","sap/ushell/iconfonts","sap/ushell/UI5ComponentType","sap/ushell/ui5service/UserStatus","sap/ushell/utils/UrlParsing","sap/ushell/utils/WindowUtils","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/renderer/utils","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer"],function(e,t,i,a,n,s,r,p,o,u,l,c,jQuery,d,h,f,m,g,v,y,C,A,R,b,S,I,P,F,U,w,L){"use strict";var H=r.URLHelper;m.init();var D,M,N=(new d).search(true),T=false,E,k=false,O=false,x=false,B=false,_;function W(){this.main=function(){var e,t=Promise.resolve(),a=D._getURI();jQuery("body").css("height","100%").css("width","100%");h.init(true);this.getPageConfig(a);D.setModulePaths();e=D.loadAdditionalLibs();if(a.hasOwnProperty("sap-remote-intent")){t=f.postMessageToFLP("sap.ushell.services.UserInfo.getLocaleData",undefined,undefined,3e3,{})}U.setAppLifeCycleAgent(y);y.expandSapIntentParams(D._getURI()).then(function(a){var n,s;if(a.hasOwnProperty("sap-remote-intent")===true){U.setIsScube(true);s=a["sap-remote-intent"];if(s===undefined){i.error("Application cannot be opened. 'sAppIntent' is undefined")}U.setRemoteSystemId(a["sap-remote-system"]);D.adjustIframeURL()}else{n=a["sap-ui-app-id"]}D.init();var r=new Promise(function(e){sap.ui.require(["sap/ushell/appRuntime/ui5/services/UserInfo"],e)});e.push(D.initServicesContainer());Promise.all(e).then(function(){D.initPostMessages();if(U.getIsScube()===true){M.getServiceAsync("CommonDataModel")}Promise.all([D.getAppInfo(n,s),r,t]).then(function(e){var t=e[0].oResolvedHashFragment,i=e[0].oParsedHash,r=e[2]||{};D._setUI5LocaleAttributes(r);A.init();g.init();D._setInitialAppRoute();D.createApplication(n,a,t,s,i).then(function(e){D.renderApplication(e)})})})})};this._setUI5LocaleAttributes=function(i){if(Object.keys(i).length>0){if(i.calendarType){e.setCalendarType(i.calendarType)}if(i.dateFormatShort){e.setDatePattern("short",i.dateFormatShort)}if(i.dateFormatMedium){e.setDatePattern("medium",i.dateFormatMedium)}if(i.numberFormatGroup){e.setNumberSymbol("group",i.numberFormatGroup)}if(i.numberFormatDecimal){e.setNumberSymbol("decimal",i.numberFormatDecimal)}if(i.timeFormatShort){e.setTimePattern("short",i.timeFormatShort)}if(i.timeFormatMedium){e.setTimePattern("medium",i.timeFormatMedium)}if(i.calendarMapping){e.setCustomIslamicCalendarData(i.calendarMapping)}if(i.timeZone){t.setTimezone(i.timeZone)}if(i.currencyFormats){e.setCustomCurrencies(i.currencyFormats)}}};this._setInitialAppRoute=function(){var e=P.parseShellHash(c.getHash());if(e&&e.appSpecificRoute&&e.appSpecificRoute.length>0){f.postMessageToFLP("sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute",{appSpecificRoute:e.appSpecificRoute})}};this._getURI=function(){return(new d).query(true)};this.init=function(){b.registerFiori2IconFont();B=this._getURIParams()["sap-manifest-width"];v.setFullWidthFromManifest(B)};this.initPostMessages=function(){h.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{hashChange:{executeServiceCallFn:async function(e){var t=e.oMessageData.body.sHash;if(typeof t==="string"){var i=P.parseShellHash(t),a=P.parseShellHash(c.getHash());if(i&&a&&i.semanticObject===a.semanticObject&&i.action===a.action){c.replaceHash(t)}}}},innerAppRouteChange:{executeServiceCallFn:async function(e){var t=e?.oMessageData?.body?.oHash?.fullHash;if(typeof t==="string"){c.replaceHash(t)}}},setDirtyFlag:{executeServiceCallFn:async function(e){var t=e.oMessageData.body.bIsDirty;if(t!==M.getDirtyFlag()){M.setDirtyFlag(t)}}},getDirtyFlag:{executeServiceCallFn:async function(e){return M.getDirtyFlag()}},themeChange:{executeServiceCallFn:async function(e){var t=e.oMessageData.body.currentThemeId;M.getUser().setTheme(t)}},buttonClick:{executeServiceCallFn:async function(e){L.handleHeaderButtonClick(e.oMessageData.body.buttonId)}},executeLogoutFunctions:{executeServiceCallFn:async function(e){await M.executeAsyncAndSyncLogoutFunctions()}},uiDensityChange:{executeServiceCallFn:async function(e){var t=e.oMessageData.body.isTouch;jQuery("body").toggleClass("sapUiSizeCompact",t==="0").toggleClass("sapUiSizeCozy",t==="1")}},handleDirtyStateProvider:{executeServiceCallFn:async function(e){return M.handleDirtyStateProvider(e.oMessageData.body.oNavigationContext)}}}},"sap.ushell.services.MessageBroker":{oServiceCalls:{_execute:{executeServiceCallFn:async function(e){const t=await M.getServiceAsync("MessageBroker");await t.handleMessage(e.oMessageData.body)}}}}})};this.handleLinkElementOpen=function(e,t){try{if(t.isDefaultPrevented&&t.isDefaultPrevented()===true){return}var i=t.target;if(i&&i.tagName==="A"&&i.href&&i.href.indexOf("#")>0){if(i.target==="_blank"){const a=i.href.split("#");if(a[0].length===0||a[0]===document.URL.split("#")[0]){D.rebuildNewAppUrl(i.href,e).then(e=>{F.openURL(e)});t.preventDefault()}}else if(i.target===undefined||i.target===""||i.target==="_top"||i.target==="_self"){var a=i.href.split("#"),n=document.URL.split("#");if(a[0]===n[0]){var s=a[1]&&a[1].split("&/"),r=n[1]&&n[1].split("&/");if(typeof s[0]==="string"&&typeof r[0]==="string"&&s[0]!==r[0]){M.getServiceAsync("Navigation").then(function(e){e.navigate({target:{shellHash:a[1]}})});t.preventDefault()}}}}}catch(e){}};this.rebuildNewAppUrl=async function(e,t){const i=e.split("#");if(i[0].length===0||i[0]===document.URL.split("#")[0]){if(U.getIsScube()){const e=await U.checkIntentsConversionForScube([{intent:"#"+i[1]}]);return t+e[0].intent}return t+"#"+i[1]}return e};this.getPageConfig=function(e){window["sap-ushell-config"]=n({},j(),window["sap-ushell-config"]);if(e.hasOwnProperty("sap-remote-intent")){var t=window["sap-ushell-config"].bootstrapPlugins;if(t&&t.hasOwnProperty("WAPluginAgent")&&t.WAPluginAgent.hasOwnProperty("config")){delete t.WAPluginAgent.config["sap-plugin-agent"]}}};this.setModulePaths=function(){if(window["sap-ushell-config"].modulePaths){var e=Object.keys(window["sap-ushell-config"].modulePaths),t;for(var i in e){t=e[i];(function(e){var t={};t[e.replace(/\./g,"/")]=window["sap-ushell-config"].modulePaths[e];sap.ui.loader.config({paths:t})})(t)}}};this.loadAdditionalLibs=function(){var e=a.get("ui5.libs",window["sap-ushell-config"])||{},t=[];Object.keys(e).forEach(function(i){if(e[i]===true){t.push(u.load(i))}});return t};this.adjustIframeURL=function(){};this.initServicesContainer=function(){return new Promise(function(e){sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],function(t){M=t;M.init("apprt",{apprt:"sap.ushell.appRuntime.ui5.services.adapters"}).then(function(){M.getFLPUrlAsync().then(function(e){jQuery(document).on("click.appruntime",D.handleLinkElementOpen.bind(D,e));jQuery(document).on("keydown.appruntime",function(t){if(t.code==="Enter"){return D.handleLinkElementOpen(e,t)}})});M.getServiceAsync("ShellNavigationInternal").then(function(t){_=t;_.init(function(){});D._enableHistoryEntryReplacedDetection();e()})})})})};this._enableHistoryEntryReplacedDetection=function(){this._fnOriginalSetHash=c.setHash;this._fnOriginalReplaceHash=c.replaceHash;c.setHash=function(){if(c.disableCFLPUpdate===true){return this._fnOriginalSetHash.apply(c,arguments)}if(U.checkDataLossAndContinue()){return this._fnOriginalSetHash.apply(c,arguments)}}.bind(this);c.replaceHash=function(){if(c.disableCFLPUpdate===true){return this._fnOriginalReplaceHash.apply(c,arguments)}if(U.checkDataLossAndContinue()){return this._fnOriginalReplaceHash.apply(c,arguments)}}.bind(this)};this._getURIParams=function(){return N};this.getAppInfo=function(e,t){var i,a,n;if(e){i=window["sap-ushell-config"].ui5appruntime.config.appIndex.data;a=window["sap-ushell-config"].ui5appruntime.config.appIndex.module;n=window["sap-ushell-config"].ui5appruntime.config.appIndex.enableCache}return new Promise(function(r){if(e&&i&&!s(i)){y.init(a,D.createApplication.bind(D),D.renderApplication.bind(D),n,e,i);r({oResolvedHashFragment:i})}else{y.init(a,D.createApplication.bind(D),D.renderApplication.bind(D),n);y.getAppInfo(e,document.URL,t).then(r)}})};this.setHashChangedCallback=function(){if(O===true){return}c.changed.add(this._treatHashChanged.bind(this),this);O=true};this._treatHashChanged=async function(e,t){if(c.disableCFLPUpdate===true){return}if(e&&typeof e==="string"&&e.length>0){if(t&&typeof t==="string"&&t.length>0){var i=P.compareHashes(e,t);if(!i.sameIntent||!i.sameParameters){M.getServiceAsync("Navigation").then(function(t){t.navigate({target:{shellHash:e}})});return}}f.postMessageToFLP("sap.ushell.appRuntime.hashChange",{newHash:e,direction:l.getInstance().getDirection()})}};this.createApplication=function(e,t,a,n,s){var r=P.getHash(window.location.href);return new Promise(function(p){var u="";if(t.hasOwnProperty("sap-history-dir")){u=t["sap-history-dir"];_.hashChanger.fireEvent("hashReplaced",{hash:_.hashChanger.getHash(),direction:u});i.debug("AppRuntime.createApplication :: Informed by the FLP, to change the History direction "+"property in the Iframe to: "+u)}var l=new o({id:(U.getIsScube()===true?n:e)+"-content",width:"100%",height:"100%"});l.addStyleClass("sapAppRuntimeBaseStyle");var c="0";if(N.hasOwnProperty("sap-touch")){c=N["sap-touch"];if(c!=="0"&&c!=="1"){c="0"}}jQuery("body").toggleClass("sapUiSizeCompact",c==="0").toggleClass("sapUiSizeCozy",c==="1");if(x===false){var d=new C({scopeObject:l,scopeType:"component"});d.setBackNavigation();new I({scopeObject:l,scopeType:"component"});y.setShellUIService(d);w.init();x=true}(U.getIsScube()?Promise.resolve(""):y.getApplicationParameters(t)).then(function(i){a.url+=i;D.setHashChangedCallback();Promise.all([M.getServiceAsync("Ui5ComponentLoader"),M.getServiceAsync("AppLifeCycle")]).then(function(i){var o=i[0];var u=i[1];if(a.asyncHints&&Array.isArray(a.asyncHints.libs)){a.asyncHints.libs=a.asyncHints.libs.filter(function(e){return e.name!=="sap.ushell"})}var c,d;if(U.getIsScube()===true){c=a;d=s}else{c={ui5ComponentName:e,applicationDependencies:a,url:a.url};d=P.parseShellHash(r)}o.createComponent(c,d,[],S.Application).then(function(e){var i;if(U.getIsScube()===true){try{if(r&&r.indexOf("Shell-startIntent")===0){i=e.componentHandle.getInstance().getManifestEntry("/sap.app/title");if(typeof i==="string"){setTimeout(function(){f.postMessageToFLP("sap.ushell.services.ShellUIService.setTitle",{sTitle:i})},2e3)}}}catch(e){}}l.setComponent(e.componentHandle.getInstance());m.setAppShortId(e.componentHandle);u.prepareCurrentAppObject("UI5",e.componentHandle.getInstance(),false,undefined);D.getCurrentAppInfo(u,t,c,i);D.considerChangingTheDefaultFullWidthVal(e);D.overrideUrlHelperFuncs();p({oComponentContainer:l,oResolutionResultWithComponentHandle:e,sAppIntent:n||"",ui5ComponentName:c.ui5ComponentName})})})})})};this.getCurrentAppInfo=function(e,t,i,a){var n=["appFrameworkVersion","appVersion"];if(!t["sap-startup-params"]||t["sap-startup-params"].indexOf("sap-fiori-id")===-1){n.push("appId")}if(!t["sap-startup-params"]||t["sap-startup-params"].indexOf("sap-ach")===-1){n.push("appSupportInfo")}var s=e.getCurrentApplication();s.getInfo(n).then(function(e){for(var t in e){if(e[t]===undefined||e[t]===""){delete e[t]}}e.appFrameworkId="UI5";e.technicalAppComponentId=i.ui5ComponentName;if(typeof a==="string"){e.appTitle=a}y.setCurrentAppAttributes(e);setTimeout(function(){f.postMessageToFLP("sap.ushell.services.AppLifeCycle.updateCurrentAppInfo",{info:e})},500)})};this.considerChangingTheDefaultFullWidthVal=function(e){if(B===true||B==="true"){R.emit("appWidthChange",false)}var t=e.componentHandle.getInstance();var i=t.getMetadata();if(i){var a=t.getManifestEntry("/sap.ui/fullWidth");var n=t.getManifestEntry("/sap.ui5/config/fullWidth");if(a===true||a==="true"||n===true||n==="true"){R.emit("appWidthChange",true)}else if(a===false||a==="false"||n===false||n==="false"){R.emit("appWidthChange",false)}}};this.overrideUrlHelperFuncs=function(){if(T===true){return}T=true;if(H){H.triggerEmail=function(e,t,i,a,n){f.postMessageToFLP("sap.ushell.services.ShellUIService.sendEmail",{sTo:e,sSubject:t,sBody:i,sCc:a,sBcc:n,sIFrameURL:document.URL,bSetAppStateToPublic:true})};E=H.redirect;H.redirect=function(e,t){if(e&&t===true&&e.indexOf("#")>=0){M.getFLPUrlAsync().then(function(i){D.rebuildNewAppUrl(e,i).then(e=>{E.call(H,e,t)})})}else{E.call(H,e,t)}}}};this.loadPlugins=function(){if(k===true){return}k=true;M.getServiceAsync("PluginManager").then(function(e){r(e);if(U.getIsScube()===false){W(e)}e.loadPlugins("RendererExtensions")})};function r(e){e.registerPlugins({RTAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/rtaAgent"),config:{"sap-plugin-agent":true}}})}function W(e){e.registerPlugins({WAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.scriptAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/scriptAgent"),config:{"sap-plugin-agent":true,scube:false}}})}this.renderApplication=function(e){e.oComponentContainer.placeAt("content");p.hide();setTimeout(function(){if(e.oResolutionResultWithComponentHandle.componentHandle.getInstance().active){e.oResolutionResultWithComponentHandle.componentHandle.getInstance().active()}D.loadPlugins()},0);y.setCurrentApp(e.oComponentContainer,e.sAppIntent,e.ui5ComponentName)}}function j(){return{services:{CrossApplicationNavigation:{module:"sap.ushell.appRuntime.ui5.services.CrossApplicationNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},Navigation:{module:"sap.ushell.appRuntime.ui5.services.Navigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolution:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolution",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolutionInternal:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolutionInternal",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigation:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigationInternal:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigationInternal",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ClientSideTargetResolution:{adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppConfiguration:{module:"sap.ushell.appRuntime.ui5.services.AppConfiguration"},Bookmark:{module:"sap.ushell.appRuntime.ui5.services.Bookmark",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},BookmarkV2:{module:"sap.ushell.appRuntime.ui5.services.BookmarkV2",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},Extension:{module:"sap.ushell.appRuntime.ui5.services.Extension"},FrameBoundExtension:{module:"sap.ushell.appRuntime.ui5.services.FrameBoundExtension"},LaunchPage:{module:"sap.ushell.appRuntime.ui5.services.LaunchPage",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},FlpLaunchPage:{module:"sap.ushell.appRuntime.ui5.services.FlpLaunchPage"},UserInfo:{module:"sap.ushell.appRuntime.ui5.services.UserInfo",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},UserDefaultParameters:{module:"sap.ushell.appRuntime.ui5.services.UserDefaultParameters",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppState:{module:"sap.ushell.appRuntime.ui5.services.AppState",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppLifeCycle:{module:"sap.ushell.appRuntime.ui5.services.AppLifeCycle",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},PluginManager:{config:{isBlueBox:true}},CommonDataModel:{module:"sap.ushell.appRuntime.ui5.services.CommonDataModel",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ReferenceResolver:{module:"sap.ushell.appRuntime.ui5.services.ReferenceResolver"},MessageBroker:{module:"sap.ushell.appRuntime.ui5.services.MessageBroker"},Ui5ComponentLoader:{config:{loadDefaultDependencies:false}},Container:{adapter:{config:{userProfile:{defaults:{setThemePermitted:true}}}}}},ushell:{customPreload:{enabled:false}}}}var z=new W;z._prepareUshellConfig=prepareUshellConfig;D=z;z.main();return z});function prepareUshellConfig(){"use strict";const e=sap.ui.require("sap/base/util/ObjectPath");let t={};const i=document.querySelector("meta[name='sap.ushellConfig.ui5appruntime']");if(i){t=JSON.parse(i.content)}const a=new URLSearchParams(window.location.search);if(a.has("sap-spaces")&&a.get("sap-spaces")==="true"){e.set("ushell.spaces.enabled",true,t)}if(a.has("sap-personalization")&&a.get("sap-personalization")==="false"){e.set("renderers.fiori2.componentData.config.enablePersonalization",false,t)}window["sap-ushell-config"]=t;_migrateV2ServiceConfig(window["sap-ushell-config"])}function _migrateV2ServiceConfig(e){"use strict";var t=sap.ui.require("sap/base/util/ObjectPath");[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(i=>{const a=i.from.split(".")[1];const n=t.get(i.from,e);const s=t.get(i.to,e);if(n&&!s){const s={...n};if(s.module===`sap.ushell.services.${a}`){delete s.module}t.set(i.to,s,e)}})}function prepareModules(){"use strict";sap.ui.require(["sap/ui/core/BusyIndicator"],function(e){try{if(apprtBIdiv){document.body.classList.remove("apprtBIbg");apprtBIdiv.parentNode.removeChild(apprtBIdiv);apprtBIstyle.parentNode.removeChild(apprtBIstyle)}e.show(0)}catch(t){e.show(0)}});if(document.URL.indexOf("ui5appruntime")>0){sap.ui.define("sap/ushell/URLTemplateProcessor",[],function(){return{}});sap.ui.define("sap/ushell/ApplicationType/wdaResolution",[],function(){return{}});sap.ui.define("sap/ushell/ApplicationType/guiResolution",[],function(){return{}});if(document.URL.indexOf("sap-ui-app-id=")>0){sap.ui.define("sap/ushell/ApplicationType",[],function(){return{URL:{type:"URL"},WDA:{type:"WDA"},TR:{type:"TR"},NWBC:{type:"NWBC"},WCF:{type:"WCF"},SAPUI5:{type:"SAPUI5"}}})}sap.ui.define("sap/ushell/components/applicationIntegration/AppLifeCycle",[],function(){return{}});sap.ui.define("sap/ushell/appIntegration/AppLifeCycle",[],function(){return{}});sap.ui.define("sap/ushell/services/appstate/WindowAdapter",[],function(){return function(){}});sap.ui.define("sap/ushell/services/appstate/SequentializingAdapter",[],function(){return function(){}});sap.ui.define("sap/ushell/services/appstate/Sequentializer",[],function(){return function(){}});sap.ui.define("sap/ushell/services/Configuration",[],function(){function e(){this.attachSizeBehaviorUpdate=function(){};this.hasNoAdapter=true}e.hasNoAdapter=true;return e});sap.ui.define("sap/ushell/services/PluginManager/Extensions",[],function(){return function(){}});sap.ui.define("sap/ushell/services/MessageBroker/MessageBrokerEngine",[],function(){return function(){}});sap.ui.define("sap/ushell/bootstrap/common/common.load.core-min",[],function(){return{loaded:false,load:function(e){}}})}}
this.prepareUshellConfig=prepareUshellConfig;
this._migrateV2ServiceConfig=_migrateV2ServiceConfig;
this.prepareModules=prepareModules;
},
	"sap/ushell/appRuntime/ui5/BusyIndicator.js":'// Copyright (c) 2009-2025 SAP SE, All Rights Reserved\nvar apprtBIdiv;document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("sap-ui-bootstrap");if(!e){return}const t=e.src;if(!t){return}const d=t.split("/resources/")[0];const n=document.createElement("link");n.rel="stylesheet";n.href=`${d}/resources/sap/ushell/appRuntime/ui5/BusyIndicator.css`;document.head.appendChild(n);apprtBIdiv=document.createElement("div");apprtBIdiv.classList.add("apprtBIcenter");apprtBIdiv.appendChild(document.createElement("div"));apprtBIdiv.appendChild(document.createElement("div"));apprtBIdiv.appendChild(document.createElement("div"));document.body.appendChild(apprtBIdiv)});\n',
	"sap/ushell/appRuntime/ui5/libsPreload.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
try{document.getElementById("sap-ui-bootstrap").setAttribute("data-sap-ui-libs","sap.ui.core,sap.m,sap.ui.fl")}catch(t){}try{document.getElementById("sap-ui-bootstrap").setAttribute("data-sap-ui-compatVersion","edge")}catch(t){}
},
	"sap/ushell/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell","type":"library","embeds":["appRuntime/ui5/plugins/rtaAgent","appRuntime/ui5/plugins/rtaShell","components/appfinder","components/cepsearchresult/app","components/cepsearchresult/app/cards/searchresultwidget","components/contentFinder","components/contentFinder/dialog","components/contentFinderStandalone","components/homeApp/error","components/homepage","components/pages","components/runtimeSwitcher","components/shell/FloatingContainer","components/shell/MenuBar","components/shell/NavigationBarMenu","components/shell/Search","components/shell/Settings/userDefaults","components/shell/ShellBar","components/shell/SideNavigation","components/tiles/cdm/applauncher","components/tiles/cdm/applauncherdynamic","components/workPageBuilder","components/workPageRuntime","plugins/appwarmup","plugins/ghostapp","plugins/rta","plugins/rta-personalize","renderer/rendererTargetWrapper","renderer/search/searchComponent"],"applicationVersion":{"version":"1.136.1"},"title":"SAP library: sap.ushell","description":"SAP library: sap.ushell","ach":"CA-FLP-FE-UI","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_bluecrystal_base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.f":{"minVersion":"1.136.0","lazy":true},"sap.m":{"minVersion":"1.136.0"},"sap.ui.core":{"minVersion":"1.136.0"},"sap.ui.layout":{"minVersion":"1.136.0","lazy":true},"sap.suite.ui.commons":{"minVersion":"1.136.0","lazy":true},"sap.suite.ui.microchart":{"minVersion":"1.136.0","lazy":true},"sap.ui.comp":{"minVersion":"1.136.0","lazy":true},"sap.ui.export":{"minVersion":"1.136.0","lazy":true},"sap.collaboration":{"minVersion":"1.136.0","lazy":true},"sap.ui.table":{"minVersion":"1.136.0","lazy":true},"sap.ui.integration":{"minVersion":"1.136.0","lazy":true},"sap.ui.generic.app":{"minVersion":"1.136.0","lazy":true},"sap.esh.search.ui":{"minVersion":"1.136.2","lazy":true}}},"library":{"i18n":false,"content":{"controls":["sap.ushell.appIntegration.ApplicationContainer","sap.ushell.appIntegration.IframeApplicationContainer","sap.ushell.appIntegration.UI5ApplicationContainer","sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.renderer.NavContainer","sap.ushell.ui.launchpad.VizInstance","sap.ushell.ui.launchpad.VizInstanceBase","sap.ushell.ui.launchpad.VizInstanceAbap","sap.ushell.ui.launchpad.VizInstanceCdm","sap.ushell.ui.launchpad.VizInstanceLaunchPage","sap.ushell.ui.launchpad.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.AppBoxInternal","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.TileStateInternal","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.SidePane","sap.ushell.ui.shell.SubHeader","sap.ushell.ui.shell.SysInfoBar","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],"elements":["sap.ushell.ui.launchpad.AccessibilityCustomData"],"types":["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.appIntegration.contracts.StatefulType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.FloatingNumberType"],"interfaces":["sap.ushell.renderer.INavContainerPage"]}}}}'
},"sap/ushell/core-lib111-preload");
sap.ui.require(["sap/ui/core/Core"], (Core) => Core.boot?.());
//# sourceMappingURL=appruntime-min-3.js.map
