// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ushell/utils/WindowUtils","sap/ushell/EventHub","sap/base/util/deepExtend","sap/ushell/utils/UrlParsing","sap/ushell/Container"],function(r,e,t,i,o,a){"use strict";var s={count:0,data:[]};function n(r,e,t,i){this.oAdapter=r;this._mSearchProviders={default:{},external:{}}}n.prototype.suggest=function(r){return this.search(r)};n.prototype.search=function(r){if(typeof this.oAdapter.search==="function"){return this.oAdapter.search(r)}return Promise.resolve(s)};n.prototype.navigate=function(r,i){var s=r.url;var n;if(!s){return Promise.resolve()}t.emit("UITracer.trace",{reason:"LaunchApp",source:"Search",data:{targetUrl:s}});if(s.startsWith("#")){if(i){n=o.parseShellHash(s);if(n){n.params.searchTerm=i;s=o.constructShellHash(n)}}return a.getServiceAsync("Navigation").then(function(r){return r.navigate({target:{shellHash:s}})})}e.openURL(s);return Promise.resolve()};n.prototype._registerDefaultSearchProvider=function(r){var e=i(r);e.name=e.id.replace(/\./g,"_");this._mSearchProviders.default[e.id]=e;return Promise.resolve()};n.prototype.registerExternalSearchProvider=function(e){var o=i(e);var a=Function.prototype;var s={id:"SearchProvider needs an id",title:"SearchProvider needs a title",execSearch:"SearchProvider needs an execSearch callback"};var n={minQueryLength:1,maxQueryLength:100,defaultItemCount:3,maxItemCount:10,priority:10,closePopover:true,itemPress:a,popoverClosed:a};for(var u in s){if(!o[u]){r.error(s[u]);return Promise.reject()}}for(var c in n){if(!o.hasOwnProperty(c)){o[c]=n[c]}}o.name=o.id.replace(/\./g,"_");this._mSearchProviders.external[o.id]=o;t.emit("updateExtProviderLists",Date.now());return Promise.resolve()};n.prototype.unregisterExternalSearchProvider=function(r){if(this._mSearchProviders.external[r]){delete this._mSearchProviders.external[r]}t.emit("updateExtProviderLists",Date.now());return Promise.resolve()};n.prototype.getSearchProviders=function(){return Promise.resolve(i(this._mSearchProviders))};n.prototype.getSearchProvidersPriorityArray=function(){var r=[];for(var e in this._mSearchProviders){r.push.apply(r,Object.values(this._mSearchProviders[e]))}r.sort(function(r,e){return r.priority-e.priority});return Promise.resolve(r)};n.prototype.getExternalSearchProvidersPriorityArray=function(){var r=[];for(var e in this._mSearchProviders.external){r.push(this._mSearchProviders.external[e])}r.sort(function(r,e){return r.priority-e.priority});return Promise.resolve(r)};n.prototype.getDefaultSearchProviders=function(){var r=Object.values(this._mSearchProviders.default);return Promise.resolve(r)};n.prototype.getExternalSearchProviders=function(){var r=Object.values(this._mSearchProviders.external);return Promise.resolve(r)};n.hasNoAdapter=false;return n},true);
//# sourceMappingURL=SearchCEP.js.map