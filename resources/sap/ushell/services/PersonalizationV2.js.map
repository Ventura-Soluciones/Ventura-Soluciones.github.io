{"version":3,"file":"PersonalizationV2.js","names":["sap","ui","define","Log","Deferred","ManagedObject","BaseObject","Component","jQuery","ushellUtils","personalizationUtils","publicConstants","ContextContainer","WindowAdapter","TransientPersonalizer","Personalizer","VariantSetAdapter","Variant","VariantSet","WindowAdapterContainer","PersonalizationV2","oAdapter","oContainerInterface","sParameter","oConfig","this","_oConfig","config","_oAppVariantAdapterWithBackendAdapter","_configureAppVariantStorage","appVariantStorage","_oAdapterWithBackendAdapter","lazy","instance","_oAdapterWindowOnly","undefined","_oContainerMap","Map","_oPendingOperationsMap","prototype","SAVE_DEFERRED_DROPPED","constants","KeyCategory","keyCategory","WriteFrequency","writeFrequency","oAppVariantStorageConfig","that","sDefaultAppVariantAdapter","adapter","module","Object","keys","length","enabled","sAdapterModuleName","sAdapterModulePath","split","join","fnCreate","_oAppVariantAdapterLoadPromise","oDeferred","require","fnRequireSuccess","oRequireError","reject","AppVariantPersonalizationAdapter","oWrappedAdapter","resolve","oError","promise","create","getGeneratedKey","async","generateRandomKey","getPersonalizer","oPersId","oScope","oComponent","_getApplicationComponent","sOwnerId","_sOwnerId","getComponentById","isObjectA","getTransientPersonalizer","getContainer","sContainerKey","oContainer","_createContainer","createEmptyContainer","bCreateEmpty","Error","bUseAppVariantStorage","isAppVariant","shared","oAdjustedScope","adjustScope","sPrefixedContainerKey","addContainerPrefix","oManifest","getManifestObject","component","appVarId","getEntry","appVersion","oPersistentAdapter","oTransientAdapter","oChosenAdapter","pickAdapter","oLoadedAdapter","loadAdapter","oContextContainer","bSupportsGetWithoutSubsequentLoad","supportsGetWithoutSubsequentLoad","load","isExpired","clearData","deleteContainer","_adjustScope","oPrior","_pendingContainerOperations_cancelAddNext","always","then","validity","delAdapterContainer","fail","error","done","catch","promisify","_pendingContainerOperations_flushAddNext","oPendingOpDeferred","get","put","state","clearTimeout","_sapTimeoutId","_sapFnSave","fnSave","_getBackendAdapter","_oBackendAdapter","resetEntirePersonalization","isResetEntirePersonalizationSupported","bIsSupported","Promise","hasNoAdapter"],"sources":["PersonalizationV2-dbg.js"],"mappings":"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","ignoreList":[]}