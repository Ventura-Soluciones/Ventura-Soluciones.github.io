// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils","sap/base/Log"],function(e,t){"use strict";function r(e,t,r,i,n){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=t;this._oPersonalizationService=e;this._oScope=i;this._oComponent=n;if(!r||!r.container||!r.item||typeof r.container!=="string"||typeof r.item!=="string"){throw new Error("Invalid input for oPersId: sap.ushell.services.Personalization")}this._sPersContainer=r.container;this._sPersItem=r.item}r.prototype._getContainer=function(e){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oPersonalizationService.getContainer(e,this._oScope,this._oComponent)}return this._oGetContainerPromise};r.prototype.getPersData=function(){return this._getContainer(this._sPersContainer).then(e=>e.getItemValue(this._sPersItem)).catch(e=>{t.error("Failed to get personalization data for Personalizer container: "+this._sPersContainer,e);return Promise.reject()})};r.prototype.setPersData=function(r){return this._getContainer(this._sPersContainer).then(t=>{t.setItemValue(this._sPersItem,r);return e.promisify(t.save())}).catch(e=>{t.error("Failed to get personalization data for Personalizer container: "+this._sPersContainer,e);return Promise.reject()})};r.prototype.deletePersData=function(){return this._getContainer(this._sPersContainer).then(t=>{t.deleteItem(this._sPersItem);return e.promisify(t.save())}).catch(e=>{t.error("Fail to delete Personalization data for Personalizer container: "+this._sPersContainer,e);return Promise.reject()})};return r});
//# sourceMappingURL=Personalizer.js.map