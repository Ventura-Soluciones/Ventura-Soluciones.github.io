{"version":3,"file":"SmartNavigation.js","names":["sap","ui","define","jQuery","utils","AppConfiguration","Log","UrlParsing","Container","SmartNavigation","oContainerInterface","sParameters","oServiceConfig","this","_oServiceConfig","_oCrossAppNavigationServicePromise","getServiceAsync","_oPersonalizationServicePromise","_oHashCodeCache","STATISTIC_COLLECTION_WINDOW_DAYS","PERS_CONTAINER_KEY_PREFIX","ONE_DAY_IN_MILLISECOND","prototype","getLinks","oArgs","oDeferred","Deferred","error","then","CrossApplicationNavigationService","oAllLinksPromise","_isTrackingEnabled","done","resolve","fail","reject","oCurrentApplication","getCurrentApplication","sFromCurrentShellHash","sShellHash","oAppComponent","componentHandle","getInstance","warning","oNavigationOccurrencesPromise","_getNavigationOccurrences","when","aLinks","aNavigationOccurrences","length","aPreparedLinks","_prepareLinksForSorting","sort","oLink","oOtherLink","clickCount","bind","catch","promise","toExternal","aArguments","arguments","apply","sDestinationShellHash","_getHashFromOArgs","target","_recordNavigationOccurrences","hrefForExternal","getService","hrefForExternalAsync","getPrimaryIntent","trackNavigation","debug","oTarget","oConfig","isDefined","config","isTrackingEnabled","_getHashCode","vAny","sAny","iHash","iLength","charCodeAt","_getBaseHashPart","sIntent","parseShellHash","semanticObject","action","shellHash","_getPersContainerKey","oComponent","sPersContainerKey","PersonalizationService","oContainerPromise","getContainer","keyCategory","constants","FIXED_KEY","writeFrequency","HIGH","clientStorageAllowed","oContainer","aItemKeys","getItemKeys","aItemsWithClickCount","map","sSemanticObject","oSemanticObjectHistoryEntry","getItemValue","aActions","Object","keys","actions","sAction","oAction","iAggregatedClickCount","dailyFrequency","reduce","aggregate","iPastNthDayUsageCount","intent","aFlattenedList","aEveryIntent","aSOSpecificIntentSet","Array","push","mNavigationOccurrences","forEach","oNavigationOccurrence","sBaseHashPart","oLinkNavigationOccurrence","sToDestinationShellHash","oTargetDestination","latestVisit","Date","now","oActionHistoryEntry","_updateHistoryEntryWithCurrentUsage","setItemValue","save","oHistoryEntry","iNow","iTimePassedSinceLastVisit","iDaysPassedSinceLastVisit","Math","floor","unshift","pop","hasNoAdapter"],"sources":["SmartNavigation-dbg.js"],"mappings":"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","ignoreList":[]}