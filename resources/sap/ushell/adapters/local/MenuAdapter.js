// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/i18n/Localization","sap/base/util/ObjectPath","sap/ushell/library","sap/ushell/Container"],function(e,t,n,r,i){"use strict";var a=r.ContentNodeType;var o=function(e,t,r){this._oAdapterConfig=n.get("config",r)};o.prototype.isMenuEnabled=function(){return Promise.resolve(!!this._oAdapterConfig.enabled)};o.prototype.getContentNodes=function(){var n=this._oAdapterConfig.menuData;if(!n){e.error("No menuData specified in the adapter configuration.",null,"sap.ushell.adapters.local.MenuAdapter");return Promise.reject(new Error("No menuData specified in the adapter configuration."))}if(typeof n==="object"){return Promise.resolve(n)}return fetch(n,{headers:{Accept:"application/json","Accept-Language":t.getLanguageTag().toString()}}).then(function(e){return e.json()}).catch(function(t){e.error("Menu entries were requested but could not be loaded from JSON file",t);return Promise.reject(new Error("Menu entries could not be fetched"))})};o.prototype.getMenuEntries=function(){return this.getContentNodes().then(function(e){return e.map(function(e){var t=e.children[0];var n=this._buildMenuEntry(e,e.id,t.id);if(e.children.length>1){n.menuEntries=e.children.map(function(t){return this._buildMenuEntry(t,e.id,t.id)}.bind(this))}return n}.bind(this))}.bind(this))};o.prototype.getMenuPersonalization=function(){return i.getServiceAsync("PersonalizationV2").then(async function(e){var t;t={container:"sap.ushell.menuPersonalization",item:"data"};var n={validity:"Infinity",keyCategory:e.KeyCategory.FIXED_KEY,writeFrequency:e.WriteFrequency.HIGH,clientStorageAllowed:false};const r=await e.getPersonalizer(t,n);return r.getPersData()})};o.prototype._buildMenuEntry=function(e,t,n){var r=e.type===a.Space?"Space-":"Page-";return{id:e.id,"help-id":r+e.id,title:e.label,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:t},{name:"pageId",value:n}]},isHomeEntry:false,menuEntries:[]}};return o});
//# sourceMappingURL=MenuAdapter.js.map