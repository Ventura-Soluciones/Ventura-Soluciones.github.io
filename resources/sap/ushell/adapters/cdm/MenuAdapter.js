// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/library","sap/ushell/Config","sap/ushell/Container"],function(e,t,n){"use strict";var r=e.ContentNodeType;var i=function(){};i.prototype.isMenuEnabled=function(){if(!t.last("/core/menu/enabled")){return Promise.resolve(false)}return n.getServiceAsync("CommonDataModel").then(function(e){return e.getMenuEntries("main").then(function(e){return e.length>0})})};i.prototype.getMenuEntries=function(){return n.getServiceAsync("CommonDataModel").then(function(e){return e.getMenuEntries("main")})};i.prototype.getContentNodes=function(){return this.getMenuEntries().then(this._normalizeMenuEntries.bind(this)).then(this._buildContentNodes.bind(this))};i.prototype._normalizeMenuEntries=function(e){var t=[];return n.getServiceAsync("CommonDataModel").then(function(n){e.forEach(function(e){if(this._isSpaceOrPage(e)&&e.menuEntries===undefined){var r=e.target.parameters.find(function(e){return e.name==="pageId"});var i=r&&r.value;e.menuEntries=[{title:i,type:"IBN",target:e.target}];t.push(n.getPage(i).then(function(t){e.menuEntries[0].title=t.identification.title}))}}.bind(this));return Promise.allSettled(t)}.bind(this)).then(function(){return e})};i.prototype._buildContentNodes=function(e){return e.filter(this._isSpaceOrPage).map(function(e){var t=e.target.parameters.find(function(e){return e.name==="spaceId"}).value;var n={id:t,label:e.title,type:r.Space,isContainer:false};n.children=e.menuEntries.filter(this._isSpaceOrPage).map(function(e){var t=e.target.parameters.find(function(e){return e.name==="pageId"});var n=t&&t.value;if(!n){return null}return{id:n,label:e.title,type:r.Page,isContainer:true,children:[]}}).filter(function(e){return!!e});return n}.bind(this))};i.prototype._isSpaceOrPage=function(e){return e.type==="IBN"&&e.target&&e.target.semanticObject==="Launchpad"&&e.target.action==="openFLPPage"&&Array.isArray(e.target.parameters)};return i});
//# sourceMappingURL=MenuAdapter.js.map