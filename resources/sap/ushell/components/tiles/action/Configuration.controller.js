// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/core/library","sap/m/MessageBox"],function(e,t,a,i,n){"use strict";var r=i.ValueState;return t.extend("sap.ushell.components.tiles.action.Configuration",{sEnterValuePlaceHolder:"",sDuplicateErrorMsg:"",sDuplicateErrorTitle:"",sInvalidParmMsg:"",aDefaultObjects:[{obj:"",name:""},{obj:"*",name:"*"}],onConfigurationInputChange:function(e){a.checkTMInput(this.getView(),e)},onInit:function(){var e=this.getView();var t=e.byId("semantic_objectInput");var i=e.byId("navigation_provider_roleInput");var n=e.byId("navigation_provider_instanceInput");var r=e.byId("target_application_aliasInput");var s=e.byId("semantic_actionInput");var l=e.byId("targetTypeInput");var o=a.getResourceBundleModel();e.setModel(o,"i18n");e.setViewName("sap.ushell.components.tiles.action.Configuration");a.createSemanticObjectModel(this,t,this.aDefaultObjects);a.createRoleModel(this,i,n);a.createAliasModel(this,r);a.createActionModel(this,s);a.createNavigationProviderModel(this,l);t.attachChange(function(t){var a=t.getSource().getValue();e.getModel().setProperty("/config/semantic_object",a)});i.attachChange(function(t){var i=t.getSource().getValue();e.getModel().setProperty("/config/navigation_provider_role",i);a.updateAliasModel(e,r)});n.attachChange(function(t){var a=t.getSource().getValue();e.getModel().setProperty("/config/navigation_provider_instance",a)});r.attachChange(function(t){var a=t.getSource().getValue();e.getModel().setProperty("/config/target_application_alias",a)});var c=o.getResourceBundle();this.sEnterValuePlaceHolder=c.getText("configuration.signature.table.valueFieldLbl");this.sDuplicateErrorMsg=c.getText("configuration.signature.uniqueParamMessage.text");this.sDuplicateErrorTitle=c.getText("configuration.signature.uniqueParamMessage.title");this.sInvalidParmMsg=c.getText("configuration.signature.invalidParamMessage.text")},handleMandatoryChange:function(t){var a=t.getParameter("id");var i=e.getElementById(a).getParent().getCells();var n=t.getParameter("selected");if(n){i[2].setEnabled(true);i[2].setPlaceholder(this.sEnterValuePlaceHolder);i[4].setEnabled(false);i[4].setValue("");i[4].setPlaceholder("");i[3].setEnabled(true)}else{i[2].setEnabled(false);i[2].setValue("");i[2].setPlaceholder("");i[4].setEnabled(true);i[4].setPlaceholder(this.sEnterValuePlaceHolder);i[3].setEnabled(false);i[3].setSelected(false)}},addRow:function(){var e=this.getView();var t=e.getModel();var i=t.getProperty("/config/rows");var n=a.getEmptyRowObj();i.push(n);t.setProperty("/config/rows",i)},deleteRow:function(){var e=this.getView();var t=e.getModel();var a=t.getProperty("/config/rows");var i=e.byId("mappingSignatureTable");var n=i.getSelectedIndices();var r=n.sort(function(e,t){return t-e}).slice();for(var s=0;s<r.length;s++){i.removeSelectionInterval(r[s],r[s]);a.splice(r[s],1)}t.setProperty("/config/rows",a)},checkDuplicateNames:function(t){var i=this.getView().getModel();var s=i.getProperty("/config/rows");var l=e.getElementById(t.getParameter("id"));var o=t.getParameter("newValue");if(o!==""&&!/^[\w-/]+$/.test(o)){l.setValueState(r.Error);n.alert(this.sInvalidParmMsg,this.focusNameField.bind(l),this.sDuplicateErrorTitle)}if(a.tableHasDuplicateParameterNames(s)){l.setValueState(r.Error);n.alert(this.sDuplicateErrorMsg,this.focusNameField.bind(l),this.sDuplicateErrorTitle)}else{l.setValueState(r.None)}},focusNameField:function(){this.focus()},onValueHelpRequest:function(e){a.objectSelectOnValueHelpRequest(this,e,false)},onActionValueHelpRequest:function(e){a.actionSelectOnValueHelpRequest(this,e)},onRoleValueHelpRequest:function(e){a.roleSelectOnValueHelpRequest(this,e)},onInstanceValueHelpRequest:function(e){a.instanceSelectOnValueHelpRequest(this,e)},instanceSuggest:function(e){a.instanceSuggest(this,e)},aliasSuggest:function(e){a.aliasSuggest(this,e)},onAliasValueHelpRequest:function(e){a.applicationAliasSelectOnValueHelpRequest(this,e)},onFormFactorChange:function(){var e=this.getView().getModel();e.setProperty("/config/formFactorConfigDefault",false)},onApplicationTypeChange:function(e){var t=e.getParameters();if(t.selectedItem){a.displayApplicationTypeFields(t.selectedItem.getKey(),this.getView())}}})});
//# sourceMappingURL=Configuration.controller.js.map