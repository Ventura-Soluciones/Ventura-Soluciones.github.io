//@ui5-bundle sap/ushell/components/shell/Settings/Component-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/Component", ["sap/ui/core/Element","sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/components/shell/Settings/userAccount/UserAccountEntry","sap/ushell/components/shell/Settings/appearance/AppearanceEntry","sap/ushell/components/shell/Settings/homepage/HomepageEntry","sap/ushell/components/shell/Settings/spaces/SpacesEntry","sap/ushell/components/shell/Settings/userActivities/UserActivitiesEntry","sap/ushell/components/shell/Settings/notifications/NotificationsEntry","sap/ushell/components/shell/Settings/userDefaults/UserDefaultsEntry","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/utils","sap/ushell/Container","sap/ushell/state/StateManager"],function(e,t,s,n,i,r,o,a,l,u,h,c,g,p,d,f,S){"use strict";const m=S.Operation;var y=[];return s.extend("sap.ushell.components.shell.Settings.Component",{metadata:{version:"1.136.1",library:"sap.ushell",dependencies:{libs:{"sap.m":{},"sap.ui.layout":{lazy:true}}}},init:function(){s.prototype.init.apply(this,arguments);var e=f.getRendererInternal("fiori2").getShellConfig();if(e.moveUserSettingsActionToShellHeader){this.oSettingsBtn=this._addUserSettingsButton()}this._addStandardEntityToConfig();this._addUserLanguageAndRegionSettings();if(n.last("/core/shell/model/enableNotifications")){this._addNotificationSettings()}y.push(i.on("openUserSettings").do(this._openUserSettings.bind(this)))},_updateUserPreferencesEntries:function(e){if(e){e=f.getRendererInternal("fiori2").reorderUserPrefEntries(e);n.emit("/core/userPreferences/entries",e)}},_addUserLanguageAndRegionSettings:function(){var e=f.getUser();e.getLanguageAndRegionSettingsEntry().then(function(e){var t=n.last("/core/userPreferences/entries");t.push(e.getEntry());this._updateUserPreferencesEntries(t)}.bind(this))},_addStandardEntityToConfig:function(){var e=n.last("/core/userPreferences/entries");e.push(o.getEntry());e.push(a.getEntry());if(u.isRelevant()){e.push(u.getEntry())}if(n.last("/core/shell/enableRecentActivity")){e.push(h.getEntry())}if(n.last("/core/shell/model/searchAvailable")){f.getFLPPlatform().then(function(t){if(t!=="MYHOME"){sap.ui.require(["sap/ushell/components/shell/Settings/search/SearchEntry"],function(t){t.getEntry().then(function(t){t.isActive().then(function(s){if(!s){return}d.setPerformanceMark("FLP -- search setting entry is set active");e=n.last("/core/userPreferences/entries");e.push(t);this._updateUserPreferencesEntries(e)}.bind(this))}.bind(this))}.bind(this))}}.bind(this))}if(n.last("/core/home/enableHomePageSettings")&&!n.last("/core/spaces/enabled")){e.push(l.getEntry())}if(n.last("/core/shell/model/userDefaultParameters")){e.push(g.getEntry())}e=f.getRendererInternal("fiori2").reorderUserPrefEntries(e);this._updateUserPreferencesEntries(e)},_addNotificationSettings:function(){f.getServiceAsync("NotificationsV2").then(function(e){e._userSettingInitialization();e._getNotificationSettingsAvailability().then(function(e){if(e.settingsAvailable){var t=n.last("/core/userPreferences/entries");t.push(c.getEntry());this._updateUserPreferencesEntries(t)}}.bind(this))}.bind(this)).catch(()=>{})},_openUserSettings:function(s){if(!this.oDialogPromise){this.oDialogPromise=t.create({id:"settingsView",viewName:"sap.ushell.components.shell.Settings.UserSettings"}).then(function(t){this.oSettingsView=t;var n=s.controlId||"shell-header";e.getElementById(n).addDependent(t);return t}.bind(this))}return this.oDialogPromise.then(function(e){e.getController().open(s?.targetEntryId)})},_addUserSettingsButton:function(){var e=new p({id:"userSettingsBtn",icon:"sap-icon://action-settings",text:r.i18n.getText("userSettings"),ariaHaspopup:"dialog",press:this._openUserSettings.bind(this)});S.updateAllBaseStates("userActions.items",m.Add,e.getId());return e},exit:function(){for(var e=0;e<y.length;e++){y[e].off()}if(this.oSettingsView){this.oSettingsView.destroy();this.oSettingsView=null;this.oDialogPromise=null}if(this.oSettingsBtn){this.oSettingsBtn.destroy();this.oSettingsBtn=null}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/ErrorMessageHelper", ["sap/ui/core/Messaging"],function(e){"use strict";var s="sapUshellSettingsDialog/";return{addMessage:t,filterMessagesToDisplay:a,removeErrorMessages:g};function t(t){t.setTargets([s]);e.addMessages(t)}function a(){return e.getMessageModel().getData().filter(function(e){return e.getTargets()&&e.getTargets().indexOf(s)===0})}function g(){e.getMessageModel().getData().forEach(function(t){if(t.getTargets()&&t.getTargets().indexOf(s)===0){e.removeMessages(t)}})}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/UserSettings.controller", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/components/shell/Settings/ErrorMessageHelper","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/base/Object","sap/base/util/deepClone","sap/ushell/Container"],function(e,t,n,s,r,i,o,a,l,u,d,c,g,f,h,p){"use strict";return n.extend("sap.ushell.components.shell.Settings.UserSettings",{onInit:function(){const e=this.getView();this._aPreviouslySelectedItems=[];e.byId("userSettingEntryList").addEventDelegate({onAfterRendering:this._listAfterRendering.bind(this)});this._mLoadedEntryContent=new Map;this._mLoadedWrappers=new Map;e.setModel(new r({}));e.setModel(l.i18nModel,"i18n");e.setModel(new r({entries:{}}),"results");i.orientation.attachHandler(this._fnOrientationChange,this);this._oSelectedItemOnMobile=null;this._oConfigDoable=o.on("/core/userPreferences/entries").do(this._processNewEntries.bind(this))},_fnOrientationChange:function(){var e=this.getView().byId("settingsApp");this._updateHeaderButtonVisibility(e.isMasterShown())},_formatDescription:function(e,t,n){if(t.length>1){return""}return n[e].valueResult||""},_processNewEntries:function(e){var t=this.getView();var n=t.getModel("results");e.forEach(function(e){var t=n.getProperty("/entries/"+e.id);if(!t){n.setProperty("/entries/"+e.id,{valueResult:null,contentResult:null})}this._setEntryValueResult(e.id)}.bind(this));var s=t.getModel();var r=t.byId("userSettingEntryList");var o=r.getSelectedItem();if(!i.system.phone&&!o){o=r.getItems()[0]}if(o){var a=o.getBindingContext().getObject();this._aPreviouslySelectedItems=a.tabs.map(function(e){return e.id})}s.setProperty("/entries",this._calculateEntryGroups(e));t.byId("userSettingEntryList").invalidate()},_calculateEntryGroups:function(e){var t=[];var n=new Map;var s=this.getView().getModel("results");e.forEach(function(e){if(e.visible===false){var r=s.getProperty("/entries/"+e.id+"/contentResult");if(r){this.getView().byId("settingsApp").removeDetailPage(r);s.setProperty("/entries/"+e.id+"/contentResult",null)}var i=a.last("UserSettingsOpened")||{};delete i[e.id];a.emit("UserSettingsOpened",i);return}if(e.groupingEnablement){s.setProperty("/entries/"+e.id+"/contentResult",null);var o=n.get(e.groupingId);if(o||o===0){t[o].tabs.push(e);return}n.set(e.groupingId,t.length)}e.tabs=[e];t.push(e)}.bind(this));return t},_afterClose:function(){if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("userActionsMenuHeaderButton").focus()}},open:function(e){const t=this.byId("userSettingsDialog");if(e){this.sTargetEntryId=e}t.open()},_listAfterRendering:function(){var e=this.getView();var t=e.byId("userSettingEntryList");var n=t.getItems();var s;var r;n.forEach(function(e){var t=e.getBindingContext().getObject();this._setEntryValueResult(t.id);r=t?.tabs?.find(e=>e.id===this.sTargetEntryId)?.id;if(t.id===this.sTargetEntryId||r){s=e;this.sTargetEntryId=null}}.bind(this));if(!i.system.phone){if(!s&&this._aPreviouslySelectedItems){for(var o=0;o<this._aPreviouslySelectedItems.length;o++){for(var a=0;a<n.length;a++){var l=n[a];if(l.getBindingContext().getObject().id===this._aPreviouslySelectedItems[o]){t.setSelectedItem(l);this._toDetail(l,r);l.focus();return}}}}s=s||n[0];if(s){t.setSelectedItem(s);this._toDetail(s,r);s.focus()}}},_setEntryValueResult:function(t){var n;var s=this.getView().getModel("results");var r=o.last("/core/userPreferences/entries");var i=r.findIndex(function(e){return e.id===t});if(i===-1){return Promise.resolve()}return Promise.resolve().then(function(){var a=r[i].title;var u=r[i].valueArgument;if(typeof u!=="function"){var d=s.getProperty("/entries/"+t+"/valueResult");if(d!==null&&d!==undefined){return d}return u}n=h(s.getProperty("/entries"));n[t].valueResult=l.i18n.getText("genericLoading");s.setProperty("/entries",n);return Promise.resolve().then(u).then(function(e){if(typeof e!=="object"){return e}if(e&&e.value!==undefined){r=o.last("/core/userPreferences/entries");i=r.findIndex(function(e){return e.id===t});if(i>-1){r[i].visible=!!e.value;o.emit("/core/userPreferences/entries",r)}}return e.displayText}).catch(function(t){e.error("Can not load value for "+a+" entry",t);return l.i18n.getText("loadingErrorMessage")})}).then(function(e){n=h(s.getProperty("/entries"));n[t].valueResult=e||"";s.setProperty("/entries",n)})},_navBackButtonPressHandler:function(){var e=this.getView().byId("settingsApp");e.backDetail();this._updateHeaderButtonVisibility(true)},_navToggleButtonPressHandler:function(){var e=this.getView().byId("settingsApp");var t=e.isMasterShown();if(t){e.hideMaster()}else{e.showMaster()}this._updateHeaderButtonVisibility(!t)},_updateHeaderButtonVisibility:function(e){if(i.system.phone){var t=this.getView().byId("userSettingsNavBackButton");t.setVisible(!e)}else{var n=this.getView().byId("userSettingsMenuButton");if(i.orientation.portrait){n.setVisible(true);n.setPressed(e);n.setTooltip(l.i18n.getText(e?"ToggleButtonHide":"ToggleButtonShow"))}else{n.setVisible(false)}}},_afterMasterClose:function(){this._updateHeaderButtonVisibility(false)},_onSelectionChange:function(e){this._toDetail(e.getSource().getSelectedItem())},_toDetail:function(e,t){var n=this.getView();var s=n.getModel();var r=n.getModel("results");var a=n.byId("settingsApp");var l=e.getBindingContextPath();var u=s.getProperty(l);var d=u.id;var c=r.getProperty("/entries/"+d+"/contentResult");if(u.tabs){this._aPreviouslySelectedItems=u.tabs.map(function(e){return e.id})}else{this._aPreviouslySelectedItems=[d]}if(i.system.phone){this._oSelectedItemOnMobile=e;e.setSelected(false)}if(c){this._navToDetail(c,n);var g=u.tabs.map(function(e){return e.id}).join("-");var f=this._mLoadedWrappers.get(g);if(f){f.then(function(e){var n=e.getContent()[1];if(t){n.setSelectedKey(t)}var s=n.getSelectedKey();var r=n.getItems();var i=r.findIndex(function(e){return e.getId()===s});if(i===-1){i=0}this._emitEntryOpened(u.tabs[i].id)}.bind(this));return Promise.resolve()}}if(i.system.phone){a.setBusy(true)}else{this._navToBusyPage()}return Promise.all([this._createContentWrapper(u),this._createEntryContent(u)]).then(function(s){var i=s[0];var l=s[1];var c=o.last("/core/userPreferences/entries");var g=c.some(function(e){return e.id===d&&e.visible!==false});var f=n.byId("userSettingEntryList");var h=f.getSelectedItem()||this._oSelectedItemOnMobile;var p=e===h;if(!g){if(p){if(a.getMode()==="ShowHideMode"){a.showMaster();this._updateHeaderButtonVisibility(true)}else{this._toDetail(h||f.getItems()[0])}}return}a.addDetailPage(i);if(u.tabs.length>1){i.getContent()[1].getItems()[0].addContent(l)}else{i.addContent(l)}var v=i.getId();r.setProperty("/entries/"+d+"/contentResult",v);if(t){var y=i.getContent()?.[1];y?.setSelectedKey(t)}if(p){this._navToDetail(v,n);this._emitEntryOpened(d)}return i.getId()}.bind(this))},_createEntryContent:function(e){if(!this._mLoadedEntryContent.get(e.id)){if(typeof e.contentFunc==="function"){this._mLoadedEntryContent.set(e.id,new Promise(function(t){e.contentFunc().then(function(e){if(f.isObjectA(e,"sap.ui.core.Control")){t(e)}else{this._createErrorContent(l.i18n.getText("loadingErrorMessage")).then(t)}}.bind(this)).catch(function(){this._createErrorContent(l.i18n.getText("loadingErrorMessage")).then(t)}.bind(this))}.bind(this)))}else{this._mLoadedEntryContent.set(e.id,this._createErrorContent(l.i18n.getText("userSettings.noContent")))}}return this._mLoadedEntryContent.get(e.id)},_createContentWrapper:function(e){var n=e.tabs.map(function(e){return e.id});var i=n.join("-");if(!this._mLoadedWrappers.get(i)){this._mLoadedWrappers.set(i,s.load({name:"sap.ushell.components.shell.Settings.ContentWrapper",controller:{onTabSelected:function(n){var s=t.getElementById(n.getParameter("id"));var r=n.getParameter("item");var i=s.indexOfItem(r);var o=e.tabs[i];this._emitEntryOpened(o.id);this._createEntryContent(o).then(function(e){r.addContent(e)})}.bind(this)}}).then(function(t){t.setModel(new r({title:e.title,showHeader:!e.provideEmptyWrapper,tabs:e.tabs}),"entryInfo");return t}))}return this._mLoadedWrappers.get(i).then(function(t){var n=t.getContent()[1];var s=n.getSelectedKey();var r=n.getItems().findIndex(function(e){return e.getId()===s});if(r>-1){var i=e.tabs[r];this._emitEntryOpened(i.id)}return t}.bind(this))},_createErrorContent:function(e){return s.load({name:"sap.ushell.components.shell.Settings.ErrorContent"}).then(function(t){t.setModel(new r({errorMessage:e}));return t})},_navToBusyPage:function(){var e=this.getView();this._navToDetail(e.createId("userSettingBusyPage"),e)},_navToDetail:function(e,t){var n=t.byId("settingsApp");n.setBusy(false);n.toDetail(e);if(n.getMode()==="ShowHideMode"){n.hideMaster();this._updateHeaderButtonVisibility(false)}},_emitEntryOpened:function(e){var t=a.last("UserSettingsOpened")||{};t[e]=true;a.emit("UserSettingsOpened",t)},updateUserPreferences:function(){e.debug("[000] updateUserPreferences: ","UserSettings.controller");if(this._updateUserPreferencesPromise){return this._updateUserPreferencesPromise}var t,n;this._updateUserPreferencesPromise=new Promise(function(e,s){t=e;n=s});this._updateUserPreferencesPromise.sendRequest=function(){p.getServiceAsync("UserInfo").then(function(s){e.debug("[000] updateUserPreferences: sendRequest","UserSettings.controller");s.updateUserPreferences().done(t).fail(n).always(function(){e.debug("[000] updateUserPreferences: sendRequest: _updateUserPreferencesPromise","UserSettings.controller");this._updateUserPreferencesPromise=null}.bind(this))}.bind(this))}.bind(this);return this._updateUserPreferencesPromise},_maybeReload:function(t){var n=false;var s=false;var r=false;var i=[];var o=[];t.forEach(function(e){if(e&&e.clearSapUserContextCookie){s=true}if(e&&e.refresh){n=true}if(e&&e.noHash){r=true}if(e&&e.urlParams&&e.urlParams.length>0){i=i.concat(e.urlParams)}if(e&&e.obsoleteUrlParams&&e.obsoleteUrlParams.length>0){o=o.concat(e.obsoleteUrlParams)}});if(n){e.debug("[000]refresh browser with Parameters:",JSON.stringify(i),"UserSettings.controller");if(s){u.clearSapUserContextCookie()}if(r){window.location=window.location.href.replace(window.location.hash,"")}else{u.refreshBrowser(i,o)}return true}},_handleSaveButtonPress:function(){d.removeErrorMessages();var t=this.getView().byId("userSettingsDialog");var n=o.last("/core/userPreferences/entries");var s=a.last("UserSettingsOpened")||{};if(Object.keys(s).length===0){this._handleSettingsDialogClose();this._showSuccessMessageToast();return Promise.resolve()}t.setBusy(true);var r=n.reduce(function(t,n){if(s[n.id]){e.debug("[000] _handleSaveButtonPress: oEntry.id: ",n.id,"UserSettings.controller");t.push(this._executeEntrySave(n))}return t}.bind(this),[]);e.debug("[000] _handleSaveButtonPress:_updateUserPreferencesPromise",this._updateUserPreferencesPromise,"UserSettings.controller");if(this._updateUserPreferencesPromise){this._updateUserPreferencesPromise.sendRequest()}return Promise.all(r).then(function(n){e.debug("[000] _handleSaveButtonPress: then save aResults",JSON.stringify(n),"UserSettings.controller");var s=d.filterMessagesToDisplay();var r={};var i="";var o="";t.setBusy(false);this._handleSettingsDialogClose();if(s.length>0){r=s[0];i=r.getDescription();a.emit("UserSettingsOpened",null);s.forEach(function(e){o+="Entry: "+e.getAdditionalText()+" - Error message: "+e.getDescription()+"\n"});e.error("Failed to save the following entries",o);if(this._maybeReload(n)){return}return p.getServiceAsync("MessageInternal").then(function(e){e.init();e.show(e.Type.ERROR,l.i18n.getText("userSettings.SavingError.SomeChanges"),{details:i})})}this._showSuccessMessageToast();a.emit("UserSettingsOpened",null);this._maybeReload(n)}.bind(this))},_executeEntrySave:function(t){var n,s;function r(e){return e||{}}function i(n){e.debug("[000] _onError: errorInformation",JSON.stringify(n),"UserSettings.controller");var s;var r=t.id;var i=t.title;if(!n){s=l.i18n.getText("userSettings.SavingError.Undefined")}else if(typeof n==="string"){s=n}else if(Array.isArray(n)){n.forEach(function(e){e.setAdditionalText(i);e.setTechnicalDetails({pluginId:r});d.addMessage(e)});return}else if(f.isObjectA(n,"sap.ui.core.message.Message")){n.setAdditionalText(i);n.setTechnicalDetails({pluginId:r});d.addMessage(n);return}else{s=l.i18n.getText("userSettings.SavingError.WithMessage",[n.message])}d.addMessage(new c({type:g.Error,additionalText:i,technicalDetails:{pluginId:r},description:s,message:s}))}try{e.debug("[000] onSave: oEntry.id: "+t.id,"UserSettings.controller");this._isExecuteEntrySavedInUserSettingsController=true;n=t.onSave(this.updateUserPreferences.bind(this))}catch(e){return i(e)}if(n){if(n.promise){e.warning("jQuery.promise is used to save "+t.title+" settings entry.\n"+"The using of jQuery.promise for onSave is deprecated. Please use the native promise instead.");s=new Promise(function(e){n.done(function(t){e(r(t))}).fail(function(t){e(i(t))})})}else{s=n.then(r).catch(i)}}else{s=Promise.resolve();e.warning(t.title+" settings might not be saved correctly, it seems like the API contract is not correctly fullfilled.\n"+"Please contact the owner of the setting.")}return s},_showSuccessMessageToast:function(){sap.ui.require(["sap/m/MessageToast"],function(e){var t=l.i18n.getText("savedChanges");e.show(t,{offset:"0 -50"})})},_handleCancel:function(){var t=o.last("/core/userPreferences/entries");var n=a.last("UserSettingsOpened")||{};if(n){t.forEach(function(t){if(n[t.id]&&t.onCancel){try{t.onCancel()}catch(t){e.error("Failed to cancel the following entries",t)}}})}a.emit("UserSettingsOpened",null);this._handleSettingsDialogClose()},_handleSettingsDialogClose:function(){p.getUser().resetChangedProperties();if(i.system.phone){this.getView().byId("settingsApp").toMaster("settingsView--userSettingMaster")}this.getView().byId("userSettingsMessagePopoverBtn").setVisible(false);this.getView().byId("userSettingsDialog").close()},onExit:function(){this._oConfigDoable.off();i.orientation.detachHandler(this._fnOrientationChange,this)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/appearance/Appearance.controller", ["sap/base/Log","sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/Theming","sap/ui/core/EventBus","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/m/GroupHeaderListItem","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/User","sap/ushell/services/DarkModeSupport","sap/ushell/Container"],function(e,t,o,n,i,s,r,a,c,h,jQuery,d,l,u,g,p,f,m){"use strict";return a.extend("sap.ushell.components.shell.Settings.appearance.Appearance",{TILE_SIZE:{Small:0,Responsive:1,getName:function(e){return Object.keys(this)[e]}},onInit:function(){const e=this.getView();this.oUser=m.getUser();const t=e.getViewData();this.aThemeListFromServer=t.themeList||[];this.aThemeSets=t.themeSets||[];this.sThemeRoot=t.themeRoot;this.oPersonalizers={};const o=g.getTranslationModel();e.setModel(o,"i18n");e.setModel(this.getConfigurationModel(),"config");this._oDarkModeModel=this.getDarkModeModel(this.aThemeListFromServer);e.setModel(this._oDarkModeModel,"darkMode");e.setModel(new h({options:this._getThemeListData(this.oUser.getTheme()),ariaTexts:{headerLabel:g.i18n.getText("Appearance")},deprecatedThemeSelected:this.bShowDeprecationMsg}));this._fnHandleThemeApplied=this._handleThemeApplied.bind(this);n.attachApplied(this._fnHandleThemeApplied)},onExit:function(){n.detachApplied(this._fnHandleThemeApplied)},onAvatarError:function(e){e.oSource.getBindingContext()?.setProperty("avatar","")},getThemeSetHeader:function(e){const t=this.aThemeSets.find(t=>e.key===t.id);const o=t?.label||g.i18n.getText("AppearanceIndividualThemes");return new d({title:o})},_getSelectedThemeData:function(){const e=this.getView().byId("themeList").getSelectedItem();return e?.getBindingContext()?.getProperty?.()},_getSelectedTheme:function(){return this._getSelectedThemeData()?.id||this.oUser.getTheme()},_getThemeListData:function(e){const t=this.aThemeListFromServer||[];const o=this.aThemeSets||[];const n=[];const i=this.sThemeRoot;function s(e){return o.filter(t=>!!t.set.themes?.find?.(t=>t?.id===e))}function r(e){if(i&&e?.avatarRuntimeUrl){return i+e.avatarRuntimeUrl}return undefined}this.bShowDeprecationMsg=false;if(!this._isThemeCofigurable()||this.oUser.isSetThemePermitted()===false){const o=t.find(t=>t?.id===e);return[{id:e,name:o?.name||e,icon:"sap-icon://palette",avatar:r(o),mode:"InlineSvg",deprecated:false,isSelected:true}]}t.forEach(e=>{const t=s(e?.id);if(t.length===0){t.push({})}t.forEach(t=>{const o=t?.set?.themes?.find?.(t=>t.id===e?.id);const i={id:e?.id,name:e?.name||e?.id||"",contrast:o?.contrast,colorScheme:o?.colorScheme,icon:"sap-icon://palette",avatar:r(e),mode:"Image",deprecated:e?.deprecated===true,setId:t.id,isSelected:false};n.push(i)})});if(this._areSetsVisible()){const e=g.i18n.getText("AppearanceAutomaticSelection");o.forEach(t=>{const o={id:t.id,name:e,icon:"sap-icon://sys-monitor",avatar:r(t),mode:"InlineSvg",deprecated:t.deprecated===true,setId:t.id,isSelected:false};n.push(o)})}const a=this.oUser.getThemeSet();let c;if(a){c=n.find(t=>t.id===e&&t.setId===a)}if(!c){c=n.find(t=>t.id===e)}if(this._isDarkModeActive()&&c?.setId){const e=n.find(e=>e.id===c.setId);if(e){c=e}}if(c){c.isSelected=true;this.bShowDeprecationMsg=c.deprecated}return n},_isThemeCofigurable:function(){return l.last("/core/shell/model/setTheme")!==false},getConfigurationModel:function(){const e=l.last("/core/shell/model/contentDensity")&&(c.system.desktop||c.system.combi);const t=l.last("/core/home/sizeBehaviorConfigurable");const o=l.last("/core/contentProviders/providerInfo/enabled")&&l.last("/core/contentProviders/providerInfo/userConfigurable");const n=l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");const i=t||e||o;const s=new h({themeConfigurable:this._isThemeCofigurable(),sizeBehaviorConfigurable:t,tileSize:this.TILE_SIZE[l.last("/core/home/sizeBehavior")],contentDensityConfigurable:e,isCozyContentMode:document.body.classList.contains("sapUiSizeCozy"),textAlign:c.system.phone?"Left":"Right",showContentProviderInfoOnVisualizationsConfigurable:o,showContentProviderInfoOnVisualizationsSelected:n,displaySettingsTabVisible:i});return s},getDarkModeModel:function(){const e=new URLSearchParams(window.location.search);const t=!e.get("sap-theme")&&!e.get("sap-ui-theme");const o=this._isThemeCofigurable();const n=new h({enabled:o,detectionSupported:o&&t,detectionEnabled:o&&t&&this.oUser.getDetectDarkMode()});return n},onAfterRendering:function(){var e=this.getView().getModel("config").getProperty("/themeConfigurable");var t=this.getView().byId("themeList");t.toggleStyleClass("sapUshellThemeListDisabled",!e)},_handleThemeApplied:function(){var e=this.getView().getModel("config");if(e){var t=this._getThemeListData(this.oUser.getTheme());const e=this.getView().getModel();e.setProperty("/options",t);e.setProperty("/deprecatedThemeSelected",this.bShowDeprecationMsg)}},onCancel:function(){var e=this.getView().getModel("config");if(e.getProperty("/themeConfigurable")){var t=this.oUser.getTheme();var o=this.getView().getModel().getProperty("/options");o.forEach(function(e){e.isSelected=t===e.id});this.getView().getModel().setProperty("/options",o)}if(e.getProperty("/showContentProviderInfoOnVisualizationsConfigurable")){e.setProperty("/showContentProviderInfoOnVisualizationsSelected",l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations"))}if(e.getProperty("/contentDensityConfigurable")){e.setProperty("/isCozyContentMode",this.oUser.getContentDensity()==="cozy")}if(e.getProperty("/sizeBehaviorConfigurable")){e.setProperty("/tileSize",this.TILE_SIZE[l.last("/core/home/sizeBehavior")])}if(this._oDarkModeModel&&this._oDarkModeModel.getProperty("/enabled")){this._oDarkModeModel.setProperty("/detectionEnabled",this.oUser.getDetectDarkMode());this.oUser.resetChangedProperty("detectDarkMode")}},onSave:function(e){this._updateUserPreferences=e;var o=this.getView().getModel("config");var n=[];if(o.getProperty("/themeConfigurable")){n.push(this.onSaveThemes().then(function(){u.emit("themeChanged",Date.now())}))}if(o.getProperty("/showContentProviderInfoOnVisualizationsConfigurable")){n.push(this.onSaveShowContentProviderInfoOnVisualizations())}if(o.getProperty("/contentDensityConfigurable")){n.push(this.onSaveContentDensity())}if(o.getProperty("/sizeBehaviorConfigurable")){n.push(this.onSaveTileSize())}if(this._oDarkModeModel&&this._oDarkModeModel.getProperty("/enabled")){n.push(this.onSaveDarkModeEnabled())}return Promise.all(n).then(function(e){var o=[];e.forEach(function(e){if(e&&t.isObjectA(e,"sap.ui.core.message.Message")){o.push(e)}});return o.length>0?Promise.reject(o):Promise.resolve()})},onSaveThemesSuccess:function(e){e.resetChangedProperty("theme");e.resetChangedProperty("themeSet");return this._applyDarkMode()},onSaveThemes:function(){const t=this._getSelectedThemeData();let o=t?.id;const n=t?.setId;const i=this.oUser;const a=i.getTheme(p.prototype.constants.themeFormat.ORIGINAL_THEME);const c=i.getThemeSet();const h=(this.aThemeSets||[]).find(e=>e.id===o);if(h){const e=f.prototype.prefersDark()?"DARK":"LIGHT";const t=f.prototype.prefersContrast()?"HIGH":"LOW";const n=h.set.themes.find(o=>o.colorScheme===e&&o.contrast===t);o=n?.id||h.set.themes[0].id}this._oDarkModeModel.setProperty("/detectionEnabled",!!h);let d=false;if(o&&o!==a){i.setTheme(o);d=true}if(n!==c){i.setThemeSet(n);d=true}if(d){return this._updateUserPreferences(i).then(function(){return this.onSaveThemesSuccess(i)}.bind(this)).catch(function(t){if(!t.includes("THEME")){return this.onSaveThemesSuccess(i)}i.setTheme(a);i.resetChangedProperty("theme");i.setThemeSet(c);i.resetChangedProperty("themeSet");e.error("Can not save selected theme",t);throw new s({type:r.Error,description:t})}.bind(this))}return Promise.resolve()},_onSaveContentDensitySuccess:function(e){var t=this.oUser;t.resetChangedProperty("contentDensity");i.getInstance().publish("launchpad","toggleContentDensity",{contentDensity:e});u.emit("toggleContentDensity",{contentDensity:e});return new Promise(function(e){u.once("toggleContentDensity").do(function(){e()})})},onSaveContentDensity:function(){var t=this.getView().getModel("config");var o=this.oUser;var n=t.getProperty("/isCozyContentMode")?"cozy":"compact";var i=o.getContentDensity();e.debug("[000] onSaveContentDensity","Appearance.controller");if(n!==i&&t.getProperty("/contentDensityConfigurable")){o.setContentDensity(n);e.debug("[000] onSaveContentDensity: sNewContentDensity",n,"Appearance.controller");return this._updateUserPreferences(o).then(function(){return this._onSaveContentDensitySuccess(n)}.bind(this)).catch(function(t){if(!t.includes("CONTENT_DENSITY")){return this._onSaveContentDensitySuccess()}o.setContentDensity(i);o.resetChangedProperty("contentDensity");e.error("Can not save content density configuration",t);throw new s({type:r.Error,message:t})}.bind(this))}return Promise.resolve()},onSaveTileSize:function(){var t=this.getView().getModel("config");var o=this.TILE_SIZE.getName(t.getProperty("/tileSize"));var n=l.last("/core/home/sizeBehavior");if(o&&o!==n&&t.getProperty("/sizeBehaviorConfigurable")){return new Promise(function(t,n){this.writeToPersonalization("flp.settings.FlpSettings","sizeBehavior",o).done(function(){l.emit("/core/home/sizeBehavior",o);var e=document.getElementsByClassName(".sapUshellTile");for(var n=0;n<e.length;n++){e[n].classList.toggle("sapUshellSmall",o!=="Responsive")}t()}).fail(function(t,o){e.error("Cannot save tile size configuration",t);var i=new s({type:r.Error,description:t,message:o.message.value,date:o.innererror.timestamp,httpStatus:o.httpStatus});n(i)})}.bind(this))}return Promise.resolve()},onSaveDarkModeEnabledSuccess:async function(e,t){e.resetChangedProperty("detectDarkMode");const o=await m.getServiceAsync("DarkModeSupport");o.toggleDetection(!!t)},onSaveDarkModeEnabled:function(){var t=this._oDarkModeModel.getProperty("/detectionEnabled");var o=this.oUser.getDetectDarkMode();var n=this.oUser;if(t!==o){e.debug("[000] onSaveDarkModeEnabled: setDetectDarkModeEnabled",t,"Appearance.controller");n.setDetectDarkMode(t);return this._updateUserPreferences(this.oUser).then(function(){return this.onSaveDarkModeEnabledSuccess(n,t)}.bind(this)).catch(function(i){if(!i.includes("THEME_DARKMODE_AUTO_DETECTION")){return this.onSaveDarkModeEnabledSuccess(n,t)}n.setDetectDarkMode(o);n.resetChangedProperty("detectDarkMode");e.error("Can not save dark mode configuration",i);throw new s({message:i})}.bind(this))}return Promise.resolve()},onSaveShowContentProviderInfoOnVisualizations:function(){var t=l.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");var o=this.getView().getModel("config").getProperty("/showContentProviderInfoOnVisualizationsSelected");if(o===t){return Promise.resolve()}return new Promise(function(t,n){this.writeToPersonalization("flp.settings.FlpSettings","showContentProviderInfoOnVisualizations",o).done(function(){l.emit("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations",o);t()}).fail(function(t,o){e.error("Cannot save system info on tiles configuration",t);var i=new s({type:r.Error,description:t,message:o.message.value,date:o.innererror.timestamp,httpStatus:o.httpStatus});n(i)})}.bind(this))},writeToPersonalization:function(t,o,n){return jQuery.when(this.getPersonalizer(t,o).then(function(e){return e.setPersData(n)})).catch(function(t){e.error("Personalization service does not work:");e.error(t.name+": "+t.message)})},getPersonalizer:function(e,t){var n=e+"-"+t;if(this.oPersonalizers[n]){return Promise.resolve(this.oPersonalizers[n])}return m.getServiceAsync("Personalization").then(function(i){var s=o.getOwnerComponentFor(this.getView());var r={keyCategory:i.constants.keyCategory.FIXED_KEY,writeFrequency:i.constants.writeFrequency.LOW,clientStorageAllowed:true};if(!this.oPersonalizers[n]){this.oPersonalizers[n]=i.getPersonalizer({container:e,item:t},r,s)}return this.oPersonalizers[n]}.bind(this))},_applyDarkMode:async function(){if(this._areSetsVisible()){const e=await m.getServiceAsync("DarkModeSupport");e.toggleDetection(this._isDarkModeActive())}},_isDarkModeActive:function(){const e=this._oDarkModeModel.getProperty("/");return e.enabled&&e.detectionSupported&&e.detectionEnabled},_areSetsVisible:function(){const e=this._oDarkModeModel.getProperty("/");return e.enabled&&e.detectionSupported},changeSystemModeDetection:function(){const e=this.getView().getModel();e.setProperty("/options",this._getThemeListData(this._getSelectedTheme()));e.setProperty("/deprecatedThemeSelected",this.bShowDeprecationMsg);this.getView().invalidate()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/appearance/AppearanceEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources","sap/ushell/Container"],function(e,n,t,r){"use strict";let o;function i(){if(o){return Promise.resolve(o)}return r.getServiceAsync("UserInfo").then(function(e){return new Promise(function(t){e.getThemeList().done(function(e){o=e;t(o)}).fail(function(){n.error("Failed to load theme list.");t({})})})})}function s(){var o;var s={id:"themes",entryHelpID:"themes",title:t.i18n.getText("Appearance"),valueResult:null,contentResult:null,icon:"sap-icon://palette",valueArgument:function(){return i().then(function(e){const n=e?.options||[];const t=r.getUser().getTheme();const o=n.find(e=>e?.id===t);return o?.name||""})},contentFunc:function(){return i().then(function(n){return e.create({id:"userPrefThemeSelector",viewName:"sap.ushell.components.shell.Settings.appearance.Appearance",viewData:{themeList:n?.options||[],themeSets:n?.sets||[],themeRoot:n?.themeRoot}})}).then(function(e){o=e;return e})},onSave:function(e){if(o){return o.getController().onSave(e)}n.warning("Save operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(o){o.getController().onCancel();return}n.warning("Cancel operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized")}};return s}return{getEntry:s}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/homepage/HomepageEntry", ["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/resources","sap/ushell/Container"],function(e,t,n,o,a,r,s){"use strict";var i={scroll:0,tabs:1,getName:function(e){return Object.keys(this)[e]}};return{getEntry:function(){var l;return{id:"homepageEntry",entryHelpID:"homepageEntry",title:r.i18n.getText("FlpSettings_entry_title"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:null,contentFunc:function(){var s;return o.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings").then(function(e){s=e;return t.create({id:"UserSettingsHomepageSettingsView",viewName:"sap.ushell.components.shell.Settings.homepage.HomepageSetting"})}).then(function(e){l=e;l.setModel(new n({displayMode:i[s]||i.scroll,personalisationEnabled:a.last("/core/shell/enablePersonalization")}));l.setModel(r.getTranslationModel(),"i18n");return l}).catch(function(t){e.error("Failed to get effective hompage setting.",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");return Promise.reject()})},onSave:function(){if(l){var t=l.getModel().getProperty("/displayMode"),n=i.getName(t),r=s.getRendererInternal("fiori2");return o.getPersonalizer("homePageGroupDisplay",r).then(function(e){return e.setPersData(n)}).then(function(){a.emit("/core/home/homePageGroupDisplay",n)}).catch(function(t){e.error("Failed to save the anchor bar mode in personalization",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");return Promise.reject(t)})}e.warning("Save operation for user account settings was not executed, because the homepage view was not initialized");return Promise.resolve()},onCancel:function(){if(l){return}e.warning("Cancel operation for user account settings was not executed, because the homepage view was not initialized")},provideEmptyWrapper:false}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/notifications/NotificationsEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources"],function(n,t,e,i){"use strict";function o(){var e="notificationsSetting",o="sap.ushell.components.shell.Settings.notifications.NotificationsSetting",s;return{id:"notificationsEntry",entryHelpID:"notificationsEntry",title:i.i18n.getText("notificationSettingsEntry_title"),valueResult:null,contentResult:null,icon:"sap-icon://bell",valueArgument:null,contentFunc:function(){return n.create({id:e,viewName:o}).then(function(n){s=n;return n})},onSave:function(){if(s){return s.getController().onSave()}t.warning("Save operation for user account settings was not executed, because the notifications view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}t.warning("Cancel operation for user account settings was not executed, because the notifications view was not initialized")}}}return{getEntry:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/notifications/NotificationsSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/base/Log","sap/ushell/resources","sap/base/util/deepClone","sap/ushell/Container"],function(e,t,i,o,r,n,s){"use strict";return e.extend("sap.ushell.components.shell.Settings.notifications.NotificationsSetting",{onInit:function(){this._oModel=new t({rows:[],originalRows:[]});var e=this.getView(),i;e.setBusy(true);e.setModel(r.getTranslationModel(),"i18n");s.getServiceAsync("NotificationsV2").then(function(t){this._oNotificationService=t;this._initializeFlags();t.readSettings().then(function(e){i=JSON.parse(e);this._oModel.setProperty("/rows",i.value);this._oModel.setProperty("/originalRows",n(i.value))}.bind(this)).finally(function(){e.setBusy(false);e.setModel(this._oModel)}.bind(this))}.bind(this))},onAfterRendering:function(){var e=this._oModel.getProperty("/flags"),t=this._oModel.getProperty("/rows");if(t!==undefined){this._oModel.setProperty("/originalRows",n(t))}if(e!==undefined){this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e.highPriorityBannerEnabled)}},onCancel:function(){var e=this._oModel.getProperty("/originalFlags"),t=this._oModel.getProperty("/originalRows");this._oModel.setProperty("/flags/highPriorityBannerEnabled",e.highPriorityBannerEnabled);this._oModel.setProperty("/rows",n(t));this._oModel.setProperty("/originalFlags",{});this._oModel.setProperty("/originalRows",[])},onSave:function(){var e=this._oModel.getProperty("/rows"),t=this._oModel.getProperty("/originalRows"),i,r,n=[],s=[];for(var a=0;a<e.length;a++){i=e[a];r=t[a];if(this._notficationSettingsDiffer(i,r)){n.push(i)}}if(this._flagsHaveChanged()){this._handleFlagsSave()}n.forEach(function(e){s.push(this._oNotificationService.saveSettingsEntry(e))}.bind(this));return Promise.all(s).catch(e=>{o.error("Failed to save the notification settings in the notifivation service.",e,"sap.ushell.components.ushell.settings.notifications.NotificationsSetting");throw e})},_flagsHaveChanged:function(){return this._oModel.getProperty("/flags/highPriorityBannerEnabled")!==this._oModel.getProperty("/originalFlags/highPriorityBannerEnabled")},_handleFlagsSave:function(){var e=this._oModel.getProperty("/flags/highPriorityBannerEnabled");this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e);this._oNotificationService.setUserSettingsFlags({highPriorityBannerEnabled:e})},_notficationSettingsDiffer:function(e,t){return e.NotificationTypeId!==t.NotificationTypeId||e.PriorityDefault!==t.PriorityDefault||e.DoNotDeliver!==t.DoNotDeliver||e.DoNotDeliverMob!==t.DoNotDeliverMob||e.DoNotDeliverEmail!==t.DoNotDeliverEmail},onSelectMobile:function(e){var t=e.getSource().getBindingContext().getPath();this._oModel.setProperty(t+"/DoNotDeliverMob",!e.getParameter("selected"))},onSelectEmail:function(e){var t=e.getSource().getBindingContext().getPath();this._oModel.setProperty(t+"/DoNotDeliverEmail",!e.getParameter("selected"))},onSelectHighPriority:function(e){var t=e.getSource().getBindingContext().getPath();if(e.getParameter("selected")){this._oModel.setProperty(t+"/PriorityDefault","HIGH")}else{this._oModel.setProperty(t+"/PriorityDefault","")}},onEnableSwitchChange:function(e){var t=e.getParameter("state"),i=e.getSource().getBindingContext().getPath();this._oModel.setProperty(i+"/DoNotDeliver",!t);this._oModel.setProperty(i+"/DoNotDeliverMob",true);this._oModel.setProperty(i+"/DoNotDeliverEmail",true);this._oModel.setProperty(i+"/PriorityDefault","")},_initializeFlags:function(){var e=this._oNotificationService.getUserSettingsFlags(),t=this._oNotificationService._getNotificationSettingsMobileSupport(),i=this._oNotificationService._getNotificationSettingsEmailSupport();e.then(function(e){this._oModel.setProperty("/flags",{});this._oModel.setProperty("/flags/highPriorityBannerEnabled",e.highPriorityBannerEnabled);this._oModel.setProperty("/flags/mobileNotificationsEnabled",t);this._oModel.setProperty("/flags/emailNotificationsEnabled",i);this._oModel.setProperty("/originalFlags",{});this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e.highPriorityBannerEnabled)}.bind(this))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/search/Search.controller", ["sap/ui/core/mvc/View","sap/ui/core/mvc/Controller"],function(e,n){"use strict";return n.extend("sap.ushell.components.shell.Settings.search.Search",{onInit:function(){this._loadContent()},_loadContent:function(){var n=this.getView().byId("searchContent");e.create({id:"searchPrefsDialogView",viewName:"module:sap/esh/search/ui/userpref/SearchPrefsDialog.view"}).then(function(e){n.addItem(e)})},onCancel:function(){this.oView.getModel().cancelPreferences()},onSave:function(){return this.oView.getModel().savePreferences()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/search/SearchEntry", ["sap/base/Log","sap/ui/core/Lib","sap/ui/core/mvc/XMLView","sap/ushell/resources"],function(e,n,r,t){"use strict";var i=null;function s(){if(i){return i}i=n.load("sap.esh.search.ui").then(function(){return new Promise(function(e,n){sap.ui.require(["sap/esh/search/ui/userpref/SearchPrefsModel","sap/esh/search/ui/SearchShellHelperAndModuleLoader"],function(n,r){e(new n)})})});return i}function a(){return s().then(function(n){var i;var s={id:"search",entryHelpID:"search",title:t.i18n.getText("searchSetting"),valueResult:null,contentResult:null,icon:"sap-icon://search",isActive:n.isSearchPrefsActive.bind(n),valueArgument:function(){return n.isMultiProvider().then(function(e){if(e){return{value:1,displayText:""}}return n.isPersonalizedSearchActive().then(function(e){return{value:1,displayText:e?t.i18n.getText("sp.persSearchOn"):t.i18n.getText("sp.persSearchOff")}})})},contentFunc:function(){return n.asyncInit().then(function(){return r.create({id:"searchView",viewName:"sap.ushell.components.shell.Settings.search.Search"})}).then(function(e){e.setModel(n);i=e;return e})},onSave:function(){if(i){return i.getController().onSave()}e.warning("Save operation for search settings was not executed, because the search view was not initialized");return Promise.resolve()},onCancel:function(){if(i){i.getController().onCancel();return}e.warning("Cancel operation for search settings was not executed, because the search view was not initialized")},provideEmptyWrapper:false};return s})}return{getEntry:a}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/spaces/SpacesEntry", ["sap/base/Log","sap/ui/core/mvc/View","sap/ushell/resources","sap/ushell/Config","sap/ushell/utils","sap/ushell/Container"],function(e,n,t,s,r,a){"use strict";function i(){return a.getServiceAsync("UserInfo").then(function(e){var n=e.getUser().getShowMyHome();return t.i18n.getText(n?"settingsMyHomeShown":"settingsMyHomeHidden")})}function o(){var e=s.last("/core/spaces/enabled")&&s.last("/core/spaces/myHome/enabled")&&!s.last("/core/homeApp/enabled");return e?i:null}return{isRelevant:function(){if(s.last("/core/spaces/configurable")){return true}if(s.last("/core/spaces/enabled")){if(s.last("/core/spaces/hideEmptySpaces/enabled")){return true}var e=s.last("/core/spaces/myHome/enabled");var n=s.last("/core/homeApp/enabled");if(e&&!n){return true}}return false},getEntry:function(){var s;return{id:"spacesEntry",entryHelpID:"spaces",title:t.i18n.getText("spaces"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:o(),contentFunc:function(){return Promise.all([a.getServiceAsync("UserInfo"),r.getHideEmptySpacesEnabled()]).then(function(e){var t=e[0];return n.create({id:"UserSettingsSpacesSettingsView",viewName:"sap.ushell.components.shell.Settings.spaces.SpacesSetting",type:"XML",viewData:{UserInfo:t}})}).then(function(e){s=e;return s})},onSave:function(n){if(s){return s.getController().onSave(n)}e.warning("Save operation for user account settings was not executed, because the spaces view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}e.warning("Cancel operation for user account settings was not executed, because the spaces view was not initialized")},provideEmptyWrapper:false,_setViewInstance:function(e){s=e},_getViewInstance:function(){return s}}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/spaces/SpacesSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/resources","sap/ushell/utils","sap/base/Log"],function(e,s,t,r,o,a,n){"use strict";return e.extend("sap.ushell.components.shell.Settings.spaces.SpacesSetting",{onInit:function(){var e=this.getView().getViewData();this.oUserInfoService=e.UserInfo;var a=this.oUserInfoService.getUser();var n=r.last("/core/spaces/enabled");var i=r.last("/core/homeApp/enabled");var p=r.last("/core/spaces/myHome/enabled");var l=n&&p&&!i;var c=a.getShowMyHome();var d=a.getImportBookmarksFlag();var m=d!=="done"&&d!=="not_required";var h=new s({spaces:{visible:r.last("/core/spaces/configurable"),selected:n},hideEmptySpaces:{visible:n&&r.last("/core/spaces/hideEmptySpaces/enabled"),selected:r.last("/core/spaces/hideEmptySpaces/userEnabled")},showMyHome:{visible:l,selected:c},showMyHomeImport:{visible:l&&c&&m,selected:d==="pending"}});this.getView().setModel(h);this.getView().setModel(o.getTranslationModel(),"i18n");this.oImportBookmarksFlagListener=t.on("importBookmarksFlag").do(this._setMyHomeImportSelected.bind(this))},_setMyHomeImportSelected:function(e){var s=this.getView().getModel();s.setProperty("/showMyHomeImport/selected",e)},onExit:function(){this.oImportBookmarksFlagListener.off()},onSave:function(e){var s=false;var o=false;var i=[];var p=this.getView().getModel();var l=this.oUserInfoService;var c=l.getUser();var d=r.last("/core/spaces/enabled");var m=p.getProperty("/spaces/selected");var h=r.last("/core/spaces/hideEmptySpaces/userEnabled");var g=p.getProperty("/hideEmptySpaces/selected");var y=c.getShowMyHome();var u=p.getProperty("/showMyHome/selected");var v=c.getImportBookmarksFlag()==="pending";var f=p.getProperty("/showMyHomeImport/selected");if(d!==m){c.setChangedProperties({propertyName:"spacesEnabled",name:"SPACES_ENABLEMENT"},d,m);o=true;s=true}if(y!==u){c.setShowMyHome(u);o=true;s=true}if(v!==f){var E=f?"pending":"dismissed";c.setImportBookmarksFlag(E);o=true;if(!s){t.emit("importBookmarksFlag",f)}}if(h!==g){var M=a.setHideEmptySpacesEnabled(g).catch(function(e){p.setProperty("/hideEmptySpaces/selected",h);return Promise.reject(e)});i.push(M)}if(!o&&!i.length){return Promise.resolve()}n.debug("[000] SpacesSetting.controller.save");if(o){var S=new Promise(function(s,t){e().then(function(){c.resetChangedProperty("spacesEnabled");c.resetChangedProperty("showMyHome");c.resetChangedProperty("importBookmarks");s()}).catch(function(e){if(!e.includes("SPACES_ENABLEMENT")&&!e.includes("MYHOME_ENABLEMENT")&&!e.includes("MYHOME_IMPORT_FROM_CLASSIC")){c.resetChangedProperty("spacesEnabled");c.resetChangedProperty("showMyHome");c.resetChangedProperty("importBookmarks");s()}else{p.setProperty("/spaces/selected",d);p.setProperty("/showMyHome/selected",y);c.resetChangedProperty("spacesEnabled");c.resetChangedProperty("showMyHome");c.resetChangedProperty("importBookmarks");t(e)}})});i.push(S)}return Promise.all(i).then(function(){return{refresh:s,noHash:true}})},onCancel:function(){var e=this.getView().getModel();e.setProperty("/spaces/selected",r.last("/core/spaces/enabled"));e.setProperty("/showMyHome/selected",this.oUserInfoService.getUser().getShowMyHome());e.setProperty("/hideEmptySpaces/selected",r.last("/core/spaces/hideEmptySpaces/userEnabled"))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userAccount/UserAccountEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/ushell/Container"],function(e,n,t,r,o){"use strict";function u(){var u=o.getRendererInternal("fiori2").getShellConfig(),c=u.enableUserImgConsent;var s=c?"userAccountSelector":"userAccountSetting";var a=c?"sap.ushell.components.shell.Settings.userAccount.UserAccountSelector":"sap.ushell.components.shell.Settings.userAccount.UserAccountSetting";var i=t.last("/core/shell/model/userImage/account")||"sap-icon://account";var l;var g={id:"userAccountEntry",entryHelpID:"userAccountEntry",title:r.i18n.getText("UserAccountFld"),valueResult:null,contentResult:null,icon:i,valueArgument:o.getUser().getFullName(),provideEmptyWrapper:true,contentFunc:function(){return e.create({id:s,viewName:a}).then(function(e){l=e;return e})},onSave:function(e){if(l){return l.getController().onSave(e)}n.warning("Save operation for user account settings was not executed, because the userAccount view was not initialized");return Promise.resolve()},onCancel:function(){if(l){l.getController().onCancel();return}n.warning("Cancel operation for user account settings was not executed, because the userAccount view was not initialized")}};return g}return{getEntry:u}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userAccount/UserAccountSelector.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/m/MessageBox","sap/m/MessageToast","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/Container"],function(e,t,n,s,o,i,r,a,l,g){"use strict";return e.extend("sap.ushell.components.shell.Settings.userAccount.UserAccountSelector",{onInit:function(){var e=g.getRendererInternal("fiori2").getShellConfig(),t=e.enableUserImgConsent;this.imgConsentEnabled=t||false;this.oUser=g.getUser();var i=o.getTranslationModel();var r=this.getConfigurationModel();this.getView().setModel(i,"i18n");this.getView().setModel(r,"config");this.oUser.attachOnSetImage(function(){r.setProperty("/icon",s.last("/core/shell/model/userImage/personPlaceHolder"))});g.getServiceAsync("PersonalizationV2").then(function(e){return e.isResetEntirePersonalizationSupported().then(function(e){if(!e){r.setProperty("/isResetPersonalizationVisible",false)}})}).catch(function(e){n.error("The personalization service could not be loaded because of: ."+e.toString())})},getConfigurationModel:function(){var e=new t({}),n=g.getUser(),o=s.last("/core/shell/model/userImage/personPlaceHolder")||"sap-icon://person-placeholder";e.setData({icon:o,name:n.getFullName(),id:n.getId(),mail:n.getEmail(),server:window.location.host,imgConsentEnabled:this.imgConsentEnabled,isImageConsentForUser:n.getImageConsent(),isResetPersonalizationVisible:this.isResetPersonalizationVisible||true,displayUserId:s.last("/core/userSettings/displayUserId")});return e},onCancel:function(){if(this.imgConsentEnabled){this.getView().getModel("config").setProperty("/isImageConsentForUser",this.oUser.getImageConsent())}},onSave:function(e){if(this.imgConsentEnabled){return this.onSaveUserImgConsent(e)}return Promise.resolve()},onSaveUserImgConsent:function(e){var t=this.oUser,s=t.getImageConsent(),o=this.getView().getModel("config"),i=o.getProperty("/isImageConsentForUser"),r;n.debug("[000] onSaveUserImgConsent:current",i,"UserAccountSelector.controller");n.debug("[000] onSaveUserImgConsent:original",s,"UserAccountSelector.controller");if(s!==i){t.setImageConsent(i);return new Promise(function(i,a){r=e();r.then(function(){t.resetChangedProperty("isImageConsent");i()});r.catch(function(e){if(!e.includes("ISIMAGECONSENT")){t.resetChangedProperty("isImageConsent");i()}else{t.setImageConsent(s);t.resetChangedProperty("isImageConsent");o.setProperty("/isImageConsentForUser",s);n.error(e);a(e)}})})}return Promise.resolve()},termsOfUserPress:function(){var e=this.getView().byId("termsOfUseTextFlexBox"),t=this.getView().byId("termsOfUseLink"),n=e.getVisible();e.setVisible(!n);t.setText(o.i18n.getText(n?"userImageConsentDialogShowTermsOfUse":"userImageConsentDialogHideTermsOfUse"))},showMessageBoxWarningDeletePersonalization:function(){i.warning(o.i18n.getText("userAccountResetPersonalizationWarningDialogDescription"),{onClose:this.resetEntirePersonalization.bind(this),actions:[i.Action.OK,i.Action.CANCEL],contentWidth:"600px"})},resetEntirePersonalization:function(e){if(e===i.Action.OK){this.getView().setBusy(true);g.getServiceAsync("PersonalizationV2").then(function(e){return e.resetEntirePersonalization().then(function(){r.show(o.i18n.getText("userAccountResetPersonalizationWarningDialogSuccessToast"),{onClose:l.refreshBrowser})}).catch(this.showErrorMessageBox.bind(this))}.bind(this)).catch(this.showErrorMessageBox.bind(this)).finally(function(){this.getView().setBusy(false)}.bind(this))}},showErrorMessageBox:function(){i.error(o.i18n.getText("userAccountResetPersonalizationWarningDialogErrorDialog"),{actions:i.Action.CLOSE,contentWidth:"600px"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userActivities/UserActivitiesEntry", ["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources"],function(e,t,i){"use strict";function n(){var n="userActivitiesSetting",r="sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting",s;return{id:"userActivitiesEntry",entryHelpID:"userActivitiesEntry",title:i.i18n.getText("userActivities"),valueResult:null,contentResult:null,icon:"sap-icon://laptop",valueArgument:null,groupingEnablement:true,groupingId:"userActivities",groupingTabHelpId:"userActivitiesEntryTab",groupingTabTitle:i.i18n.getText("userActivitiesTabName"),contentFunc:function(){return e.create({id:n,viewName:r}).then(function(e){s=e;return e})},onSave:function(){if(s){return s.getController().onSave()}t.warning("Save operation for user account settings was not executed, because the userActivities view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}t.warning("Cancel operation for user account settings was not executed, because the userActivities view was not initialized")}}}return{getEntry:n}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userActivities/UserActivitiesSetting.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/base/Log","sap/ushell/resources","sap/ushell/Container"],function(e,t,i,s,n,o,r){"use strict";return e.extend("sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting",{onInit:function(){var e=s.last("/core/shell/model/enableTrackingActivity")!==undefined?s.last("/core/shell/model/enableTrackingActivity"):true;this.oModel=new t({checkboxIsChecked:e});this.getView().setModel(this.oModel);this.getView().setModel(o.getTranslationModel(),"i18n")},onCancel:function(){var e=s.last("/core/shell/model/enableTrackingActivity")!==undefined?s.last("/core/shell/model/enableTrackingActivity"):true;this.oModel.setProperty("/checkboxIsChecked",e)},onSave:function(){if(s.last("/core/shell/model/enableTrackingActivity")!==this.oModel.getProperty("/checkboxIsChecked")){return this._setTrackingToEnabled(this.oModel.getProperty("/checkboxIsChecked"))}return Promise.resolve()},_setTrackingToEnabled:function(e){return i.getPersonalizer("userActivitesTracking",r.getRendererInternal("fiori2")).then(function(t){return t.setPersData(e)}).then(function(){s.emit("/core/shell/model/enableTrackingActivity",e)}).catch(function(e){n.error("Failed to save the user activities tracking in personalization",e,"sap.ushell.components.ushell.settings.userActivities.UserActivitiesSetting");return Promise.reject(e)})},onClearHistory:function(){r.getServiceAsync("UserRecents").then(function(e){e.clearRecentActivities();this._showClearHistoryMessageToast()}.bind(this))},_showClearHistoryMessageToast:function(){sap.ui.require(["sap/m/MessageToast"],function(e){var t=o.i18n.getText("historyCleared");e.show(t,{width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"})})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],function(t,n){"use strict";return n.extend("sap.ushell.components.shell.Settings.userDefaults.Component",{metadata:{manifest:"json"},init:function(){n.prototype.init.apply(this,arguments)},onSave:function(){return this.getRootControl().getController().onSave()},onCancel:function(){this.getRootControl().getController().onCancel()},exit:function(){}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/UserDefaultsEntry", ["sap/base/Log","sap/ui/core/ComponentContainer","sap/ushell/resources","sap/ushell/Container"],function(e,n,t,r){"use strict";return{getEntry:function(){var a;return{id:"userDefaultEntry",entryHelpID:"defaultParameters",title:t.i18n.getText("defaultsValuesEntry"),valueArgument:function(){var e=r.getServiceAsync("UserDefaultParameters");var n=r.getServiceAsync("ClientSideTargetResolution");var t=r.getServiceAsync("CommonDataModel").then(function(e){return e.getContentProviderIds()}).catch(function(){return[""]});return Promise.all([e,n,t]).then(function(e){var n=e[0];var t=e[1];var r=e[2].length>0?e[2]:[""];return Promise.all(r.map(function(e){return t.getSystemContext(e).then(function(e){return n.hasRelevantMaintainableParameters(e)})}))}).then(function(e){return{value:e.includes(true)}})},contentFunc:function(){return new Promise(function(e,t){a=new n("defaultParametersSelector",{name:"sap.ushell.components.shell.Settings.userDefaults",manifest:true,async:true});e(a)})},onSave:function(){if(a&&a.getComponentInstance()){return a.getComponentInstance().onSave()}e.warning("Save operation for user defaults settings was not executed, because the user default component was not initialized");return Promise.resolve()},onCancel:function(){if(a&&a.getComponentInstance()){a.getComponentInstance().onCancel();return}e.warning("Cancel operation for user defaults settings was not executed, because the user default component was not initialized")},defaultVisibility:false}}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/UserDefaultsForm", ["sap/base/util/deepExtend","sap/ui/comp/smartform/ColumnLayout","sap/ui/comp/smartform/SmartForm","sap/ui/core/Control"],function(e,t,r,o){"use strict";var a=["sap.ui.comp.smartfield.SmartField","sap.m.Input"];var n=o.extend("sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm",{metadata:{properties:{persistencyKey:{type:"string"}},aggregations:{_smartForm:{type:"sap.ui.comp.smartform.SmartForm",multiple:false,visibility:"hidden"}},events:{}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.openEnd();e.renderControl(t.getAggregation("_smartForm"));e.close("div")}}});n.prototype.init=function(){const e=new r({editable:true});const o=new t({columnsM:1,columnsL:1,columnsXL:1});e.setLayout(o);this.setAggregation("_smartForm",e)};n.prototype.fetchVariant=function(){var e,t;var r=this.getAggregation("_smartForm").getModel("MdlParameter");return this._getFieldControls().reduce(function(o,a){e=a.getName();o[e]={value:r.getProperty("/"+e+"/valueObject/value/")};t=r.getProperty("/"+e+"/valueObject/extendedValue/");if(t){o[e].additionalValues=t}return o},{})};n.prototype.applyVariant=function(t){if(t){var r=this.getAggregation("_smartForm").getModel("MdlParameter"),o=this._getFieldControls(),a,n;for(var i=0;i<o.length;i++){a=o[i].getName();if(t[a]!==undefined){if(o[i].getDataType&&o[i].getDataType()==="Edm.DateTime"){o[i].setValue(new Date(t[a].value))}else{o[i].setValue(t[a].value)}n=r.getProperty("/"+a+"/valueObject/");n.extendedValue=undefined;if(t[a].additionalValues){n=e(n,{extendedValue:t[a].additionalValues})}r.setProperty("/"+a+"/valueObject",n)}}}};n.prototype._getFieldControls=function(){return this.getControlsByFieldGroupId("UserDefaults").filter(function(e){var t=e.getMetadata().getName();return a.indexOf(t)!==-1})};n.prototype.addGroup=function(e){this.getAggregation("_smartForm").addGroup(e)};n.prototype.getGroups=function(){return this.getAggregation("_smartForm").getGroups()};n.prototype.removeGroup=function(e){this.getAggregation("_smartForm").removeGroup(e)};n.prototype.removeAllGroups=function(){this.getAggregation("_smartForm").removeAllGroups()};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/controller/ExtendedValueDialog.controller", ["sap/m/Token","sap/ui/comp/library","sap/ui/model/json/JSONModel","sap/ui/core/Fragment"],function(e,t,a,o){"use strict";var n=t.valuehelpdialog.ValueHelpRangeOperation;var r=function(){};r.prototype.openDialog=function(e,t){o.load({id:"ExtendedValueDialogFragment",name:"sap.ushell.components.shell.Settings.userDefaults.view.ExtendedValueDialog",controller:this}).then(function(o){var n="/"+e.parameterName+"/valueObject/extendedValue/Ranges",r=e.modelBind.extendedModel,i=r.getProperty(n)||[],l,p;if(e.modelBind.isOdata){p=this._getMetadataNameSpace(e.editorMetadata.editorInfo.odataURL);var d=e.modelBind.model.getMetaModel().getODataEntityType(p+"."+e.editorMetadata.editorInfo.entityName);if(d){l=e.modelBind.model.getMetaModel().getODataProperty(d,e.editorMetadata.editorInfo.propertyName)["sap:label"]}}var s={label:e.editorMetadata.displayText||l||e.parameterName,key:e.modelBind.sPropertyName,parameterName:e.parameterName};o.setModel(new a(s));o.setIncludeRangeOperations(this.getListOfSupportedRangeOperations());o.setTokens(this.getTokensToValueHelpDialog(i,e.parameterName));o.setRangeKeyFields([{label:s.label,key:e.parameterName}]);o.attachOk(function(e){t(e);e.getSource().close()});o.open()}.bind(this))};r.prototype.closeValueHelp=function(e){e.getSource().close(e)};r.prototype.afterCloseValueHelp=function(e){e.getSource().destroy()};r.prototype._getMetadataNameSpace=function(e){var t=e.split("/"),a;a=t[t.length-1];return a};r.prototype.getListOfSupportedRangeOperations=function(){var e=Object.keys(n);return e.filter(function(e){return e!=="StartsWith"&&e!=="EndsWith"&&e!=="Initial"})};r.prototype.getTokensToValueHelpDialog=function(t,a){var o=[],n;t.forEach(function(t){if(t){n={};n.exclude=t.Sign==="E";n.keyField=a;n.operation=t.Option!=="CP"?t.Option:"Contains";n.value1=t.Low;n.value2=t.High;o.push(new e({}).data("range",n))}});return o};return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userDefaults/controller/UserDefaultsSetting.controller", ["sap/base/Log","sap/base/i18n/Localization","sap/base/util/deepExtend","sap/base/util/deepEqual","sap/m/Button","sap/m/Input","sap/m/library","sap/ui/core/mvc/Controller","sap/ui/comp/smartfield/SmartField","sap/ui/comp/smartfield/SmartLabel","sap/ui/comp/smartform/Group","sap/ui/comp/smartform/GroupElement","sap/ui/comp/smartvariants/PersonalizableInfo","sap/ui/core/Title","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ushell/resources","sap/m/MessageBox","./ExtendedValueDialog.controller","sap/ushell/Container"],function(e,t,a,r,i,n,s,o,d,l,u,m,h,c,f,p,v,g,y,P){"use strict";var M=s.ButtonType;function b(e,t){if(!(t.editorMetadata&&t.editorMetadata.groupId)){return-1}if(!(e.editorMetadata&&e.editorMetadata.groupId)){return 1}if(e.editorMetadata.groupId<t.editorMetadata.groupId){return-1}if(e.editorMetadata.groupId>t.editorMetadata.groupId){return 1}return 0}function S(e,t){if(!(t.editorMetadata&&t.editorMetadata.parameterIndex)){return-1}if(!(e.editorMetadata&&e.editorMetadata.parameterIndex)){return 1}return e.editorMetadata.parameterIndex-t.editorMetadata.parameterIndex}function D(e,t){var a=b(e,t);if(a===0){return S(e,t)}return a}return o.extend("sap.ushell.components.shell.Settings.userDefaults.controller.UserDefaultsSetting",{onInit:function(){this.oModelRecords={};this.aChangedParamsNames=[];this.oBlockedParameters={};this.aDisplayedUserDefaults=[];this.oDirtyStateModel=new f({isDirty:false,selectedVariant:null});this.getView().setModel(this.oDirtyStateModel,"DirtyState");this.oOriginalParameters={};var t=this.getView();t.setBusy(true);t.setModel(v.getTranslationModel(),"i18n");this.getSystemContextsModel().then(function(e){t.setModel(e,"systemContexts");return this._fillGroups()}.bind(this)).then(this._saveIsSupportedPlatform.bind(this)).then(this._initializeSmartVariantManagement.bind(this)).then(function(){t.setBusy(false)}).catch(function(a){e.error("Error during UserDefaultsSetting controller initialization",a,"sap.ushell.components.shell.Settings.userDefaults.UserDefaultsSetting");t.setBusy(false)})},getSystemContextsModel:function(){var e=new f({systemContexts:[],selectedKey:""});var t=this._getContentProviderIds();var a=P.getServiceAsync("ClientSideTargetResolution");var r=P.getServiceAsync("UserDefaultParameters");return Promise.all([t,a,r]).then(function(t){var a=t[0];var r=t[1];var i=t[2];if(a.length===0){a.push("")}return Promise.all(a.map(function(t){return r.getSystemContext(t).then(function(t){var a=e.getProperty("/systemContexts");return i.hasRelevantMaintainableParameters(t).then(function(e){if(e){a.push(t)}})})})).then(function(){var t=e.getProperty("/systemContexts");if(t.length>0){e.setProperty("/selectedKey",t[0].id)}return e})})},_getContentProviderIds:function(){return P.getServiceAsync("CommonDataModel").then(function(e){return e.getContentProviderIds()}).catch(function(){return[""]})},handleSystemContextChanged:function(){if(this.oDirtyStateModel.getProperty("/isDirty")){var e=v.i18n.getText("userDefaultsSave");var t=v.i18n.getText("userDefaultsDiscard");g.show(v.i18n.getText("userDefaultsUnsavedChangesMessage"),{title:v.i18n.getText("userDefaultsUnsavedChangesTitle"),actions:[e,t,g.Action.CANCEL],emphasizedAction:e,icon:g.Icon.QUESTION,onClose:function(a){if(a===t){this._fillGroups();this._setDirtyState(false)}else if(a===e){this.onSave();this._fillGroups();this._setDirtyState(false)}else{this.getView().getModel("systemContexts").setProperty("/selectedKey",this.sLastSelectedKey)}}.bind(this)})}else{this._fillGroups()}},_fillGroups:async function(){var e=this.getView().byId("userDefaultsForm");e.removeAllGroups();var t=this.getView().getModel("systemContexts").getProperty("/selectedKey");var r=this.getView().getModel("systemContexts").getProperty("/systemContexts").find(function(e){return e.id===t});const i=await P.getServiceAsync("UserDefaultParameters");const n=await i.editorGetParameters(r);this.oOriginalParameters=a({},n);this.oModel=new f(n);this.oModel.setDefaultBindingMode("TwoWay");this.getView().setModel(this.oModel,"MdlParameter");const s=await this._getFormattedParameters(this.oModel);var o=this._createContent(s);o.forEach(function(t){e.addGroup(t)})},_getFormattedParameters:function(t){var r=t.getData("/");var i=Object.keys(r).map(function(i){var n=a({},r[i]);n.parameterName=i;n.editorMetadata=n.editorMetadata||{};if(n.editorMetadata.editorInfo&&n.editorMetadata.editorInfo.propertyName){return this._createOdataModelBinding(n,t).then(function(e){n.modelBind=e;var t=e.model?e.model.getMetaModel():undefined;if(t){return t.loaded().then(function(){var e=t.getObject("/dataServices/schema/0/namespace");var a=t.getODataEntityType(e+"."+n.editorMetadata.editorInfo.entityName);var r=a.property.find(function(e){if(e.name===n.editorMetadata.editorInfo.propertyName){return true}});switch(r.type){case"Edm.DateTime":n.valueObject.value=n.valueObject.value?new Date(n.valueObject.value):null;break;default:n.valueObject.value=n.valueObject.value?n.valueObject.value:"";break}return n})}n.valueObject=a({value:""},n.valueObject);return n}).catch(function(){e.error("Metadata loading for parameter "+n.parameterName+" failed"+JSON.stringify(n.editorMetadata));n.valueObject=a({value:""},n.valueObject);n.modelBind=this._createPlainModelBinding(n,t);this.oBlockedParameters[n.parameterName]=false;return Promise.resolve(n)}.bind(this))}n.valueObject=a({value:""},n.valueObject);n.modelBind=this._createPlainModelBinding(n,t);return Promise.resolve(n)}.bind(this));return Promise.all(i).then(function(e){e.sort(D);this.aDisplayedUserDefaults=e;e.forEach(function(e){e.modelBind.model.setProperty(e.modelBind.sFullPropertyPath,e.valueObject.value);e.modelBind.model.bindTree(e.modelBind.sFullPropertyPath).attachChange(this.storeChangedData.bind(this))}.bind(this));return e}.bind(this))},_createPlainModelBinding:function(e,t){var a="/"+e.parameterName+"/valueObject/value";if(!t.getProperty("/"+e.parameterName+"/valueObject")){t.setProperty("/"+e.parameterName+"/valueObject",{})}var r={isOdata:false,model:t,extendedModel:t,sFullPropertyPath:a,sPropertyName:"{"+a+"}"};return r},_createOdataModelBinding:function(e,t){var a=e.editorMetadata.editorInfo;var r=this._getODataServiceData(a.odataURL,e);return r.metadataLoaded.then(function(){var e={isOdata:true,model:r.model,extendedModel:t,sPropertyName:"{"+a.propertyName+"}",sFullPropertyPath:a.bindingPath+"/"+a.propertyName};return e})},_getODataServiceData:function(e,a){if(!this.oModelRecords[e]){var r=new p(e,{metadataUrlParams:{"sap-documentation":"heading,quickinfo","sap-value-list":"none","sap-lang-cachebuster":t.getLanguageTag().toString()},json:true});r.setDefaultCountMode("None");r.setDefaultBindingMode("TwoWay");this.oModelRecords[e]={attachedListeners:[],model:r,metadataLoaded:new Promise(function(e,t){r.attachMetadataLoaded(e);r.attachMetadataFailed(t)})}}if(this.oModelRecords[e].attachedListeners.indexOf(a.parameterName)===-1){this.oModelRecords[e].attachedListeners.push(a.parameterName);this.oModelRecords[e].model.attachRequestCompleted(this._overrideOdataModelValue.bind(this,a));this.oBlockedParameters[a.parameterName]=true}return this.oModelRecords[e]},_overrideOdataModelValue:function(e,t){var a=t.getSource();var r="/"+t.getParameter("url").replace(/\?.*/,"");if(e.editorMetadata.editorInfo.bindingPath===r){var i=e.editorMetadata.editorInfo.bindingPath+"/"+e.editorMetadata.editorInfo.propertyName;if(a.getProperty(i)!==e.valueObject.value){a.setProperty(i,e.valueObject.value)}this.oBlockedParameters[e.parameterName]=false}},_createContent:function(e){let t="nevermore";let a;const r={};const i=[];for(var n=0;n<e.length;++n){const d=e[n];const l=d.modelBind;if(t!==d.editorMetadata.groupId){a=new u({title:new c({text:d.editorMetadata.groupTitle||undefined})});t=d.editorMetadata.groupId;i.push(a)}const m=this._createGroupElement(d);m.setModel(l.model);if(l.isOdata){var s=d.editorMetadata.editorInfo.odataURL;if(!r[s]){var o=d.editorMetadata.editorInfo.bindingPath;m.bindElement(o);r[s]=d.modelBind.model.getContext(o)}else{m.setBindingContext(r[s])}}a.addGroupElement(m)}return i},_createGroupElement:function(e){let t;const a=new l({});const r=new i({text:"{i18n>userDefaultsExtendedParametersTitle}",tooltip:"{i18n>userDefaultsExtendedParametersTooltip}",visible:!!e.editorMetadata.extendedUsage,type:{parts:[`MdlParameter>/${e.parameterName}/valueObject/extendedValue/Ranges`],formatter:e=>e&&e.length?M.Emphasized:M.Transparent},press:t=>{y.openDialog(e,this.saveExtendedValue.bind(this))}});if(e.modelBind.isOdata&&e.editorMetadata.editorInfo){t=new d({value:e.modelBind.sPropertyName,name:e.parameterName,fieldGroupIds:["UserDefaults"]});a.setLabelFor(t)}else{t=new n({name:e.parameterName,value:e.modelBind.sPropertyName,fieldGroupIds:["UserDefaults"],type:"Text"});t.addAriaLabelledBy(a);a.setText(e.editorMetadata.displayText||e.parameterName);a.setTooltip(e.editorMetadata.description||e.parameterName)}t.attachChange(this.storeChangedData.bind(this));t.attachChange(this._setDirtyState.bind(this,true),this);const s=new m({elements:[t,r],label:a});return s},saveExtendedValue:function(e){var t=e.getSource().getModel().getProperty("/parameterName");var a=this.oModel;var r=e.getParameters().tokens||[];var i="/"+t+"/valueObject/extendedValue/Ranges";var n=r.map(function(e){var t=e.data("range");return{Sign:t.exclude?"E":"I",Option:t.operation!=="Contains"?t.operation:"CP",Low:t.value1,High:t.value2||null}});if(!a.getProperty("/"+t+"/valueObject/extendedValue")){a.setProperty("/"+t+"/valueObject/extendedValue",{})}a.setProperty(i,n);this.aChangedParamsNames.push(t);if(e.getParameter("_tokensHaveChanged")){this._setDirtyState(true)}},_setDirtyState:function(e){this.oDirtyStateModel.setProperty("/isDirty",e);this._setSmartVariantModified(e);if(e){this.sLastSelectedKey=this.getView().getModel("systemContexts").getProperty("/selectedKey")}},_setSelectedVariant:function(e){this.oDirtyStateModel.setProperty("/selectedVariant",e);this.storeChangedData()},storeChangedData:function(){var e=this.aDisplayedUserDefaults||[];for(var t=0;t<e.length;++t){var i=e[t].parameterName;var n=this.oModel.getProperty("/"+i+"/valueObject/");var s=e[t].modelBind;if(!this.oBlockedParameters[i]){var o={value:n&&n.value,extendedValue:n&&n.extendedValue};if(s&&s.model){var d=s.model;var l=s.extendedModel;var u=s.sFullPropertyPath;var m={value:d.getProperty(u)!==""?d.getProperty(u):undefined,extendedValue:l.getProperty("/"+i+"/valueObject/extendedValue")||undefined};if(!r(m,o)){n.value=m.value;if(m.extendedValue){n.extendedValue={};a(n.extendedValue,m.extendedValue)}this.oModel.setProperty("/"+i+"/valueObject",n);this.aChangedParamsNames.push(i)}}}}},onCancel:function(){this._setDirtyState(false);var e=this.aDisplayedUserDefaults;if(this.aChangedParamsNames.length>0){for(var t=0;t<e.length&&this.aChangedParamsNames.length>0;t++){var a=e[t].parameterName;if(this.aChangedParamsNames.indexOf(a)>-1){var r=this.oOriginalParameters[a];var i=e[t];var n=i.modelBind;var s=n.model?n.model.getMetaModel():undefined;if(s){var o=s.getObject("/dataServices/schema/0/namespace");var d=s.getODataEntityType(o+"."+i.editorMetadata.editorInfo.entityName);var l=d.property.find(function(e){if(e.name===i.editorMetadata.editorInfo.propertyName){return true}});switch(l.type){case"Edm.DateTime":n.model.setProperty(n.sFullPropertyPath,new Date(r.valueObject.value)||null);break;default:n.model.setProperty(n.sFullPropertyPath,r.valueObject.value||"");break}}else{n.model.setProperty(n.sFullPropertyPath,r.valueObject.value||"")}if(r.editorMetadata&&r.editorMetadata.extendedUsage){n.extendedModel.setProperty("/"+a+"/valueObject/extendedValue",r.valueObject.extendedValue||{})}}}this.aChangedParamsNames=[]}this._setDefaultVariant()},onSave:function(){this.storeChangedData();this._setDirtyState(false);var e;if(this.aChangedParamsNames.length===0){e=Promise.resolve()}else{e=P.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext(this.sLastSelectedKey)}.bind(this)).then(function(e){var t=this.aChangedParamsNames.sort();this.aChangedParamsNames=[];return this._saveParameterValues(t,e)}.bind(this))}return e.then(this._resetSmartVariantManagement.bind(this)).then(this._setDefaultVariant.bind(this))},_saveParameterValues:function(e,t){var a=[];for(var i=0;i<e.length;i++){var n=e[i];var s=this.oModel.getProperty("/"+n+"/valueObject/");var o=this.oOriginalParameters[n].valueObject;if(!r(o,s)){if(s&&s.value===null||s&&s.value===""){s.value=undefined}if(s&&s.extendedValue&&Array.isArray(s.extendedValue.Ranges)&&s.extendedValue.Ranges.length===0){s.extendedValue=undefined}var d=this._saveParameterValue(n,s,o,t);a.push(d)}}return Promise.all(a)},_saveParameterValue:async function(e,t,a,r){const i=await P.getServiceAsync("UserDefaultParameters");await i.editorSetValue(e,t,r);a.value=t.value},_setSmartVariantModified:function(e){if(!this._bIsSupportedPlatform){return}this.getView().byId("defaultSettingsVariantManagement").currentVariantSetModified(e)},_setDefaultVariant:function(){if(!this._bIsSupportedPlatform){return}var e=this.getView().byId("defaultSettingsVariantManagement");e.setCurrentVariantId(e.getDefaultVariantKey());this._setSelectedVariant(e.getDefaultVariantKey())},_resetSmartVariantManagement:function(){if(!this._bIsSupportedPlatform){return Promise.resolve()}this.getView().byId("defaultSettingsVariantManagement").removeAllPersonalizableControls();return this._initializeSmartVariantManagement()},_initializeSmartVariantManagement:function(){if(!this._bIsSupportedPlatform){return Promise.resolve()}var e=this.getView().byId("defaultSettingsVariantManagement");var t=function(){this._setSelectedVariant(e.getSelectionKey())}.bind(this);return new Promise(function(a){var r=this.getView().byId("userDefaultsForm");var i=new h({type:"wrapper",keyName:"persistencyKey",dataSource:"none",control:r});e.detachSelect(t).detachAfterSave(t).addPersonalizableControl(i).attachSelect(t).attachAfterSave(t).initialise(function(){e.setVisible(true);a()},r)}.bind(this)).then(t)},_saveIsSupportedPlatform:function(){var e=P.getLogonSystem().getPlatform();this._bIsSupportedPlatform=e!=="cdm";return Promise.resolve(this._bIsSupportedPlatform)},displayDiffText:function(){if(!this._bIsSupportedPlatform){return false}var e=this.getView().byId("defaultSettingsVariantManagement");var t=this.getView().byId("userDefaultsForm");var a=e.getStandardVariantKey();var i=e.getSelectionKey();if(i===a){return false}var n=e.getVariantContent(t,a);var s=e.getVariantContent(t,i);delete s.executeOnSelection;return!r(n,s)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userLanguageRegion/LanguageRegionSelector.controller", ["sap/base/Log","sap/base/i18n/Formatting","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/Container"],function(e,t,r,a,n,s,i,g,o,l){"use strict";return s.extend("sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector",{onInit:function(){this.oUserInfoServicePromise=l.getServiceAsync("UserInfo");this.oUserInfoServicePromise.then(function(e){this.oUser=l.getUser();var s=new r(t.getLanguageTag());var g=a.getInstance(s);var u,m,d,c,L;var h=l.getRendererInternal("fiori2").getShellConfig().enableSetLanguage||false;var f=this.oUser.isLanguagePersonalized();var P=e.getUserSettingListEditSupported();var p=[];const F=e=>this.oUser.getEditState(e)!==1;const S={preferredLogonLanguage:F("PREFERRED_LOGON_LANGUAGE"),dateFormat:F("DATE_FORMAT"),timeFormat:F("TIME_FORMAT"),numberFormat:F("NUMBER_FORMAT"),timeZone:F("TIME_ZONE")};S.showWarning=Object.values(S).some(e=>e===false);if(P){u=t.getABAPDateFormat();d=t.getABAPTimeFormat();c=this._getABAPNumberFormat();L=this.oUser.getCalendarWeekNumbering?.()||"Default";p.push(this._loadUserSettingList())}else{u=g.getDatePattern("medium");m=g.getTimePattern("medium");d=m.indexOf("H")===-1?"12h":"24h";L="Default"}var T=new i({languageList:null,DateFormatList:null,TimeFormatList:null,NumberFormatList:null,TimeZoneList:null,CalendarWeekNumberingList:null,cuaFlags:S,selectedLanguage:this.oUser.getLanguage(),selectedLanguageText:this.oUser.getLanguageText(),selectedDatePattern:u,selectedTimeFormat:d,selectedNumberFormat:c,selectedTimeZone:this.oUser.getTimeZone(),selectedCalendarWeekNumbering:L,isSettingsLoaded:true,isLanguagePersonalized:f,isEnableSetLanguage:h,isEnableUserProfileSetting:P,isTimeZoneFromServerInUI5:o.last("/core/ui5/timeZoneFromServerInUI5")});T.setSizeLimit(1e3);if(h){p.push(this._loadLanguagesList())}if(p.length>0){this.getView().setBusy(true);return Promise.all(p).then(function(t){var r=P?t[0]:null;var a=null;if(h){a=t.length===1?t[0]:t[1]}if(a?.length>1){T.setProperty("/languageList",a);var s=a.some(function(e){return e.key==="default"});if(!f&&s){T.setProperty("/selectedLanguage","default")}}if(r?.TIME_FORMAT?.length>0){T.setProperty("/TimeFormatList",r.TIME_FORMAT)}if(r?.DATE_FORMAT?.length>0){T.setProperty("/DateFormatList",r.DATE_FORMAT)}if(r?.TIME_ZONE?.length>0){var i=n.getDateTimeWithTimezoneInstance({showDate:false,showTime:false});var g=r.TIME_ZONE.map(function(e){var t=i.format(null,e.description)||e.description;return{description:t,value:e.value}});T.setProperty("/TimeZoneList",g)}if(r?.NUMBER_FORMAT?.length>0){T.setProperty("/NumberFormatList",r.NUMBER_FORMAT)}if(r?.CALENDAR_WEEK_NUMBERING){var o=e.getCalendarWeekNumberingList().map(e=>{e.selected=e.value===T.getProperty("/selectedCalendarWeekNumbering");return e});T.setProperty("/CalendarWeekNumberingList",o)}this.oView.setModel(T);this.getView().setBusy(false)}.bind(this))}this.oView.setModel(T)}.bind(this))},_loadLanguagesList:function(){g.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");return this.oUserInfoServicePromise.then(function(t){return new Promise(function(r){g.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");t.getLanguageList().done(function(e){g.end("FLP:LanguageRegionSelector._getLanguagesList");r(e)}).fail(function(t){g.end("FLP:LanguageRegionSelector._getLanguagesList");e.error("Failed to load language list.",t,"sap.ushell.components.ushell.settings.userLanguageRegion.LanguageRegionSelector.controller");r(null)})})})},_loadUserSettingList:function(){g.start("FLP:LanguageRegionSelector._loadUserSettingList","_loadUserSettingList","FLP");return this.oUserInfoServicePromise.then(function(e){return new Promise(function(t){g.start("FLP:LanguageRegionSelector._loadUserSettingList","_loadUserSettingList","FLP");e.getUserSettingList().then(function(e){g.end("FLP:LanguageRegionSelector._loadUserSettingList");t(e)})})})},_resetLanguage:function(){var e=this.oUser.getLanguage(),t=this.getView().getModel(),r=t.getData();var a=r.isLanguagePersonalized?e:"default";t.setProperty("/selectedLanguage",a);this._updateTextFields(e)},onCancel:function(){var e=this.getView().getModel(),t=e.getData(),r=t.languageList,a=t.isEnableSetLanguage;if(a&&r){this._resetLanguage()}if(t.isEnableUserProfileSetting){this._restoreUserSettingPreferenceValues()}},onSaveSuccess:function(t,r,a){var n={refresh:true};t.resetChangedProperty("dateFormat");t.resetChangedProperty("timeFormat");t.resetChangedProperty("numberFormat");t.resetChangedProperty("timeZone");t.resetChangedProperty("calendarWeekNumbering");if(r){e.debug("[000] onSaveSuccess: oUser.resetChangedPropertyLanguage:","LanguageRegionSelector.controller");t.resetChangedProperty("language");n.obsoleteUrlParams=["sap-language"];n.clearSapUserContextCookie=true}return n},onSave:function(r){var a=this.oUser,n=this.getView().getModel().getData(),s=n.selectedLanguage,i=a.getLanguage(),g=s&&s!==(n.isLanguagePersonalized?i:"default"),o=n.isEnableUserProfileSetting,l=n.isEnableSetLanguage&&n.languageList&&g,u=false,m=["DATE_FORMAT","TIME_FORMAT","NUMBER_FORMAT","TIME_ZONE","LANGUAGE","CALENDAR_WEEK_NUMBERING"];e.debug("[000] LanguageRegionSelector:onSave:bUpdateLanguage, bIsEnableSetUserProfileSetting:",l,"LanguageRegionSelector.controller");if(l){e.debug("[000] LanguageRegionSelector:onSave:UserInfo: oUser.setLanguage:",s,"LanguageRegionSelector.controller");a.setLanguage(s)}else{this._resetLanguage()}if(o){if(t.getABAPDateFormat()!==n.selectedDatePattern){u=true;a.setChangedProperties({propertyName:"dateFormat",name:"DATE_FORMAT"},t.getABAPDateFormat(),n.selectedDatePattern)}if(t.getABAPTimeFormat()!==n.selectedTimeFormat){u=true;a.setChangedProperties({propertyName:"timeFormat",name:"TIME_FORMAT"},t.getABAPTimeFormat(),n.selectedTimeFormat)}if(this._getABAPNumberFormat()!==n.selectedNumberFormat){u=true;a.setChangedProperties({propertyName:"numberFormat",name:"NUMBER_FORMAT"},this._getABAPNumberFormat(),n.selectedNumberFormat)}if(!n.selectedTimeZone){this.getView().getModel().setProperty("/selectedTimeZone",this.oUser.getTimeZone())}else if(this.oUser.getTimeZone()!==n.selectedTimeZone){u=true;a.setChangedProperties({propertyName:"timeZone",name:"TIME_ZONE"},this.oUser.getTimeZone(),n.selectedTimeZone)}if(t.getCalendarWeekNumbering()!==n.selectedCalendarWeekNumbering){u=true;a.setChangedProperties({propertyName:"calendarWeekNumbering",name:"CALENDAR_WEEK_NUMBERING"},t.getCalendarWeekNumbering(),n.selectedCalendarWeekNumbering.trim());t.setCalendarWeekNumbering(n.selectedCalendarWeekNumbering)}}if(l||u){return r().then(function(){e.debug("[000] onSave:fnUpdateUserPreferences","LanguageRegionSelector.controller");return this.onSaveSuccess(a,l,s)}.bind(this)).catch(function(t){e.debug("[000] onSave:catch:errorMessage",t,"LanguageRegionSelector.controller");var r=m.some(function(e){return t.includes(e)});if(!r){return this.onSaveSuccess(a,l,s)}if(l){a.setLanguage(i);a.resetChangedProperty("language");this._updateTextFields(i)}a.resetChangedProperty("dateFormat");a.resetChangedProperty("timeFormat");a.resetChangedProperty("numberFormat");a.resetChangedProperty("timeZone");a.resetChangedProperty("calendarWeekNumbering");if(n.isEnableUserProfileSetting){this._restoreUserSettingPreferenceValues()}e.error("Failed to save Language and Region Settings",t,"sap.ushell.components.ushell.settings.userLanguageRegion.LanguageRegionSelector.controller");throw t}.bind(this))}return Promise.resolve()},_restoreUserSettingPreferenceValues:function(){var e=this.getView().getModel();e.setProperty("/selectedDatePattern",t.getABAPDateFormat());e.setProperty("/selectedTimeFormat",t.getABAPTimeFormat());e.setProperty("/selectedNumberFormat",this._getABAPNumberFormat());e.setProperty("/selectedTimeZone",this.oUser.getTimeZone());e.setProperty("/selectedCalendarWeekNumbering",t.getCalendarWeekNumbering());var r=e.getProperty("/CalendarWeekNumberingList").map(e=>{e.selected=e.value===t.getCalendarWeekNumbering();return e});e.setProperty("/CalendarWeekNumberingList",r)},_handleLanguageSelectChange:function(e){var t=e.getSource().getSelectedKey();if(t){this._updateTextFields(t)}},_updateTextFields:function(e){var n;if(e===this.oUser.getLanguage()){n=new r(t.getLanguageTag())}else{n=new r(e)}var s=this.getView().getModel(),i=a.getInstance(n),g=i.getDatePattern("medium"),o=i.getTimePattern("medium"),l=o.indexOf("H")===-1?"12h":"24h";if(!s.getData().isEnableUserProfileSetting){s.setProperty("/selectedDatePattern",g);s.setProperty("/selectedTimeFormat",l)}},_getABAPNumberFormat:function(){var e=t.getABAPNumberFormat();if(e){return e.trim()}},_handleCalendarWeekNumberingChange:function(e){var t=e.getSource().getSelectedItem().getCustomData()[0].getValue();this.getView().getModel().setProperty("/selectedCalendarWeekNumbering",t)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry", ["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources","sap/ushell/Container"],function(e,n,t,a){"use strict";function o(){var o;var r={id:"language",entryHelpID:"language",title:t.i18n.getText("languageAndRegionTit"),valueResult:null,contentResult:null,icon:"sap-icon://globe",valueArgument:function(){var e=a.getUser().getLanguageText();if(e.indexOf("-")>-1){e=e.replace("-"," (").concat(")")}return Promise.resolve(e)},contentFunc:function(){return n.create({id:"languageRegionSelector",viewName:"sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector"}).then(function(e){var n=e.getController();o=e;return n.oUserInfoServicePromise.then(function(){return o})})},onSave:function(n){if(o){return o.getController().onSave(n)}e.warning("Save operation for language settings was not executed, because the languageRegionSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(o){o.getController().onCancel();return}e.warning("Cancel operation for language settings was not executed, because the languageRegionSelector view was not initialized")}};return r}return{getEntry:o}});
sap.ui.require.preload({
	"sap/ushell/components/shell/Settings/ContentWrapper.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"><Page showHeader="false"><content><ObjectHeader\n                title="{entryInfo>/title}"\n                titleLevel="{= coreLibrary.TitleLevel.H3}"\n                visible="{entryInfo>/showHeader}"\n                backgroundDesign="Solid"\n                class="sapUshellUserSettingDetailHeader"/><IconTabBar\n                expandable="false"\n                items="{entryInfo>/tabs}"\n                visible="{= ${entryInfo>/tabs}.length > 1}"\n                select=".onTabSelected"\n            ><items><IconTabFilter text="{entryInfo>groupingTabTitle}" key="{entryInfo>id}"><customData><core:CustomData key="help-id" value="{entryInfo>groupingTabHelpId}" writeToDom="{= !!${entryInfo>groupingTabHelpId}}" /></customData></IconTabFilter></items></IconTabBar></content></Page></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/ErrorContent.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><FlexBox\n        height="5rem"\n        alignItems="Center"\n        justifyContent="Center"><items><Text text="{/errorMessage}"/></items></FlexBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/UserSettings.view.xml":'<mvc:View\n    displayBlock="true"\n    controllerName="sap.ushell.components.shell.Settings.UserSettings"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"><Dialog\n        id="userSettingsDialog"\n        class="sapUshellUserSetting sapContrastPlus"\n        showHeader="false"\n        contentHeight="42rem"\n        contentWidth="60rem"\n        afterClose="._afterClose"\n        escapeHandler="._handleCancel"\n        stretch="{device>/system/phone}"><customHeader><Bar id="settingsBar"><contentLeft><Button id="userSettingsNavBackButton"\n                        icon="sap-icon://nav-back"\n                        press="._navBackButtonPressHandler"\n                        tooltip="{i18n>ToggleButtonShow}"\n                        visible="false" /><ToggleButton id="userSettingsMenuButton"\n                        icon="sap-icon://menu2"\n                        press="._navToggleButtonPressHandler"\n                        tooltip="{i18n>ToggleButtonShow}"\n                        visible="false" /></contentLeft><contentMiddle><Title\n                        text="{i18n>userSettings}"\n                        id="userSettingsDialogTitle"/></contentMiddle></Bar></customHeader><content><Page\n                class="sapUshellSettingsPage"\n                showHeader="false"><content><SplitApp id="settingsApp"\n                        defaultTransitionNameDetail="show"\n                        mode="{= ${device>/system/desktop} ? \'StretchCompressMode\' : \'ShowHideMode\'}"\n                        afterMasterClose="._afterMasterClose"><masterPages><Page id="userSettingMaster"\n                                class="sapUshellUserSettingMaster"\n                                showHeader="false"><content><List id="userSettingEntryList"\n                                        items="{/entries}"\n                                        mode="SingleSelectMaster"\n                                        selectionChange="._onSelectionChange"\n                                        ariaLabelledBy="userSettingsDialogTitle"><StandardListItem\n                                            title="{title}"\n                                            description="{\n                                                parts: [\'id\', \'tabs\', \'results>/entries\'],\n                                                formatter: \'._formatDescription\'\n                                            }"\n                                            icon="{= !!${icon} ? ${icon} : \'sap-icon://action-settings\' }"\n                                            iconDensityAware="false"\n                                            visible="{visible}"\n                                            wrapping="true"><customData><core:CustomData key="help-id" value="{entryHelpID}" writeToDom="{= !!${entryHelpID}}" /></customData></StandardListItem></List></content></Page></masterPages><detailPages><Page id="userSettingBusyPage"\n                                showHeader="false"\n                                busy="true" /></detailPages></SplitApp></content><footer><OverflowToolbar><Button\n                            id="userSettingsMessagePopoverBtn"\n                            visible="false"\n                            press="._handleMessagePopoverPress"\n                            icon="sap-icon://message-error"\n                            ariaHasPopup="Dialog" /><ToolbarSpacer /><Button\n                            id="userSettingSaveButton"\n                            text="{i18n>saveBtn}"\n                            type="Emphasized"\n                            press="._handleSaveButtonPress" /><Button\n                            id="userSettingCancelButton"\n                            text="{i18n>cancelBtn}"\n                            press="._handleCancel" /></OverflowToolbar></footer></Page></content></Dialog></mvc:View>\n',
	"sap/ushell/components/shell/Settings/appearance/Appearance.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.shell.Settings.appearance.Appearance"><IconTabBar ariaTexts="{/ariaTexts}" id="idIconTabBar" expandable="false"><items><IconTabFilter text="{i18n>AppearanceThemeMenu}" key="themeListTab"><MessageStrip\n                    text="{i18n>DeprecatedThemeWarning}"\n                    type="Warning"\n                    visible="{/deprecatedThemeSelected}"\n                    showIcon="true"\n                    showCloseButton="false"\n                    class="sapUiTinyMarginBottom" /><List\n                    items="{\n                        path: \'/options\',\n                        sorter: [{\n                            path: \'setId\',\n                            descending: false,\n                            group: true\n                        }, {\n                            path: \'contrast\',\n                            descending: true\n                        }, {\n                            path: \'colorScheme\',\n                            descending: true\n                        }, {\n                            path: \'name\',\n                            descending: false\n                        }],\n                        groupHeaderFactory: \'.getThemeSetHeader\'\n                    }"\n                    includeItemInSelection="true"\n                    mode="{= ${config>/themeConfigurable} ? \'SingleSelectMaster\' : \'None\'}"\n                    id="themeList"><items><CustomListItem selected="{isSelected}" accDescription="{name}"><customData><core:CustomData key="themeid" value="{id}" writeToDom="true" /></customData><FlexBox alignItems="Center" height="3.75rem"><core:Icon\n                                    class="sapUiSmallMarginBeginEnd"\n                                    width="3rem"\n                                    src="{icon}"\n                                    visible="{= !${avatar}}"\n                                    size="1.75rem" /><Image\n                                    class="sapUiSmallMarginBeginEnd"\n                                    src="{avatar}"\n                                    mode="{mode}"\n                                    visible="{= !!${avatar}}"\n                                    height="50px"\n                                    width="50px"\n                                    error=".onAvatarError"\n                                    decorative="true" /><Text\n                                    class="sapUiSmallMarginEnd"\n                                    maxLines="3"\n                                    text="{name}"><layoutData><FlexItemData growFactor="1" /></layoutData></Text><ObjectStatus\n                                    class="sapUiSmallMarginEnd"\n                                    text="{i18n>AppearanceThemeDeprecated}"\n                                    visible="{deprecated}"\n                                    state="Warning" /></FlexBox></CustomListItem></items></List></IconTabFilter><IconTabFilter\n                id="DisplaySettingsTab"\n                key="displaySettingsTab"\n                visible="{config>/displaySettingsTabVisible}"\n                text="{i18n>AppearanceLayoutAndBehaviorMenu}"><Panel><CheckBox\n                        id="showContentProviderInfoOnVisualizationsCheckbox"\n                        text="{i18n>AppearanceShowContentProviderInfoOnVisualizationsLabel}"\n                        visible="{config>/showContentProviderInfoOnVisualizationsConfigurable}"\n                        selected="{config>/showContentProviderInfoOnVisualizationsSelected}" /><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/showContentProviderInfoOnVisualizationsConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>AppearanceShowContentProviderInfoOnVisualizationsText}"/></VBox><CheckBox\n                        id="contentDensityCheckBox"\n                        text="{i18n>AppearanceContentDensityLabel}"\n                        visible="{config>/contentDensityConfigurable}"\n                        selected="{config>/isCozyContentMode}" /><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/contentDensityConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>appearanceCompactCozyDescriptionText}"/></VBox><HBox\n                        class="sapUiTinyMarginBegin"\n                        alignItems="Center"\n                        visible="{config>/sizeBehaviorConfigurable}"><Label\n                            id="sapUshellAppearanceTileSizeLabel"\n                            class="sapUiSmallMarginEnd"\n                            text="{i18n>AppearanceTileSizeLabel}"\n                            textAlign="{config>/textAlign}"\n                            labelFor="tileSizeRadioButtonGroup" /><RadioButtonGroup selectedIndex="{config>/tileSize}" id="tileSizeRadioButtonGroup"><buttons><RadioButton\n                                    text="{i18n>AppearanceTileSizeSmall}"\n                                    ariaLabelledBy="sapUshellAppearanceTileSizeLabel" /><RadioButton\n                                    text="{i18n>AppearanceTileSizeLarge}"\n                                    ariaLabelledBy="sapUshellAppearanceTileSizeLabel" /></buttons></RadioButtonGroup></HBox><VBox\n                        class="sapUshellFlpSettingsDescriptionBorder"\n                        visible="{config>/sizeBehaviorConfigurable}"><Text\n                            class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide"\n                            text="{i18n>appearanceTileSizeDescriptionText}"/></VBox></Panel></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Settings/homepage/HomepageSetting.view.xml":'<mvc:View\n      width="100%"\n      xmlns="sap.m"\n      xmlns:core="sap.ui.core"\n      xmlns:lf="sap.ui.layout.form"\n      xmlns:mvc="sap.ui.core.mvc"><lf:SimpleForm ariaLabelledBy="HomeSettingsLabel"><lf:content><Label id="anchorBarLabel"\n                class="sapUshellFlpSettingsLabel"\n                text="{i18n>AnchorBarLabel}"/><VBox><items><RadioButtonGroup id="anchorBarDisplayMode" selectedIndex="{/displayMode}"\n                        ariaLabelledBy="anchorBarLabel"\n                        ariaDescribedBy="anchorBarDescription"><buttons><RadioButton id="anchorBarScrollModeRBtn"\n                                text="{i18n>anchorBarScrollMode}"/><RadioButton id="anchorBarTabModeRBtn"\n                                text="{i18n>anchorBarTabMode}"/></buttons></RadioButtonGroup><VBox class ="sapUshellFlpSettingsDescriptionBorder"><items><Text id="anchorBarDescription"\n                                class="sapUshellFlpSettingsDescription"\n                                text="{i18n>homePageGroupDisplayDescriptionText}"/><Text\n                                class="sapUshellFlpSettingsDescription"\n                                text="{i18n>homePageGroupDisplayDescriptionText_secondParagraph}"\n                                visible="{/personalisationEnabled}"/></items></VBox></items></VBox></lf:content></lf:SimpleForm><core:InvisibleText id="HomeSettingsLabel" text="{i18n>HomePageSettingsForm}" /></mvc:View>\n',
	"sap/ushell/components/shell/Settings/notifications/NotificationsSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.notifications.NotificationsSetting"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><CheckBox id="showHighPrioCheckbox" selected="{/flags/highPriorityBannerEnabled}" text="{i18n>Label.ShowAlertsForHighNotifications}"/><Table\n            class="sapUiForceWidthAuto"\n            id="table"\n            sticky="ColumnHeaders"\n            fixedLayout="false"\n            items="{\n                path: \'/rows\',\n                sorter: { path: \'NotificationTypeDesc\' }\n            }"><columns><Column id="columnNotificationType"><ObjectIdentifier text="{i18n>notificationType_column}" /></Column><Column id="columnMobileNotification" visible="{/flags/mobileNotificationsEnabled}" minScreenWidth="Tablet" demandPopin="true"><Text id="columnMobileText" text="{i18n>iOSNotification_column}" /></Column><Column id="columnEmail" visible="{/flags/emailNotificationsEnabled}" minScreenWidth="Tablet" demandPopin="true"><Text id="columnEmailText" text="{i18n>eMailFld}" /></Column><Column id="columnHighPriority" minScreenWidth="Tablet" demandPopin="true"><Text id="columnHighPriorityText" text="{i18n>highNotificationsBanner_column}"/></Column><Column id="columnEnable" minScreenWidth="Tablet"><Text id="columnEnableText" text="{i18n>Notifications_Settings_Show_Type_column}"/></Column></columns><items><ColumnListItem id="columnListItemNotifications" type="Inactive"><cells><ObjectIdentifier id="objectIdentifierTitle" title="{NotificationTypeDesc}"/></cells><cells><CheckBox\n                            id="cellCheckboxMobile"\n                            editable="{=!${DoNotDeliver}}"\n                            selected="{= !${DoNotDeliverMob}}"\n                            select=".onSelectMobile"/></cells><cells><CheckBox\n                            id="cellCheckboxEmail"\n                            editable="{= ${IsEmailEnabled} &amp;&amp; !${DoNotDeliver}}"\n                            selected="{= !${DoNotDeliverEmail}}"\n                            select=".onSelectEmail"/></cells><cells><CheckBox\n                            id="cellCheckboxHighPrio"\n                            editable="{=!${DoNotDeliver}}"\n                            selected="{= ${PriorityDefault} === \'HIGH\'}"\n                            select=".onSelectHighPriority"/></cells><cells><Switch\n                                id="cellSwitchEnable"\n                                state="{= !${DoNotDeliver}}"\n                                change=".onEnableSwitchChange"\n                                customTextOn=" "\n                                customTextOff=" "/></cells></ColumnListItem></items></Table></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/search/Search.view.xml":'<mvc:View width="100%" controllerName="sap.ushell.components.shell.Settings.search.Search"\r\n  xmlns="sap.m"\r\n  xmlns:mvc="sap.ui.core.mvc"><VBox id="searchContent" class="sapUshellUserSettingDetailContent" /></mvc:View>',
	"sap/ushell/components/shell/Settings/spaces/SpacesSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.spaces.SpacesSetting"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><CheckBox\n            text="{i18n>spacesModeLabel}"\n            visible="{/spaces/visible}"\n            selected="{/spaces/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-spacesMode" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/spaces/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>spacesModeDescriptionText}"/></VBox><CheckBox\n            text="{i18n>hideEmptySpacesLabel}"\n            visible="{/hideEmptySpaces/visible}"\n            selected="{/hideEmptySpaces/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-hideEmptySpaces" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/hideEmptySpaces/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>hideEmptySpacesDescriptionText}"/></VBox><CheckBox\n            text="{i18n>showMyHomeLabel}"\n            visible="{/showMyHome/visible}"\n            selected="{/showMyHome/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-showMyHome" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/showMyHome/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>showMyHomeDescriptionText}"/></VBox><CheckBox\n            text="{i18n>showMyHomeImportLabel}"\n            visible="{/showMyHomeImport/visible}"\n            selected="{/showMyHomeImport/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-showMyHomeImport" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/showMyHomeImport/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>showMyHomeImportDescription}"/></VBox></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountImgConsentSelector.fragment.xml":'<core:FragmentDefinition height="100%" width="100%" xmlns="sap.m" xmlns:core="sap.ui.core"><VBox><CheckBox id="imageConsentForUserCheckBox" selected="{config>/isImageConsentForUser}" text="{i18n>imgConsentMsg}"/><Panel expandable="true" headerText="{i18n>userImageConsentDialogShowTermsOfUse}" width="auto"><content><Text text="{i18n>userImageConsentDialogTermsOfUse}"/></content></Panel></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSelector.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userAccount.UserAccountSelector"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"><ObjectHeader icon="{config>/icon}"\n                  title="{config>/name}"\n                  backgroundDesign="Solid"\n                  class="sapUshellUserSettingDetailHeader"\n                  titleLevel="{= coreLibrary.TitleLevel.H3}"/><IconTabBar applyContentPadding="true"\n                backgroundDesign="Transparent"><items><IconTabFilter text="{i18n>UserAccountFld}" key="userAccountSetting"><core:Fragment fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountSetting"\n                               type="XML"></core:Fragment></IconTabFilter><IconTabFilter visible="{config>/imgConsentEnabled}" text="{i18n>ProfileImgId}"\n                           key="userAccountImgConsentSelector"><core:Fragment\n                    fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountImgConsentSelector"\n                    type="XML"></core:Fragment></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSetting.fragment.xml":'<core:FragmentDefinition\n    height="100%"\n    width="100%"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core"><VBox class="sapUiSmallMargin"><form:SimpleForm\n            editable="false"\n            layout="ResponsiveGridLayout"\n            labelSpanS="5"\n            columnsM="7"\n            ariaLabelledBy="UserAccountFormLabel"><Label text="{i18n>UserAccountNameFld}" labelFor="userAccountuserName"/><Text text="{config>/name}" id="userAccountuserName"/><Label text="{i18n>UserAccountIdFld}" labelFor="userAccountuserId" visible="{config>/displayUserId}"/><Text text="{config>/id}" id="userAccountuserId" visible="{config>/displayUserId}"/><Label text="{i18n>UserAccountEmailFld}" labelFor="userAccountuserMail"/><Text text="{config>/mail}" id="userAccountuserMail"/><Label text="{i18n>UserAccountServerFld}" labelFor="userAccountuserServer"/><Text text="{config>/server}" id="userAccountuserServer"/><core:InvisibleText id="UserAccountFormLabel" text="{i18n>UserAccountFld}" /></form:SimpleForm></VBox><VBox id="userAccountPersonalizationSection" class="sapUiSmallMargin"\n        visible="{config>/isResetPersonalizationVisible}"><Label text="{i18n>userAccountPersonalizationLabel}"/><Button id="resetPersonalizationButton" text="{i18n>userAccountResetPersonalizationButton}"\n            press="showMessageBoxWarningDeletePersonalization"/><Text class="sapUshellFlpSettingsWideDescription" text="{i18n>userAccountResetPersonalizationDescriptionText}"/></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userAccount.UserAccountSelector"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    core:require="{\n            coreLibrary: \'sap/ui/core/library\'\n        }"><ObjectHeader\n        icon="{config>/icon}"\n        iconDensityAware="false"\n        title="{config>/name}"\n        backgroundDesign="Solid"\n        class="sapUshellUserSettingDetailHeader"\n        titleLevel="{= coreLibrary.TitleLevel.H3}"/><core:Fragment fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountSetting"\n                   type="XML"></core:Fragment></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userActivities/UserActivitiesSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:lf="sap.ui.layout.form"\n    xmlns:mvc="sap.ui.core.mvc"><lf:SimpleForm\n        id="userActivitiesForm"\n        layout="ResponsiveGridLayout"\n        class="sapUiSmallMarginBegin"\n        ariaLabelledBy="UserActivitiesSettingsLabel"><lf:content><VBox><CheckBox id="enableTrackingCheckbox" selected="{/checkboxIsChecked}" text="{i18n>trackingLabel}" wrapping="true"/><Button text="{i18n>cleanActivityLabel}" press=".onClearHistory" visible="{/checkboxIsChecked}"/><core:InvisibleText id="UserActivitiesSettingsLabel" text="{i18n>userActivities}" /></VBox></lf:content></lf:SimpleForm></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userDefaults/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"sap.ushell.components.shell.Settings.userDefaults","applicationVersion":{"version":"1.0.0"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"application"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"rootView":{"viewName":"sap.ushell.components.shell.Settings.userDefaults.view.UserDefaultsSetting","type":"XML","async":true,"id":"defaultParametersSelectorView"},"dependencies":{"minUI5Version":"1.82","libs":{"sap.m":{},"sap.ui.comp":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/Settings/userDefaults/view/ExtendedValueDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:valueHelp="sap.ui.comp.valuehelpdialog"\n    xmlns:core="sap.ui.core"><valueHelp:ValueHelpDialog\n        id="extendedValueDialog"\n        basicSearchText="{/label}"\n        title="{/label}"\n        supportRanges="true"\n        supportRangesOnly="true"\n        key="{/key}"\n        displayFormat="UpperCase"\n        descriptionKey="{/label}"\n        filterMode="true"\n        stretch="{device>/system/phone}"\n        cancel=".closeValueHelp"\n        afterClose=".afterCloseValueHelp"></valueHelp:ValueHelpDialog></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userDefaults/view/UserDefaultsSetting.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:smartvariants="sap.ui.comp.smartvariants"\n    xmlns:userDefaults="sap.ushell.components.shell.Settings.userDefaults"\n    controllerName="sap.ushell.components.shell.Settings.userDefaults.controller.UserDefaultsSetting"><VBox visible="{= ${systemContexts>/systemContexts}.length > 1}" class="sapUshellSystemContextsSelection"><HBox alignItems="Center"><Label labelFor="systemContextSelect" text="{i18n>userDefaultsSystemTitle}" /><Select\n                id="systemContextSelect"\n                selectedKey="{systemContexts>/selectedKey}"\n                items="{systemContexts>/systemContexts}"\n                change=".handleSystemContextChanged"><core:ListItem text="{systemContexts>label}" key="{systemContexts>id}" /></Select></HBox><Text class="sapUshellFlpSettingsWideDescription" text="{i18n>userDefaultsSystemContextInfo}" /></VBox><VBox><smartvariants:SmartVariantManagement\n            id="defaultSettingsVariantManagement"\n            class="sapUshellSmartVariantManagement"\n            showSetAsDefault="false"\n            visible="false"\n            standardItemText="{i18n>userDefaultsStandardView}" /></VBox><Text\n        text="{i18n>userDefaultsDiffState}"\n        visible="{ path: \'DirtyState>/selectedVariant\', formatter: \'.displayDiffText\' }"\n        class="sapUshellDefaultValuesDirtyState sapUiTinyMarginTop" /><userDefaults:UserDefaultsForm id="userDefaultsForm" persistencyKey="UserDefaultsFormPersKey" /></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userLanguageRegion/LanguageRegionSelector.view.xml":'<mvc:View controllerName="sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"><VBox class="sapUiSmallMargin" visible="{= !!${/isSettingsLoaded}}"><MessageStrip\n            text="{i18n>SettingsCuaWarning}"\n            type="Information"\n            visible="{/cuaFlags/showWarning}"\n            showIcon="true"\n            showCloseButton="false"\n            class="sapUiMediumMarginBottom" /><form:SimpleForm\n            id="languageForm"\n            editable="true"\n            layout="ResponsiveGridLayout"\n            labelSpanS="5"\n            columnsM="7"\n            ariaLabelledBy="LanguageSettingsLabel"><Label id="LanguageSettingsFormLabel" text="{i18n>languageAndRegionTit}" visible="{= !${/languageList}}" labelFor="languageSelectionInput"/><Text id="languageSelectionInput" text="{/selectedLanguageText}" visible="{= !${/languageList} }"/><Label text="{i18n>languageAndRegionTit}" visible="{= !!${/languageList}}" labelFor="languageSelectionSelect"/><ComboBox id="languageSelectionSelect"\n                    visible="{= !!${/languageList} }"\n                    enabled="{/cuaFlags/preferredLogonLanguage}"\n                    items="{/languageList}"\n                    selectedKey="{/selectedLanguage}"\n                    valueState="{= ${/selectedLanguage} ? \'None\' : \'Error\'}"\n                    width="100%"\n                    change="._handleLanguageSelectChange"><core:Item key="{key}" text="{text}" /></ComboBox><Label text="{i18n>dateFormatFld}" visible="{= !${/DateFormatList}}" labelFor="dateFormatCombo"/><Text id="dateFormatCombo" visible="{= !${/DateFormatList}}" text="{/selectedDatePattern}" /><Label text="{i18n>dateFormatFld}" visible="{= !!${/DateFormatList}}" labelFor="DateFormatSelectionSelect"/><Select id="DateFormatSelectionSelect"\n                    visible="{= !!${/DateFormatList}}"\n                    enabled="{/cuaFlags/dateFormat}"\n                    items="{/DateFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedDatePattern}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>weekNumberingFld}" visible="{=!!${/CalendarWeekNumberingList}}" labelFor="WeekNumberingSelectionSelect"/><Select id="WeekNumberingSelectionSelect"\n                    showSecondaryValues="true"\n                    visible="{=!!${/CalendarWeekNumberingList}}"\n                    items="{/CalendarWeekNumberingList}"\n                    width="100%"\n                    selectedKey="{/selectedCalendarWeekNumbering}"\n                    wrapItemsText="true"\n                    columnRatio="2:3"><core:ListItem text="{title}" additionalText="{description}" key="{value}"/></Select><Label text="{i18n>timeZoneFld}" visible="{= ${/isEnableUserProfileSetting}}" labelFor="TimeZoneSelectionSelect" /><ComboBox\n                    id="TimeZoneSelectionSelect"\n                    visible="{= !!${/TimeZoneList}}"\n                    enabled="{/cuaFlags/timeZone}"\n                    items="{\n                        path: \'/TimeZoneList\',\n                        sorter: { path: \'description\' }\n                    }"\n                    width="100%"\n                    selectedKey="{/selectedTimeZone}"\n                    valueState="{= ${/selectedTimeZone} ? \'None\' : \'Error\'}"\n                ><core:Item key="{value}" text="{description}" /></ComboBox><Label visible="{= !${/isTimeZoneFromServerInUI5}}"/><Text text="{i18n>TimeZoneHelpingText}" class="sapUshellFlpSettingsHint" visible="{= !${/isTimeZoneFromServerInUI5}}" width="100%"/><Label text="{i18n>timeFormatFld}" visible="{= !${/TimeFormatList}}" labelFor="hoursSegmentedButton"/><SegmentedButton id="hoursSegmentedButton" visible="{= !${/TimeFormatList}}" enabled="false" selectedKey="{/selectedTimeFormat}"><items><SegmentedButtonItem key="12h" text="{i18n>btn12h}" /><SegmentedButtonItem key="24h" text="{i18n>btn24h}" /></items></SegmentedButton><Label text="{i18n>timeFormatFld}" visible="{= !!${/TimeFormatList}}" labelFor="TimeFormatSelectionSelect"/><Select id="TimeFormatSelectionSelect"\n                    visible="{= !!${/TimeFormatList}}"\n                    enabled="{/cuaFlags/timeFormat}"\n                    items="{/TimeFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedTimeFormat}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>numberFormatFld}" visible="{= ${/isEnableUserProfileSetting}}" labelFor="NumberFormatSelectionSelect" /><Select id="NumberFormatSelectionSelect"\n                    visible="{= !!${/NumberFormatList}}"\n                    enabled="{/cuaFlags/numberFormat}"\n                    items="{/NumberFormatList}"\n                    width="100%"\n                    selectedKey="{/selectedNumberFormat}"><core:Item key="{value}" text="{description}" /></Select></form:SimpleForm><Text text="{i18n>LanguageAndRegionHelpingText}" class="sapUshellFlpSettingsWideDescription" visible="{= !!${/languageList}}" width="100%"/><core:InvisibleText id="LanguageSettingsLabel" text="{i18n>languageAndRegionForm}" /></VBox></mvc:View>\n'
});
//# sourceMappingURL=Component-preload.js.map
