//@ui5-bundle sap/ushell/components/shell/ProductSwitch/Component-preload.js
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/shell/ProductSwitch/Component", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/Container","sap/ushell/EventHub"],function(e,t,n,o,i,r,s,u,l,c,d){"use strict";function a(){return t.getElementById("productSwitchBtn")}function h(){return t.getElementById("shell-header").getProductSwitchDomRef()}function p(){return t.getElementById("sapUshellProductSwitchPopover")}return n.extend("sap.ushell.components.shell.ProductSwitch.Component",{metadata:{version:"1.136.1",library:"sap.ushell.components.shell.ProductSwitch",dependencies:{libs:{"sap.m":{},"sap.f":{lazy:true}}}},createContent:function(){this.oModel=this._getModel()},_getModel:function(){var t=this,n=new i;n.loadData(r.last("/core/productSwitch/url")).then(function(){var o=n.getData();if(o.length===0){e.debug("There are no other profucts configured for your user. ProductSwitch button will be hidden.")}else{t._addProductSwitchButtonToHeader()}}).catch(function(t){e.debug(t)});return n},_openProductSwitch:function(){var e=p(),n=Promise.resolve();if(!e){n=new Promise(function(e,t){sap.ui.require(["sap/ui/core/Fragment"],function(n){n.load({name:"sap.ushell.components.shell.ProductSwitch.ProductSwitch",type:"XML",controller:this}).then(e).catch(t)}.bind(this),t)}.bind(this)).then(function(t){e=t;e.setModel(this.oModel);e.setModel(s.i18nModel,"i18n");if(o.system.phone){e.setShowHeader(true)}}.bind(this))}n.then(function(){let n;if(r.last("/core/shellBar/enabled")){n=h()}else{n=a();if(!n||!n.$().width()){n=t.getElementById("endItemsOverflowBtn")}}e.openBy(n)});return n},onProductItemPress:function(e){var t=e.getParameter("itemPressed").getTargetSrc();p().close();u.openURL(t,"_blank")},_addProductSwitchButtonToHeader:function(){var e=new l({id:"productSwitchBtn",icon:"sap-icon://grid",visible:true,text:s.i18n.getText("productSwitch"),ariaHaspopup:"dialog",press:function(){d.emit("showProducts",Date.now())}});c.getRendererInternal("fiori2").showHeaderEndItem([e.getId()],false);d.on("showProducts").do(this._openProductSwitch.bind(this))},exit:function(){var e=p();if(!e){e.destroy()}var t=a();if(t){t.destroy()}}})});
sap.ui.require.preload({
	"sap/ushell/components/shell/ProductSwitch/ProductSwitch.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:f="sap.f"><ResponsivePopover\n        id="sapUshellProductSwitchPopover"\n        placement="Bottom"\n        showArrow="true"\n        showHeader="false"\n        title="{i18n>productSwitch}"\n        class="sapUshellPopupContainer sapContrastPlus"><content><f:ProductSwitch change="onProductItemPress" items="{/}"><f:items><f:ProductSwitchItem title="{title}" src="{visual/icon}" subTitle="{subtitle}" targetSrc="{targetUrl}" /></f:items></f:ProductSwitch></content></ResponsivePopover></core:FragmentDefinition>\n'
});
//# sourceMappingURL=Component-preload.js.map
