// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/UIComponent","sap/m/SearchField","sap/ushell/components/shell/SearchCEP/SearchCEP.controller","sap/base/Log","sap/ushell/resources","sap/ui/core/IconPool","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/utils/UrlParsing","sap/ushell/Container"],function(e,t,i,s,n,r,a,h,o,jQuery,l,c){"use strict";return i.extend("sap.ushell.components.shell.SearchCEP.Component",{metadata:{version:"1.136.1",library:["sap.ushell","sap.ushell.components.shell"],dependencies:{libs:["sap.m"]}},createContent:function(){try{this.oRenderer=c.getRendererInternal("fiori2");this.oShellHeader=e.getElementById("shell-header");this.oRenderer.addHeaderEndItem({id:"sf",tooltip:"{i18n>openSearchBtn}",text:"{i18n>search}",ariaLabel:"{i18n>openSearchBtn}",icon:h.getIconURI("search"),visible:true,press:this.onShellSearchButtonPressed.bind(this)},true,false);this.oShellSearchBtn=e.getElementById("sf");this.oShellSearchBtn.data("help-id","shellHeader-search",true);this.oShellSearchBtn.addEventDelegate({onkeydown:this._keyDownSearchBtn.bind(this)});var i={width:"90%",placeholder:a.i18n.getText("search"),tooltip:a.i18n.getText("search"),enableSuggestions:true,suggest:this.onSuggest.bind(this),search:this.onSearch.bind(this)};this.oSF=new s("PlaceHolderSearchField",i);this.oSF.addStyleClass("sapUshellCEPSearchCenter");var o=this.getScreenSize();if(o==="S"){this.initSearchSSize()}else if(o==="M"||o==="L"){this.initSearchMLSizes()}else if(o==="XL"){this.initSearchXLSize()}this.oShellHeader.setSearch(this.oSF);this.oSearchCEPController=new n;this.oSF.addEventDelegate({onfocusin:this._onfocusin.bind(this),onAfterRendering:this._onAfterRendering.bind(this)});this.oSearchCEPController.getHomePageApps()}catch(e){r.info("Failed to create CEP search field content"+e)}t.getInstance().publish("shell","searchCompLoaded",{delay:0})},initSearchSSize:function(){this.oSF.setWidth("60%");this.oShellHeader.setSearchState("COL",35,false)},initSearchMLSizes:function(){this.oShellHeader.setSearchState("COL",35,false)},initSearchXLSize:function(){this.oShellSearchBtn.setVisible(false);this.oShellHeader.setSearchState("EXP",35,false)},_onAfterRendering:function(e){var t=jQuery(this.oShellHeader.getDomRef()).find("#shell-header-hdr-search");t.addClass("CEPShellHeaderPadding");jQuery(this.oSF.getDomRef()).find("#PlaceHolderSearchField-search").attr("title",a.i18n.getText("search"));var i=c.getFLPUrl(true),s=l.getHash(i),n=s.split("&/")[0];if(this.oSF.getValue()){if(n==="Action-search"||n==="WorkZoneSearchResult-display"){jQuery(this.oSF.getDomRef()).blur()}}},_onfocusin:function(e){if(this.oSF.getEnableSuggestions()&&o.system.phone){jQuery(this.oSF.getDomRef()).find("input").attr("inputmode","search")}},onSuggest:function(t){if(this.oSF.getEnableSuggestions()&&o.system.phone){jQuery(this.oSF.getDomRef()).find("input").attr("inputmode","search")}if(e.getElementById("CEPSearchField")){this.oSearchCEPController.onSuggest(t)}else{this.oSearchCEPController.onInit()}},onSearch:function(t){if(e.getElementById("CEPSearchField")){this.oSearchCEPController.onSearch(t)}},exit:function(){this.oSearchCEPController.onExit()},expandSearch:function(){this.oShellHeader.setSearchState("EXP_S",35,false);this.oSF.focus()},onShellSearchButtonPressed:function(){this.oShellSearchBtn.setVisible(false);this.expandSearch()},collapseSearch:function(){this.oShellHeader.setSearchState("COL",35,false);this.oShellSearchBtn.setVisible(true)},getScreenSize:function(){var e=o.media.getCurrentRange(o.media.RANGESETS.SAP_STANDARD_EXTENDED);if(e.from>=1440){return"XL"}else if(e.from>=1024){return"L"}else if(e.from>=600){return"M"}else if(e.from>=0){return"S"}},_keyDownSearchBtn:function(e){if(e.code===13||e.code==="Enter"){setTimeout(function(){this.oSF.focus()}.bind(this),500)}}})});
//# sourceMappingURL=Component.js.map