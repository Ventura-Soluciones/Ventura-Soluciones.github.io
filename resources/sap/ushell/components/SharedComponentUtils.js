// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub","sap/base/Log","sap/ui/core/Component","sap/ushell/Container"],function(e,t,n,r,i,s){"use strict";var o={PERS_KEY:"flp.settings.FlpSettings",bFlpSettingsAdded:false,toggleUserActivityLog:function(){n.join(n.once("CoreResourcesComplementLoaded"),t.on("/core/extension/SupportTicket")).do((e,t)=>{sap.ui.require(["sap/ushell/UserActivityLog"],e=>{if(t){e.activate()}else{e.deactivate()}})})},initializeAccessKeys:function(){if(e.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler","sap/ushell/renderer/AccessKeysHandler"],function(e,t){e.getInstance().then(function(e){t.registerAppKeysHandler(e.handleFocusOnMe)})})}},getEffectiveHomepageSetting:function(e,n){if(t.last(n)===false){return Promise.resolve(t.last(e))}var r=e.split("/").pop();return this._getPersonalization(r).then(function(n){if(typeof n==="undefined"){return t.last(e)}t.emit(e,n);return n}).catch(function(){return t.last(e)})},_getPersonalization:function(e){return o.getPersonalizer(e,s.getRendererInternal("fiori2")).then(function(e){return e.getPersData()}).catch(function(t){r.error("Failed to load "+e+" from the personalization",t,"sap.ushell.components.flp.settings.FlpSettings");return Promise.reject(t)})},getPersonalizer:function(e,t){return s.getServiceAsync("PersonalizationV2").then(function(n){var r=i.getOwnerComponentFor(t);var s={keyCategory:n.KeyCategory.FIXED_KEY,writeFrequency:n.WriteFrequency.LOW,clientStorageAllowed:true};var o={container:this.PERS_KEY,item:e};return n.getPersonalizer(o,s,r)}.bind(this))}};return o});
//# sourceMappingURL=SharedComponentUtils.js.map